var IP=e=>{throw TypeError(e)};var HN=(e,t,r)=>t.has(e)||IP("Cannot "+r);var Ze=(e,t,r)=>(HN(e,t,"read from private field"),r?r.call(e):t.get(e)),Xr=(e,t,r)=>t.has(e)?IP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),wr=(e,t,r,n)=>(HN(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Cn=(e,t,r)=>(HN(e,t,"access private method"),r);var Aw=(e,t,r,n)=>({set _(i){wr(e,t,i,r)},get _(){return Ze(e,t,n)}});function jB(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var TB={exports:{}},N4={},OB={exports:{}},Un={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _2=Symbol.for("react.element"),yee=Symbol.for("react.portal"),wee=Symbol.for("react.fragment"),bee=Symbol.for("react.strict_mode"),See=Symbol.for("react.profiler"),_ee=Symbol.for("react.provider"),Nee=Symbol.for("react.context"),Eee=Symbol.for("react.forward_ref"),Aee=Symbol.for("react.suspense"),Cee=Symbol.for("react.memo"),jee=Symbol.for("react.lazy"),PP=Symbol.iterator;function Tee(e){return e===null||typeof e!="object"?null:(e=PP&&e[PP]||e["@@iterator"],typeof e=="function"?e:null)}var IB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PB=Object.assign,kB={};function Bg(e,t,r){this.props=e,this.context=t,this.refs=kB,this.updater=r||IB}Bg.prototype.isReactComponent={};Bg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function MB(){}MB.prototype=Bg.prototype;function NT(e,t,r){this.props=e,this.context=t,this.refs=kB,this.updater=r||IB}var ET=NT.prototype=new MB;ET.constructor=NT;PB(ET,Bg.prototype);ET.isPureReactComponent=!0;var kP=Array.isArray,DB=Object.prototype.hasOwnProperty,AT={current:null},LB={key:!0,ref:!0,__self:!0,__source:!0};function RB(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)DB.call(t,n)&&!LB.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:_2,type:e,key:a,ref:o,props:i,_owner:AT.current}}function Oee(e,t){return{$$typeof:_2,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function CT(e){return typeof e=="object"&&e!==null&&e.$$typeof===_2}function Iee(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var MP=/\/+/g;function qN(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Iee(""+e.key):t.toString(36)}function kb(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case _2:case yee:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+qN(o,0):n,kP(i)?(r="",e!=null&&(r=e.replace(MP,"$&/")+"/"),kb(i,t,r,"",function(u){return u})):i!=null&&(CT(i)&&(i=Oee(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(MP,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",kP(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+qN(a,l);o+=kb(a,t,r,c,i)}else if(c=Tee(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+qN(a,l++),o+=kb(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Cw(e,t,r){if(e==null)return e;var n=[],i=0;return kb(e,n,"","",function(a){return t.call(r,a,i++)}),n}function Pee(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ko={current:null},Mb={transition:null},kee={ReactCurrentDispatcher:ko,ReactCurrentBatchConfig:Mb,ReactCurrentOwner:AT};function FB(){throw Error("act(...) is not supported in production builds of React.")}Un.Children={map:Cw,forEach:function(e,t,r){Cw(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Cw(e,function(){t++}),t},toArray:function(e){return Cw(e,function(t){return t})||[]},only:function(e){if(!CT(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Un.Component=Bg;Un.Fragment=wee;Un.Profiler=See;Un.PureComponent=NT;Un.StrictMode=bee;Un.Suspense=Aee;Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kee;Un.act=FB;Un.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=PB({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=AT.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)DB.call(t,c)&&!LB.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:_2,type:e.type,key:i,ref:a,props:n,_owner:o}};Un.createContext=function(e){return e={$$typeof:Nee,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:_ee,_context:e},e.Consumer=e};Un.createElement=RB;Un.createFactory=function(e){var t=RB.bind(null,e);return t.type=e,t};Un.createRef=function(){return{current:null}};Un.forwardRef=function(e){return{$$typeof:Eee,render:e}};Un.isValidElement=CT;Un.lazy=function(e){return{$$typeof:jee,_payload:{_status:-1,_result:e},_init:Pee}};Un.memo=function(e,t){return{$$typeof:Cee,type:e,compare:t===void 0?null:t}};Un.startTransition=function(e){var t=Mb.transition;Mb.transition={};try{e()}finally{Mb.transition=t}};Un.unstable_act=FB;Un.useCallback=function(e,t){return ko.current.useCallback(e,t)};Un.useContext=function(e){return ko.current.useContext(e)};Un.useDebugValue=function(){};Un.useDeferredValue=function(e){return ko.current.useDeferredValue(e)};Un.useEffect=function(e,t){return ko.current.useEffect(e,t)};Un.useId=function(){return ko.current.useId()};Un.useImperativeHandle=function(e,t,r){return ko.current.useImperativeHandle(e,t,r)};Un.useInsertionEffect=function(e,t){return ko.current.useInsertionEffect(e,t)};Un.useLayoutEffect=function(e,t){return ko.current.useLayoutEffect(e,t)};Un.useMemo=function(e,t){return ko.current.useMemo(e,t)};Un.useReducer=function(e,t,r){return ko.current.useReducer(e,t,r)};Un.useRef=function(e){return ko.current.useRef(e)};Un.useState=function(e){return ko.current.useState(e)};Un.useSyncExternalStore=function(e,t,r){return ko.current.useSyncExternalStore(e,t,r)};Un.useTransition=function(){return ko.current.useTransition()};Un.version="18.3.1";OB.exports=Un;var O=OB.exports;const qe=Zn(O),BB=jB({__proto__:null,default:qe},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mee=O,Dee=Symbol.for("react.element"),Lee=Symbol.for("react.fragment"),Ree=Object.prototype.hasOwnProperty,Fee=Mee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bee={key:!0,ref:!0,__self:!0,__source:!0};function $B(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Ree.call(t,n)&&!Bee.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Dee,type:e,key:a,ref:o,props:i,_owner:Fee.current}}N4.Fragment=Lee;N4.jsx=$B;N4.jsxs=$B;TB.exports=N4;var s=TB.exports,YA={},UB={exports:{}},Ul={},zB={exports:{}},VB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(J,ge){var Ie=J.length;J.push(ge);e:for(;0<Ie;){var Ge=Ie-1>>>1,W=J[Ge];if(0<i(W,ge))J[Ge]=ge,J[Ie]=W,Ie=Ge;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var ge=J[0],Ie=J.pop();if(Ie!==ge){J[0]=Ie;e:for(var Ge=0,W=J.length,Q=W>>>1;Ge<Q;){var Z=2*(Ge+1)-1,re=J[Z],le=Z+1,Ne=J[le];if(0>i(re,Ie))le<W&&0>i(Ne,re)?(J[Ge]=Ne,J[le]=Ie,Ge=le):(J[Ge]=re,J[Z]=Ie,Ge=Z);else if(le<W&&0>i(Ne,Ie))J[Ge]=Ne,J[le]=Ie,Ge=le;else break e}}return ge}function i(J,ge){var Ie=J.sortIndex-ge.sortIndex;return Ie!==0?Ie:J.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,p=null,g=3,x=!1,b=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(J){for(var ge=r(u);ge!==null;){if(ge.callback===null)n(u);else if(ge.startTime<=J)n(u),ge.sortIndex=ge.expirationTime,t(c,ge);else break;ge=r(u)}}function I(J){if(y=!1,C(J),!b)if(r(c)!==null)b=!0,ee(P);else{var ge=r(u);ge!==null&&te(I,ge.startTime-J)}}function P(J,ge){b=!1,y&&(y=!1,N(L),L=-1),x=!0;var Ie=g;try{for(C(ge),p=r(c);p!==null&&(!(p.expirationTime>ge)||J&&!F());){var Ge=p.callback;if(typeof Ge=="function"){p.callback=null,g=p.priorityLevel;var W=Ge(p.expirationTime<=ge);ge=e.unstable_now(),typeof W=="function"?p.callback=W:p===r(c)&&n(c),C(ge)}else n(c);p=r(c)}if(p!==null)var Q=!0;else{var Z=r(u);Z!==null&&te(I,Z.startTime-ge),Q=!1}return Q}finally{p=null,g=Ie,x=!1}}var D=!1,k=null,L=-1,B=5,G=-1;function F(){return!(e.unstable_now()-G<B)}function U(){if(k!==null){var J=e.unstable_now();G=J;var ge=!0;try{ge=k(!0,J)}finally{ge?q():(D=!1,k=null)}}else D=!1}var q;if(typeof E=="function")q=function(){E(U)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,V=K.port2;K.port1.onmessage=U,q=function(){V.postMessage(null)}}else q=function(){_(U,0)};function ee(J){k=J,D||(D=!0,q())}function te(J,ge){L=_(function(){J(e.unstable_now())},ge)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,ee(P))},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(J){switch(g){case 1:case 2:case 3:var ge=3;break;default:ge=g}var Ie=g;g=ge;try{return J()}finally{g=Ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(J,ge){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Ie=g;g=J;try{return ge()}finally{g=Ie}},e.unstable_scheduleCallback=function(J,ge,Ie){var Ge=e.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?Ge+Ie:Ge):Ie=Ge,J){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Ie+W,J={id:f++,callback:ge,priorityLevel:J,startTime:Ie,expirationTime:W,sortIndex:-1},Ie>Ge?(J.sortIndex=Ie,t(u,J),r(c)===null&&J===r(u)&&(y?(N(L),L=-1):y=!0,te(I,Ie-Ge))):(J.sortIndex=W,t(c,J),b||x||(b=!0,ee(P))),J},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(J){var ge=g;return function(){var Ie=g;g=ge;try{return J.apply(this,arguments)}finally{g=Ie}}}})(VB);zB.exports=VB;var $ee=zB.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uee=O,Bl=$ee;function Kt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WB=new Set,zv={};function Hp(e,t){qm(e,t),qm(e+"Capture",t)}function qm(e,t){for(zv[e]=t,e=0;e<t.length;e++)WB.add(t[e])}var ef=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),XA=Object.prototype.hasOwnProperty,zee=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DP={},LP={};function Vee(e){return XA.call(LP,e)?!0:XA.call(DP,e)?!1:zee.test(e)?LP[e]=!0:(DP[e]=!0,!1)}function Wee(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Hee(e,t,r,n){if(t===null||typeof t>"u"||Wee(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Mo(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Ws={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ws[e]=new Mo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ws[t]=new Mo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ws[e]=new Mo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ws[e]=new Mo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ws[e]=new Mo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ws[e]=new Mo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ws[e]=new Mo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ws[e]=new Mo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ws[e]=new Mo(e,5,!1,e.toLowerCase(),null,!1,!1)});var jT=/[\-:]([a-z])/g;function TT(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jT,TT);Ws[t]=new Mo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jT,TT);Ws[t]=new Mo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jT,TT);Ws[t]=new Mo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ws[e]=new Mo(e,1,!1,e.toLowerCase(),null,!1,!1)});Ws.xlinkHref=new Mo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ws[e]=new Mo(e,1,!1,e.toLowerCase(),null,!0,!0)});function OT(e,t,r,n){var i=Ws.hasOwnProperty(t)?Ws[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Hee(t,r,i,n)&&(r=null),n||i===null?Vee(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Sf=Uee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jw=Symbol.for("react.element"),B1=Symbol.for("react.portal"),$1=Symbol.for("react.fragment"),IT=Symbol.for("react.strict_mode"),KA=Symbol.for("react.profiler"),HB=Symbol.for("react.provider"),qB=Symbol.for("react.context"),PT=Symbol.for("react.forward_ref"),QA=Symbol.for("react.suspense"),ZA=Symbol.for("react.suspense_list"),kT=Symbol.for("react.memo"),eh=Symbol.for("react.lazy"),GB=Symbol.for("react.offscreen"),RP=Symbol.iterator;function Cx(e){return e===null||typeof e!="object"?null:(e=RP&&e[RP]||e["@@iterator"],typeof e=="function"?e:null)}var ba=Object.assign,GN;function sv(e){if(GN===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);GN=t&&t[1]||""}return`
`+GN+e}var YN=!1;function XN(e,t){if(!e||YN)return"";YN=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{YN=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?sv(e):""}function qee(e){switch(e.tag){case 5:return sv(e.type);case 16:return sv("Lazy");case 13:return sv("Suspense");case 19:return sv("SuspenseList");case 0:case 2:case 15:return e=XN(e.type,!1),e;case 11:return e=XN(e.type.render,!1),e;case 1:return e=XN(e.type,!0),e;default:return""}}function JA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $1:return"Fragment";case B1:return"Portal";case KA:return"Profiler";case IT:return"StrictMode";case QA:return"Suspense";case ZA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qB:return(e.displayName||"Context")+".Consumer";case HB:return(e._context.displayName||"Context")+".Provider";case PT:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case kT:return t=e.displayName||null,t!==null?t:JA(e.type)||"Memo";case eh:t=e._payload,e=e._init;try{return JA(e(t))}catch{}}return null}function Gee(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return JA(t);case 8:return t===IT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function YB(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yee(e){var t=YB(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tw(e){e._valueTracker||(e._valueTracker=Yee(e))}function XB(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=YB(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function aS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function e3(e,t){var r=t.checked;return ba({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function FP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Bh(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function KB(e,t){t=t.checked,t!=null&&OT(e,"checked",t,!1)}function t3(e,t){KB(e,t);var r=Bh(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?r3(e,t.type,r):t.hasOwnProperty("defaultValue")&&r3(e,t.type,Bh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function BP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function r3(e,t,r){(t!=="number"||aS(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ov=Array.isArray;function sm(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Bh(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function n3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Kt(91));return ba({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $P(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Kt(92));if(ov(r)){if(1<r.length)throw Error(Kt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Bh(r)}}function QB(e,t){var r=Bh(t.value),n=Bh(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function UP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ZB(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ZB(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ow,JB=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ow=Ow||document.createElement("div"),Ow.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ow.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vv(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var xv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xee=["Webkit","ms","Moz","O"];Object.keys(xv).forEach(function(e){Xee.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xv[t]=xv[e]})});function e$(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||xv.hasOwnProperty(e)&&xv[e]?(""+t).trim():t+"px"}function t$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=e$(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Kee=ba({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a3(e,t){if(t){if(Kee[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Kt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Kt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Kt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Kt(62))}}function s3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o3=null;function MT(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var l3=null,om=null,lm=null;function zP(e){if(e=A2(e)){if(typeof l3!="function")throw Error(Kt(280));var t=e.stateNode;t&&(t=T4(t),l3(e.stateNode,e.type,t))}}function r$(e){om?lm?lm.push(e):lm=[e]:om=e}function n$(){if(om){var e=om,t=lm;if(lm=om=null,zP(e),t)for(e=0;e<t.length;e++)zP(t[e])}}function i$(e,t){return e(t)}function a$(){}var KN=!1;function s$(e,t,r){if(KN)return e(t,r);KN=!0;try{return i$(e,t,r)}finally{KN=!1,(om!==null||lm!==null)&&(a$(),n$())}}function Wv(e,t){var r=e.stateNode;if(r===null)return null;var n=T4(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Kt(231,t,typeof r));return r}var c3=!1;if(ef)try{var jx={};Object.defineProperty(jx,"passive",{get:function(){c3=!0}}),window.addEventListener("test",jx,jx),window.removeEventListener("test",jx,jx)}catch{c3=!1}function Qee(e,t,r,n,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var vv=!1,sS=null,oS=!1,u3=null,Zee={onError:function(e){vv=!0,sS=e}};function Jee(e,t,r,n,i,a,o,l,c){vv=!1,sS=null,Qee.apply(Zee,arguments)}function ete(e,t,r,n,i,a,o,l,c){if(Jee.apply(this,arguments),vv){if(vv){var u=sS;vv=!1,sS=null}else throw Error(Kt(198));oS||(oS=!0,u3=u)}}function qp(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function o$(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function VP(e){if(qp(e)!==e)throw Error(Kt(188))}function tte(e){var t=e.alternate;if(!t){if(t=qp(e),t===null)throw Error(Kt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return VP(i),e;if(a===n)return VP(i),t;a=a.sibling}throw Error(Kt(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o)throw Error(Kt(189))}}if(r.alternate!==n)throw Error(Kt(190))}if(r.tag!==3)throw Error(Kt(188));return r.stateNode.current===r?e:t}function l$(e){return e=tte(e),e!==null?c$(e):null}function c$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=c$(e);if(t!==null)return t;e=e.sibling}return null}var u$=Bl.unstable_scheduleCallback,WP=Bl.unstable_cancelCallback,rte=Bl.unstable_shouldYield,nte=Bl.unstable_requestPaint,$a=Bl.unstable_now,ite=Bl.unstable_getCurrentPriorityLevel,DT=Bl.unstable_ImmediatePriority,d$=Bl.unstable_UserBlockingPriority,lS=Bl.unstable_NormalPriority,ate=Bl.unstable_LowPriority,f$=Bl.unstable_IdlePriority,E4=null,Gu=null;function ste(e){if(Gu&&typeof Gu.onCommitFiberRoot=="function")try{Gu.onCommitFiberRoot(E4,e,void 0,(e.current.flags&128)===128)}catch{}}var tu=Math.clz32?Math.clz32:cte,ote=Math.log,lte=Math.LN2;function cte(e){return e>>>=0,e===0?32:31-(ote(e)/lte|0)|0}var Iw=64,Pw=4194304;function lv(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cS(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=lv(l):(a&=o,a!==0&&(n=lv(a)))}else o=r&~i,o!==0?n=lv(o):a!==0&&(n=lv(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-tu(t),i=1<<r,n|=e[r],t&=~i;return n}function ute(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dte(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-tu(a),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=ute(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function d3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function h$(){var e=Iw;return Iw<<=1,!(Iw&4194240)&&(Iw=64),e}function QN(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function N2(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tu(t),e[t]=r}function fte(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-tu(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function LT(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-tu(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ei=0;function p$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var m$,RT,g$,x$,v$,f3=!1,kw=[],Ah=null,Ch=null,jh=null,Hv=new Map,qv=new Map,nh=[],hte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function HP(e,t){switch(e){case"focusin":case"focusout":Ah=null;break;case"dragenter":case"dragleave":Ch=null;break;case"mouseover":case"mouseout":jh=null;break;case"pointerover":case"pointerout":Hv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qv.delete(t.pointerId)}}function Tx(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=A2(t),t!==null&&RT(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function pte(e,t,r,n,i){switch(t){case"focusin":return Ah=Tx(Ah,e,t,r,n,i),!0;case"dragenter":return Ch=Tx(Ch,e,t,r,n,i),!0;case"mouseover":return jh=Tx(jh,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Hv.set(a,Tx(Hv.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,qv.set(a,Tx(qv.get(a)||null,e,t,r,n,i)),!0}return!1}function y$(e){var t=z0(e.target);if(t!==null){var r=qp(t);if(r!==null){if(t=r.tag,t===13){if(t=o$(r),t!==null){e.blockedOn=t,v$(e.priority,function(){g$(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Db(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=h3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);o3=n,r.target.dispatchEvent(n),o3=null}else return t=A2(r),t!==null&&RT(t),e.blockedOn=r,!1;t.shift()}return!0}function qP(e,t,r){Db(e)&&r.delete(t)}function mte(){f3=!1,Ah!==null&&Db(Ah)&&(Ah=null),Ch!==null&&Db(Ch)&&(Ch=null),jh!==null&&Db(jh)&&(jh=null),Hv.forEach(qP),qv.forEach(qP)}function Ox(e,t){e.blockedOn===t&&(e.blockedOn=null,f3||(f3=!0,Bl.unstable_scheduleCallback(Bl.unstable_NormalPriority,mte)))}function Gv(e){function t(i){return Ox(i,e)}if(0<kw.length){Ox(kw[0],e);for(var r=1;r<kw.length;r++){var n=kw[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ah!==null&&Ox(Ah,e),Ch!==null&&Ox(Ch,e),jh!==null&&Ox(jh,e),Hv.forEach(t),qv.forEach(t),r=0;r<nh.length;r++)n=nh[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<nh.length&&(r=nh[0],r.blockedOn===null);)y$(r),r.blockedOn===null&&nh.shift()}var cm=Sf.ReactCurrentBatchConfig,uS=!0;function gte(e,t,r,n){var i=Ei,a=cm.transition;cm.transition=null;try{Ei=1,FT(e,t,r,n)}finally{Ei=i,cm.transition=a}}function xte(e,t,r,n){var i=Ei,a=cm.transition;cm.transition=null;try{Ei=4,FT(e,t,r,n)}finally{Ei=i,cm.transition=a}}function FT(e,t,r,n){if(uS){var i=h3(e,t,r,n);if(i===null)oE(e,t,n,dS,r),HP(e,n);else if(pte(i,e,t,r,n))n.stopPropagation();else if(HP(e,n),t&4&&-1<hte.indexOf(e)){for(;i!==null;){var a=A2(i);if(a!==null&&m$(a),a=h3(e,t,r,n),a===null&&oE(e,t,n,dS,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else oE(e,t,n,null,r)}}var dS=null;function h3(e,t,r,n){if(dS=null,e=MT(n),e=z0(e),e!==null)if(t=qp(e),t===null)e=null;else if(r=t.tag,r===13){if(e=o$(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dS=e,null}function w$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ite()){case DT:return 1;case d$:return 4;case lS:case ate:return 16;case f$:return 536870912;default:return 16}default:return 16}}var yh=null,BT=null,Lb=null;function b$(){if(Lb)return Lb;var e,t=BT,r=t.length,n,i="value"in yh?yh.value:yh.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Lb=i.slice(e,1<n?1-n:void 0)}function Rb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mw(){return!0}function GP(){return!1}function zl(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Mw:GP,this.isPropagationStopped=GP,this}return ba(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mw)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mw)},persist:function(){},isPersistent:Mw}),t}var $g={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$T=zl($g),E2=ba({},$g,{view:0,detail:0}),vte=zl(E2),ZN,JN,Ix,A4=ba({},E2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:UT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ix&&(Ix&&e.type==="mousemove"?(ZN=e.screenX-Ix.screenX,JN=e.screenY-Ix.screenY):JN=ZN=0,Ix=e),ZN)},movementY:function(e){return"movementY"in e?e.movementY:JN}}),YP=zl(A4),yte=ba({},A4,{dataTransfer:0}),wte=zl(yte),bte=ba({},E2,{relatedTarget:0}),eE=zl(bte),Ste=ba({},$g,{animationName:0,elapsedTime:0,pseudoElement:0}),_te=zl(Ste),Nte=ba({},$g,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ete=zl(Nte),Ate=ba({},$g,{data:0}),XP=zl(Ate),Cte={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jte={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tte={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ote(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tte[e])?!!t[e]:!1}function UT(){return Ote}var Ite=ba({},E2,{key:function(e){if(e.key){var t=Cte[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jte[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:UT,charCode:function(e){return e.type==="keypress"?Rb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pte=zl(Ite),kte=ba({},A4,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),KP=zl(kte),Mte=ba({},E2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:UT}),Dte=zl(Mte),Lte=ba({},$g,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rte=zl(Lte),Fte=ba({},A4,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bte=zl(Fte),$te=[9,13,27,32],zT=ef&&"CompositionEvent"in window,yv=null;ef&&"documentMode"in document&&(yv=document.documentMode);var Ute=ef&&"TextEvent"in window&&!yv,S$=ef&&(!zT||yv&&8<yv&&11>=yv),QP=" ",ZP=!1;function _$(e,t){switch(e){case"keyup":return $te.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var U1=!1;function zte(e,t){switch(e){case"compositionend":return N$(t);case"keypress":return t.which!==32?null:(ZP=!0,QP);case"textInput":return e=t.data,e===QP&&ZP?null:e;default:return null}}function Vte(e,t){if(U1)return e==="compositionend"||!zT&&_$(e,t)?(e=b$(),Lb=BT=yh=null,U1=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return S$&&t.locale!=="ko"?null:t.data;default:return null}}var Wte={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wte[e.type]:t==="textarea"}function E$(e,t,r,n){r$(n),t=fS(t,"onChange"),0<t.length&&(r=new $T("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var wv=null,Yv=null;function Hte(e){L$(e,0)}function C4(e){var t=W1(e);if(XB(t))return e}function qte(e,t){if(e==="change")return t}var A$=!1;if(ef){var tE;if(ef){var rE="oninput"in document;if(!rE){var ek=document.createElement("div");ek.setAttribute("oninput","return;"),rE=typeof ek.oninput=="function"}tE=rE}else tE=!1;A$=tE&&(!document.documentMode||9<document.documentMode)}function tk(){wv&&(wv.detachEvent("onpropertychange",C$),Yv=wv=null)}function C$(e){if(e.propertyName==="value"&&C4(Yv)){var t=[];E$(t,Yv,e,MT(e)),s$(Hte,t)}}function Gte(e,t,r){e==="focusin"?(tk(),wv=t,Yv=r,wv.attachEvent("onpropertychange",C$)):e==="focusout"&&tk()}function Yte(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return C4(Yv)}function Xte(e,t){if(e==="click")return C4(t)}function Kte(e,t){if(e==="input"||e==="change")return C4(t)}function Qte(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ou=typeof Object.is=="function"?Object.is:Qte;function Xv(e,t){if(ou(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!XA.call(t,i)||!ou(e[i],t[i]))return!1}return!0}function rk(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nk(e,t){var r=rk(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rk(r)}}function j$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?j$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function T$(){for(var e=window,t=aS();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=aS(e.document)}return t}function VT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zte(e){var t=T$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&j$(r.ownerDocument.documentElement,r)){if(n!==null&&VT(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=nk(r,a);var o=nk(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jte=ef&&"documentMode"in document&&11>=document.documentMode,z1=null,p3=null,bv=null,m3=!1;function ik(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;m3||z1==null||z1!==aS(n)||(n=z1,"selectionStart"in n&&VT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),bv&&Xv(bv,n)||(bv=n,n=fS(p3,"onSelect"),0<n.length&&(t=new $T("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=z1)))}function Dw(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var V1={animationend:Dw("Animation","AnimationEnd"),animationiteration:Dw("Animation","AnimationIteration"),animationstart:Dw("Animation","AnimationStart"),transitionend:Dw("Transition","TransitionEnd")},nE={},O$={};ef&&(O$=document.createElement("div").style,"AnimationEvent"in window||(delete V1.animationend.animation,delete V1.animationiteration.animation,delete V1.animationstart.animation),"TransitionEvent"in window||delete V1.transitionend.transition);function j4(e){if(nE[e])return nE[e];if(!V1[e])return e;var t=V1[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in O$)return nE[e]=t[r];return e}var I$=j4("animationend"),P$=j4("animationiteration"),k$=j4("animationstart"),M$=j4("transitionend"),D$=new Map,ak="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function r0(e,t){D$.set(e,t),Hp(t,[e])}for(var iE=0;iE<ak.length;iE++){var aE=ak[iE],ere=aE.toLowerCase(),tre=aE[0].toUpperCase()+aE.slice(1);r0(ere,"on"+tre)}r0(I$,"onAnimationEnd");r0(P$,"onAnimationIteration");r0(k$,"onAnimationStart");r0("dblclick","onDoubleClick");r0("focusin","onFocus");r0("focusout","onBlur");r0(M$,"onTransitionEnd");qm("onMouseEnter",["mouseout","mouseover"]);qm("onMouseLeave",["mouseout","mouseover"]);qm("onPointerEnter",["pointerout","pointerover"]);qm("onPointerLeave",["pointerout","pointerover"]);Hp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hp("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cv="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rre=new Set("cancel close invalid load scroll toggle".split(" ").concat(cv));function sk(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ete(n,t,void 0,e),e.currentTarget=null}function L$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;sk(i,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;sk(i,l,u),a=c}}}if(oS)throw e=u3,oS=!1,u3=null,e}function Gi(e,t){var r=t[w3];r===void 0&&(r=t[w3]=new Set);var n=e+"__bubble";r.has(n)||(R$(t,e,2,!1),r.add(n))}function sE(e,t,r){var n=0;t&&(n|=4),R$(r,e,n,t)}var Lw="_reactListening"+Math.random().toString(36).slice(2);function Kv(e){if(!e[Lw]){e[Lw]=!0,WB.forEach(function(r){r!=="selectionchange"&&(rre.has(r)||sE(r,!1,e),sE(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lw]||(t[Lw]=!0,sE("selectionchange",!1,t))}}function R$(e,t,r,n){switch(w$(t)){case 1:var i=gte;break;case 4:i=xte;break;default:i=FT}r=i.bind(null,t,r,e),i=void 0,!c3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function oE(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=z0(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}s$(function(){var u=a,f=MT(r),p=[];e:{var g=D$.get(e);if(g!==void 0){var x=$T,b=e;switch(e){case"keypress":if(Rb(r)===0)break e;case"keydown":case"keyup":x=Pte;break;case"focusin":b="focus",x=eE;break;case"focusout":b="blur",x=eE;break;case"beforeblur":case"afterblur":x=eE;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=YP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=wte;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Dte;break;case I$:case P$:case k$:x=_te;break;case M$:x=Rte;break;case"scroll":x=vte;break;case"wheel":x=Bte;break;case"copy":case"cut":case"paste":x=Ete;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=KP}var y=(t&4)!==0,_=!y&&e==="scroll",N=y?g!==null?g+"Capture":null:g;y=[];for(var E=u,C;E!==null;){C=E;var I=C.stateNode;if(C.tag===5&&I!==null&&(C=I,N!==null&&(I=Wv(E,N),I!=null&&y.push(Qv(E,I,C)))),_)break;E=E.return}0<y.length&&(g=new x(g,b,null,r,f),p.push({event:g,listeners:y}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",g&&r!==o3&&(b=r.relatedTarget||r.fromElement)&&(z0(b)||b[tf]))break e;if((x||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,x?(b=r.relatedTarget||r.toElement,x=u,b=b?z0(b):null,b!==null&&(_=qp(b),b!==_||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=u),x!==b)){if(y=YP,I="onMouseLeave",N="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(y=KP,I="onPointerLeave",N="onPointerEnter",E="pointer"),_=x==null?g:W1(x),C=b==null?g:W1(b),g=new y(I,E+"leave",x,r,f),g.target=_,g.relatedTarget=C,I=null,z0(f)===u&&(y=new y(N,E+"enter",b,r,f),y.target=C,y.relatedTarget=_,I=y),_=I,x&&b)t:{for(y=x,N=b,E=0,C=y;C;C=g1(C))E++;for(C=0,I=N;I;I=g1(I))C++;for(;0<E-C;)y=g1(y),E--;for(;0<C-E;)N=g1(N),C--;for(;E--;){if(y===N||N!==null&&y===N.alternate)break t;y=g1(y),N=g1(N)}y=null}else y=null;x!==null&&ok(p,g,x,y,!1),b!==null&&_!==null&&ok(p,_,b,y,!0)}}e:{if(g=u?W1(u):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var P=qte;else if(JP(g))if(A$)P=Kte;else{P=Yte;var D=Gte}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(P=Xte);if(P&&(P=P(e,u))){E$(p,P,r,f);break e}D&&D(e,g,u),e==="focusout"&&(D=g._wrapperState)&&D.controlled&&g.type==="number"&&r3(g,"number",g.value)}switch(D=u?W1(u):window,e){case"focusin":(JP(D)||D.contentEditable==="true")&&(z1=D,p3=u,bv=null);break;case"focusout":bv=p3=z1=null;break;case"mousedown":m3=!0;break;case"contextmenu":case"mouseup":case"dragend":m3=!1,ik(p,r,f);break;case"selectionchange":if(Jte)break;case"keydown":case"keyup":ik(p,r,f)}var k;if(zT)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else U1?_$(e,r)&&(L="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(S$&&r.locale!=="ko"&&(U1||L!=="onCompositionStart"?L==="onCompositionEnd"&&U1&&(k=b$()):(yh=f,BT="value"in yh?yh.value:yh.textContent,U1=!0)),D=fS(u,L),0<D.length&&(L=new XP(L,e,null,r,f),p.push({event:L,listeners:D}),k?L.data=k:(k=N$(r),k!==null&&(L.data=k)))),(k=Ute?zte(e,r):Vte(e,r))&&(u=fS(u,"onBeforeInput"),0<u.length&&(f=new XP("onBeforeInput","beforeinput",null,r,f),p.push({event:f,listeners:u}),f.data=k))}L$(p,t)})}function Qv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fS(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Wv(e,r),a!=null&&n.unshift(Qv(e,a,i)),a=Wv(e,t),a!=null&&n.push(Qv(e,a,i))),e=e.return}return n}function g1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ok(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Wv(r,a),c!=null&&o.unshift(Qv(r,c,l))):i||(c=Wv(r,a),c!=null&&o.push(Qv(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var nre=/\r\n?/g,ire=/\u0000|\uFFFD/g;function lk(e){return(typeof e=="string"?e:""+e).replace(nre,`
`).replace(ire,"")}function Rw(e,t,r){if(t=lk(t),lk(e)!==t&&r)throw Error(Kt(425))}function hS(){}var g3=null,x3=null;function v3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var y3=typeof setTimeout=="function"?setTimeout:void 0,are=typeof clearTimeout=="function"?clearTimeout:void 0,ck=typeof Promise=="function"?Promise:void 0,sre=typeof queueMicrotask=="function"?queueMicrotask:typeof ck<"u"?function(e){return ck.resolve(null).then(e).catch(ore)}:y3;function ore(e){setTimeout(function(){throw e})}function lE(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Gv(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Gv(t)}function Th(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uk(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ug=Math.random().toString(36).slice(2),Ru="__reactFiber$"+Ug,Zv="__reactProps$"+Ug,tf="__reactContainer$"+Ug,w3="__reactEvents$"+Ug,lre="__reactListeners$"+Ug,cre="__reactHandles$"+Ug;function z0(e){var t=e[Ru];if(t)return t;for(var r=e.parentNode;r;){if(t=r[tf]||r[Ru]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=uk(e);e!==null;){if(r=e[Ru])return r;e=uk(e)}return t}e=r,r=e.parentNode}return null}function A2(e){return e=e[Ru]||e[tf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function W1(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Kt(33))}function T4(e){return e[Zv]||null}var b3=[],H1=-1;function n0(e){return{current:e}}function Zi(e){0>H1||(e.current=b3[H1],b3[H1]=null,H1--)}function zi(e,t){H1++,b3[H1]=e.current,e.current=t}var $h={},ho=n0($h),Jo=n0(!1),wp=$h;function Gm(e,t){var r=e.type.contextTypes;if(!r)return $h;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function el(e){return e=e.childContextTypes,e!=null}function pS(){Zi(Jo),Zi(ho)}function dk(e,t,r){if(ho.current!==$h)throw Error(Kt(168));zi(ho,t),zi(Jo,r)}function F$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Kt(108,Gee(e)||"Unknown",i));return ba({},r,n)}function mS(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||$h,wp=ho.current,zi(ho,e),zi(Jo,Jo.current),!0}function fk(e,t,r){var n=e.stateNode;if(!n)throw Error(Kt(169));r?(e=F$(e,t,wp),n.__reactInternalMemoizedMergedChildContext=e,Zi(Jo),Zi(ho),zi(ho,e)):Zi(Jo),zi(Jo,r)}var kd=null,O4=!1,cE=!1;function B$(e){kd===null?kd=[e]:kd.push(e)}function ure(e){O4=!0,B$(e)}function i0(){if(!cE&&kd!==null){cE=!0;var e=0,t=Ei;try{var r=kd;for(Ei=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}kd=null,O4=!1}catch(i){throw kd!==null&&(kd=kd.slice(e+1)),u$(DT,i0),i}finally{Ei=t,cE=!1}}return null}var q1=[],G1=0,gS=null,xS=0,ac=[],sc=0,bp=null,Ld=1,Rd="";function P0(e,t){q1[G1++]=xS,q1[G1++]=gS,gS=e,xS=t}function $$(e,t,r){ac[sc++]=Ld,ac[sc++]=Rd,ac[sc++]=bp,bp=e;var n=Ld;e=Rd;var i=32-tu(n)-1;n&=~(1<<i),r+=1;var a=32-tu(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ld=1<<32-tu(t)+i|r<<i|n,Rd=a+e}else Ld=1<<a|r<<i|n,Rd=e}function WT(e){e.return!==null&&(P0(e,1),$$(e,1,0))}function HT(e){for(;e===gS;)gS=q1[--G1],q1[G1]=null,xS=q1[--G1],q1[G1]=null;for(;e===bp;)bp=ac[--sc],ac[sc]=null,Rd=ac[--sc],ac[sc]=null,Ld=ac[--sc],ac[sc]=null}var Dl=null,Il=null,ca=!1,Wc=null;function U$(e,t){var r=lc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function hk(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dl=e,Il=Th(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dl=e,Il=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=bp!==null?{id:Ld,overflow:Rd}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=lc(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Dl=e,Il=null,!0):!1;default:return!1}}function S3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _3(e){if(ca){var t=Il;if(t){var r=t;if(!hk(e,t)){if(S3(e))throw Error(Kt(418));t=Th(r.nextSibling);var n=Dl;t&&hk(e,t)?U$(n,r):(e.flags=e.flags&-4097|2,ca=!1,Dl=e)}}else{if(S3(e))throw Error(Kt(418));e.flags=e.flags&-4097|2,ca=!1,Dl=e}}}function pk(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dl=e}function Fw(e){if(e!==Dl)return!1;if(!ca)return pk(e),ca=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!v3(e.type,e.memoizedProps)),t&&(t=Il)){if(S3(e))throw z$(),Error(Kt(418));for(;t;)U$(e,t),t=Th(t.nextSibling)}if(pk(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Kt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Il=Th(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Il=null}}else Il=Dl?Th(e.stateNode.nextSibling):null;return!0}function z$(){for(var e=Il;e;)e=Th(e.nextSibling)}function Ym(){Il=Dl=null,ca=!1}function qT(e){Wc===null?Wc=[e]:Wc.push(e)}var dre=Sf.ReactCurrentBatchConfig;function Px(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Kt(309));var n=r.stateNode}if(!n)throw Error(Kt(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Kt(284));if(!r._owner)throw Error(Kt(290,e))}return e}function Bw(e,t){throw e=Object.prototype.toString.call(t),Error(Kt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mk(e){var t=e._init;return t(e._payload)}function V$(e){function t(N,E){if(e){var C=N.deletions;C===null?(N.deletions=[E],N.flags|=16):C.push(E)}}function r(N,E){if(!e)return null;for(;E!==null;)t(N,E),E=E.sibling;return null}function n(N,E){for(N=new Map;E!==null;)E.key!==null?N.set(E.key,E):N.set(E.index,E),E=E.sibling;return N}function i(N,E){return N=kh(N,E),N.index=0,N.sibling=null,N}function a(N,E,C){return N.index=C,e?(C=N.alternate,C!==null?(C=C.index,C<E?(N.flags|=2,E):C):(N.flags|=2,E)):(N.flags|=1048576,E)}function o(N){return e&&N.alternate===null&&(N.flags|=2),N}function l(N,E,C,I){return E===null||E.tag!==6?(E=gE(C,N.mode,I),E.return=N,E):(E=i(E,C),E.return=N,E)}function c(N,E,C,I){var P=C.type;return P===$1?f(N,E,C.props.children,I,C.key):E!==null&&(E.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===eh&&mk(P)===E.type)?(I=i(E,C.props),I.ref=Px(N,E,C),I.return=N,I):(I=Wb(C.type,C.key,C.props,null,N.mode,I),I.ref=Px(N,E,C),I.return=N,I)}function u(N,E,C,I){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=xE(C,N.mode,I),E.return=N,E):(E=i(E,C.children||[]),E.return=N,E)}function f(N,E,C,I,P){return E===null||E.tag!==7?(E=ip(C,N.mode,I,P),E.return=N,E):(E=i(E,C),E.return=N,E)}function p(N,E,C){if(typeof E=="string"&&E!==""||typeof E=="number")return E=gE(""+E,N.mode,C),E.return=N,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case jw:return C=Wb(E.type,E.key,E.props,null,N.mode,C),C.ref=Px(N,null,E),C.return=N,C;case B1:return E=xE(E,N.mode,C),E.return=N,E;case eh:var I=E._init;return p(N,I(E._payload),C)}if(ov(E)||Cx(E))return E=ip(E,N.mode,C,null),E.return=N,E;Bw(N,E)}return null}function g(N,E,C,I){var P=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return P!==null?null:l(N,E,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case jw:return C.key===P?c(N,E,C,I):null;case B1:return C.key===P?u(N,E,C,I):null;case eh:return P=C._init,g(N,E,P(C._payload),I)}if(ov(C)||Cx(C))return P!==null?null:f(N,E,C,I,null);Bw(N,C)}return null}function x(N,E,C,I,P){if(typeof I=="string"&&I!==""||typeof I=="number")return N=N.get(C)||null,l(E,N,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case jw:return N=N.get(I.key===null?C:I.key)||null,c(E,N,I,P);case B1:return N=N.get(I.key===null?C:I.key)||null,u(E,N,I,P);case eh:var D=I._init;return x(N,E,C,D(I._payload),P)}if(ov(I)||Cx(I))return N=N.get(C)||null,f(E,N,I,P,null);Bw(E,I)}return null}function b(N,E,C,I){for(var P=null,D=null,k=E,L=E=0,B=null;k!==null&&L<C.length;L++){k.index>L?(B=k,k=null):B=k.sibling;var G=g(N,k,C[L],I);if(G===null){k===null&&(k=B);break}e&&k&&G.alternate===null&&t(N,k),E=a(G,E,L),D===null?P=G:D.sibling=G,D=G,k=B}if(L===C.length)return r(N,k),ca&&P0(N,L),P;if(k===null){for(;L<C.length;L++)k=p(N,C[L],I),k!==null&&(E=a(k,E,L),D===null?P=k:D.sibling=k,D=k);return ca&&P0(N,L),P}for(k=n(N,k);L<C.length;L++)B=x(k,N,L,C[L],I),B!==null&&(e&&B.alternate!==null&&k.delete(B.key===null?L:B.key),E=a(B,E,L),D===null?P=B:D.sibling=B,D=B);return e&&k.forEach(function(F){return t(N,F)}),ca&&P0(N,L),P}function y(N,E,C,I){var P=Cx(C);if(typeof P!="function")throw Error(Kt(150));if(C=P.call(C),C==null)throw Error(Kt(151));for(var D=P=null,k=E,L=E=0,B=null,G=C.next();k!==null&&!G.done;L++,G=C.next()){k.index>L?(B=k,k=null):B=k.sibling;var F=g(N,k,G.value,I);if(F===null){k===null&&(k=B);break}e&&k&&F.alternate===null&&t(N,k),E=a(F,E,L),D===null?P=F:D.sibling=F,D=F,k=B}if(G.done)return r(N,k),ca&&P0(N,L),P;if(k===null){for(;!G.done;L++,G=C.next())G=p(N,G.value,I),G!==null&&(E=a(G,E,L),D===null?P=G:D.sibling=G,D=G);return ca&&P0(N,L),P}for(k=n(N,k);!G.done;L++,G=C.next())G=x(k,N,L,G.value,I),G!==null&&(e&&G.alternate!==null&&k.delete(G.key===null?L:G.key),E=a(G,E,L),D===null?P=G:D.sibling=G,D=G);return e&&k.forEach(function(U){return t(N,U)}),ca&&P0(N,L),P}function _(N,E,C,I){if(typeof C=="object"&&C!==null&&C.type===$1&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case jw:e:{for(var P=C.key,D=E;D!==null;){if(D.key===P){if(P=C.type,P===$1){if(D.tag===7){r(N,D.sibling),E=i(D,C.props.children),E.return=N,N=E;break e}}else if(D.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===eh&&mk(P)===D.type){r(N,D.sibling),E=i(D,C.props),E.ref=Px(N,D,C),E.return=N,N=E;break e}r(N,D);break}else t(N,D);D=D.sibling}C.type===$1?(E=ip(C.props.children,N.mode,I,C.key),E.return=N,N=E):(I=Wb(C.type,C.key,C.props,null,N.mode,I),I.ref=Px(N,E,C),I.return=N,N=I)}return o(N);case B1:e:{for(D=C.key;E!==null;){if(E.key===D)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){r(N,E.sibling),E=i(E,C.children||[]),E.return=N,N=E;break e}else{r(N,E);break}else t(N,E);E=E.sibling}E=xE(C,N.mode,I),E.return=N,N=E}return o(N);case eh:return D=C._init,_(N,E,D(C._payload),I)}if(ov(C))return b(N,E,C,I);if(Cx(C))return y(N,E,C,I);Bw(N,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,E!==null&&E.tag===6?(r(N,E.sibling),E=i(E,C),E.return=N,N=E):(r(N,E),E=gE(C,N.mode,I),E.return=N,N=E),o(N)):r(N,E)}return _}var Xm=V$(!0),W$=V$(!1),vS=n0(null),yS=null,Y1=null,GT=null;function YT(){GT=Y1=yS=null}function XT(e){var t=vS.current;Zi(vS),e._currentValue=t}function N3(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function um(e,t){yS=e,GT=Y1=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qo=!0),e.firstContext=null)}function xc(e){var t=e._currentValue;if(GT!==e)if(e={context:e,memoizedValue:t,next:null},Y1===null){if(yS===null)throw Error(Kt(308));Y1=e,yS.dependencies={lanes:0,firstContext:e}}else Y1=Y1.next=e;return t}var V0=null;function KT(e){V0===null?V0=[e]:V0.push(e)}function H$(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,KT(t)):(r.next=i.next,i.next=r),t.interleaved=r,rf(e,n)}function rf(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var th=!1;function QT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vd(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oh(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Qn&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,rf(e,r)}return i=n.interleaved,i===null?(t.next=t,KT(n)):(t.next=i.next,i.next=t),n.interleaved=t,rf(e,r)}function Fb(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,LT(e,r)}}function gk(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wS(e,t,r,n){var i=e.updateQueue;th=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(a!==null){var p=i.baseState;o=0,f=u=c=null,l=a;do{var g=l.lane,x=l.eventTime;if((n&g)===g){f!==null&&(f=f.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,y=l;switch(g=t,x=r,y.tag){case 1:if(b=y.payload,typeof b=="function"){p=b.call(x,p,g);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,g=typeof b=="function"?b.call(x,p,g):b,g==null)break e;p=ba({},p,g);break e;case 2:th=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else x={eventTime:x,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=x,c=p):f=f.next=x,o|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);_p|=o,e.lanes=o,e.memoizedState=p}}function xk(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Kt(191,i));i.call(n)}}}var C2={},Yu=n0(C2),Jv=n0(C2),ey=n0(C2);function W0(e){if(e===C2)throw Error(Kt(174));return e}function ZT(e,t){switch(zi(ey,t),zi(Jv,e),zi(Yu,C2),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:i3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=i3(t,e)}Zi(Yu),zi(Yu,t)}function Km(){Zi(Yu),Zi(Jv),Zi(ey)}function G$(e){W0(ey.current);var t=W0(Yu.current),r=i3(t,e.type);t!==r&&(zi(Jv,e),zi(Yu,r))}function JT(e){Jv.current===e&&(Zi(Yu),Zi(Jv))}var ya=n0(0);function bS(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uE=[];function eO(){for(var e=0;e<uE.length;e++)uE[e]._workInProgressVersionPrimary=null;uE.length=0}var Bb=Sf.ReactCurrentDispatcher,dE=Sf.ReactCurrentBatchConfig,Sp=0,wa=null,us=null,ys=null,SS=!1,Sv=!1,ty=0,fre=0;function Zs(){throw Error(Kt(321))}function tO(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ou(e[r],t[r]))return!1;return!0}function rO(e,t,r,n,i,a){if(Sp=a,wa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bb.current=e===null||e.memoizedState===null?gre:xre,e=r(n,i),Sv){a=0;do{if(Sv=!1,ty=0,25<=a)throw Error(Kt(301));a+=1,ys=us=null,t.updateQueue=null,Bb.current=vre,e=r(n,i)}while(Sv)}if(Bb.current=_S,t=us!==null&&us.next!==null,Sp=0,ys=us=wa=null,SS=!1,t)throw Error(Kt(300));return e}function nO(){var e=ty!==0;return ty=0,e}function Ou(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ys===null?wa.memoizedState=ys=e:ys=ys.next=e,ys}function vc(){if(us===null){var e=wa.alternate;e=e!==null?e.memoizedState:null}else e=us.next;var t=ys===null?wa.memoizedState:ys.next;if(t!==null)ys=t,us=e;else{if(e===null)throw Error(Kt(310));us=e,e={memoizedState:us.memoizedState,baseState:us.baseState,baseQueue:us.baseQueue,queue:us.queue,next:null},ys===null?wa.memoizedState=ys=e:ys=ys.next=e}return ys}function ry(e,t){return typeof t=="function"?t(e):t}function fE(e){var t=vc(),r=t.queue;if(r===null)throw Error(Kt(311));r.lastRenderedReducer=e;var n=us,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var l=o=null,c=null,u=a;do{var f=u.lane;if((Sp&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=p,o=n):c=c.next=p,wa.lanes|=f,_p|=f}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,ou(n,t.memoizedState)||(Qo=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,wa.lanes|=a,_p|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function hE(e){var t=vc(),r=t.queue;if(r===null)throw Error(Kt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);ou(a,t.memoizedState)||(Qo=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Y$(){}function X$(e,t){var r=wa,n=vc(),i=t(),a=!ou(n.memoizedState,i);if(a&&(n.memoizedState=i,Qo=!0),n=n.queue,iO(Z$.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ys!==null&&ys.memoizedState.tag&1){if(r.flags|=2048,ny(9,Q$.bind(null,r,n,i,t),void 0,null),Cs===null)throw Error(Kt(349));Sp&30||K$(r,t,i)}return i}function K$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=wa.updateQueue,t===null?(t={lastEffect:null,stores:null},wa.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Q$(e,t,r,n){t.value=r,t.getSnapshot=n,J$(t)&&eU(e)}function Z$(e,t,r){return r(function(){J$(t)&&eU(e)})}function J$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ou(e,r)}catch{return!0}}function eU(e){var t=rf(e,1);t!==null&&ru(t,e,1,-1)}function vk(e){var t=Ou();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ry,lastRenderedState:e},t.queue=e,e=e.dispatch=mre.bind(null,wa,e),[t.memoizedState,e]}function ny(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=wa.updateQueue,t===null?(t={lastEffect:null,stores:null},wa.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function tU(){return vc().memoizedState}function $b(e,t,r,n){var i=Ou();wa.flags|=e,i.memoizedState=ny(1|t,r,void 0,n===void 0?null:n)}function I4(e,t,r,n){var i=vc();n=n===void 0?null:n;var a=void 0;if(us!==null){var o=us.memoizedState;if(a=o.destroy,n!==null&&tO(n,o.deps)){i.memoizedState=ny(t,r,a,n);return}}wa.flags|=e,i.memoizedState=ny(1|t,r,a,n)}function yk(e,t){return $b(8390656,8,e,t)}function iO(e,t){return I4(2048,8,e,t)}function rU(e,t){return I4(4,2,e,t)}function nU(e,t){return I4(4,4,e,t)}function iU(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function aU(e,t,r){return r=r!=null?r.concat([e]):null,I4(4,4,iU.bind(null,t,e),r)}function aO(){}function sU(e,t){var r=vc();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&tO(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function oU(e,t){var r=vc();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&tO(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function lU(e,t,r){return Sp&21?(ou(r,t)||(r=h$(),wa.lanes|=r,_p|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qo=!0),e.memoizedState=r)}function hre(e,t){var r=Ei;Ei=r!==0&&4>r?r:4,e(!0);var n=dE.transition;dE.transition={};try{e(!1),t()}finally{Ei=r,dE.transition=n}}function cU(){return vc().memoizedState}function pre(e,t,r){var n=Ph(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},uU(e))dU(t,r);else if(r=H$(e,t,r,n),r!==null){var i=To();ru(r,e,n,i),fU(r,t,n)}}function mre(e,t,r){var n=Ph(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(uU(e))dU(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(i.hasEagerState=!0,i.eagerState=l,ou(l,o)){var c=t.interleaved;c===null?(i.next=i,KT(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=H$(e,t,i,n),r!==null&&(i=To(),ru(r,e,n,i),fU(r,t,n))}}function uU(e){var t=e.alternate;return e===wa||t!==null&&t===wa}function dU(e,t){Sv=SS=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function fU(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,LT(e,r)}}var _S={readContext:xc,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useInsertionEffect:Zs,useLayoutEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useDeferredValue:Zs,useTransition:Zs,useMutableSource:Zs,useSyncExternalStore:Zs,useId:Zs,unstable_isNewReconciler:!1},gre={readContext:xc,useCallback:function(e,t){return Ou().memoizedState=[e,t===void 0?null:t],e},useContext:xc,useEffect:yk,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,$b(4194308,4,iU.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $b(4194308,4,e,t)},useInsertionEffect:function(e,t){return $b(4,2,e,t)},useMemo:function(e,t){var r=Ou();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ou();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=pre.bind(null,wa,e),[n.memoizedState,e]},useRef:function(e){var t=Ou();return e={current:e},t.memoizedState=e},useState:vk,useDebugValue:aO,useDeferredValue:function(e){return Ou().memoizedState=e},useTransition:function(){var e=vk(!1),t=e[0];return e=hre.bind(null,e[1]),Ou().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=wa,i=Ou();if(ca){if(r===void 0)throw Error(Kt(407));r=r()}else{if(r=t(),Cs===null)throw Error(Kt(349));Sp&30||K$(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,yk(Z$.bind(null,n,a,e),[e]),n.flags|=2048,ny(9,Q$.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ou(),t=Cs.identifierPrefix;if(ca){var r=Rd,n=Ld;r=(n&~(1<<32-tu(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ty++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=fre++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xre={readContext:xc,useCallback:sU,useContext:xc,useEffect:iO,useImperativeHandle:aU,useInsertionEffect:rU,useLayoutEffect:nU,useMemo:oU,useReducer:fE,useRef:tU,useState:function(){return fE(ry)},useDebugValue:aO,useDeferredValue:function(e){var t=vc();return lU(t,us.memoizedState,e)},useTransition:function(){var e=fE(ry)[0],t=vc().memoizedState;return[e,t]},useMutableSource:Y$,useSyncExternalStore:X$,useId:cU,unstable_isNewReconciler:!1},vre={readContext:xc,useCallback:sU,useContext:xc,useEffect:iO,useImperativeHandle:aU,useInsertionEffect:rU,useLayoutEffect:nU,useMemo:oU,useReducer:hE,useRef:tU,useState:function(){return hE(ry)},useDebugValue:aO,useDeferredValue:function(e){var t=vc();return us===null?t.memoizedState=e:lU(t,us.memoizedState,e)},useTransition:function(){var e=hE(ry)[0],t=vc().memoizedState;return[e,t]},useMutableSource:Y$,useSyncExternalStore:X$,useId:cU,unstable_isNewReconciler:!1};function Fc(e,t){if(e&&e.defaultProps){t=ba({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function E3(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ba({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var P4={isMounted:function(e){return(e=e._reactInternals)?qp(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=To(),i=Ph(e),a=Vd(n,i);a.payload=t,r!=null&&(a.callback=r),t=Oh(e,a,i),t!==null&&(ru(t,e,i,n),Fb(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=To(),i=Ph(e),a=Vd(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Oh(e,a,i),t!==null&&(ru(t,e,i,n),Fb(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=To(),n=Ph(e),i=Vd(r,n);i.tag=2,t!=null&&(i.callback=t),t=Oh(e,i,n),t!==null&&(ru(t,e,n,r),Fb(t,e,n))}};function wk(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Xv(r,n)||!Xv(i,a):!0}function hU(e,t,r){var n=!1,i=$h,a=t.contextType;return typeof a=="object"&&a!==null?a=xc(a):(i=el(t)?wp:ho.current,n=t.contextTypes,a=(n=n!=null)?Gm(e,i):$h),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=P4,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function bk(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&P4.enqueueReplaceState(t,t.state,null)}function A3(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},QT(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=xc(a):(a=el(t)?wp:ho.current,i.context=Gm(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(E3(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&P4.enqueueReplaceState(i,i.state,null),wS(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Qm(e,t){try{var r="",n=t;do r+=qee(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function pE(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function C3(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var yre=typeof WeakMap=="function"?WeakMap:Map;function pU(e,t,r){r=Vd(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ES||(ES=!0,R3=n),C3(e,t)},r}function mU(e,t,r){r=Vd(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){C3(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){C3(e,t),typeof n!="function"&&(Ih===null?Ih=new Set([this]):Ih.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Sk(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new yre;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=kre.bind(null,e,t,r),t.then(e,e))}function _k(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nk(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Vd(-1,1),t.tag=2,Oh(r,t,1))),r.lanes|=1),e)}var wre=Sf.ReactCurrentOwner,Qo=!1;function bo(e,t,r,n){t.child=e===null?W$(t,null,r,n):Xm(t,e.child,r,n)}function Ek(e,t,r,n,i){r=r.render;var a=t.ref;return um(t,i),n=rO(e,t,r,n,a,i),r=nO(),e!==null&&!Qo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nf(e,t,i)):(ca&&r&&WT(t),t.flags|=1,bo(e,t,n,i),t.child)}function Ak(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!hO(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,gU(e,t,a,n,i)):(e=Wb(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Xv,r(o,n)&&e.ref===t.ref)return nf(e,t,i)}return t.flags|=1,e=kh(a,n),e.ref=t.ref,e.return=t,t.child=e}function gU(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Xv(a,n)&&e.ref===t.ref)if(Qo=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Qo=!0);else return t.lanes=e.lanes,nf(e,t,i)}return j3(e,t,r,n,i)}function xU(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zi(K1,Sl),Sl|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zi(K1,Sl),Sl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,zi(K1,Sl),Sl|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,zi(K1,Sl),Sl|=n;return bo(e,t,i,r),t.child}function vU(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function j3(e,t,r,n,i){var a=el(r)?wp:ho.current;return a=Gm(t,a),um(t,i),r=rO(e,t,r,n,a,i),n=nO(),e!==null&&!Qo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nf(e,t,i)):(ca&&n&&WT(t),t.flags|=1,bo(e,t,r,i),t.child)}function Ck(e,t,r,n,i){if(el(r)){var a=!0;mS(t)}else a=!1;if(um(t,i),t.stateNode===null)Ub(e,t),hU(t,r,n),A3(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=xc(u):(u=el(r)?wp:ho.current,u=Gm(t,u));var f=r.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&bk(t,o,n,u),th=!1;var g=t.memoizedState;o.state=g,wS(t,n,o,i),c=t.memoizedState,l!==n||g!==c||Jo.current||th?(typeof f=="function"&&(E3(t,r,f,n),c=t.memoizedState),(l=th||wk(t,r,l,n,g,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,q$(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Fc(t.type,l),o.props=u,p=t.pendingProps,g=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=xc(c):(c=el(r)?wp:ho.current,c=Gm(t,c));var x=r.getDerivedStateFromProps;(f=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||g!==c)&&bk(t,o,n,c),th=!1,g=t.memoizedState,o.state=g,wS(t,n,o,i);var b=t.memoizedState;l!==p||g!==b||Jo.current||th?(typeof x=="function"&&(E3(t,r,x,n),b=t.memoizedState),(u=th||wk(t,r,u,n,g,b,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return T3(e,t,r,n,a,i)}function T3(e,t,r,n,i,a){vU(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&fk(t,r,!1),nf(e,t,a);n=t.stateNode,wre.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Xm(t,e.child,null,a),t.child=Xm(t,null,l,a)):bo(e,t,l,a),t.memoizedState=n.state,i&&fk(t,r,!0),t.child}function yU(e){var t=e.stateNode;t.pendingContext?dk(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dk(e,t.context,!1),ZT(e,t.containerInfo)}function jk(e,t,r,n,i){return Ym(),qT(i),t.flags|=256,bo(e,t,r,n),t.child}var O3={dehydrated:null,treeContext:null,retryLane:0};function I3(e){return{baseLanes:e,cachePool:null,transitions:null}}function wU(e,t,r){var n=t.pendingProps,i=ya.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),zi(ya,i&1),e===null)return _3(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=D4(o,n,0,null),e=ip(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=I3(r),t.memoizedState=O3,e):sO(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return bre(e,t,o,n,l,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=kh(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=kh(l,a):(a=ip(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?I3(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=O3,n}return a=e.child,e=a.sibling,n=kh(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function sO(e,t){return t=D4({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $w(e,t,r,n){return n!==null&&qT(n),Xm(t,e.child,null,r),e=sO(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bre(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=pE(Error(Kt(422))),$w(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=D4({mode:"visible",children:n.children},i,0,null),a=ip(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Xm(t,e.child,null,o),t.child.memoizedState=I3(o),t.memoizedState=O3,a);if(!(t.mode&1))return $w(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Kt(419)),n=pE(a,n,void 0),$w(e,t,o,n)}if(l=(o&e.childLanes)!==0,Qo||l){if(n=Cs,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,rf(e,i),ru(n,e,i,-1))}return fO(),n=pE(Error(Kt(421))),$w(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Mre.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Il=Th(i.nextSibling),Dl=t,ca=!0,Wc=null,e!==null&&(ac[sc++]=Ld,ac[sc++]=Rd,ac[sc++]=bp,Ld=e.id,Rd=e.overflow,bp=t),t=sO(t,n.children),t.flags|=4096,t)}function Tk(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),N3(e.return,t,r)}function mE(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function bU(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(bo(e,t,n.children,r),n=ya.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tk(e,r,t);else if(e.tag===19)Tk(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(zi(ya,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&bS(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),mE(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bS(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}mE(t,!0,r,null,a);break;case"together":mE(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ub(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nf(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_p|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Kt(153));if(t.child!==null){for(e=t.child,r=kh(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=kh(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Sre(e,t,r){switch(t.tag){case 3:yU(t),Ym();break;case 5:G$(t);break;case 1:el(t.type)&&mS(t);break;case 4:ZT(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;zi(vS,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(zi(ya,ya.current&1),t.flags|=128,null):r&t.child.childLanes?wU(e,t,r):(zi(ya,ya.current&1),e=nf(e,t,r),e!==null?e.sibling:null);zi(ya,ya.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return bU(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),zi(ya,ya.current),n)break;return null;case 22:case 23:return t.lanes=0,xU(e,t,r)}return nf(e,t,r)}var SU,P3,_U,NU;SU=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};P3=function(){};_U=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,W0(Yu.current);var a=null;switch(r){case"input":i=e3(e,i),n=e3(e,n),a=[];break;case"select":i=ba({},i,{value:void 0}),n=ba({},n,{value:void 0}),a=[];break;case"textarea":i=n3(e,i),n=n3(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=hS)}a3(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zv.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zv.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Gi("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};NU=function(e,t,r,n){r!==n&&(t.flags|=4)};function kx(e,t){if(!ca)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Js(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function _re(e,t,r){var n=t.pendingProps;switch(HT(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Js(t),null;case 1:return el(t.type)&&pS(),Js(t),null;case 3:return n=t.stateNode,Km(),Zi(Jo),Zi(ho),eO(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Fw(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wc!==null&&($3(Wc),Wc=null))),P3(e,t),Js(t),null;case 5:JT(t);var i=W0(ey.current);if(r=t.type,e!==null&&t.stateNode!=null)_U(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Kt(166));return Js(t),null}if(e=W0(Yu.current),Fw(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ru]=t,n[Zv]=a,e=(t.mode&1)!==0,r){case"dialog":Gi("cancel",n),Gi("close",n);break;case"iframe":case"object":case"embed":Gi("load",n);break;case"video":case"audio":for(i=0;i<cv.length;i++)Gi(cv[i],n);break;case"source":Gi("error",n);break;case"img":case"image":case"link":Gi("error",n),Gi("load",n);break;case"details":Gi("toggle",n);break;case"input":FP(n,a),Gi("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Gi("invalid",n);break;case"textarea":$P(n,a),Gi("invalid",n)}a3(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Rw(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Rw(n.textContent,l,e),i=["children",""+l]):zv.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Gi("scroll",n)}switch(r){case"input":Tw(n),BP(n,a,!0);break;case"textarea":Tw(n),UP(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=hS)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ZB(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ru]=t,e[Zv]=n,SU(e,t,!1,!1),t.stateNode=e;e:{switch(o=s3(r,n),r){case"dialog":Gi("cancel",e),Gi("close",e),i=n;break;case"iframe":case"object":case"embed":Gi("load",e),i=n;break;case"video":case"audio":for(i=0;i<cv.length;i++)Gi(cv[i],e);i=n;break;case"source":Gi("error",e),i=n;break;case"img":case"image":case"link":Gi("error",e),Gi("load",e),i=n;break;case"details":Gi("toggle",e),i=n;break;case"input":FP(e,n),i=e3(e,n),Gi("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ba({},n,{value:void 0}),Gi("invalid",e);break;case"textarea":$P(e,n),i=n3(e,n),Gi("invalid",e);break;default:i=n}a3(r,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?t$(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&JB(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Vv(e,c):typeof c=="number"&&Vv(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(zv.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Gi("scroll",e):c!=null&&OT(e,a,c,o))}switch(r){case"input":Tw(e),BP(e,n,!1);break;case"textarea":Tw(e),UP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Bh(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?sm(e,!!n.multiple,a,!1):n.defaultValue!=null&&sm(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=hS)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Js(t),null;case 6:if(e&&t.stateNode!=null)NU(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Kt(166));if(r=W0(ey.current),W0(Yu.current),Fw(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ru]=t,(a=n.nodeValue!==r)&&(e=Dl,e!==null))switch(e.tag){case 3:Rw(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rw(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ru]=t,t.stateNode=n}return Js(t),null;case 13:if(Zi(ya),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ca&&Il!==null&&t.mode&1&&!(t.flags&128))z$(),Ym(),t.flags|=98560,a=!1;else if(a=Fw(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Kt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Kt(317));a[Ru]=t}else Ym(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Js(t),a=!1}else Wc!==null&&($3(Wc),Wc=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ya.current&1?fs===0&&(fs=3):fO())),t.updateQueue!==null&&(t.flags|=4),Js(t),null);case 4:return Km(),P3(e,t),e===null&&Kv(t.stateNode.containerInfo),Js(t),null;case 10:return XT(t.type._context),Js(t),null;case 17:return el(t.type)&&pS(),Js(t),null;case 19:if(Zi(ya),a=t.memoizedState,a===null)return Js(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)kx(a,!1);else{if(fs!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=bS(e),o!==null){for(t.flags|=128,kx(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return zi(ya,ya.current&1|2),t.child}e=e.sibling}a.tail!==null&&$a()>Zm&&(t.flags|=128,n=!0,kx(a,!1),t.lanes=4194304)}else{if(!n)if(e=bS(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),kx(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ca)return Js(t),null}else 2*$a()-a.renderingStartTime>Zm&&r!==1073741824&&(t.flags|=128,n=!0,kx(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$a(),t.sibling=null,r=ya.current,zi(ya,n?r&1|2:r&1),t):(Js(t),null);case 22:case 23:return dO(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Sl&1073741824&&(Js(t),t.subtreeFlags&6&&(t.flags|=8192)):Js(t),null;case 24:return null;case 25:return null}throw Error(Kt(156,t.tag))}function Nre(e,t){switch(HT(t),t.tag){case 1:return el(t.type)&&pS(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Km(),Zi(Jo),Zi(ho),eO(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return JT(t),null;case 13:if(Zi(ya),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Kt(340));Ym()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zi(ya),null;case 4:return Km(),null;case 10:return XT(t.type._context),null;case 22:case 23:return dO(),null;case 24:return null;default:return null}}var Uw=!1,so=!1,Ere=typeof WeakSet=="function"?WeakSet:Set,Ar=null;function X1(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Oa(e,t,n)}else r.current=null}function k3(e,t,r){try{r()}catch(n){Oa(e,t,n)}}var Ok=!1;function Are(e,t){if(g3=uS,e=T$(),VT(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,p=e,g=null;t:for(;;){for(var x;p!==r||i!==0&&p.nodeType!==3||(l=o+i),p!==a||n!==0&&p.nodeType!==3||(c=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(x=p.firstChild)!==null;)g=p,p=x;for(;;){if(p===e)break t;if(g===r&&++u===i&&(l=o),g===a&&++f===n&&(c=o),(x=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=x}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(x3={focusedElem:e,selectionRange:r},uS=!1,Ar=t;Ar!==null;)if(t=Ar,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ar=e;else for(;Ar!==null;){t=Ar;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,_=b.memoizedState,N=t.stateNode,E=N.getSnapshotBeforeUpdate(t.elementType===t.type?y:Fc(t.type,y),_);N.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Kt(163))}}catch(I){Oa(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,Ar=e;break}Ar=t.return}return b=Ok,Ok=!1,b}function _v(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&k3(t,r,a)}i=i.next}while(i!==n)}}function k4(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function M3(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function EU(e){var t=e.alternate;t!==null&&(e.alternate=null,EU(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ru],delete t[Zv],delete t[w3],delete t[lre],delete t[cre])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function AU(e){return e.tag===5||e.tag===3||e.tag===4}function Ik(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||AU(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function D3(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=hS));else if(n!==4&&(e=e.child,e!==null))for(D3(e,t,r),e=e.sibling;e!==null;)D3(e,t,r),e=e.sibling}function L3(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(L3(e,t,r),e=e.sibling;e!==null;)L3(e,t,r),e=e.sibling}var Ds=null,Uc=!1;function Wf(e,t,r){for(r=r.child;r!==null;)CU(e,t,r),r=r.sibling}function CU(e,t,r){if(Gu&&typeof Gu.onCommitFiberUnmount=="function")try{Gu.onCommitFiberUnmount(E4,r)}catch{}switch(r.tag){case 5:so||X1(r,t);case 6:var n=Ds,i=Uc;Ds=null,Wf(e,t,r),Ds=n,Uc=i,Ds!==null&&(Uc?(e=Ds,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ds.removeChild(r.stateNode));break;case 18:Ds!==null&&(Uc?(e=Ds,r=r.stateNode,e.nodeType===8?lE(e.parentNode,r):e.nodeType===1&&lE(e,r),Gv(e)):lE(Ds,r.stateNode));break;case 4:n=Ds,i=Uc,Ds=r.stateNode.containerInfo,Uc=!0,Wf(e,t,r),Ds=n,Uc=i;break;case 0:case 11:case 14:case 15:if(!so&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&k3(r,t,o),i=i.next}while(i!==n)}Wf(e,t,r);break;case 1:if(!so&&(X1(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Oa(r,t,l)}Wf(e,t,r);break;case 21:Wf(e,t,r);break;case 22:r.mode&1?(so=(n=so)||r.memoizedState!==null,Wf(e,t,r),so=n):Wf(e,t,r);break;default:Wf(e,t,r)}}function Pk(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ere),t.forEach(function(n){var i=Dre.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ic(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ds=l.stateNode,Uc=!1;break e;case 3:Ds=l.stateNode.containerInfo,Uc=!0;break e;case 4:Ds=l.stateNode.containerInfo,Uc=!0;break e}l=l.return}if(Ds===null)throw Error(Kt(160));CU(a,o,i),Ds=null,Uc=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Oa(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jU(t,e),t=t.sibling}function jU(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ic(t,e),Au(e),n&4){try{_v(3,e,e.return),k4(3,e)}catch(y){Oa(e,e.return,y)}try{_v(5,e,e.return)}catch(y){Oa(e,e.return,y)}}break;case 1:Ic(t,e),Au(e),n&512&&r!==null&&X1(r,r.return);break;case 5:if(Ic(t,e),Au(e),n&512&&r!==null&&X1(r,r.return),e.flags&32){var i=e.stateNode;try{Vv(i,"")}catch(y){Oa(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&KB(i,a),s3(l,o);var u=s3(l,a);for(o=0;o<c.length;o+=2){var f=c[o],p=c[o+1];f==="style"?t$(i,p):f==="dangerouslySetInnerHTML"?JB(i,p):f==="children"?Vv(i,p):OT(i,f,p,u)}switch(l){case"input":t3(i,a);break;case"textarea":QB(i,a);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?sm(i,!!a.multiple,x,!1):g!==!!a.multiple&&(a.defaultValue!=null?sm(i,!!a.multiple,a.defaultValue,!0):sm(i,!!a.multiple,a.multiple?[]:"",!1))}i[Zv]=a}catch(y){Oa(e,e.return,y)}}break;case 6:if(Ic(t,e),Au(e),n&4){if(e.stateNode===null)throw Error(Kt(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){Oa(e,e.return,y)}}break;case 3:if(Ic(t,e),Au(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gv(t.containerInfo)}catch(y){Oa(e,e.return,y)}break;case 4:Ic(t,e),Au(e);break;case 13:Ic(t,e),Au(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(cO=$a())),n&4&&Pk(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(so=(u=so)||f,Ic(t,e),so=u):Ic(t,e),Au(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Ar=e,f=e.child;f!==null;){for(p=Ar=f;Ar!==null;){switch(g=Ar,x=g.child,g.tag){case 0:case 11:case 14:case 15:_v(4,g,g.return);break;case 1:X1(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(y){Oa(n,r,y)}}break;case 5:X1(g,g.return);break;case 22:if(g.memoizedState!==null){Mk(p);continue}}x!==null?(x.return=g,Ar=x):Mk(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=e$("display",o))}catch(y){Oa(e,e.return,y)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(y){Oa(e,e.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ic(t,e),Au(e),n&4&&Pk(e);break;case 21:break;default:Ic(t,e),Au(e)}}function Au(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(AU(r)){var n=r;break e}r=r.return}throw Error(Kt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Vv(i,""),n.flags&=-33);var a=Ik(e);L3(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Ik(e);D3(e,l,o);break;default:throw Error(Kt(161))}}catch(c){Oa(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cre(e,t,r){Ar=e,TU(e)}function TU(e,t,r){for(var n=(e.mode&1)!==0;Ar!==null;){var i=Ar,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Uw;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||so;l=Uw;var u=so;if(Uw=o,(so=c)&&!u)for(Ar=i;Ar!==null;)o=Ar,c=o.child,o.tag===22&&o.memoizedState!==null?Dk(i):c!==null?(c.return=o,Ar=c):Dk(i);for(;a!==null;)Ar=a,TU(a),a=a.sibling;Ar=i,Uw=l,so=u}kk(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Ar=a):kk(e)}}function kk(e){for(;Ar!==null;){var t=Ar;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:so||k4(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!so)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Fc(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&xk(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}xk(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Gv(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Kt(163))}so||t.flags&512&&M3(t)}catch(g){Oa(t,t.return,g)}}if(t===e){Ar=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ar=r;break}Ar=t.return}}function Mk(e){for(;Ar!==null;){var t=Ar;if(t===e){Ar=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ar=r;break}Ar=t.return}}function Dk(e){for(;Ar!==null;){var t=Ar;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{k4(4,t)}catch(c){Oa(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Oa(t,i,c)}}var a=t.return;try{M3(t)}catch(c){Oa(t,a,c)}break;case 5:var o=t.return;try{M3(t)}catch(c){Oa(t,o,c)}}}catch(c){Oa(t,t.return,c)}if(t===e){Ar=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Ar=l;break}Ar=t.return}}var jre=Math.ceil,NS=Sf.ReactCurrentDispatcher,oO=Sf.ReactCurrentOwner,pc=Sf.ReactCurrentBatchConfig,Qn=0,Cs=null,Ja=null,zs=0,Sl=0,K1=n0(0),fs=0,iy=null,_p=0,M4=0,lO=0,Nv=null,Xo=null,cO=0,Zm=1/0,Pd=null,ES=!1,R3=null,Ih=null,zw=!1,wh=null,AS=0,Ev=0,F3=null,zb=-1,Vb=0;function To(){return Qn&6?$a():zb!==-1?zb:zb=$a()}function Ph(e){return e.mode&1?Qn&2&&zs!==0?zs&-zs:dre.transition!==null?(Vb===0&&(Vb=h$()),Vb):(e=Ei,e!==0||(e=window.event,e=e===void 0?16:w$(e.type)),e):1}function ru(e,t,r,n){if(50<Ev)throw Ev=0,F3=null,Error(Kt(185));N2(e,r,n),(!(Qn&2)||e!==Cs)&&(e===Cs&&(!(Qn&2)&&(M4|=r),fs===4&&ih(e,zs)),tl(e,n),r===1&&Qn===0&&!(t.mode&1)&&(Zm=$a()+500,O4&&i0()))}function tl(e,t){var r=e.callbackNode;dte(e,t);var n=cS(e,e===Cs?zs:0);if(n===0)r!==null&&WP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&WP(r),t===1)e.tag===0?ure(Lk.bind(null,e)):B$(Lk.bind(null,e)),sre(function(){!(Qn&6)&&i0()}),r=null;else{switch(p$(n)){case 1:r=DT;break;case 4:r=d$;break;case 16:r=lS;break;case 536870912:r=f$;break;default:r=lS}r=RU(r,OU.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function OU(e,t){if(zb=-1,Vb=0,Qn&6)throw Error(Kt(327));var r=e.callbackNode;if(dm()&&e.callbackNode!==r)return null;var n=cS(e,e===Cs?zs:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=CS(e,n);else{t=n;var i=Qn;Qn|=2;var a=PU();(Cs!==e||zs!==t)&&(Pd=null,Zm=$a()+500,np(e,t));do try{Ire();break}catch(l){IU(e,l)}while(!0);YT(),NS.current=a,Qn=i,Ja!==null?t=0:(Cs=null,zs=0,t=fs)}if(t!==0){if(t===2&&(i=d3(e),i!==0&&(n=i,t=B3(e,i))),t===1)throw r=iy,np(e,0),ih(e,n),tl(e,$a()),r;if(t===6)ih(e,n);else{if(i=e.current.alternate,!(n&30)&&!Tre(i)&&(t=CS(e,n),t===2&&(a=d3(e),a!==0&&(n=a,t=B3(e,a))),t===1))throw r=iy,np(e,0),ih(e,n),tl(e,$a()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Kt(345));case 2:k0(e,Xo,Pd);break;case 3:if(ih(e,n),(n&130023424)===n&&(t=cO+500-$a(),10<t)){if(cS(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){To(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=y3(k0.bind(null,e,Xo,Pd),t);break}k0(e,Xo,Pd);break;case 4:if(ih(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-tu(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=$a()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jre(n/1960))-n,10<n){e.timeoutHandle=y3(k0.bind(null,e,Xo,Pd),n);break}k0(e,Xo,Pd);break;case 5:k0(e,Xo,Pd);break;default:throw Error(Kt(329))}}}return tl(e,$a()),e.callbackNode===r?OU.bind(null,e):null}function B3(e,t){var r=Nv;return e.current.memoizedState.isDehydrated&&(np(e,t).flags|=256),e=CS(e,t),e!==2&&(t=Xo,Xo=r,t!==null&&$3(t)),e}function $3(e){Xo===null?Xo=e:Xo.push.apply(Xo,e)}function Tre(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!ou(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ih(e,t){for(t&=~lO,t&=~M4,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-tu(t),n=1<<r;e[r]=-1,t&=~n}}function Lk(e){if(Qn&6)throw Error(Kt(327));dm();var t=cS(e,0);if(!(t&1))return tl(e,$a()),null;var r=CS(e,t);if(e.tag!==0&&r===2){var n=d3(e);n!==0&&(t=n,r=B3(e,n))}if(r===1)throw r=iy,np(e,0),ih(e,t),tl(e,$a()),r;if(r===6)throw Error(Kt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,k0(e,Xo,Pd),tl(e,$a()),null}function uO(e,t){var r=Qn;Qn|=1;try{return e(t)}finally{Qn=r,Qn===0&&(Zm=$a()+500,O4&&i0())}}function Np(e){wh!==null&&wh.tag===0&&!(Qn&6)&&dm();var t=Qn;Qn|=1;var r=pc.transition,n=Ei;try{if(pc.transition=null,Ei=1,e)return e()}finally{Ei=n,pc.transition=r,Qn=t,!(Qn&6)&&i0()}}function dO(){Sl=K1.current,Zi(K1)}function np(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,are(r)),Ja!==null)for(r=Ja.return;r!==null;){var n=r;switch(HT(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&pS();break;case 3:Km(),Zi(Jo),Zi(ho),eO();break;case 5:JT(n);break;case 4:Km();break;case 13:Zi(ya);break;case 19:Zi(ya);break;case 10:XT(n.type._context);break;case 22:case 23:dO()}r=r.return}if(Cs=e,Ja=e=kh(e.current,null),zs=Sl=t,fs=0,iy=null,lO=M4=_p=0,Xo=Nv=null,V0!==null){for(t=0;t<V0.length;t++)if(r=V0[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}V0=null}return e}function IU(e,t){do{var r=Ja;try{if(YT(),Bb.current=_S,SS){for(var n=wa.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}SS=!1}if(Sp=0,ys=us=wa=null,Sv=!1,ty=0,oO.current=null,r===null||r.return===null){fs=1,iy=t,Ja=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=zs,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var x=_k(o);if(x!==null){x.flags&=-257,Nk(x,o,l,a,t),x.mode&1&&Sk(a,u,t),t=x,c=u;var b=t.updateQueue;if(b===null){var y=new Set;y.add(c),t.updateQueue=y}else b.add(c);break e}else{if(!(t&1)){Sk(a,u,t),fO();break e}c=Error(Kt(426))}}else if(ca&&l.mode&1){var _=_k(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Nk(_,o,l,a,t),qT(Qm(c,l));break e}}a=c=Qm(c,l),fs!==4&&(fs=2),Nv===null?Nv=[a]:Nv.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var N=pU(a,c,t);gk(a,N);break e;case 1:l=c;var E=a.type,C=a.stateNode;if(!(a.flags&128)&&(typeof E.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ih===null||!Ih.has(C)))){a.flags|=65536,t&=-t,a.lanes|=t;var I=mU(a,l,t);gk(a,I);break e}}a=a.return}while(a!==null)}MU(r)}catch(P){t=P,Ja===r&&r!==null&&(Ja=r=r.return);continue}break}while(!0)}function PU(){var e=NS.current;return NS.current=_S,e===null?_S:e}function fO(){(fs===0||fs===3||fs===2)&&(fs=4),Cs===null||!(_p&268435455)&&!(M4&268435455)||ih(Cs,zs)}function CS(e,t){var r=Qn;Qn|=2;var n=PU();(Cs!==e||zs!==t)&&(Pd=null,np(e,t));do try{Ore();break}catch(i){IU(e,i)}while(!0);if(YT(),Qn=r,NS.current=n,Ja!==null)throw Error(Kt(261));return Cs=null,zs=0,fs}function Ore(){for(;Ja!==null;)kU(Ja)}function Ire(){for(;Ja!==null&&!rte();)kU(Ja)}function kU(e){var t=LU(e.alternate,e,Sl);e.memoizedProps=e.pendingProps,t===null?MU(e):Ja=t,oO.current=null}function MU(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Nre(r,t),r!==null){r.flags&=32767,Ja=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fs=6,Ja=null;return}}else if(r=_re(r,t,Sl),r!==null){Ja=r;return}if(t=t.sibling,t!==null){Ja=t;return}Ja=t=e}while(t!==null);fs===0&&(fs=5)}function k0(e,t,r){var n=Ei,i=pc.transition;try{pc.transition=null,Ei=1,Pre(e,t,r,n)}finally{pc.transition=i,Ei=n}return null}function Pre(e,t,r,n){do dm();while(wh!==null);if(Qn&6)throw Error(Kt(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Kt(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(fte(e,a),e===Cs&&(Ja=Cs=null,zs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zw||(zw=!0,RU(lS,function(){return dm(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=pc.transition,pc.transition=null;var o=Ei;Ei=1;var l=Qn;Qn|=4,oO.current=null,Are(e,r),jU(r,e),Zte(x3),uS=!!g3,x3=g3=null,e.current=r,Cre(r),nte(),Qn=l,Ei=o,pc.transition=a}else e.current=r;if(zw&&(zw=!1,wh=e,AS=i),a=e.pendingLanes,a===0&&(Ih=null),ste(r.stateNode),tl(e,$a()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ES)throw ES=!1,e=R3,R3=null,e;return AS&1&&e.tag!==0&&dm(),a=e.pendingLanes,a&1?e===F3?Ev++:(Ev=0,F3=e):Ev=0,i0(),null}function dm(){if(wh!==null){var e=p$(AS),t=pc.transition,r=Ei;try{if(pc.transition=null,Ei=16>e?16:e,wh===null)var n=!1;else{if(e=wh,wh=null,AS=0,Qn&6)throw Error(Kt(331));var i=Qn;for(Qn|=4,Ar=e.current;Ar!==null;){var a=Ar,o=a.child;if(Ar.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ar=u;Ar!==null;){var f=Ar;switch(f.tag){case 0:case 11:case 15:_v(8,f,a)}var p=f.child;if(p!==null)p.return=f,Ar=p;else for(;Ar!==null;){f=Ar;var g=f.sibling,x=f.return;if(EU(f),f===u){Ar=null;break}if(g!==null){g.return=x,Ar=g;break}Ar=x}}}var b=a.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}Ar=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ar=o;else e:for(;Ar!==null;){if(a=Ar,a.flags&2048)switch(a.tag){case 0:case 11:case 15:_v(9,a,a.return)}var N=a.sibling;if(N!==null){N.return=a.return,Ar=N;break e}Ar=a.return}}var E=e.current;for(Ar=E;Ar!==null;){o=Ar;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,Ar=C;else e:for(o=E;Ar!==null;){if(l=Ar,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:k4(9,l)}}catch(P){Oa(l,l.return,P)}if(l===o){Ar=null;break e}var I=l.sibling;if(I!==null){I.return=l.return,Ar=I;break e}Ar=l.return}}if(Qn=i,i0(),Gu&&typeof Gu.onPostCommitFiberRoot=="function")try{Gu.onPostCommitFiberRoot(E4,e)}catch{}n=!0}return n}finally{Ei=r,pc.transition=t}}return!1}function Rk(e,t,r){t=Qm(r,t),t=pU(e,t,1),e=Oh(e,t,1),t=To(),e!==null&&(N2(e,1,t),tl(e,t))}function Oa(e,t,r){if(e.tag===3)Rk(e,e,r);else for(;t!==null;){if(t.tag===3){Rk(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ih===null||!Ih.has(n))){e=Qm(r,e),e=mU(t,e,1),t=Oh(t,e,1),e=To(),t!==null&&(N2(t,1,e),tl(t,e));break}}t=t.return}}function kre(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=To(),e.pingedLanes|=e.suspendedLanes&r,Cs===e&&(zs&r)===r&&(fs===4||fs===3&&(zs&130023424)===zs&&500>$a()-cO?np(e,0):lO|=r),tl(e,t)}function DU(e,t){t===0&&(e.mode&1?(t=Pw,Pw<<=1,!(Pw&130023424)&&(Pw=4194304)):t=1);var r=To();e=rf(e,t),e!==null&&(N2(e,t,r),tl(e,r))}function Mre(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),DU(e,r)}function Dre(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Kt(314))}n!==null&&n.delete(t),DU(e,r)}var LU;LU=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jo.current)Qo=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Qo=!1,Sre(e,t,r);Qo=!!(e.flags&131072)}else Qo=!1,ca&&t.flags&1048576&&$$(t,xS,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ub(e,t),e=t.pendingProps;var i=Gm(t,ho.current);um(t,r),i=rO(null,t,n,e,i,r);var a=nO();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,el(n)?(a=!0,mS(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,QT(t),i.updater=P4,t.stateNode=i,i._reactInternals=t,A3(t,n,e,r),t=T3(null,t,n,!0,a,r)):(t.tag=0,ca&&a&&WT(t),bo(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ub(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Rre(n),e=Fc(n,e),i){case 0:t=j3(null,t,n,e,r);break e;case 1:t=Ck(null,t,n,e,r);break e;case 11:t=Ek(null,t,n,e,r);break e;case 14:t=Ak(null,t,n,Fc(n.type,e),r);break e}throw Error(Kt(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Fc(n,i),j3(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Fc(n,i),Ck(e,t,n,i,r);case 3:e:{if(yU(t),e===null)throw Error(Kt(387));n=t.pendingProps,a=t.memoizedState,i=a.element,q$(e,t),wS(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Qm(Error(Kt(423)),t),t=jk(e,t,n,r,i);break e}else if(n!==i){i=Qm(Error(Kt(424)),t),t=jk(e,t,n,r,i);break e}else for(Il=Th(t.stateNode.containerInfo.firstChild),Dl=t,ca=!0,Wc=null,r=W$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ym(),n===i){t=nf(e,t,r);break e}bo(e,t,n,r)}t=t.child}return t;case 5:return G$(t),e===null&&_3(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,v3(n,i)?o=null:a!==null&&v3(n,a)&&(t.flags|=32),vU(e,t),bo(e,t,o,r),t.child;case 6:return e===null&&_3(t),null;case 13:return wU(e,t,r);case 4:return ZT(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Xm(t,null,n,r):bo(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Fc(n,i),Ek(e,t,n,i,r);case 7:return bo(e,t,t.pendingProps,r),t.child;case 8:return bo(e,t,t.pendingProps.children,r),t.child;case 12:return bo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,zi(vS,n._currentValue),n._currentValue=o,a!==null)if(ou(a.value,o)){if(a.children===i.children&&!Jo.current){t=nf(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Vd(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),N3(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Kt(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),N3(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}bo(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,um(t,r),i=xc(i),n=n(i),t.flags|=1,bo(e,t,n,r),t.child;case 14:return n=t.type,i=Fc(n,t.pendingProps),i=Fc(n.type,i),Ak(e,t,n,i,r);case 15:return gU(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Fc(n,i),Ub(e,t),t.tag=1,el(n)?(e=!0,mS(t)):e=!1,um(t,r),hU(t,n,i),A3(t,n,i,r),T3(null,t,n,!0,e,r);case 19:return bU(e,t,r);case 22:return xU(e,t,r)}throw Error(Kt(156,t.tag))};function RU(e,t){return u$(e,t)}function Lre(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lc(e,t,r,n){return new Lre(e,t,r,n)}function hO(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rre(e){if(typeof e=="function")return hO(e)?1:0;if(e!=null){if(e=e.$$typeof,e===PT)return 11;if(e===kT)return 14}return 2}function kh(e,t){var r=e.alternate;return r===null?(r=lc(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Wb(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")hO(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case $1:return ip(r.children,i,a,t);case IT:o=8,i|=8;break;case KA:return e=lc(12,r,t,i|2),e.elementType=KA,e.lanes=a,e;case QA:return e=lc(13,r,t,i),e.elementType=QA,e.lanes=a,e;case ZA:return e=lc(19,r,t,i),e.elementType=ZA,e.lanes=a,e;case GB:return D4(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case HB:o=10;break e;case qB:o=9;break e;case PT:o=11;break e;case kT:o=14;break e;case eh:o=16,n=null;break e}throw Error(Kt(130,e==null?e:typeof e,""))}return t=lc(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function ip(e,t,r,n){return e=lc(7,e,n,t),e.lanes=r,e}function D4(e,t,r,n){return e=lc(22,e,n,t),e.elementType=GB,e.lanes=r,e.stateNode={isHidden:!1},e}function gE(e,t,r){return e=lc(6,e,null,t),e.lanes=r,e}function xE(e,t,r){return t=lc(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fre(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=QN(0),this.expirationTimes=QN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=QN(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pO(e,t,r,n,i,a,o,l,c){return e=new Fre(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=lc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},QT(a),e}function Bre(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B1,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function FU(e){if(!e)return $h;e=e._reactInternals;e:{if(qp(e)!==e||e.tag!==1)throw Error(Kt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(el(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Kt(171))}if(e.tag===1){var r=e.type;if(el(r))return F$(e,r,t)}return t}function BU(e,t,r,n,i,a,o,l,c){return e=pO(r,n,!0,e,i,a,o,l,c),e.context=FU(null),r=e.current,n=To(),i=Ph(r),a=Vd(n,i),a.callback=t??null,Oh(r,a,i),e.current.lanes=i,N2(e,i,n),tl(e,n),e}function L4(e,t,r,n){var i=t.current,a=To(),o=Ph(i);return r=FU(r),t.context===null?t.context=r:t.pendingContext=r,t=Vd(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Oh(i,t,o),e!==null&&(ru(e,i,o,a),Fb(e,i,o)),o}function jS(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function mO(e,t){Fk(e,t),(e=e.alternate)&&Fk(e,t)}function $re(){return null}var $U=typeof reportError=="function"?reportError:function(e){console.error(e)};function gO(e){this._internalRoot=e}R4.prototype.render=gO.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Kt(409));L4(e,t,null,null)};R4.prototype.unmount=gO.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Np(function(){L4(null,e,null,null)}),t[tf]=null}};function R4(e){this._internalRoot=e}R4.prototype.unstable_scheduleHydration=function(e){if(e){var t=x$();e={blockedOn:null,target:e,priority:t};for(var r=0;r<nh.length&&t!==0&&t<nh[r].priority;r++);nh.splice(r,0,e),r===0&&y$(e)}};function xO(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function F4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Bk(){}function Ure(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=jS(o);a.call(u)}}var o=BU(t,n,e,0,null,!1,!1,"",Bk);return e._reactRootContainer=o,e[tf]=o.current,Kv(e.nodeType===8?e.parentNode:e),Np(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=jS(c);l.call(u)}}var c=pO(e,0,!1,null,null,!1,!1,"",Bk);return e._reactRootContainer=c,e[tf]=c.current,Kv(e.nodeType===8?e.parentNode:e),Np(function(){L4(t,c,r,n)}),c}function B4(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=jS(o);l.call(c)}}L4(t,o,e,i)}else o=Ure(r,t,e,i,n);return jS(o)}m$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=lv(t.pendingLanes);r!==0&&(LT(t,r|1),tl(t,$a()),!(Qn&6)&&(Zm=$a()+500,i0()))}break;case 13:Np(function(){var n=rf(e,1);if(n!==null){var i=To();ru(n,e,1,i)}}),mO(e,1)}};RT=function(e){if(e.tag===13){var t=rf(e,134217728);if(t!==null){var r=To();ru(t,e,134217728,r)}mO(e,134217728)}};g$=function(e){if(e.tag===13){var t=Ph(e),r=rf(e,t);if(r!==null){var n=To();ru(r,e,t,n)}mO(e,t)}};x$=function(){return Ei};v$=function(e,t){var r=Ei;try{return Ei=e,t()}finally{Ei=r}};l3=function(e,t,r){switch(t){case"input":if(t3(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=T4(n);if(!i)throw Error(Kt(90));XB(n),t3(n,i)}}}break;case"textarea":QB(e,r);break;case"select":t=r.value,t!=null&&sm(e,!!r.multiple,t,!1)}};i$=uO;a$=Np;var zre={usingClientEntryPoint:!1,Events:[A2,W1,T4,r$,n$,uO]},Mx={findFiberByHostInstance:z0,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vre={bundleType:Mx.bundleType,version:Mx.version,rendererPackageName:Mx.rendererPackageName,rendererConfig:Mx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sf.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=l$(e),e===null?null:e.stateNode},findFiberByHostInstance:Mx.findFiberByHostInstance||$re,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vw.isDisabled&&Vw.supportsFiber)try{E4=Vw.inject(Vre),Gu=Vw}catch{}}Ul.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zre;Ul.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xO(t))throw Error(Kt(200));return Bre(e,t,null,r)};Ul.createRoot=function(e,t){if(!xO(e))throw Error(Kt(299));var r=!1,n="",i=$U;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=pO(e,1,!1,null,null,r,!1,n,i),e[tf]=t.current,Kv(e.nodeType===8?e.parentNode:e),new gO(t)};Ul.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Kt(188)):(e=Object.keys(e).join(","),Error(Kt(268,e)));return e=l$(t),e=e===null?null:e.stateNode,e};Ul.flushSync=function(e){return Np(e)};Ul.hydrate=function(e,t,r){if(!F4(t))throw Error(Kt(200));return B4(null,e,t,!0,r)};Ul.hydrateRoot=function(e,t,r){if(!xO(e))throw Error(Kt(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=$U;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=BU(t,null,e,1,r??null,i,!1,a,o),e[tf]=t.current,Kv(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new R4(t)};Ul.render=function(e,t,r){if(!F4(t))throw Error(Kt(200));return B4(null,e,t,!1,r)};Ul.unmountComponentAtNode=function(e){if(!F4(e))throw Error(Kt(40));return e._reactRootContainer?(Np(function(){B4(null,null,e,!1,function(){e._reactRootContainer=null,e[tf]=null})}),!0):!1};Ul.unstable_batchedUpdates=uO;Ul.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!F4(r))throw Error(Kt(200));if(e==null||e._reactInternals===void 0)throw Error(Kt(38));return B4(e,t,r,!1,n)};Ul.version="18.3.1-next-f1338f8080-20240426";function UU(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UU)}catch(e){console.error(e)}}UU(),UB.exports=Ul;var Gp=UB.exports;const Wre=Zn(Gp);var $k=Gp;YA.createRoot=$k.createRoot,YA.hydrateRoot=$k.hydrateRoot;function Hre(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,i,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)r=i[0],r==="*"?(o.push(r),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~n?n:~a?a:i.length)),l+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~n?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var zU={exports:{}},VU={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm=O;function qre(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gre=typeof Object.is=="function"?Object.is:qre,Yre=Jm.useState,Xre=Jm.useEffect,Kre=Jm.useLayoutEffect,Qre=Jm.useDebugValue;function Zre(e,t){var r=t(),n=Yre({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Kre(function(){i.value=r,i.getSnapshot=t,vE(i)&&a({inst:i})},[e,r,t]),Xre(function(){return vE(i)&&a({inst:i}),e(function(){vE(i)&&a({inst:i})})},[e]),Qre(r),r}function vE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gre(e,r)}catch{return!0}}function Jre(e,t){return t()}var ene=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Jre:Zre;VU.useSyncExternalStore=Jm.useSyncExternalStore!==void 0?Jm.useSyncExternalStore:ene;zU.exports=VU;var tne=zU.exports;const rne=BB.useInsertionEffect,nne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WU=nne?O.useLayoutEffect:O.useEffect,ine=rne||WU,vO=e=>{const t=O.useRef([e,(...r)=>t[0](...r)]).current;return ine(()=>{t[0]=e}),t[1]},ane="popstate",yO="pushState",wO="replaceState",sne="hashchange",Uk=[ane,yO,wO,sne],one=e=>{for(const t of Uk)addEventListener(t,e);return()=>{for(const t of Uk)removeEventListener(t,e)}},HU=(e,t)=>tne.useSyncExternalStore(one,e,t),lne=()=>location.search,cne=({ssrSearch:e=""}={})=>HU(lne,()=>e),zk=()=>location.pathname,une=({ssrPath:e}={})=>HU(zk,e?()=>e:zk),dne=(e,{replace:t=!1,state:r=null}={})=>history[t?wO:yO](r,"",e),fne=(e={})=>[une(e),dne],Vk=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Vk]>"u"){for(const e of[yO,wO]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,Vk,{value:!0})}const hne=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",qU=(e="")=>e==="/"?"":e,pne=(e,t)=>e[0]==="~"?e.slice(1):qU(t)+e,mne=(e="",t)=>hne(Wk(qU(e)),Wk(t)),Wk=e=>{try{return decodeURI(e)}catch{return e}},GU={hook:fne,searchHook:cne,parser:Hre,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},YU=O.createContext(GU),zg=()=>O.useContext(YU),XU={},KU=O.createContext(XU),gne=()=>O.useContext(KU),$4=e=>{const[t,r]=e.hook(e);return[mne(e.base,t),vO((n,i)=>r(pne(n,e.base),i))]},cd=()=>$4(zg()),QU=(e,t,r,n)=>{const{pattern:i,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=i.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((p,g)=>[p,c[g]])):o.groups;let f={...c};return u&&Object.assign(f,u),f})(),...n?[l]:[]]:[!1,null]},xne=({children:e,...t})=>{var f,p;const r=zg(),n=t.hook?GU:r;let i=n;const[a,o]=((f=t.ssrPath)==null?void 0:f.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((p=t.hook)==null?void 0:p.hrefs);let l=O.useRef({}),c=l.current,u=c;for(let g in n){const x=g==="base"?n[g]+(t[g]||""):t[g]||n[g];c===u&&x!==u[g]&&(l.current=u={...u}),u[g]=x,x!==n[g]&&(i=u)}return O.createElement(YU.Provider,{value:i,children:e})},Hk=({children:e,component:t},r)=>t?O.createElement(t,{params:r}):typeof e=="function"?e(r):e,vne=e=>{let t=O.useRef(XU),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},wl=({path:e,nest:t,match:r,...n})=>{const i=zg(),[a]=$4(i),[o,l,c]=r??QU(i.parser,e,a,t),u=vne({...gne(),...l});if(!o)return null;const f=c?O.createElement(xne,{base:c},Hk(n,u)):Hk(n,u);return O.createElement(KU.Provider,{value:u,children:f})},la=O.forwardRef((e,t)=>{const r=zg(),[n,i]=$4(r),{to:a="",href:o=a,onClick:l,asChild:c,children:u,className:f,replace:p,state:g,...x}=e,b=vO(_=>{_.ctrlKey||_.metaKey||_.altKey||_.shiftKey||_.button!==0||(l==null||l(_),_.defaultPrevented||(_.preventDefault(),i(o,e)))}),y=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&O.isValidElement(u)?O.cloneElement(u,{onClick:b,href:y}):O.createElement("a",{...x,onClick:b,href:y,className:f!=null&&f.call?f(n===o):f,children:u,ref:t})}),ZU=e=>Array.isArray(e)?e.flatMap(t=>ZU(t&&t.type===O.Fragment?t.props.children:t)):[e],yE=({children:e,location:t})=>{const r=zg(),[n]=$4(r);for(const i of ZU(e)){let a=0;if(O.isValidElement(i)&&(a=QU(r.parser,i.props.path,t||n,i.props.nest))[0])return O.cloneElement(i,{match:a})}return null},TS=e=>{const{to:t,href:r=t}=e,[,n]=cd(),i=vO(()=>n(t||r,e));return WU(()=>{i()},[]),null};var Vg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ep=typeof window>"u"||"Deno"in globalThis;function rc(){}function yne(e,t){return typeof e=="function"?e(t):e}function U3(e){return typeof e=="number"&&e>=0&&e!==1/0}function JU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function fm(e,t){return typeof e=="function"?e(t):e}function Hc(e,t){return typeof e=="function"?e(t):e}function qk(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==bO(o,t.options))return!1}else if(!ay(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function Gk(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Ap(t.options.mutationKey)!==Ap(a))return!1}else if(!ay(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function bO(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ap)(e)}function Ap(e){return JSON.stringify(e,(t,r)=>z3(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function ay(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!ay(e[r],t[r])):!1}function ez(e,t){if(e===t)return e;const r=Yk(e)&&Yk(t);if(r||z3(e)&&z3(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),o=a.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const f=r?u:a[u];(!r&&n.includes(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=ez(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return i===o&&c===i?e:l}return t}function OS(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Yk(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function z3(e){if(!Xk(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Xk(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Xk(e){return Object.prototype.toString.call(e)==="[object Object]"}function wne(e){return new Promise(t=>{setTimeout(t,e)})}function V3(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?ez(e,t):t}function bne(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Sne(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var SO=Symbol();function tz(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===SO?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var K0,uh,km,vB,_ne=(vB=class extends Vg{constructor(){super();Xr(this,K0);Xr(this,uh);Xr(this,km);wr(this,km,t=>{if(!Ep&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Ze(this,uh)||this.setEventListener(Ze(this,km))}onUnsubscribe(){var t;this.hasListeners()||((t=Ze(this,uh))==null||t.call(this),wr(this,uh,void 0))}setEventListener(t){var r;wr(this,km,t),(r=Ze(this,uh))==null||r.call(this),wr(this,uh,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){Ze(this,K0)!==t&&(wr(this,K0,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof Ze(this,K0)=="boolean"?Ze(this,K0):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},K0=new WeakMap,uh=new WeakMap,km=new WeakMap,vB),_O=new _ne,Mm,dh,Dm,yB,Nne=(yB=class extends Vg{constructor(){super();Xr(this,Mm,!0);Xr(this,dh);Xr(this,Dm);wr(this,Dm,t=>{if(!Ep&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Ze(this,dh)||this.setEventListener(Ze(this,Dm))}onUnsubscribe(){var t;this.hasListeners()||((t=Ze(this,dh))==null||t.call(this),wr(this,dh,void 0))}setEventListener(t){var r;wr(this,Dm,t),(r=Ze(this,dh))==null||r.call(this),wr(this,dh,t(this.setOnline.bind(this)))}setOnline(t){Ze(this,Mm)!==t&&(wr(this,Mm,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return Ze(this,Mm)}},Mm=new WeakMap,dh=new WeakMap,Dm=new WeakMap,yB),IS=new Nne;function W3(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function Ene(e){return Math.min(1e3*2**e,3e4)}function rz(e){return(e??"online")==="online"?IS.isOnline():!0}var nz=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function wE(e){return e instanceof nz}function iz(e){let t=!1,r=0,n=!1,i;const a=W3(),o=y=>{var _;n||(g(new nz(y)),(_=e.abort)==null||_.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>_O.isFocused()&&(e.networkMode==="always"||IS.isOnline())&&e.canRun(),f=()=>rz(e.networkMode)&&e.canRun(),p=y=>{var _;n||(n=!0,(_=e.onSuccess)==null||_.call(e,y),i==null||i(),a.resolve(y))},g=y=>{var _;n||(n=!0,(_=e.onError)==null||_.call(e,y),i==null||i(),a.reject(y))},x=()=>new Promise(y=>{var _;i=N=>{(n||u())&&y(N)},(_=e.onPause)==null||_.call(e)}).then(()=>{var y;i=void 0,n||(y=e.onContinue)==null||y.call(e)}),b=()=>{if(n)return;let y;const _=r===0?e.initialPromise:void 0;try{y=_??e.fn()}catch(N){y=Promise.reject(N)}Promise.resolve(y).then(p).catch(N=>{var D;if(n)return;const E=e.retry??(Ep?0:3),C=e.retryDelay??Ene,I=typeof C=="function"?C(r,N):C,P=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,N);if(t||!P){g(N);return}r++,(D=e.onFail)==null||D.call(e,r,N),wne(I).then(()=>u()?void 0:x()).then(()=>{t?g(N):b()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?b():x().then(b),a)}}function Ane(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{t?e.push(l):i(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var ds=Ane(),Q0,wB,az=(wB=class{constructor(){Xr(this,Q0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),U3(this.gcTime)&&wr(this,Q0,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ep?1/0:5*60*1e3))}clearGcTimeout(){Ze(this,Q0)&&(clearTimeout(Ze(this,Q0)),wr(this,Q0,void 0))}},Q0=new WeakMap,wB),Lm,Rm,tc,io,y2,Z0,$c,Od,bB,Cne=(bB=class extends az{constructor(t){super();Xr(this,$c);Xr(this,Lm);Xr(this,Rm);Xr(this,tc);Xr(this,io);Xr(this,y2);Xr(this,Z0);wr(this,Z0,!1),wr(this,y2,t.defaultOptions),this.setOptions(t.options),this.observers=[],wr(this,tc,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,wr(this,Lm,jne(this.options)),this.state=t.state??Ze(this,Lm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Ze(this,io))==null?void 0:t.promise}setOptions(t){this.options={...Ze(this,y2),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ze(this,tc).remove(this)}setData(t,r){const n=V3(this.state.data,t,this.options);return Cn(this,$c,Od).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Cn(this,$c,Od).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=Ze(this,io))==null?void 0:n.promise;return(i=Ze(this,io))==null||i.cancel(t),r?r.then(rc).catch(rc):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ze(this,Lm))}isActive(){return this.observers.some(t=>Hc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===SO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!JU(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=Ze(this,io))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=Ze(this,io))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Ze(this,tc).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(Ze(this,io)&&(Ze(this,Z0)?Ze(this,io).cancel({revert:!0}):Ze(this,io).cancelRetry()),this.scheduleGc()),Ze(this,tc).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Cn(this,$c,Od).call(this,{type:"invalidate"})}fetch(t,r){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Ze(this,io))return Ze(this,io).continueRetry(),Ze(this,io).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(g=>g.options.queryFn);p&&this.setOptions(p.options)}const n=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(wr(this,Z0,!0),n.signal)})},a=()=>{const p=tz(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return i(g),wr(this,Z0,!1),this.options.persister?this.options.persister(p,g,this):p(g)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),wr(this,Rm,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Cn(this,$c,Od).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const l=p=>{var g,x,b,y;wE(p)&&p.silent||Cn(this,$c,Od).call(this,{type:"error",error:p}),wE(p)||((x=(g=Ze(this,tc).config).onError)==null||x.call(g,p,this),(y=(b=Ze(this,tc).config).onSettled)==null||y.call(b,this.state.data,p,this)),this.scheduleGc()};return wr(this,io,iz({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:p=>{var g,x,b,y;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(_){l(_);return}(x=(g=Ze(this,tc).config).onSuccess)==null||x.call(g,p,this),(y=(b=Ze(this,tc).config).onSettled)==null||y.call(b,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,g)=>{Cn(this,$c,Od).call(this,{type:"failed",failureCount:p,error:g})},onPause:()=>{Cn(this,$c,Od).call(this,{type:"pause"})},onContinue:()=>{Cn(this,$c,Od).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Ze(this,io).start()}},Lm=new WeakMap,Rm=new WeakMap,tc=new WeakMap,io=new WeakMap,y2=new WeakMap,Z0=new WeakMap,$c=new WeakSet,Od=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...sz(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return wE(i)&&i.revert&&Ze(this,Rm)?{...Ze(this,Rm),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ds.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),Ze(this,tc).notify({query:this,type:"updated",action:t})})},bB);function sz(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rz(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jne(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ku,SB,Tne=(SB=class extends Vg{constructor(t={}){super();Xr(this,ku);this.config=t,wr(this,ku,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??bO(i,r);let o=this.get(a);return o||(o=new Cne({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){Ze(this,ku).has(t.queryHash)||(Ze(this,ku).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=Ze(this,ku).get(t.queryHash);r&&(t.destroy(),r===t&&Ze(this,ku).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ds.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Ze(this,ku).get(t)}getAll(){return[...Ze(this,ku).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>qk(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>qk(t,n)):r}notify(t){ds.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ds.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ds.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ku=new WeakMap,SB),Mu,yo,J0,Du,Zf,_B,One=(_B=class extends az{constructor(t){super();Xr(this,Du);Xr(this,Mu);Xr(this,yo);Xr(this,J0);this.mutationId=t.mutationId,wr(this,yo,t.mutationCache),wr(this,Mu,[]),this.state=t.state||oz(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Ze(this,Mu).includes(t)||(Ze(this,Mu).push(t),this.clearGcTimeout(),Ze(this,yo).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){wr(this,Mu,Ze(this,Mu).filter(r=>r!==t)),this.scheduleGc(),Ze(this,yo).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Ze(this,Mu).length||(this.state.status==="pending"?this.scheduleGc():Ze(this,yo).remove(this))}continue(){var t;return((t=Ze(this,J0))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,l,c,u,f,p,g,x,b,y,_,N,E,C,I,P,D,k;wr(this,J0,iz({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(L,B)=>{Cn(this,Du,Zf).call(this,{type:"failed",failureCount:L,error:B})},onPause:()=>{Cn(this,Du,Zf).call(this,{type:"pause"})},onContinue:()=>{Cn(this,Du,Zf).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ze(this,yo).canRun(this)}));const r=this.state.status==="pending",n=!Ze(this,J0).canStart();try{if(!r){Cn(this,Du,Zf).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(i=Ze(this,yo).config).onMutate)==null?void 0:a.call(i,t,this));const B=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));B!==this.state.context&&Cn(this,Du,Zf).call(this,{type:"pending",context:B,variables:t,isPaused:n})}const L=await Ze(this,J0).start();return await((u=(c=Ze(this,yo).config).onSuccess)==null?void 0:u.call(c,L,t,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,L,t,this.state.context)),await((x=(g=Ze(this,yo).config).onSettled)==null?void 0:x.call(g,L,null,this.state.variables,this.state.context,this)),await((y=(b=this.options).onSettled)==null?void 0:y.call(b,L,null,t,this.state.context)),Cn(this,Du,Zf).call(this,{type:"success",data:L}),L}catch(L){try{throw await((N=(_=Ze(this,yo).config).onError)==null?void 0:N.call(_,L,t,this.state.context,this)),await((C=(E=this.options).onError)==null?void 0:C.call(E,L,t,this.state.context)),await((P=(I=Ze(this,yo).config).onSettled)==null?void 0:P.call(I,void 0,L,this.state.variables,this.state.context,this)),await((k=(D=this.options).onSettled)==null?void 0:k.call(D,void 0,L,t,this.state.context)),L}finally{Cn(this,Du,Zf).call(this,{type:"error",error:L})}}finally{Ze(this,yo).runNext(this)}}},Mu=new WeakMap,yo=new WeakMap,J0=new WeakMap,Du=new WeakSet,Zf=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ds.batch(()=>{Ze(this,Mu).forEach(n=>{n.onMutationUpdate(t)}),Ze(this,yo).notify({mutation:this,type:"updated",action:t})})},_B);function oz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yl,w2,NB,Ine=(NB=class extends Vg{constructor(t={}){super();Xr(this,yl);Xr(this,w2);this.config=t,wr(this,yl,new Map),wr(this,w2,Date.now())}build(t,r,n){const i=new One({mutationCache:this,mutationId:++Aw(this,w2)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){const r=Ww(t),n=Ze(this,yl).get(r)??[];n.push(t),Ze(this,yl).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Ww(t);if(Ze(this,yl).has(r)){const i=(n=Ze(this,yl).get(r))==null?void 0:n.filter(a=>a!==t);i&&(i.length===0?Ze(this,yl).delete(r):Ze(this,yl).set(r,i))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=Ze(this,yl).get(Ww(t)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=Ze(this,yl).get(Ww(t)))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ds.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Ze(this,yl).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Gk(r,n))}findAll(t={}){return this.getAll().filter(r=>Gk(t,r))}notify(t){ds.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ds.batch(()=>Promise.all(t.map(r=>r.continue().catch(rc))))}},yl=new WeakMap,w2=new WeakMap,NB);function Ww(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Kk(e){return{onFetch:(t,r)=>{var f,p,g,x,b;const n=t.options,i=(g=(p=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:g.direction,a=((x=t.state.data)==null?void 0:x.pages)||[],o=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const _=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},N=tz(t.options,t.fetchOptions),E=async(C,I,P)=>{if(y)return Promise.reject();if(I==null&&C.pages.length)return Promise.resolve(C);const D={queryKey:t.queryKey,pageParam:I,direction:P?"backward":"forward",meta:t.options.meta};_(D);const k=await N(D),{maxPages:L}=t.options,B=P?Sne:bne;return{pages:B(C.pages,k,L),pageParams:B(C.pageParams,I,L)}};if(i&&a.length){const C=i==="backward",I=C?Pne:Qk,P={pages:a,pageParams:o},D=I(n,P);l=await E(P,D,C)}else{const C=e??a.length;do{const I=c===0?o[0]??n.initialPageParam:Qk(n,l);if(c>0&&I==null)break;l=await E(l,I),c++}while(c<C)}return l};t.options.persister?t.fetchFn=()=>{var y,_;return(_=(y=t.options).persister)==null?void 0:_.call(y,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Qk(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Pne(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ca,fh,hh,Fm,Bm,ph,$m,Um,EB,kne=(EB=class{constructor(e={}){Xr(this,Ca);Xr(this,fh);Xr(this,hh);Xr(this,Fm);Xr(this,Bm);Xr(this,ph);Xr(this,$m);Xr(this,Um);wr(this,Ca,e.queryCache||new Tne),wr(this,fh,e.mutationCache||new Ine),wr(this,hh,e.defaultOptions||{}),wr(this,Fm,new Map),wr(this,Bm,new Map),wr(this,ph,0)}mount(){Aw(this,ph)._++,Ze(this,ph)===1&&(wr(this,$m,_O.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ze(this,Ca).onFocus())})),wr(this,Um,IS.subscribe(async e=>{e&&(await this.resumePausedMutations(),Ze(this,Ca).onOnline())})))}unmount(){var e,t;Aw(this,ph)._--,Ze(this,ph)===0&&((e=Ze(this,$m))==null||e.call(this),wr(this,$m,void 0),(t=Ze(this,Um))==null||t.call(this),wr(this,Um,void 0))}isFetching(e){return Ze(this,Ca).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Ze(this,fh).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ze(this,Ca).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=Ze(this,Ca).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(fm(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return Ze(this,Ca).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=Ze(this,Ca).get(n.queryHash),a=i==null?void 0:i.state.data,o=yne(t,a);if(o!==void 0)return Ze(this,Ca).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ds.batch(()=>Ze(this,Ca).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=Ze(this,Ca).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=Ze(this,Ca);ds.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=Ze(this,Ca),n={type:"active",...e};return ds.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=ds.batch(()=>Ze(this,Ca).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(rc).catch(rc)}invalidateQueries(e={},t={}){return ds.batch(()=>{if(Ze(this,Ca).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=ds.batch(()=>Ze(this,Ca).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(rc)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(rc)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=Ze(this,Ca).build(this,t);return r.isStaleByTime(fm(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(rc).catch(rc)}fetchInfiniteQuery(e){return e.behavior=Kk(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(rc).catch(rc)}ensureInfiniteQueryData(e){return e.behavior=Kk(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return IS.isOnline()?Ze(this,fh).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ze(this,Ca)}getMutationCache(){return Ze(this,fh)}getDefaultOptions(){return Ze(this,hh)}setDefaultOptions(e){wr(this,hh,e)}setQueryDefaults(e,t){Ze(this,Fm).set(Ap(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Ze(this,Fm).values()];let r={};return t.forEach(n=>{ay(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){Ze(this,Bm).set(Ap(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Ze(this,Bm).values()];let r={};return t.forEach(n=>{ay(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Ze(this,hh).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=bO(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===SO&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Ze(this,hh).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Ze(this,Ca).clear(),Ze(this,fh).clear()}},Ca=new WeakMap,fh=new WeakMap,hh=new WeakMap,Fm=new WeakMap,Bm=new WeakMap,ph=new WeakMap,$m=new WeakMap,Um=new WeakMap,EB),Ho,Hn,b2,wo,ep,zm,mh,Lu,S2,Vm,Wm,tp,rp,gh,Hm,fi,uv,H3,q3,G3,Y3,X3,K3,Q3,lz,AB,Mne=(AB=class extends Vg{constructor(t,r){super();Xr(this,fi);Xr(this,Ho);Xr(this,Hn);Xr(this,b2);Xr(this,wo);Xr(this,ep);Xr(this,zm);Xr(this,mh);Xr(this,Lu);Xr(this,S2);Xr(this,Vm);Xr(this,Wm);Xr(this,tp);Xr(this,rp);Xr(this,gh);Xr(this,Hm,new Set);this.options=r,wr(this,Ho,t),wr(this,Lu,null),wr(this,mh,W3()),this.options.experimental_prefetchInRender||Ze(this,mh).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Ze(this,Hn).addObserver(this),Zk(Ze(this,Hn),this.options)?Cn(this,fi,uv).call(this):this.updateResult(),Cn(this,fi,Y3).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Z3(Ze(this,Hn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Z3(Ze(this,Hn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Cn(this,fi,X3).call(this),Cn(this,fi,K3).call(this),Ze(this,Hn).removeObserver(this)}setOptions(t,r){const n=this.options,i=Ze(this,Hn);if(this.options=Ze(this,Ho).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Hc(this.options.enabled,Ze(this,Hn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Cn(this,fi,Q3).call(this),Ze(this,Hn).setOptions(this.options),n._defaulted&&!OS(this.options,n)&&Ze(this,Ho).getQueryCache().notify({type:"observerOptionsUpdated",query:Ze(this,Hn),observer:this});const a=this.hasListeners();a&&Jk(Ze(this,Hn),i,this.options,n)&&Cn(this,fi,uv).call(this),this.updateResult(r),a&&(Ze(this,Hn)!==i||Hc(this.options.enabled,Ze(this,Hn))!==Hc(n.enabled,Ze(this,Hn))||fm(this.options.staleTime,Ze(this,Hn))!==fm(n.staleTime,Ze(this,Hn)))&&Cn(this,fi,H3).call(this);const o=Cn(this,fi,q3).call(this);a&&(Ze(this,Hn)!==i||Hc(this.options.enabled,Ze(this,Hn))!==Hc(n.enabled,Ze(this,Hn))||o!==Ze(this,gh))&&Cn(this,fi,G3).call(this,o)}getOptimisticResult(t){const r=Ze(this,Ho).getQueryCache().build(Ze(this,Ho),t),n=this.createResult(r,t);return Lne(this,n)&&(wr(this,wo,n),wr(this,zm,this.options),wr(this,ep,Ze(this,Hn).state)),n}getCurrentResult(){return Ze(this,wo)}trackResult(t,r){const n={};return Object.keys(t).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),t[i])})}),n}trackProp(t){Ze(this,Hm).add(t)}getCurrentQuery(){return Ze(this,Hn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=Ze(this,Ho).defaultQueryOptions(t),n=Ze(this,Ho).getQueryCache().build(Ze(this,Ho),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Cn(this,fi,uv).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Ze(this,wo)))}createResult(t,r){var L;const n=Ze(this,Hn),i=this.options,a=Ze(this,wo),o=Ze(this,ep),l=Ze(this,zm),u=t!==n?t.state:Ze(this,b2),{state:f}=t;let p={...f},g=!1,x;if(r._optimisticResults){const B=this.hasListeners(),G=!B&&Zk(t,r),F=B&&Jk(t,n,r,i);(G||F)&&(p={...p,...sz(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:b,errorUpdatedAt:y,status:_}=p;if(r.select&&p.data!==void 0)if(a&&p.data===(o==null?void 0:o.data)&&r.select===Ze(this,S2))x=Ze(this,Vm);else try{wr(this,S2,r.select),x=r.select(p.data),x=V3(a==null?void 0:a.data,x,r),wr(this,Vm,x),wr(this,Lu,null)}catch(B){wr(this,Lu,B)}else x=p.data;if(r.placeholderData!==void 0&&x===void 0&&_==="pending"){let B;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))B=a.data;else if(B=typeof r.placeholderData=="function"?r.placeholderData((L=Ze(this,Wm))==null?void 0:L.state.data,Ze(this,Wm)):r.placeholderData,r.select&&B!==void 0)try{B=r.select(B),wr(this,Lu,null)}catch(G){wr(this,Lu,G)}B!==void 0&&(_="success",x=V3(a==null?void 0:a.data,B,r),g=!0)}Ze(this,Lu)&&(b=Ze(this,Lu),x=Ze(this,Vm),y=Date.now(),_="error");const N=p.fetchStatus==="fetching",E=_==="pending",C=_==="error",I=E&&N,P=x!==void 0,k={status:_,fetchStatus:p.fetchStatus,isPending:E,isSuccess:_==="success",isError:C,isInitialLoading:I,isLoading:I,data:x,dataUpdatedAt:p.dataUpdatedAt,error:b,errorUpdatedAt:y,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:N,isRefetching:N&&!E,isLoadingError:C&&!P,isPaused:p.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:C&&P,isStale:NO(t,r),refetch:this.refetch,promise:Ze(this,mh)};if(this.options.experimental_prefetchInRender){const B=U=>{k.status==="error"?U.reject(k.error):k.data!==void 0&&U.resolve(k.data)},G=()=>{const U=wr(this,mh,k.promise=W3());B(U)},F=Ze(this,mh);switch(F.status){case"pending":t.queryHash===n.queryHash&&B(F);break;case"fulfilled":(k.status==="error"||k.data!==F.value)&&G();break;case"rejected":(k.status!=="error"||k.error!==F.reason)&&G();break}}return k}updateResult(t){const r=Ze(this,wo),n=this.createResult(Ze(this,Hn),this.options);if(wr(this,ep,Ze(this,Hn).state),wr(this,zm,this.options),Ze(this,ep).data!==void 0&&wr(this,Wm,Ze(this,Hn)),OS(n,r))return;wr(this,wo,n);const i={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!Ze(this,Hm).size)return!0;const c=new Set(l??Ze(this,Hm));return this.options.throwOnError&&c.add("error"),Object.keys(Ze(this,wo)).some(u=>{const f=u;return Ze(this,wo)[f]!==r[f]&&c.has(f)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),Cn(this,fi,lz).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Cn(this,fi,Y3).call(this)}},Ho=new WeakMap,Hn=new WeakMap,b2=new WeakMap,wo=new WeakMap,ep=new WeakMap,zm=new WeakMap,mh=new WeakMap,Lu=new WeakMap,S2=new WeakMap,Vm=new WeakMap,Wm=new WeakMap,tp=new WeakMap,rp=new WeakMap,gh=new WeakMap,Hm=new WeakMap,fi=new WeakSet,uv=function(t){Cn(this,fi,Q3).call(this);let r=Ze(this,Hn).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(rc)),r},H3=function(){Cn(this,fi,X3).call(this);const t=fm(this.options.staleTime,Ze(this,Hn));if(Ep||Ze(this,wo).isStale||!U3(t))return;const n=JU(Ze(this,wo).dataUpdatedAt,t)+1;wr(this,tp,setTimeout(()=>{Ze(this,wo).isStale||this.updateResult()},n))},q3=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Ze(this,Hn)):this.options.refetchInterval)??!1},G3=function(t){Cn(this,fi,K3).call(this),wr(this,gh,t),!(Ep||Hc(this.options.enabled,Ze(this,Hn))===!1||!U3(Ze(this,gh))||Ze(this,gh)===0)&&wr(this,rp,setInterval(()=>{(this.options.refetchIntervalInBackground||_O.isFocused())&&Cn(this,fi,uv).call(this)},Ze(this,gh)))},Y3=function(){Cn(this,fi,H3).call(this),Cn(this,fi,G3).call(this,Cn(this,fi,q3).call(this))},X3=function(){Ze(this,tp)&&(clearTimeout(Ze(this,tp)),wr(this,tp,void 0))},K3=function(){Ze(this,rp)&&(clearInterval(Ze(this,rp)),wr(this,rp,void 0))},Q3=function(){const t=Ze(this,Ho).getQueryCache().build(Ze(this,Ho),this.options);if(t===Ze(this,Hn))return;const r=Ze(this,Hn);wr(this,Hn,t),wr(this,b2,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},lz=function(t){ds.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(Ze(this,wo))}),Ze(this,Ho).getQueryCache().notify({query:Ze(this,Hn),type:"observerResultsUpdated"})})},AB);function Dne(e,t){return Hc(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Zk(e,t){return Dne(e,t)||e.state.data!==void 0&&Z3(e,t,t.refetchOnMount)}function Z3(e,t,r){if(Hc(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&NO(e,t)}return!1}function Jk(e,t,r,n){return(e!==t||Hc(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&NO(e,r)}function NO(e,t){return Hc(t.enabled,e)!==!1&&e.isStaleByTime(fm(t.staleTime,e))}function Lne(e,t){return!OS(e.getCurrentResult(),t)}var xh,vh,qo,Md,Jd,Hb,J3,CB,Rne=(CB=class extends Vg{constructor(r,n){super();Xr(this,Jd);Xr(this,xh);Xr(this,vh);Xr(this,qo);Xr(this,Md);wr(this,xh,r),this.setOptions(n),this.bindMethods(),Cn(this,Jd,Hb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=Ze(this,xh).defaultMutationOptions(r),OS(this.options,n)||Ze(this,xh).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Ze(this,qo),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ap(n.mutationKey)!==Ap(this.options.mutationKey)?this.reset():((i=Ze(this,qo))==null?void 0:i.state.status)==="pending"&&Ze(this,qo).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=Ze(this,qo))==null||r.removeObserver(this)}onMutationUpdate(r){Cn(this,Jd,Hb).call(this),Cn(this,Jd,J3).call(this,r)}getCurrentResult(){return Ze(this,vh)}reset(){var r;(r=Ze(this,qo))==null||r.removeObserver(this),wr(this,qo,void 0),Cn(this,Jd,Hb).call(this),Cn(this,Jd,J3).call(this)}mutate(r,n){var i;return wr(this,Md,n),(i=Ze(this,qo))==null||i.removeObserver(this),wr(this,qo,Ze(this,xh).getMutationCache().build(Ze(this,xh),this.options)),Ze(this,qo).addObserver(this),Ze(this,qo).execute(r)}},xh=new WeakMap,vh=new WeakMap,qo=new WeakMap,Md=new WeakMap,Jd=new WeakSet,Hb=function(){var n;const r=((n=Ze(this,qo))==null?void 0:n.state)??oz();wr(this,vh,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},J3=function(r){ds.batch(()=>{var n,i,a,o,l,c,u,f;if(Ze(this,Md)&&this.hasListeners()){const p=Ze(this,vh).variables,g=Ze(this,vh).context;(r==null?void 0:r.type)==="success"?((i=(n=Ze(this,Md)).onSuccess)==null||i.call(n,r.data,p,g),(o=(a=Ze(this,Md)).onSettled)==null||o.call(a,r.data,null,p,g)):(r==null?void 0:r.type)==="error"&&((c=(l=Ze(this,Md)).onError)==null||c.call(l,r.error,p,g),(f=(u=Ze(this,Md)).onSettled)==null||f.call(u,void 0,r.error,p,g))}this.listeners.forEach(p=>{p(Ze(this,vh))})})},CB),cz=O.createContext(void 0),Yp=e=>{const t=O.useContext(cz);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Fne=({client:e,children:t})=>(O.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(cz.Provider,{value:e,children:t})),uz=O.createContext(!1),Bne=()=>O.useContext(uz);uz.Provider;function $ne(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Une=O.createContext($ne()),zne=()=>O.useContext(Une);function dz(e,t){return typeof e=="function"?e(...t):!!e}function eC(){}var Vne=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Wne=e=>{O.useEffect(()=>{e.clearReset()},[e])},Hne=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&dz(r,[e.error,n]),qne=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Gne=(e,t)=>e.isLoading&&e.isFetching&&!t,Yne=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,eM=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Xne(e,t,r){var f,p,g,x,b;const n=Yp(),i=Bne(),a=zne(),o=n.defaultQueryOptions(e);(p=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,o),o._optimisticResults=i?"isRestoring":"optimistic",qne(o),Vne(o,a),Wne(a);const l=!n.getQueryCache().get(o.queryHash),[c]=O.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(O.useSyncExternalStore(O.useCallback(y=>{const _=i?eC:c.subscribe(ds.batchCalls(y));return c.updateResult(),_},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),O.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Yne(o,u))throw eM(o,c,a);if(Hne({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((x=(g=n.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||x.call(g,o,u),o.experimental_prefetchInRender&&!Ep&&Gne(u,i)){const y=l?eM(o,c,a):(b=n.getQueryCache().get(o.queryHash))==null?void 0:b.promise;y==null||y.catch(eC).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Er(e,t){return Xne(e,Mne)}function Sr(e,t){const r=Yp(),[n]=O.useState(()=>new Rne(r,e));O.useEffect(()=>{n.setOptions(e)},[n,e]);const i=O.useSyncExternalStore(O.useCallback(o=>n.subscribe(ds.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=O.useCallback((o,l)=>{n.mutate(o,l).catch(eC)},[n]);if(i.error&&dz(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}let EO=!1;function Q1(e){EO=e}async function Kne(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function nn(e,t,r){console.log(`Making API request: ${e} ${t}`);try{const n=await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include",cache:"no-cache"});if(console.log(`API response status: ${n.status}`),!n.ok){const i=await n.text();throw console.error(`API error: ${n.status}`,i),new Error(`${n.status}: ${i||n.statusText}`)}return n}catch(n){throw EO?new Error("Navigation in progress"):(console.error("API request failed:",n),n)}}const bh=({on401:e})=>async({queryKey:t})=>{try{const r=await fetch(t[0],{credentials:"include",cache:"no-cache"});return e==="returnNull"&&r.status===401?null:(await Kne(r),await r.json())}catch(r){throw EO?new Error("Navigation in progress"):r}},ur=new kne({defaultOptions:{queries:{queryFn:bh({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!0,staleTime:30*1e3,retry:1,gcTime:1e3*60*5,networkMode:"always"},mutations:{retry:!1}}}),Qne=1,Zne=1e6;let bE=0;function Jne(){return bE=(bE+1)%Number.MAX_SAFE_INTEGER,bE.toString()}const SE=new Map,tM=e=>{if(SE.has(e))return;const t=setTimeout(()=>{SE.delete(e),Av({type:"REMOVE_TOAST",toastId:e})},Zne);SE.set(e,t)},eie=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Qne)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?tM(r):e.toasts.forEach(n=>{tM(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},qb=[];let Gb={toasts:[]};function Av(e){Gb=eie(Gb,e),qb.forEach(t=>{t(Gb)})}function gi({...e}){const t=Jne(),r=i=>Av({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>Av({type:"DISMISS_TOAST",toastId:t});return Av({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function ea(){const[e,t]=O.useState(Gb);return O.useEffect(()=>(qb.push(t),()=>{const r=qb.indexOf(t);r>-1&&qb.splice(r,1)}),[e]),{...e,toast:gi,dismiss:r=>Av({type:"DISMISS_TOAST",toastId:r})}}function Nr(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function tie(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function fz(...e){return t=>e.forEach(r=>tie(r,t))}function kn(...e){return O.useCallback(fz(...e),e)}function rie(e,t=[]){let r=[];function n(a,o){const l=O.createContext(o),c=r.length;r=[...r,o];function u(p){const{scope:g,children:x,...b}=p,y=(g==null?void 0:g[e][c])||l,_=O.useMemo(()=>b,Object.values(b));return s.jsx(y.Provider,{value:_,children:x})}function f(p,g){const x=(g==null?void 0:g[e][c])||l,b=O.useContext(x);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,f]}const i=()=>{const a=r.map(o=>O.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return O.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,nie(i,...t)]}function nie(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const p=c(a)[`__scope${u}`];return{...l,...p}},{});return O.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var af=O.forwardRef((e,t)=>{const{children:r,...n}=e,i=O.Children.toArray(r),a=i.find(iie);if(a){const o=a.props.children,l=i.map(c=>c===a?O.Children.count(o)>1?O.Children.only(null):O.isValidElement(o)?o.props.children:null:c);return s.jsx(tC,{...n,ref:t,children:O.isValidElement(o)?O.cloneElement(o,void 0,l):null})}return s.jsx(tC,{...n,ref:t,children:r})});af.displayName="Slot";var tC=O.forwardRef((e,t)=>{const{children:r,...n}=e;if(O.isValidElement(r)){const i=sie(r);return O.cloneElement(r,{...aie(n,r.props),ref:t?fz(t,i):i})}return O.Children.count(r)>1?O.Children.only(null):null});tC.displayName="SlotClone";var AO=({children:e})=>s.jsx(s.Fragment,{children:e});function iie(e){return O.isValidElement(e)&&e.type===AO}function aie(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{a(...l),i(...l)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function sie(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function CO(e){const t=e+"CollectionProvider",[r,n]=rie(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:b,children:y}=x,_=qe.useRef(null),N=qe.useRef(new Map).current;return s.jsx(i,{scope:b,itemMap:N,collectionRef:_,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=qe.forwardRef((x,b)=>{const{scope:y,children:_}=x,N=a(l,y),E=kn(b,N.collectionRef);return s.jsx(af,{ref:E,children:_})});c.displayName=l;const u=e+"CollectionItemSlot",f="data-radix-collection-item",p=qe.forwardRef((x,b)=>{const{scope:y,children:_,...N}=x,E=qe.useRef(null),C=kn(b,E),I=a(u,y);return qe.useEffect(()=>(I.itemMap.set(E,{ref:E,...N}),()=>void I.itemMap.delete(E))),s.jsx(af,{[f]:"",ref:C,children:_})});p.displayName=u;function g(x){const b=a(e+"CollectionConsumer",x);return qe.useCallback(()=>{const _=b.collectionRef.current;if(!_)return[];const N=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((I,P)=>N.indexOf(I.ref.current)-N.indexOf(P.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},g,n]}function oie(e,t){const r=O.createContext(t),n=a=>{const{children:o,...l}=a,c=O.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function i(a){const o=O.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function pu(e,t=[]){let r=[];function n(a,o){const l=O.createContext(o),c=r.length;r=[...r,o];const u=p=>{var N;const{scope:g,children:x,...b}=p,y=((N=g==null?void 0:g[e])==null?void 0:N[c])||l,_=O.useMemo(()=>b,Object.values(b));return s.jsx(y.Provider,{value:_,children:x})};u.displayName=a+"Provider";function f(p,g){var y;const x=((y=g==null?void 0:g[e])==null?void 0:y[c])||l,b=O.useContext(x);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[u,f]}const i=()=>{const a=r.map(o=>O.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return O.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,lie(i,...t)]}function lie(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const p=c(a)[`__scope${u}`];return{...l,...p}},{});return O.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var cie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Wr=cie.reduce((e,t)=>{const r=O.forwardRef((n,i)=>{const{asChild:a,...o}=n,l=a?af:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(l,{...o,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function hz(e,t){e&&Gp.flushSync(()=>e.dispatchEvent(t))}function Wa(e){const t=O.useRef(e);return O.useEffect(()=>{t.current=e}),O.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function uie(e,t=globalThis==null?void 0:globalThis.document){const r=Wa(e);O.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var die="DismissableLayer",rC="dismissableLayer.update",fie="dismissableLayer.pointerDownOutside",hie="dismissableLayer.focusOutside",rM,pz=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wg=O.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=O.useContext(pz),[f,p]=O.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=O.useState({}),b=kn(t,k=>p(k)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),N=y.indexOf(_),E=f?y.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,I=E>=N,P=mie(k=>{const L=k.target,B=[...u.branches].some(G=>G.contains(L));!I||B||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},g),D=gie(k=>{const L=k.target;[...u.branches].some(G=>G.contains(L))||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},g);return uie(k=>{E===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},g),O.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(rM=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),nM(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=rM)}},[f,g,r,u]),O.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),nM())},[f,u]),O.useEffect(()=>{const k=()=>x({});return document.addEventListener(rC,k),()=>document.removeEventListener(rC,k)},[]),s.jsx(Wr.div,{...c,ref:b,style:{pointerEvents:C?I?"auto":"none":void 0,...e.style},onFocusCapture:Nr(e.onFocusCapture,D.onFocusCapture),onBlurCapture:Nr(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Nr(e.onPointerDownCapture,P.onPointerDownCapture)})});Wg.displayName=die;var pie="DismissableLayerBranch",mz=O.forwardRef((e,t)=>{const r=O.useContext(pz),n=O.useRef(null),i=kn(t,n);return O.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(Wr.div,{...e,ref:i})});mz.displayName=pie;function mie(e,t=globalThis==null?void 0:globalThis.document){const r=Wa(e),n=O.useRef(!1),i=O.useRef(()=>{});return O.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){gz(fie,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function gie(e,t=globalThis==null?void 0:globalThis.document){const r=Wa(e),n=O.useRef(!1);return O.useEffect(()=>{const i=a=>{a.target&&!n.current&&gz(hie,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function nM(){const e=new CustomEvent(rC);document.dispatchEvent(e)}function gz(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?hz(i,a):i.dispatchEvent(a)}var xie=Wg,vie=mz,js=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{},yie="Portal",j2=O.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[i,a]=O.useState(!1);js(()=>a(!0),[]);const o=r||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Wre.createPortal(s.jsx(Wr.div,{...n,ref:t}),o):null});j2.displayName=yie;function wie(e,t){return O.useReducer((r,n)=>t[r][n]??r,e)}var Do=e=>{const{present:t,children:r}=e,n=bie(t),i=typeof r=="function"?r({present:n.isPresent}):O.Children.only(r),a=kn(n.ref,Sie(i));return typeof r=="function"||n.isPresent?O.cloneElement(i,{ref:a}):null};Do.displayName="Presence";function bie(e){const[t,r]=O.useState(),n=O.useRef({}),i=O.useRef(e),a=O.useRef("none"),o=e?"mounted":"unmounted",[l,c]=wie(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const u=Hw(n.current);a.current=l==="mounted"?u:"none"},[l]),js(()=>{const u=n.current,f=i.current;if(f!==e){const g=a.current,x=Hw(u);e?c("MOUNT"):x==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&g!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),js(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,p=x=>{const y=Hw(n.current).includes(x.animationName);if(x.target===t&&y&&(c("ANIMATION_END"),!i.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},g=x=>{x.target===t&&(a.current=Hw(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:O.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Hw(e){return(e==null?void 0:e.animationName)||"none"}function Sie(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function lu({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=_ie({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:n,l=Wa(r),c=O.useCallback(u=>{if(a){const p=typeof u=="function"?u(e):u;p!==e&&l(p)}else i(u)},[a,e,i,l]);return[o,c]}function _ie({defaultProp:e,onChange:t}){const r=O.useState(e),[n]=r,i=O.useRef(n),a=Wa(t);return O.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var Nie="VisuallyHidden",T2=O.forwardRef((e,t)=>s.jsx(Wr.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));T2.displayName=Nie;var Eie=T2,jO="ToastProvider",[TO,Aie,Cie]=CO("Toast"),[xz,VXe]=pu("Toast",[Cie]),[jie,U4]=xz(jO),vz=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=O.useState(null),[u,f]=O.useState(0),p=O.useRef(!1),g=O.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${jO}\`. Expected non-empty \`string\`.`),s.jsx(TO.Provider,{scope:t,children:s.jsx(jie,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:O.useCallback(()=>f(x=>x+1),[]),onToastRemove:O.useCallback(()=>f(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:g,children:o})})};vz.displayName=jO;var yz="ToastViewport",Tie=["F8"],nC="toast.viewportPause",iC="toast.viewportResume",wz=O.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=Tie,label:i="Notifications ({hotkey})",...a}=e,o=U4(yz,r),l=Aie(r),c=O.useRef(null),u=O.useRef(null),f=O.useRef(null),p=O.useRef(null),g=kn(t,p,o.onViewportChange),x=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;O.useEffect(()=>{const _=N=>{var C;n.length!==0&&n.every(I=>N[I]||N.code===I)&&((C=p.current)==null||C.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[n]),O.useEffect(()=>{const _=c.current,N=p.current;if(b&&_&&N){const E=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(nC);N.dispatchEvent(D),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(iC);N.dispatchEvent(D),o.isClosePausedRef.current=!1}},I=D=>{!_.contains(D.relatedTarget)&&C()},P=()=>{_.contains(document.activeElement)||C()};return _.addEventListener("focusin",E),_.addEventListener("focusout",I),_.addEventListener("pointermove",E),_.addEventListener("pointerleave",P),window.addEventListener("blur",E),window.addEventListener("focus",C),()=>{_.removeEventListener("focusin",E),_.removeEventListener("focusout",I),_.removeEventListener("pointermove",E),_.removeEventListener("pointerleave",P),window.removeEventListener("blur",E),window.removeEventListener("focus",C)}}},[b,o.isClosePausedRef]);const y=O.useCallback(({tabbingDirection:_})=>{const E=l().map(C=>{const I=C.ref.current,P=[I,...zie(I)];return _==="forwards"?P:P.reverse()});return(_==="forwards"?E.reverse():E).flat()},[l]);return O.useEffect(()=>{const _=p.current;if(_){const N=E=>{var P,D,k;const C=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!C){const L=document.activeElement,B=E.shiftKey;if(E.target===_&&B){(P=u.current)==null||P.focus();return}const U=y({tabbingDirection:B?"backwards":"forwards"}),q=U.findIndex(K=>K===L);_E(U.slice(q+1))?E.preventDefault():B?(D=u.current)==null||D.focus():(k=f.current)==null||k.focus()}};return _.addEventListener("keydown",N),()=>_.removeEventListener("keydown",N)}},[l,y]),s.jsxs(vie,{ref:c,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&s.jsx(aC,{ref:u,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"forwards"});_E(_)}}),s.jsx(TO.Slot,{scope:r,children:s.jsx(Wr.ol,{tabIndex:-1,...a,ref:g})}),b&&s.jsx(aC,{ref:f,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"backwards"});_E(_)}})]})});wz.displayName=yz;var bz="ToastFocusProxy",aC=O.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=U4(bz,r);return s.jsx(T2,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});aC.displayName=bz;var z4="Toast",Oie="toast.swipeStart",Iie="toast.swipeMove",Pie="toast.swipeCancel",kie="toast.swipeEnd",Sz=O.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=e,[l=!0,c]=lu({prop:n,defaultProp:i,onChange:a});return s.jsx(Do,{present:r||l,children:s.jsx(Lie,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Wa(e.onPause),onResume:Wa(e.onResume),onSwipeStart:Nr(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Nr(e.onSwipeMove,u=>{const{x:f,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Nr(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Nr(e.onSwipeEnd,u=>{const{x:f,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});Sz.displayName=z4;var[Mie,Die]=xz(z4,{onClose(){}}),Lie=O.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:g,onSwipeEnd:x,...b}=e,y=U4(z4,r),[_,N]=O.useState(null),E=kn(t,K=>N(K)),C=O.useRef(null),I=O.useRef(null),P=i||y.duration,D=O.useRef(0),k=O.useRef(P),L=O.useRef(0),{onToastAdd:B,onToastRemove:G}=y,F=Wa(()=>{var V;(_==null?void 0:_.contains(document.activeElement))&&((V=y.viewport)==null||V.focus()),o()}),U=O.useCallback(K=>{!K||K===1/0||(window.clearTimeout(L.current),D.current=new Date().getTime(),L.current=window.setTimeout(F,K))},[F]);O.useEffect(()=>{const K=y.viewport;if(K){const V=()=>{U(k.current),u==null||u()},ee=()=>{const te=new Date().getTime()-D.current;k.current=k.current-te,window.clearTimeout(L.current),c==null||c()};return K.addEventListener(nC,ee),K.addEventListener(iC,V),()=>{K.removeEventListener(nC,ee),K.removeEventListener(iC,V)}}},[y.viewport,P,c,u,U]),O.useEffect(()=>{a&&!y.isClosePausedRef.current&&U(P)},[a,P,y.isClosePausedRef,U]),O.useEffect(()=>(B(),()=>G()),[B,G]);const q=O.useMemo(()=>_?Tz(_):null,[_]);return y.viewport?s.jsxs(s.Fragment,{children:[q&&s.jsx(Rie,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),s.jsx(Mie,{scope:r,onClose:F,children:Gp.createPortal(s.jsx(TO.ItemSlot,{scope:r,children:s.jsx(xie,{asChild:!0,onEscapeKeyDown:Nr(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||F(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Wr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...b,ref:E,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Nr(e.onKeyDown,K=>{K.key==="Escape"&&(l==null||l(K.nativeEvent),K.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:Nr(e.onPointerDown,K=>{K.button===0&&(C.current={x:K.clientX,y:K.clientY})}),onPointerMove:Nr(e.onPointerMove,K=>{if(!C.current)return;const V=K.clientX-C.current.x,ee=K.clientY-C.current.y,te=!!I.current,J=["left","right"].includes(y.swipeDirection),ge=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,Ie=J?ge(0,V):0,Ge=J?0:ge(0,ee),W=K.pointerType==="touch"?10:2,Q={x:Ie,y:Ge},Z={originalEvent:K,delta:Q};te?(I.current=Q,qw(Iie,p,Z,{discrete:!1})):iM(Q,y.swipeDirection,W)?(I.current=Q,qw(Oie,f,Z,{discrete:!1}),K.target.setPointerCapture(K.pointerId)):(Math.abs(V)>W||Math.abs(ee)>W)&&(C.current=null)}),onPointerUp:Nr(e.onPointerUp,K=>{const V=I.current,ee=K.target;if(ee.hasPointerCapture(K.pointerId)&&ee.releasePointerCapture(K.pointerId),I.current=null,C.current=null,V){const te=K.currentTarget,J={originalEvent:K,delta:V};iM(V,y.swipeDirection,y.swipeThreshold)?qw(kie,x,J,{discrete:!0}):qw(Pie,g,J,{discrete:!0}),te.addEventListener("click",ge=>ge.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),Rie=e=>{const{__scopeToast:t,children:r,...n}=e,i=U4(z4,t),[a,o]=O.useState(!1),[l,c]=O.useState(!1);return $ie(()=>o(!0)),O.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(j2,{asChild:!0,children:s.jsx(T2,{...n,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",r]})})})},Fie="ToastTitle",_z=O.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Wr.div,{...n,ref:t})});_z.displayName=Fie;var Bie="ToastDescription",Nz=O.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Wr.div,{...n,ref:t})});Nz.displayName=Bie;var Ez="ToastAction",Az=O.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(jz,{altText:r,asChild:!0,children:s.jsx(OO,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ez}\`. Expected non-empty \`string\`.`),null)});Az.displayName=Ez;var Cz="ToastClose",OO=O.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=Die(Cz,r);return s.jsx(jz,{asChild:!0,children:s.jsx(Wr.button,{type:"button",...n,ref:t,onClick:Nr(e.onClick,i.onClose)})})});OO.displayName=Cz;var jz=O.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return s.jsx(Wr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function Tz(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),Uie(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Tz(n))}}),t}function qw(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?hz(i,a):i.dispatchEvent(a)}var iM=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function $ie(e=()=>{}){const t=Wa(e);js(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function Uie(e){return e.nodeType===e.ELEMENT_NODE}function zie(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function _E(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Vie=vz,Oz=wz,Iz=Sz,Pz=_z,kz=Nz,Mz=Az,Dz=OO;function Lz(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Lz(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Wie(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Lz(e))&&(n&&(n+=" "),n+=t);return n}const aM=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,sM=Wie,a0=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return sM(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const f=r==null?void 0:r[u],p=a==null?void 0:a[u];if(f===null)return null;const g=aM(f)||aM(p);return i[u][g]}),l=r&&Object.entries(r).reduce((u,f)=>{let[p,g]=f;return g===void 0||(u[p]=g),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:p,className:g,...x}=f;return Object.entries(x).every(b=>{let[y,_]=b;return Array.isArray(_)?_.includes({...a,...l}[y]):{...a,...l}[y]===_})?[...u,p,g]:u},[]);return sM(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hie=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rz=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=O.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...l},c)=>O.createElement("svg",{ref:c,...qie,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Rz("lucide",i),...l},[...o.map(([u,f])=>O.createElement(u,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=(e,t)=>{const r=O.forwardRef(({className:n,...i},a)=>O.createElement(Gie,{ref:a,iconNode:t,className:Rz(`lucide-${Hie(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=Jt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=Jt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yie=Jt("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=Jt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=Jt("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xie=Jt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=Jt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=Jt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Jt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=Jt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=Jt("ChartColumnIncreasing",[["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Jt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=Jt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=Jt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Jt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=Jt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=Jt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kie=Jt("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=Jt("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zie=Jt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Jt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=Jt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=Jt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=Jt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=Jt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=Jt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=Jt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=Jt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jie=Jt("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=Jt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=Jt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=Jt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=Jt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=Jt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=Jt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=Jt("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=Jt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Jt("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=Jt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=Jt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=Jt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=Jt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=Jt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=Jt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=Jt("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aae=Jt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=Jt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=Jt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=Jt("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=Jt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=Jt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=Jt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=Jt("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=Jt("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Jt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=Jt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=Jt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=Jt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=Jt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=Jt("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=Jt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=Jt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Jt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Jt("ScanBarcode",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=Jt("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=Jt("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=Jt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=Jt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=Jt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=Jt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=Jt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=Jt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=Jt("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=Jt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=Jt("SquareX",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=Jt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Jt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=Jt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=Jt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=Jt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Jt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=Jt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=Jt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=Jt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=Jt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=Jt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=Jt("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=Jt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=Jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=Jt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Wz(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Wz(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function oi(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Wz(e))&&(n&&(n+=" "),n+=t);return n}const DO="-",pae=e=>{const t=gae(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(DO);return l[0]===""&&l.length!==1&&l.shift(),Hz(l,t)||mae(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},Hz=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?Hz(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(DO);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},xM=/^\[(.+)\]$/,mae=e=>{if(xM.test(e)){const t=xM.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},gae=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return vae(Object.entries(e.classGroups),r).forEach(([a,o])=>{sC(o,n,a,t)}),n},sC=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:vM(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(xae(i)){sC(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{sC(o,vM(t,a),r,n)})})},vM=(e,t)=>{let r=e;return t.split(DO).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},xae=e=>e.isThemeGetter,vae=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,i]}):e,yae=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},qz="!",wae=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let u=0,f=0,p;for(let _=0;_<l.length;_++){let N=l[_];if(u===0){if(N===i&&(n||l.slice(_,_+a)===t)){c.push(l.slice(f,_)),f=_+a;continue}if(N==="/"){p=_;continue}}N==="["?u++:N==="]"&&u--}const g=c.length===0?l:l.substring(f),x=g.startsWith(qz),b=x?g.substring(1):g,y=p&&p>f?p-f:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:o}):o},bae=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Sae=e=>({cache:yae(e.cacheSize),parseClassName:wae(e),...pae(e)}),_ae=/\s+/,Nae=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(_ae);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:x}=r(u);let b=!!x,y=n(b?g.substring(0,x):g);if(!y){if(!b){l=u+(l.length>0?" "+l:l);continue}if(y=n(g),!y){l=u+(l.length>0?" "+l:l);continue}b=!1}const _=bae(f).join(":"),N=p?_+qz:_,E=N+y;if(a.includes(E))continue;a.push(E);const C=i(y,b);for(let I=0;I<C.length;++I){const P=C[I];a.push(N+P)}l=u+(l.length>0?" "+l:l)}return l};function Eae(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Gz(t))&&(n&&(n+=" "),n+=r);return n}const Gz=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Gz(e[n]))&&(r&&(r+=" "),r+=t);return r};function Aae(e,...t){let r,n,i,a=o;function o(c){const u=t.reduce((f,p)=>p(f),e());return r=Sae(u),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=Nae(c,r);return i(c,f),f}return function(){return a(Eae.apply(null,arguments))}}const qi=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Yz=/^\[(?:([a-z-]+):)?(.+)\]$/i,Cae=/^\d+\/\d+$/,jae=new Set(["px","full","screen"]),Tae=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Oae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Iae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Pae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nd=e=>gm(e)||jae.has(e)||Cae.test(e),Hf=e=>Hg(e,"length",Uae),gm=e=>!!e&&!Number.isNaN(Number(e)),AE=e=>Hg(e,"number",gm),Dx=e=>!!e&&Number.isInteger(Number(e)),Mae=e=>e.endsWith("%")&&gm(e.slice(0,-1)),An=e=>Yz.test(e),qf=e=>Tae.test(e),Dae=new Set(["length","size","percentage"]),Lae=e=>Hg(e,Dae,Xz),Rae=e=>Hg(e,"position",Xz),Fae=new Set(["image","url"]),Bae=e=>Hg(e,Fae,Vae),$ae=e=>Hg(e,"",zae),Lx=()=>!0,Hg=(e,t,r)=>{const n=Yz.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},Uae=e=>Oae.test(e)&&!Iae.test(e),Xz=()=>!1,zae=e=>Pae.test(e),Vae=e=>kae.test(e),Wae=()=>{const e=qi("colors"),t=qi("spacing"),r=qi("blur"),n=qi("brightness"),i=qi("borderColor"),a=qi("borderRadius"),o=qi("borderSpacing"),l=qi("borderWidth"),c=qi("contrast"),u=qi("grayscale"),f=qi("hueRotate"),p=qi("invert"),g=qi("gap"),x=qi("gradientColorStops"),b=qi("gradientColorStopPositions"),y=qi("inset"),_=qi("margin"),N=qi("opacity"),E=qi("padding"),C=qi("saturate"),I=qi("scale"),P=qi("sepia"),D=qi("skew"),k=qi("space"),L=qi("translate"),B=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",An,t],U=()=>[An,t],q=()=>["",Nd,Hf],K=()=>["auto",gm,An],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ee=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],ge=()=>["","0",An],Ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ge=()=>[gm,An];return{cacheSize:500,separator:":",theme:{colors:[Lx],spacing:[Nd,Hf],blur:["none","",qf,An],brightness:Ge(),borderColor:[e],borderRadius:["none","","full",qf,An],borderSpacing:U(),borderWidth:q(),contrast:Ge(),grayscale:ge(),hueRotate:Ge(),invert:ge(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[Mae,Hf],inset:F(),margin:F(),opacity:Ge(),padding:U(),saturate:Ge(),scale:Ge(),sepia:ge(),skew:Ge(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",An]}],container:["container"],columns:[{columns:[qf]}],"break-after":[{"break-after":Ie()}],"break-before":[{"break-before":Ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),An]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dx,An]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",An]}],grow:[{grow:ge()}],shrink:[{shrink:ge()}],order:[{order:["first","last","none",Dx,An]}],"grid-cols":[{"grid-cols":[Lx]}],"col-start-end":[{col:["auto",{span:["full",Dx,An]},An]}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":[Lx]}],"row-start-end":[{row:["auto",{span:[Dx,An]},An]}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",An]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",An]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",An,t]}],"min-w":[{"min-w":[An,t,"min","max","fit"]}],"max-w":[{"max-w":[An,t,"none","full","min","max","fit","prose",{screen:[qf]},qf]}],h:[{h:[An,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[An,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[An,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[An,t,"auto","min","max","fit"]}],"font-size":[{text:["base",qf,Hf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",AE]}],"font-family":[{font:[Lx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",An]}],"line-clamp":[{"line-clamp":["none",gm,AE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nd,An]}],"list-image":[{"list-image":["none",An]}],"list-style-type":[{list:["none","disc","decimal",An]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nd,Hf]}],"underline-offset":[{"underline-offset":["auto",Nd,An]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",An]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",An]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),Rae]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Lae]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Bae]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...ee(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:ee()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ee()]}],"outline-offset":[{"outline-offset":[Nd,An]}],"outline-w":[{outline:[Nd,Hf]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Nd,Hf]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",qf,$ae]}],"shadow-color":[{shadow:[Lx]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",qf,An]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[C]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",An]}],duration:[{duration:Ge()}],ease:[{ease:["linear","in","out","in-out",An]}],delay:[{delay:Ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",An]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Dx,An]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",An]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",An]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",An]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Nd,Hf,AE]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Hae=Aae(Wae);function ir(...e){return Hae(oi(e))}const qae=Vie,Kz=O.forwardRef(({className:e,...t},r)=>s.jsx(Oz,{ref:r,className:ir("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Kz.displayName=Oz.displayName;const Gae=a0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Qz=O.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(Iz,{ref:n,className:ir(Gae({variant:t}),e),...r}));Qz.displayName=Iz.displayName;const Yae=O.forwardRef(({className:e,...t},r)=>s.jsx(Mz,{ref:r,className:ir("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Yae.displayName=Mz.displayName;const Zz=O.forwardRef(({className:e,...t},r)=>s.jsx(Dz,{ref:r,className:ir("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Yo,{className:"h-4 w-4"})}));Zz.displayName=Dz.displayName;const Jz=O.forwardRef(({className:e,...t},r)=>s.jsx(Pz,{ref:r,className:ir("text-sm font-semibold",e),...t}));Jz.displayName=Pz.displayName;const eV=O.forwardRef(({className:e,...t},r)=>s.jsx(kz,{ref:r,className:ir("text-sm opacity-90",e),...t}));eV.displayName=kz.displayName;function Xae(){const{toasts:e}=ea();return s.jsxs(qae,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return s.jsxs(Qz,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(Jz,{children:r}),n&&s.jsx(eV,{children:n})]}),i,s.jsx(Zz,{})]},t)}),s.jsx(Kz,{})]})}const dy=a0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ee=O.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const o=n?af:"button";return s.jsx(o,{className:ir(dy({variant:t,size:r,className:e})),ref:a,...i})});Ee.displayName="Button";const Rt=O.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:ir("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Rt.displayName="Input";const tV=O.createContext(void 0);function Kae({children:e}){const{toast:t}=ea(),r=Yp(),{data:n,isLoading:i}=Er({queryKey:["/api/current-user"],queryFn:bh({on401:"returnNull"}),staleTime:3e5}),a=n===void 0?null:n,o=Sr({mutationFn:async c=>{console.log("Login attempt for:",c.username,"as role:",c.role||"not specified");const u=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!u.ok){const f=await u.text();throw console.error("Login error response:",f),new Error(f||"Login failed")}return u.json()},onSuccess:c=>{console.log("Login successful for:",c.username,"role:",c.role),r.setQueryData(["/api/current-user"],c);const u=c.role==="admin"?"/dashboard":c.role==="student"?"/parts-inventory":"/parts-issuance";console.log("Redirecting to:",u),window.location.href=u},onError:c=>{console.error("Login error:",c.message),t({title:"Login Failed",description:c.message||"Invalid credentials",variant:"destructive"})}}),l=Sr({mutationFn:async()=>{const c=await fetch("/api/logout",{method:"POST"});if(!c.ok)throw new Error(await c.text())},onSuccess:()=>{r.setQueryData(["/api/current-user"],null),window.location.href="/login"}});return s.jsx(tV.Provider,{value:{user:a,isLoading:i,loginMutation:o,logoutMutation:l},children:e})}function Ts(){const e=O.useContext(tV);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function Qae({onMenuClick:e}){const[t]=cd(),[r,n]=O.useState(""),{user:i}=Ts();if(!i)return s.jsx("header",{className:"bg-background border-b",children:s.jsx("div",{className:"flex items-center justify-between p-4",children:s.jsx(la,{href:"/",children:s.jsx("div",{className:"flex items-center",children:s.jsx("img",{src:"/external-logo.png",alt:"Logo",className:"h-20"})})})})});const o=(()=>{switch(t){case"/":case"/dashboard":return"Dashboard";case"/parts-inventory":return"Parts Inventory";case"/parts-issuance":return"Part Charge-Outs";case"/parts-pickup":return"Parts Pickup";case"/reports":return"Reports";case"/settings":return"Settings";case"/technicians":return"Technicians";case"/buildings":return"Buildings";default:return""}})();return s.jsx("header",{className:"bg-background border-b",children:s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Ee,{variant:"ghost",size:"icon",onClick:e,className:"bg-orange-100 hover:bg-orange-200 border border-orange-300",children:s.jsx(sae,{className:"h-6 w-6 text-orange-600"})}),s.jsx("h1",{className:"text-xl font-semibold",children:o})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(la,{href:"/inventory-aging",children:s.jsx(Ee,{variant:"outline",size:"sm",className:"text-sm font-medium bg-blue-50 hover:bg-blue-100",children:"Inventory Aging"})}),s.jsx(la,{href:"/performance-dashboard",children:s.jsx(Ee,{variant:"outline",size:"sm",className:"text-sm font-medium bg-green-50 hover:bg-green-100",children:"Performance"})}),s.jsxs("div",{className:"relative md:w-64",children:[s.jsx(Pl,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Rt,{placeholder:"Search...",value:r,onChange:l=>n(l.target.value),className:"pl-9 pr-4 h-9"})]}),s.jsx(Ee,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",children:s.jsx(Fz,{className:"h-5 w-5"})}),s.jsx(Ee,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-full",children:s.jsx(Uz,{className:"h-5 w-5"})})]})]})})}function Zae({isMobile:e,isOpen:t,onClose:r}){const[n]=cd(),{user:i,logoutMutation:a}=Ts(),{toast:o}=ea(),g=[{title:"Dashboard",href:"/dashboard",icon:()=>s.jsx(MS,{className:"h-5 w-5"}),roles:["admin","controller"]},{title:"Parts Inventory",href:"/parts-inventory",icon:()=>s.jsx(PS,{className:"h-5 w-5"}),roles:["admin","student","controller"]},{title:"Bulk Inventory",href:"/bulk-inventory",icon:()=>s.jsx(Ao,{className:"h-5 w-5"}),roles:["admin","student","controller"]},{title:"Part Charge-Outs",href:"/parts-issuance",icon:()=>s.jsx(Kc,{className:"h-5 w-5"}),roles:["admin","technician","student","controller"]},{title:"Barcode Kiosk",href:"/barcode-kiosk",icon:()=>s.jsx(jv,{className:"h-5 w-5"}),roles:["admin","student","technician"]},{title:"Parts Pickup",href:"/parts-pickup",icon:()=>s.jsx(sp,{className:"h-5 w-5"}),roles:["admin","student","technician","controller"]},{title:"Tool SignOut",href:"/tool-signout",icon:()=>s.jsx(Kc,{className:"h-5 w-5"}),roles:["admin","student","technician","controller"]},{title:"Deliveries",href:"/deliveries",icon:()=>s.jsx(ly,{className:"h-5 w-5"}),roles:["admin","student","controller"]},{title:"Delivery Requests",href:"/delivery-requests-admin",icon:()=>s.jsx(MO,{className:"h-5 w-5"}),roles:["admin","controller"]},{title:"Staff Management",href:"/staff-management",icon:()=>s.jsx(fae,{className:"h-5 w-5"}),roles:["admin","controller"]},{title:"Cost Centers",href:"/cost-centers",icon:()=>s.jsx(Xie,{className:"h-5 w-5"}),roles:["admin","controller"]},{title:"Reports",href:"/reports",icon:()=>s.jsx(Wd,{className:"h-5 w-5"}),roles:["admin","student","controller"]},{title:"Usage Analytics",href:"/parts-usage-analytics",icon:()=>s.jsx(op,{className:"h-5 w-5"}),roles:["admin","controller"]},{title:"Performance Dashboard",href:"/performance-dashboard",icon:()=>s.jsx(LS,{className:"h-5 w-5"}),roles:["admin"]},{title:"Manual Parts Review",href:"/manual-parts-review",icon:()=>s.jsx(Ao,{className:"h-5 w-5"}),roles:["admin","student"]},{title:"Buildings",href:"/buildings",icon:()=>s.jsx(ap,{className:"h-5 w-5"}),roles:["admin","controller"]},{title:"Locations",href:"/locations",icon:()=>s.jsx(DS,{className:"h-5 w-5"}),roles:["admin","controller"]},{title:"Technicians",href:"/technicians",icon:()=>s.jsx(uy,{className:"h-5 w-5"}),roles:["admin","controller"]},{title:"Quick Count",href:"/quick-count",icon:()=>s.jsx(Bz,{className:"h-5 w-5"}),roles:["admin","student","controller"]},{title:"Tool SignOut",href:"/tool-signout",icon:()=>s.jsx(Kc,{className:"h-5 w-5"}),roles:["admin","technician","controller"]},{title:"Barcode Kiosk",href:"/barcode-kiosk",icon:()=>s.jsx(jv,{className:"h-5 w-5"}),roles:["admin","student","technician"]},{title:"Settings",href:"/settings",icon:()=>s.jsx(I2,{className:"h-5 w-5"}),roles:["admin","controller"]},{title:"System Admin",href:"/system-admin",icon:()=>s.jsx(LS,{className:"h-5 w-5"}),roles:["admin"]}];if(!i)return null;const x=async()=>{try{await a.mutateAsync(),o({title:"Logged out successfully",description:"You have been logged out of the system"})}catch{}},b=g.filter(y=>y.roles.includes(i.role));return s.jsxs("div",{className:ir("bg-background w-64 h-screen border-r shadow-sm z-30 transition-transform",e?"fixed inset-y-0 left-0":"relative",e&&!t&&"-translate-x-full"),children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[s.jsx("div",{children:s.jsx("img",{src:"/external-logo.png",alt:"Logo",className:"h-24"})}),e&&s.jsx(Ee,{variant:"ghost",size:"icon",onClick:r,children:s.jsx(Yo,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-4 flex flex-col h-[calc(100%-64px)]",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary flex items-center justify-center text-white",children:s.jsx(mm,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("p",{className:"font-medium",children:i.name}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:i.role}),s.jsx("button",{onClick:x,className:"text-sm text-primary hover:underline ml-2",children:"Sign Out"})]})]})]}),s.jsx("nav",{className:"flex-1 overflow-y-auto",children:s.jsx("ul",{className:"space-y-1",children:b.map((y,_)=>{const N=n===y.href||y.href==="/dashboard"&&n==="/";return s.jsx("li",{children:s.jsx(la,{href:y.href,children:s.jsxs("div",{className:ir("flex items-center p-2 rounded-md",N?"bg-primary text-primary-foreground":"hover:bg-accent"),children:[s.jsx("div",{className:"mr-3",children:s.jsx(y.icon,{})}),y.title]})})},_)})})})]})]})}const Jae=768;function ese(){const[e,t]=O.useState(!1);return O.useEffect(()=>{const r=()=>{const n=window.innerWidth,i=n<Jae;console.log(`Screen width: ${n}px - Mobile: ${i}`),t(i)};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e}function tse({children:e}){const t=ese(),[r,n]=O.useState(!0),{user:i,logoutMutation:a}=Ts(),[o]=cd();ea();const l=()=>{n(!r)},c=()=>{n(!1)};return o==="/login"||!i?s.jsx("div",{className:"flex h-screen",children:s.jsx("div",{className:"flex-1 flex flex-col",children:s.jsx("main",{className:"flex-1 bg-background",children:e})})}):((()=>{const f=[];return i.role==="admin"?f.push({title:"Dashboard",href:"/dashboard",icon:MS},{title:"Inventory",href:"/parts-inventory",icon:PS},{title:"Issuance",href:"/parts-issuance",icon:ly},{title:"Reports",href:"/reports",icon:Wd},{title:"Settings",href:"/settings",icon:I2}):i.role==="technician"?f.push({title:"Dashboard",href:"/dashboard",icon:MS}):i.role==="student"&&f.push({title:"Inventory",href:"/parts-inventory",icon:PS}),f})(),s.jsxs("div",{className:"flex h-screen overflow-hidden",children:[s.jsx(Zae,{isMobile:t,isOpen:r,onClose:c}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsx(Qae,{onMenuClick:l}),s.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 bg-background pb-20 md:pb-6",children:e})]})]}))}const Pt=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ir("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Pt.displayName="Card";const Gt=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ir("flex flex-col space-y-1.5 p-6",e),...t}));Gt.displayName="CardHeader";const Yt=O.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:ir("text-2xl font-semibold leading-none tracking-tight",e),...t}));Yt.displayName="CardTitle";const Zr=O.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:ir("text-sm text-muted-foreground",e),...t}));Zr.displayName="CardDescription";const zt=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ir("p-6 pt-0",e),...t}));zt.displayName="CardContent";const mc=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ir("flex items-center p-6 pt-0",e),...t}));mc.displayName="CardFooter";function yM(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(Pt,{className:"w-full max-w-md mx-4",children:s.jsxs(zt,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(rg,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function Gw({title:e,value:t,icon:r,iconBgColor:n,iconColor:i,trend:a}){const o=()=>{switch(a==null?void 0:a.direction){case"up":return s.jsx(op,{className:"h-4 w-4 mr-1"});case"down":return s.jsx(kO,{className:"h-4 w-4 mr-1"});default:return s.jsx(sy,{className:"h-4 w-4 mr-1"})}},l=()=>{switch(a==null?void 0:a.direction){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-orange-600"}};return s.jsx(Pt,{children:s.jsxs(zt,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground text-sm",children:e}),s.jsx("p",{className:"text-3xl font-bold",children:t})]}),s.jsx("div",{className:`w-12 h-12 rounded-full ${n} bg-opacity-20 flex items-center justify-center`,children:s.jsx(r,{className:`h-6 w-6 ${i}`})})]}),a&&s.jsxs("p",{className:`text-sm mt-2 flex items-center ${l()}`,children:[o(),a.value]})]})})}const cc=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:ir("w-full caption-bottom text-sm",e),...t})}));cc.displayName="Table";const uc=O.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:ir("[&_tr]:border-b",e),...t}));uc.displayName="TableHeader";const dc=O.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:ir("[&_tr:last-child]:border-0",e),...t}));dc.displayName="TableBody";const rse=O.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:ir("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));rse.displayName="TableFooter";const bi=O.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:ir("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));bi.displayName="TableRow";const yr=O.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:ir("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));yr.displayName="TableHead";const hr=O.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:ir("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));hr.displayName="TableCell";const nse=O.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:ir("mt-4 text-sm text-muted-foreground",e),...t}));nse.displayName="TableCaption";const wM=(e,t)=>{const r=e[t];return r??""};function Ll({data:e,columns:t,itemsPerPage:r=10,onRowClick:n,selectedRows:i=[]}){const[a,o]=O.useState(1),[l,c]=O.useState(null),[u,f]=O.useState("asc"),g=(P=>l?[...P].sort((D,k)=>{const L=wM(D,l),B=wM(k,l);if(typeof L=="number"&&typeof B=="number")return u==="asc"?L-B:B-L;const G=String(L).toLowerCase(),F=String(B).toLowerCase();return u==="asc"?G.localeCompare(F):F.localeCompare(G)}):P)(e),x=Math.ceil(g.length/r),b=(a-1)*r,y=b+r,_=g.slice(b,y),N=P=>{o(Math.max(1,Math.min(P,x)))},E=P=>{if(!P.sortable||!P.sortKey)return;const D=P.sortKey;l===D?f(u==="asc"?"desc":"asc"):(c(D),f("asc")),o(1)},C=(P,D)=>typeof D=="function"?D(P):P[D],I=P=>!P.sortable||!P.sortKey?null:l===P.sortKey?u==="asc"?s.jsx($z,{className:"ml-1 h-4 w-4 inline"}):s.jsx(IO,{className:"ml-1 h-4 w-4 inline"}):s.jsx(Yie,{className:"ml-1 h-4 w-4 inline opacity-40"});return s.jsxs("div",{children:[s.jsx("div",{className:"rounded-md border",children:s.jsxs(cc,{children:[s.jsx(uc,{children:s.jsx(bi,{children:t.map((P,D)=>s.jsx(yr,{className:`${P.className} ${P.sortable?"cursor-pointer select-none":""}`,onClick:()=>P.sortable&&E(P),children:s.jsxs("div",{className:"flex items-center",children:[P.header,P.sortable&&I(P)]})},D))})}),s.jsx(dc,{children:_.length>0?_.map((P,D)=>s.jsx(bi,{onClick:()=>n&&n(P),className:`${n?"cursor-pointer hover:bg-muted":""} ${i.includes(P.id)?"bg-primary/10 hover:bg-primary/20":""}`,children:t.map((k,L)=>s.jsx(hr,{className:k.className,children:C(P,k.accessor)},L))},D)):s.jsx(bi,{children:s.jsx(hr,{colSpan:t.length,className:"h-24 text-center",children:"No results."})})})]})}),x>1&&s.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",s.jsx("span",{className:"font-medium",children:b+1})," to"," ",s.jsx("span",{className:"font-medium",children:Math.min(y,g.length)})," of"," ",s.jsx("span",{className:"font-medium",children:g.length})," results"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ee,{variant:"outline",size:"icon",onClick:()=>N(1),disabled:a===1,children:s.jsx(Kie,{className:"h-4 w-4"})}),s.jsx(Ee,{variant:"outline",size:"icon",onClick:()=>N(a-1),disabled:a===1,children:s.jsx(tg,{className:"h-4 w-4"})}),s.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,x)},(P,D)=>{let k=D+1;return x>5&&(a<=3?k=D+1:a>=x-2?k=x-4+D:k=a-2+D),s.jsx(Ee,{variant:a===k?"default":"outline",size:"icon",onClick:()=>N(k),children:k},D)})}),s.jsx(Ee,{variant:"outline",size:"icon",onClick:()=>N(a+1),disabled:a===x,children:s.jsx(O2,{className:"h-4 w-4"})}),s.jsx(Ee,{variant:"outline",size:"icon",onClick:()=>N(x),disabled:a===x,children:s.jsx(Qie,{className:"h-4 w-4"})})]})]})]})}const Yw=a0("mr-1.5",{variants:{status:{critical:"text-red-600",low:"text-red-500",warning:"text-orange-500",adequate:"text-yellow-500",good:"text-green-500",excess:"text-blue-500"}},defaultVariants:{status:"adequate"}}),ise=a0("",{variants:{status:{critical:"bg-red-50 border-red-200",low:"bg-red-50 border-red-200",warning:"bg-orange-50 border-orange-200",adequate:"bg-yellow-50 border-yellow-200",good:"bg-green-50 border-green-200",excess:"bg-blue-50 border-blue-200"}},defaultVariants:{status:"adequate"}}),bM=a0("font-medium",{variants:{status:{critical:"text-red-700",low:"text-red-700",warning:"text-orange-700",adequate:"text-yellow-700",good:"text-green-700",excess:"text-blue-700"}},defaultVariants:{status:"adequate"}});function rV({quantity:e,reorderLevel:t,className:r,showDetails:n=!1,cardStyle:i=!1}){const a=e/t,l=e<=0?"critical":a<=.3?"low":a<=.5?"warning":a<=.8?"adequate":a<=1.5?"good":"excess",c={critical:"Out of Stock",low:"Low Stock",warning:"Warning",adequate:"Adequate",good:"Good",excess:"Excess"},u=()=>{switch(l){case"critical":case"low":return s.jsx(rg,{size:16,className:Yw({status:l})});case"warning":return s.jsx(kl,{size:16,className:Yw({status:l})});case"adequate":case"good":return s.jsx(Cp,{size:16,className:Yw({status:l})});case"excess":return s.jsx(op,{size:16,className:Yw({status:l})})}};return i?s.jsxs("div",{className:ir("border rounded-md px-3 py-2 flex items-center",ise({status:l}),r),children:[s.jsx(u,{}),s.jsxs("div",{children:[s.jsx("div",{className:bM({status:l}),children:c[l]}),n&&s.jsxs("div",{className:"text-xs text-gray-600 mt-0.5",children:["Current: ",s.jsx("span",{className:"font-medium",children:e})," | Reorder: ",s.jsx("span",{className:"font-medium",children:t})]})]})]}):s.jsxs("div",{className:ir("flex items-center",r),children:[s.jsx(u,{}),s.jsx("span",{className:bM({status:l}),children:c[l]}),n&&s.jsxs("span",{className:"ml-1.5 text-xs text-gray-500",children:["(",e,"/",t,")"]})]})}var ase=Array.isArray,ol=ase,sse=typeof Dd=="object"&&Dd&&Dd.Object===Object&&Dd,nV=sse,ose=nV,lse=typeof self=="object"&&self&&self.Object===Object&&self,cse=ose||lse||Function("return this")(),ud=cse,use=ud,dse=use.Symbol,P2=dse,SM=P2,iV=Object.prototype,fse=iV.hasOwnProperty,hse=iV.toString,Rx=SM?SM.toStringTag:void 0;function pse(e){var t=fse.call(e,Rx),r=e[Rx];try{e[Rx]=void 0;var n=!0}catch{}var i=hse.call(e);return n&&(t?e[Rx]=r:delete e[Rx]),i}var mse=pse,gse=Object.prototype,xse=gse.toString;function vse(e){return xse.call(e)}var yse=vse,_M=P2,wse=mse,bse=yse,Sse="[object Null]",_se="[object Undefined]",NM=_M?_M.toStringTag:void 0;function Nse(e){return e==null?e===void 0?_se:Sse:NM&&NM in Object(e)?wse(e):bse(e)}var _f=Nse;function Ese(e){return e!=null&&typeof e=="object"}var Nf=Ese,Ase=_f,Cse=Nf,jse="[object Symbol]";function Tse(e){return typeof e=="symbol"||Cse(e)&&Ase(e)==jse}var qg=Tse,Ose=ol,Ise=qg,Pse=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kse=/^\w*$/;function Mse(e,t){if(Ose(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Ise(e)?!0:kse.test(e)||!Pse.test(e)||t!=null&&e in Object(t)}var LO=Mse;function Dse(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var s0=Dse;const Gg=Zn(s0);var Lse=_f,Rse=s0,Fse="[object AsyncFunction]",Bse="[object Function]",$se="[object GeneratorFunction]",Use="[object Proxy]";function zse(e){if(!Rse(e))return!1;var t=Lse(e);return t==Bse||t==$se||t==Fse||t==Use}var RO=zse;const Vn=Zn(RO);var Vse=ud,Wse=Vse["__core-js_shared__"],Hse=Wse,CE=Hse,EM=function(){var e=/[^.]+$/.exec(CE&&CE.keys&&CE.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function qse(e){return!!EM&&EM in e}var Gse=qse,Yse=Function.prototype,Xse=Yse.toString;function Kse(e){if(e!=null){try{return Xse.call(e)}catch{}try{return e+""}catch{}}return""}var aV=Kse,Qse=RO,Zse=Gse,Jse=s0,eoe=aV,toe=/[\\^$.*+?()[\]{}|]/g,roe=/^\[object .+?Constructor\]$/,noe=Function.prototype,ioe=Object.prototype,aoe=noe.toString,soe=ioe.hasOwnProperty,ooe=RegExp("^"+aoe.call(soe).replace(toe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function loe(e){if(!Jse(e)||Zse(e))return!1;var t=Qse(e)?ooe:roe;return t.test(eoe(e))}var coe=loe;function uoe(e,t){return e==null?void 0:e[t]}var doe=uoe,foe=coe,hoe=doe;function poe(e,t){var r=hoe(e,t);return foe(r)?r:void 0}var Xp=poe,moe=Xp,goe=moe(Object,"create"),H4=goe,AM=H4;function xoe(){this.__data__=AM?AM(null):{},this.size=0}var voe=xoe;function yoe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var woe=yoe,boe=H4,Soe="__lodash_hash_undefined__",_oe=Object.prototype,Noe=_oe.hasOwnProperty;function Eoe(e){var t=this.__data__;if(boe){var r=t[e];return r===Soe?void 0:r}return Noe.call(t,e)?t[e]:void 0}var Aoe=Eoe,Coe=H4,joe=Object.prototype,Toe=joe.hasOwnProperty;function Ooe(e){var t=this.__data__;return Coe?t[e]!==void 0:Toe.call(t,e)}var Ioe=Ooe,Poe=H4,koe="__lodash_hash_undefined__";function Moe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Poe&&t===void 0?koe:t,this}var Doe=Moe,Loe=voe,Roe=woe,Foe=Aoe,Boe=Ioe,$oe=Doe;function Yg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Yg.prototype.clear=Loe;Yg.prototype.delete=Roe;Yg.prototype.get=Foe;Yg.prototype.has=Boe;Yg.prototype.set=$oe;var Uoe=Yg;function zoe(){this.__data__=[],this.size=0}var Voe=zoe;function Woe(e,t){return e===t||e!==e&&t!==t}var FO=Woe,Hoe=FO;function qoe(e,t){for(var r=e.length;r--;)if(Hoe(e[r][0],t))return r;return-1}var q4=qoe,Goe=q4,Yoe=Array.prototype,Xoe=Yoe.splice;function Koe(e){var t=this.__data__,r=Goe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Xoe.call(t,r,1),--this.size,!0}var Qoe=Koe,Zoe=q4;function Joe(e){var t=this.__data__,r=Zoe(t,e);return r<0?void 0:t[r][1]}var ele=Joe,tle=q4;function rle(e){return tle(this.__data__,e)>-1}var nle=rle,ile=q4;function ale(e,t){var r=this.__data__,n=ile(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var sle=ale,ole=Voe,lle=Qoe,cle=ele,ule=nle,dle=sle;function Xg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xg.prototype.clear=ole;Xg.prototype.delete=lle;Xg.prototype.get=cle;Xg.prototype.has=ule;Xg.prototype.set=dle;var G4=Xg,fle=Xp,hle=ud,ple=fle(hle,"Map"),BO=ple,CM=Uoe,mle=G4,gle=BO;function xle(){this.size=0,this.__data__={hash:new CM,map:new(gle||mle),string:new CM}}var vle=xle;function yle(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var wle=yle,ble=wle;function Sle(e,t){var r=e.__data__;return ble(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Y4=Sle,_le=Y4;function Nle(e){var t=_le(this,e).delete(e);return this.size-=t?1:0,t}var Ele=Nle,Ale=Y4;function Cle(e){return Ale(this,e).get(e)}var jle=Cle,Tle=Y4;function Ole(e){return Tle(this,e).has(e)}var Ile=Ole,Ple=Y4;function kle(e,t){var r=Ple(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Mle=kle,Dle=vle,Lle=Ele,Rle=jle,Fle=Ile,Ble=Mle;function Kg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Kg.prototype.clear=Dle;Kg.prototype.delete=Lle;Kg.prototype.get=Rle;Kg.prototype.has=Fle;Kg.prototype.set=Ble;var $O=Kg,sV=$O,$le="Expected a function";function UO(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError($le);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(UO.Cache||sV),r}UO.Cache=sV;var oV=UO;const Ule=Zn(oV);var zle=oV,Vle=500;function Wle(e){var t=zle(e,function(n){return r.size===Vle&&r.clear(),n}),r=t.cache;return t}var Hle=Wle,qle=Hle,Gle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yle=/\\(\\)?/g,Xle=qle(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Gle,function(r,n,i,a){t.push(i?a.replace(Yle,"$1"):n||r)}),t}),Kle=Xle;function Qle(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var zO=Qle,jM=P2,Zle=zO,Jle=ol,ece=qg,tce=1/0,TM=jM?jM.prototype:void 0,OM=TM?TM.toString:void 0;function lV(e){if(typeof e=="string")return e;if(Jle(e))return Zle(e,lV)+"";if(ece(e))return OM?OM.call(e):"";var t=e+"";return t=="0"&&1/e==-tce?"-0":t}var rce=lV,nce=rce;function ice(e){return e==null?"":nce(e)}var cV=ice,ace=ol,sce=LO,oce=Kle,lce=cV;function cce(e,t){return ace(e)?e:sce(e,t)?[e]:oce(lce(e))}var uV=cce,uce=qg,dce=1/0;function fce(e){if(typeof e=="string"||uce(e))return e;var t=e+"";return t=="0"&&1/e==-dce?"-0":t}var X4=fce,hce=uV,pce=X4;function mce(e,t){t=hce(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[pce(t[r++])];return r&&r==n?e:void 0}var VO=mce,gce=VO;function xce(e,t,r){var n=e==null?void 0:gce(e,t);return n===void 0?r:n}var dV=xce;const gc=Zn(dV);function vce(e){return e==null}var yce=vce;const di=Zn(yce);var wce=_f,bce=ol,Sce=Nf,_ce="[object String]";function Nce(e){return typeof e=="string"||!bce(e)&&Sce(e)&&wce(e)==_ce}var Ece=Nce;const k2=Zn(Ece);var fV={exports:{}},Ci={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WO=Symbol.for("react.element"),HO=Symbol.for("react.portal"),K4=Symbol.for("react.fragment"),Q4=Symbol.for("react.strict_mode"),Z4=Symbol.for("react.profiler"),J4=Symbol.for("react.provider"),e_=Symbol.for("react.context"),Ace=Symbol.for("react.server_context"),t_=Symbol.for("react.forward_ref"),r_=Symbol.for("react.suspense"),n_=Symbol.for("react.suspense_list"),i_=Symbol.for("react.memo"),a_=Symbol.for("react.lazy"),Cce=Symbol.for("react.offscreen"),hV;hV=Symbol.for("react.module.reference");function wc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case WO:switch(e=e.type,e){case K4:case Z4:case Q4:case r_:case n_:return e;default:switch(e=e&&e.$$typeof,e){case Ace:case e_:case t_:case a_:case i_:case J4:return e;default:return t}}case HO:return t}}}Ci.ContextConsumer=e_;Ci.ContextProvider=J4;Ci.Element=WO;Ci.ForwardRef=t_;Ci.Fragment=K4;Ci.Lazy=a_;Ci.Memo=i_;Ci.Portal=HO;Ci.Profiler=Z4;Ci.StrictMode=Q4;Ci.Suspense=r_;Ci.SuspenseList=n_;Ci.isAsyncMode=function(){return!1};Ci.isConcurrentMode=function(){return!1};Ci.isContextConsumer=function(e){return wc(e)===e_};Ci.isContextProvider=function(e){return wc(e)===J4};Ci.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===WO};Ci.isForwardRef=function(e){return wc(e)===t_};Ci.isFragment=function(e){return wc(e)===K4};Ci.isLazy=function(e){return wc(e)===a_};Ci.isMemo=function(e){return wc(e)===i_};Ci.isPortal=function(e){return wc(e)===HO};Ci.isProfiler=function(e){return wc(e)===Z4};Ci.isStrictMode=function(e){return wc(e)===Q4};Ci.isSuspense=function(e){return wc(e)===r_};Ci.isSuspenseList=function(e){return wc(e)===n_};Ci.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===K4||e===Z4||e===Q4||e===r_||e===n_||e===Cce||typeof e=="object"&&e!==null&&(e.$$typeof===a_||e.$$typeof===i_||e.$$typeof===J4||e.$$typeof===e_||e.$$typeof===t_||e.$$typeof===hV||e.getModuleId!==void 0)};Ci.typeOf=wc;fV.exports=Ci;var jce=fV.exports,Tce=_f,Oce=Nf,Ice="[object Number]";function Pce(e){return typeof e=="number"||Oce(e)&&Tce(e)==Ice}var pV=Pce;const kce=Zn(pV);var Mce=pV;function Dce(e){return Mce(e)&&e!=+e}var Lce=Dce;const M2=Zn(Lce);var Qc=function(t){return t===0?0:t>0?1:-1},H0=function(t){return k2(t)&&t.indexOf("%")===t.length-1},cr=function(t){return kce(t)&&!M2(t)},hs=function(t){return cr(t)||k2(t)},Rce=0,s_=function(t){var r=++Rce;return"".concat(t||"").concat(r)},Pp=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!cr(t)&&!k2(t))return n;var a;if(H0(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return M2(a)&&(a=n),i&&a>r&&(a=r),a},sh=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Fce=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},x1=function(t,r){return cr(t)&&cr(r)?function(n){return t+n*(r-t)}:function(){return r}};function oC(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):gc(n,t))===r})}function xm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function lC(e){"@babel/helpers - typeof";return lC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lC(e)}var Bce=["viewBox","children"],$ce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],IM=["points","pathLength"],jE={svg:Bce,polygon:IM,polyline:IM},qO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],FS=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!Gg(n))return null;var i={};return Object.keys(n).forEach(function(a){qO.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},Uce=function(t,r,n){return function(i){return t(r,n,i),null}},BS=function(t,r,n){if(!Gg(t)||lC(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];qO.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Uce(o,r,n))}),i},zce=["children"],Vce=["children"];function PM(e,t){if(e==null)return{};var r=Wce(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},qd=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},MM=null,TE=null,GO=function e(t){if(t===MM&&Array.isArray(TE))return TE;var r=[];return O.Children.forEach(t,function(n){di(n)||(jce.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),TE=r,MM=t,r};function nu(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return qd(i)}):n=[qd(t)],GO(e).forEach(function(i){var a=gc(i,"type.displayName")||gc(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function _l(e,t){var r=nu(e,t);return r&&r[0]}var DM=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!cr(n)||n<=0||!cr(i)||i<=0)},Hce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],qce=function(t){return t&&t.type&&k2(t.type)&&Hce.indexOf(t.type)>=0},Gce=function(t,r,n,i){var a,o=(a=jE==null?void 0:jE[i])!==null&&a!==void 0?a:[];return!Vn(t)&&(i&&o.includes(r)||$ce.includes(r))||n&&qO.includes(r)},si=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(O.isValidElement(t)&&(i=t.props),!Gg(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;Gce((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},cC=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return LM(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!LM(a,o))return!1}return!0},LM=function(t,r){if(di(t)&&di(r))return!0;if(!di(t)&&!di(r)){var n=t.props||{},i=n.children,a=PM(n,zce),o=r.props||{},l=o.children,c=PM(o,Vce);return i&&l?xm(a,c)&&cC(i,l):!i&&!l?xm(a,c):!1}return!1},RM=function(t,r){var n=[],i={};return GO(t).forEach(function(a,o){if(qce(a))n.push(a);else if(a){var l=qd(a.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!i[l])){var p=u(a,l,o);n.push(p),i[l]=!0}}}),n},Yce=function(t){var r=t&&t.type;return r&&kM[r]?kM[r]:null},Xce=function(t,r){return GO(r).indexOf(t)},Kce=["children","width","height","viewBox","className","style","title","desc"];function uC(){return uC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uC.apply(this,arguments)}function Qce(e,t){if(e==null)return{};var r=Zce(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dC(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=Qce(e,Kce),f=i||{width:r,height:n,x:0,y:0},p=oi("recharts-surface",a);return qe.createElement("svg",uC({},si(u,!0,"svg"),{className:p,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),qe.createElement("title",null,l),qe.createElement("desc",null,c),t)}var Jce=["children","className"];function fC(){return fC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fC.apply(this,arguments)}function eue(e,t){if(e==null)return{};var r=tue(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var bs=qe.forwardRef(function(e,t){var r=e.children,n=e.className,i=eue(e,Jce),a=oi("recharts-layer",n);return qe.createElement("g",fC({className:a},si(i,!0),{ref:t}),r)}),Gd=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function rue(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var nue=rue,iue=nue;function aue(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:iue(e,t,r)}var sue=aue,oue="\\ud800-\\udfff",lue="\\u0300-\\u036f",cue="\\ufe20-\\ufe2f",uue="\\u20d0-\\u20ff",due=lue+cue+uue,fue="\\ufe0e\\ufe0f",hue="\\u200d",pue=RegExp("["+hue+oue+due+fue+"]");function mue(e){return pue.test(e)}var mV=mue;function gue(e){return e.split("")}var xue=gue,gV="\\ud800-\\udfff",vue="\\u0300-\\u036f",yue="\\ufe20-\\ufe2f",wue="\\u20d0-\\u20ff",bue=vue+yue+wue,Sue="\\ufe0e\\ufe0f",_ue="["+gV+"]",hC="["+bue+"]",pC="\\ud83c[\\udffb-\\udfff]",Nue="(?:"+hC+"|"+pC+")",xV="[^"+gV+"]",vV="(?:\\ud83c[\\udde6-\\uddff]){2}",yV="[\\ud800-\\udbff][\\udc00-\\udfff]",Eue="\\u200d",wV=Nue+"?",bV="["+Sue+"]?",Aue="(?:"+Eue+"(?:"+[xV,vV,yV].join("|")+")"+bV+wV+")*",Cue=bV+wV+Aue,jue="(?:"+[xV+hC+"?",hC,vV,yV,_ue].join("|")+")",Tue=RegExp(pC+"(?="+pC+")|"+jue+Cue,"g");function Oue(e){return e.match(Tue)||[]}var Iue=Oue,Pue=xue,kue=mV,Mue=Iue;function Due(e){return kue(e)?Mue(e):Pue(e)}var Lue=Due,Rue=sue,Fue=mV,Bue=Lue,$ue=cV;function Uue(e){return function(t){t=$ue(t);var r=Fue(t)?Bue(t):void 0,n=r?r[0]:t.charAt(0),i=r?Rue(r,1).join(""):t.slice(1);return n[e]()+i}}var zue=Uue,Vue=zue,Wue=Vue("toUpperCase"),Hue=Wue;const o_=Zn(Hue);function Ui(e){return function(){return e}}const SV=Math.cos,$S=Math.sin,mu=Math.sqrt,US=Math.PI,l_=2*US,mC=Math.PI,gC=2*mC,M0=1e-6,que=gC-M0;function _V(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Gue(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _V;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Yue{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_V:Gue(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-t,u=i-r,f=o-t,p=l-r,g=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>M0)if(!(Math.abs(p*c-u*f)>M0)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let x=n-o,b=i-l,y=c*c+u*u,_=x*x+b*b,N=Math.sqrt(y),E=Math.sqrt(g),C=a*Math.tan((mC-Math.acos((y+g-_)/(2*N*E)))/2),I=C/E,P=C/N;Math.abs(I-1)>M0&&this._append`L${t+I*f},${r+I*p}`,this._append`A${a},${a},0,0,${+(p*x>f*b)},${this._x1=t+P*c},${this._y1=r+P*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,f=r+c,p=1^o,g=o?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>M0||Math.abs(this._y1-f)>M0)&&this._append`L${u},${f}`,n&&(g<0&&(g=g%gC+gC),g>que?this._append`A${n},${n},0,1,${p},${t-l},${r-c}A${n},${n},0,1,${p},${this._x1=u},${this._y1=f}`:g>M0&&this._append`A${n},${n},0,${+(g>=mC)},${p},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function YO(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Yue(t)}function XO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function NV(e){this._context=e}NV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function c_(e){return new NV(e)}function EV(e){return e[0]}function AV(e){return e[1]}function CV(e,t){var r=Ui(!0),n=null,i=c_,a=null,o=YO(l);e=typeof e=="function"?e:e===void 0?EV:Ui(e),t=typeof t=="function"?t:t===void 0?AV:Ui(t);function l(c){var u,f=(c=XO(c)).length,p,g=!1,x;for(n==null&&(a=i(x=o())),u=0;u<=f;++u)!(u<f&&r(p=c[u],u,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+e(p,u,c),+t(p,u,c));if(x)return a=null,x+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ui(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ui(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ui(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function Xw(e,t,r){var n=null,i=Ui(!0),a=null,o=c_,l=null,c=YO(u);e=typeof e=="function"?e:e===void 0?EV:Ui(+e),t=typeof t=="function"?t:Ui(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?AV:Ui(+r);function u(p){var g,x,b,y=(p=XO(p)).length,_,N=!1,E,C=new Array(y),I=new Array(y);for(a==null&&(l=o(E=c())),g=0;g<=y;++g){if(!(g<y&&i(_=p[g],g,p))===N)if(N=!N)x=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=g-1;b>=x;--b)l.point(C[b],I[b]);l.lineEnd(),l.areaEnd()}N&&(C[g]=+e(_,g,p),I[g]=+t(_,g,p),l.point(n?+n(_,g,p):C[g],r?+r(_,g,p):I[g]))}if(E)return l=null,E+""||null}function f(){return CV().defined(i).curve(o).context(a)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:Ui(+p),n=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Ui(+p),u):e},u.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ui(+p),u):n},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:Ui(+p),r=null,u):t},u.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Ui(+p),u):t},u.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ui(+p),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ui(!!p),u):i},u.curve=function(p){return arguments.length?(o=p,a!=null&&(l=o(a)),u):o},u.context=function(p){return arguments.length?(p==null?a=l=null:l=o(a=p),u):a},u}class jV{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Xue(e){return new jV(e,!0)}function Kue(e){return new jV(e,!1)}const KO={draw(e,t){const r=mu(t/US);e.moveTo(r,0),e.arc(0,0,r,0,l_)}},Que={draw(e,t){const r=mu(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},TV=mu(1/3),Zue=TV*2,Jue={draw(e,t){const r=mu(t/Zue),n=r*TV;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},ede={draw(e,t){const r=mu(t),n=-r/2;e.rect(n,n,r,r)}},tde=.8908130915292852,OV=$S(US/10)/$S(7*US/10),rde=$S(l_/10)*OV,nde=-SV(l_/10)*OV,ide={draw(e,t){const r=mu(t*tde),n=rde*r,i=nde*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=l_*a/5,l=SV(o),c=$S(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},OE=mu(3),ade={draw(e,t){const r=-mu(t/(OE*3));e.moveTo(0,r*2),e.lineTo(-OE*r,-r),e.lineTo(OE*r,-r),e.closePath()}},Ql=-.5,Zl=mu(3)/2,xC=1/mu(12),sde=(xC/2+1)*3,ode={draw(e,t){const r=mu(t/sde),n=r/2,i=r*xC,a=n,o=r*xC+r,l=-a,c=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Ql*n-Zl*i,Zl*n+Ql*i),e.lineTo(Ql*a-Zl*o,Zl*a+Ql*o),e.lineTo(Ql*l-Zl*c,Zl*l+Ql*c),e.lineTo(Ql*n+Zl*i,Ql*i-Zl*n),e.lineTo(Ql*a+Zl*o,Ql*o-Zl*a),e.lineTo(Ql*l+Zl*c,Ql*c-Zl*l),e.closePath()}};function lde(e,t){let r=null,n=YO(i);e=typeof e=="function"?e:Ui(e||KO),t=typeof t=="function"?t:Ui(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ui(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ui(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function zS(){}function VS(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function IV(e){this._context=e}IV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:VS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:VS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cde(e){return new IV(e)}function PV(e){this._context=e}PV.prototype={areaStart:zS,areaEnd:zS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:VS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ude(e){return new PV(e)}function kV(e){this._context=e}kV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:VS(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dde(e){return new kV(e)}function MV(e){this._context=e}MV.prototype={areaStart:zS,areaEnd:zS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function fde(e){return new MV(e)}function FM(e){return e<0?-1:1}function BM(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(FM(a)+FM(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function $M(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function IE(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,i+l*t,a-l,o-l*r,a,o)}function WS(e){this._context=e}WS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:IE(this,this._t0,$M(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,IE(this,$M(this,r=BM(this,e,t)),r);break;default:IE(this,this._t0,r=BM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function DV(e){this._context=new LV(e)}(DV.prototype=Object.create(WS.prototype)).point=function(e,t){WS.prototype.point.call(this,t,e)};function LV(e){this._context=e}LV.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function hde(e){return new WS(e)}function pde(e){return new DV(e)}function RV(e){this._context=e}RV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=UM(e),i=UM(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function UM(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function mde(e){return new RV(e)}function u_(e,t){this._context=e,this._t=t}u_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function gde(e){return new u_(e,.5)}function xde(e){return new u_(e,0)}function vde(e){return new u_(e,1)}function ig(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,l=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function vC(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function yde(e,t){return e[t]}function wde(e){const t=[];return t.key=e,t}function bde(){var e=Ui([]),t=vC,r=ig,n=yde;function i(a){var o=Array.from(e.apply(this,arguments),wde),l,c=o.length,u=-1,f;for(const p of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(p,o[l].key,u,a)]).data=p;for(l=0,f=XO(t(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ui(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ui(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?vC:typeof a=="function"?a:Ui(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??ig,i):r},i}function Sde(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}ig(e,t)}}function _de(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ig(e,t)}}function Nde(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var f=e[t[l]],p=f[n][1]||0,g=f[n-1][1]||0,x=(p-g)/2,b=0;b<l;++b){var y=e[t[b]],_=y[n][1]||0,N=y[n-1][1]||0;x+=_-N}c+=p,u+=x*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,ig(e,t)}}function fy(e){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fy(e)}var Ede=["type","size","sizeType"];function yC(){return yC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yC.apply(this,arguments)}function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(r),!0).forEach(function(n){Ade(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ade(e,t,r){return t=Cde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cde(e){var t=jde(e,"string");return fy(t)=="symbol"?t:t+""}function jde(e,t){if(fy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tde(e,t){if(e==null)return{};var r=Ode(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ode(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var FV={symbolCircle:KO,symbolCross:Que,symbolDiamond:Jue,symbolSquare:ede,symbolStar:ide,symbolTriangle:ade,symbolWye:ode},Ide=Math.PI/180,Pde=function(t){var r="symbol".concat(o_(t));return FV[r]||KO},kde=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*Ide;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Mde=function(t,r){FV["symbol".concat(o_(t))]=r},QO=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=Tde(t,Ede),u=VM(VM({},c),{},{type:n,size:a,sizeType:l}),f=function(){var _=Pde(n),N=lde().type(_).size(kde(a,l,n));return N()},p=u.className,g=u.cx,x=u.cy,b=si(u,!0);return g===+g&&x===+x&&a===+a?qe.createElement("path",yC({},b,{className:oi("recharts-symbols",p),transform:"translate(".concat(g,", ").concat(x,")"),d:f()})):null};QO.registerSymbol=Mde;function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}function wC(){return wC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wC.apply(this,arguments)}function WM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dde(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(r),!0).forEach(function(n){hy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$V(n.key),n)}}function Fde(e,t,r){return t&&Rde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bde(e,t,r){return t=HS(t),$de(e,BV()?Reflect.construct(t,r||[],HS(e).constructor):t.apply(e,r))}function $de(e,t){if(t&&(ag(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ude(e)}function Ude(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BV=function(){return!!e})()}function HS(e){return HS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},HS(e)}function zde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bC(e,t)}function bC(e,t){return bC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bC(e,t)}function hy(e,t,r){return t=$V(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $V(e){var t=Vde(e,"string");return ag(t)=="symbol"?t:t+""}function Vde(e,t){if(ag(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ag(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jl=32,ZO=function(e){function t(){return Lde(this,t),Bde(this,t,arguments)}return zde(t,e),Fde(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Jl/2,o=Jl/6,l=Jl/3,c=n.inactive?i:n.color;if(n.type==="plainline")return qe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Jl,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return qe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Jl,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return qe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Jl/8,"h").concat(Jl,"v").concat(Jl*3/4,"h").concat(-Jl,"z"),className:"recharts-legend-icon"});if(qe.isValidElement(n.legendIcon)){var u=Dde({},n);return delete u.legendIcon,qe.cloneElement(n.legendIcon,u)}return qe.createElement(QO,{fill:c,cx:a,cy:a,size:Jl,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Jl,height:Jl},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(x,b){var y=x.formatter||c,_=oi(hy(hy({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",x.inactive));if(x.type==="none")return null;var N=Vn(x.value)?null:x.value;Gd(!Vn(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=x.inactive?u:x.color;return qe.createElement("li",wC({className:_,style:p,key:"legend-item-".concat(b)},BS(n.props,x,b)),qe.createElement(dC,{width:o,height:o,viewBox:f,style:g},n.renderIcon(x)),qe.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},y?y(N,x,b):N))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return qe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(O.PureComponent);hy(ZO,"displayName","Legend");hy(ZO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Wde=G4;function Hde(){this.__data__=new Wde,this.size=0}var qde=Hde;function Gde(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Yde=Gde;function Xde(e){return this.__data__.get(e)}var Kde=Xde;function Qde(e){return this.__data__.has(e)}var Zde=Qde,Jde=G4,efe=BO,tfe=$O,rfe=200;function nfe(e,t){var r=this.__data__;if(r instanceof Jde){var n=r.__data__;if(!efe||n.length<rfe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new tfe(n)}return r.set(e,t),this.size=r.size,this}var ife=nfe,afe=G4,sfe=qde,ofe=Yde,lfe=Kde,cfe=Zde,ufe=ife;function Qg(e){var t=this.__data__=new afe(e);this.size=t.size}Qg.prototype.clear=sfe;Qg.prototype.delete=ofe;Qg.prototype.get=lfe;Qg.prototype.has=cfe;Qg.prototype.set=ufe;var UV=Qg,dfe="__lodash_hash_undefined__";function ffe(e){return this.__data__.set(e,dfe),this}var hfe=ffe;function pfe(e){return this.__data__.has(e)}var mfe=pfe,gfe=$O,xfe=hfe,vfe=mfe;function qS(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new gfe;++t<r;)this.add(e[t])}qS.prototype.add=qS.prototype.push=xfe;qS.prototype.has=vfe;var zV=qS;function yfe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var VV=yfe;function wfe(e,t){return e.has(t)}var WV=wfe,bfe=zV,Sfe=VV,_fe=WV,Nfe=1,Efe=2;function Afe(e,t,r,n,i,a){var o=r&Nfe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),f=a.get(t);if(u&&f)return u==t&&f==e;var p=-1,g=!0,x=r&Efe?new bfe:void 0;for(a.set(e,t),a.set(t,e);++p<l;){var b=e[p],y=t[p];if(n)var _=o?n(y,b,p,t,e,a):n(b,y,p,e,t,a);if(_!==void 0){if(_)continue;g=!1;break}if(x){if(!Sfe(t,function(N,E){if(!_fe(x,E)&&(b===N||i(b,N,r,n,a)))return x.push(E)})){g=!1;break}}else if(!(b===y||i(b,y,r,n,a))){g=!1;break}}return a.delete(e),a.delete(t),g}var HV=Afe,Cfe=ud,jfe=Cfe.Uint8Array,Tfe=jfe;function Ofe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var Ife=Ofe;function Pfe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var JO=Pfe,HM=P2,qM=Tfe,kfe=FO,Mfe=HV,Dfe=Ife,Lfe=JO,Rfe=1,Ffe=2,Bfe="[object Boolean]",$fe="[object Date]",Ufe="[object Error]",zfe="[object Map]",Vfe="[object Number]",Wfe="[object RegExp]",Hfe="[object Set]",qfe="[object String]",Gfe="[object Symbol]",Yfe="[object ArrayBuffer]",Xfe="[object DataView]",GM=HM?HM.prototype:void 0,PE=GM?GM.valueOf:void 0;function Kfe(e,t,r,n,i,a,o){switch(r){case Xfe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Yfe:return!(e.byteLength!=t.byteLength||!a(new qM(e),new qM(t)));case Bfe:case $fe:case Vfe:return kfe(+e,+t);case Ufe:return e.name==t.name&&e.message==t.message;case Wfe:case qfe:return e==t+"";case zfe:var l=Dfe;case Hfe:var c=n&Rfe;if(l||(l=Lfe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Ffe,o.set(e,t);var f=Mfe(l(e),l(t),n,i,a,o);return o.delete(e),f;case Gfe:if(PE)return PE.call(e)==PE.call(t)}return!1}var Qfe=Kfe;function Zfe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var qV=Zfe,Jfe=qV,ehe=ol;function the(e,t,r){var n=t(e);return ehe(e)?n:Jfe(n,r(e))}var rhe=the;function nhe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}var ihe=nhe;function ahe(){return[]}var she=ahe,ohe=ihe,lhe=she,che=Object.prototype,uhe=che.propertyIsEnumerable,YM=Object.getOwnPropertySymbols,dhe=YM?function(e){return e==null?[]:(e=Object(e),ohe(YM(e),function(t){return uhe.call(e,t)}))}:lhe,fhe=dhe;function hhe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var phe=hhe,mhe=_f,ghe=Nf,xhe="[object Arguments]";function vhe(e){return ghe(e)&&mhe(e)==xhe}var yhe=vhe,XM=yhe,whe=Nf,GV=Object.prototype,bhe=GV.hasOwnProperty,She=GV.propertyIsEnumerable,_he=XM(function(){return arguments}())?XM:function(e){return whe(e)&&bhe.call(e,"callee")&&!She.call(e,"callee")},eI=_he,GS={exports:{}};function Nhe(){return!1}var Ehe=Nhe;GS.exports;(function(e,t){var r=ud,n=Ehe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(GS,GS.exports);var YV=GS.exports,Ahe=9007199254740991,Che=/^(?:0|[1-9]\d*)$/;function jhe(e,t){var r=typeof e;return t=t??Ahe,!!t&&(r=="number"||r!="symbol"&&Che.test(e))&&e>-1&&e%1==0&&e<t}var tI=jhe,The=9007199254740991;function Ohe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=The}var rI=Ohe,Ihe=_f,Phe=rI,khe=Nf,Mhe="[object Arguments]",Dhe="[object Array]",Lhe="[object Boolean]",Rhe="[object Date]",Fhe="[object Error]",Bhe="[object Function]",$he="[object Map]",Uhe="[object Number]",zhe="[object Object]",Vhe="[object RegExp]",Whe="[object Set]",Hhe="[object String]",qhe="[object WeakMap]",Ghe="[object ArrayBuffer]",Yhe="[object DataView]",Xhe="[object Float32Array]",Khe="[object Float64Array]",Qhe="[object Int8Array]",Zhe="[object Int16Array]",Jhe="[object Int32Array]",e0e="[object Uint8Array]",t0e="[object Uint8ClampedArray]",r0e="[object Uint16Array]",n0e="[object Uint32Array]",Xi={};Xi[Xhe]=Xi[Khe]=Xi[Qhe]=Xi[Zhe]=Xi[Jhe]=Xi[e0e]=Xi[t0e]=Xi[r0e]=Xi[n0e]=!0;Xi[Mhe]=Xi[Dhe]=Xi[Ghe]=Xi[Lhe]=Xi[Yhe]=Xi[Rhe]=Xi[Fhe]=Xi[Bhe]=Xi[$he]=Xi[Uhe]=Xi[zhe]=Xi[Vhe]=Xi[Whe]=Xi[Hhe]=Xi[qhe]=!1;function i0e(e){return khe(e)&&Phe(e.length)&&!!Xi[Ihe(e)]}var a0e=i0e;function s0e(e){return function(t){return e(t)}}var XV=s0e,YS={exports:{}};YS.exports;(function(e,t){var r=nV,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(YS,YS.exports);var o0e=YS.exports,l0e=a0e,c0e=XV,KM=o0e,QM=KM&&KM.isTypedArray,u0e=QM?c0e(QM):l0e,KV=u0e,d0e=phe,f0e=eI,h0e=ol,p0e=YV,m0e=tI,g0e=KV,x0e=Object.prototype,v0e=x0e.hasOwnProperty;function y0e(e,t){var r=h0e(e),n=!r&&f0e(e),i=!r&&!n&&p0e(e),a=!r&&!n&&!i&&g0e(e),o=r||n||i||a,l=o?d0e(e.length,String):[],c=l.length;for(var u in e)(t||v0e.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||m0e(u,c)))&&l.push(u);return l}var w0e=y0e,b0e=Object.prototype;function S0e(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||b0e;return e===r}var _0e=S0e;function N0e(e,t){return function(r){return e(t(r))}}var QV=N0e,E0e=QV,A0e=E0e(Object.keys,Object),C0e=A0e,j0e=_0e,T0e=C0e,O0e=Object.prototype,I0e=O0e.hasOwnProperty;function P0e(e){if(!j0e(e))return T0e(e);var t=[];for(var r in Object(e))I0e.call(e,r)&&r!="constructor"&&t.push(r);return t}var k0e=P0e,M0e=RO,D0e=rI;function L0e(e){return e!=null&&D0e(e.length)&&!M0e(e)}var D2=L0e,R0e=w0e,F0e=k0e,B0e=D2;function $0e(e){return B0e(e)?R0e(e):F0e(e)}var d_=$0e,U0e=rhe,z0e=fhe,V0e=d_;function W0e(e){return U0e(e,V0e,z0e)}var H0e=W0e,ZM=H0e,q0e=1,G0e=Object.prototype,Y0e=G0e.hasOwnProperty;function X0e(e,t,r,n,i,a){var o=r&q0e,l=ZM(e),c=l.length,u=ZM(t),f=u.length;if(c!=f&&!o)return!1;for(var p=c;p--;){var g=l[p];if(!(o?g in t:Y0e.call(t,g)))return!1}var x=a.get(e),b=a.get(t);if(x&&b)return x==t&&b==e;var y=!0;a.set(e,t),a.set(t,e);for(var _=o;++p<c;){g=l[p];var N=e[g],E=t[g];if(n)var C=o?n(E,N,g,t,e,a):n(N,E,g,e,t,a);if(!(C===void 0?N===E||i(N,E,r,n,a):C)){y=!1;break}_||(_=g=="constructor")}if(y&&!_){var I=e.constructor,P=t.constructor;I!=P&&"constructor"in e&&"constructor"in t&&!(typeof I=="function"&&I instanceof I&&typeof P=="function"&&P instanceof P)&&(y=!1)}return a.delete(e),a.delete(t),y}var K0e=X0e,Q0e=Xp,Z0e=ud,J0e=Q0e(Z0e,"DataView"),epe=J0e,tpe=Xp,rpe=ud,npe=tpe(rpe,"Promise"),ipe=npe,ape=Xp,spe=ud,ope=ape(spe,"Set"),ZV=ope,lpe=Xp,cpe=ud,upe=lpe(cpe,"WeakMap"),dpe=upe,SC=epe,_C=BO,NC=ipe,EC=ZV,AC=dpe,JV=_f,Zg=aV,JM="[object Map]",fpe="[object Object]",eD="[object Promise]",tD="[object Set]",rD="[object WeakMap]",nD="[object DataView]",hpe=Zg(SC),ppe=Zg(_C),mpe=Zg(NC),gpe=Zg(EC),xpe=Zg(AC),D0=JV;(SC&&D0(new SC(new ArrayBuffer(1)))!=nD||_C&&D0(new _C)!=JM||NC&&D0(NC.resolve())!=eD||EC&&D0(new EC)!=tD||AC&&D0(new AC)!=rD)&&(D0=function(e){var t=JV(e),r=t==fpe?e.constructor:void 0,n=r?Zg(r):"";if(n)switch(n){case hpe:return nD;case ppe:return JM;case mpe:return eD;case gpe:return tD;case xpe:return rD}return t});var vpe=D0,kE=UV,ype=HV,wpe=Qfe,bpe=K0e,iD=vpe,aD=ol,sD=YV,Spe=KV,_pe=1,oD="[object Arguments]",lD="[object Array]",Kw="[object Object]",Npe=Object.prototype,cD=Npe.hasOwnProperty;function Epe(e,t,r,n,i,a){var o=aD(e),l=aD(t),c=o?lD:iD(e),u=l?lD:iD(t);c=c==oD?Kw:c,u=u==oD?Kw:u;var f=c==Kw,p=u==Kw,g=c==u;if(g&&sD(e)){if(!sD(t))return!1;o=!0,f=!1}if(g&&!f)return a||(a=new kE),o||Spe(e)?ype(e,t,r,n,i,a):wpe(e,t,c,r,n,i,a);if(!(r&_pe)){var x=f&&cD.call(e,"__wrapped__"),b=p&&cD.call(t,"__wrapped__");if(x||b){var y=x?e.value():e,_=b?t.value():t;return a||(a=new kE),i(y,_,r,n,a)}}return g?(a||(a=new kE),bpe(e,t,r,n,i,a)):!1}var Ape=Epe,Cpe=Ape,uD=Nf;function eW(e,t,r,n,i){return e===t?!0:e==null||t==null||!uD(e)&&!uD(t)?e!==e&&t!==t:Cpe(e,t,r,n,eW,i)}var nI=eW,jpe=UV,Tpe=nI,Ope=1,Ipe=2;function Ppe(e,t,r,n){var i=r.length,a=i,o=!n;if(e==null)return!a;for(e=Object(e);i--;){var l=r[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=r[i];var c=l[0],u=e[c],f=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var p=new jpe;if(n)var g=n(u,f,c,e,t,p);if(!(g===void 0?Tpe(f,u,Ope|Ipe,n,p):g))return!1}}return!0}var kpe=Ppe,Mpe=s0;function Dpe(e){return e===e&&!Mpe(e)}var tW=Dpe,Lpe=tW,Rpe=d_;function Fpe(e){for(var t=Rpe(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Lpe(i)]}return t}var Bpe=Fpe;function $pe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var rW=$pe,Upe=kpe,zpe=Bpe,Vpe=rW;function Wpe(e){var t=zpe(e);return t.length==1&&t[0][2]?Vpe(t[0][0],t[0][1]):function(r){return r===e||Upe(r,e,t)}}var Hpe=Wpe;function qpe(e,t){return e!=null&&t in Object(e)}var Gpe=qpe,Ype=uV,Xpe=eI,Kpe=ol,Qpe=tI,Zpe=rI,Jpe=X4;function e1e(e,t,r){t=Ype(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var o=Jpe(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&Zpe(i)&&Qpe(o,i)&&(Kpe(e)||Xpe(e)))}var t1e=e1e,r1e=Gpe,n1e=t1e;function i1e(e,t){return e!=null&&n1e(e,t,r1e)}var a1e=i1e,s1e=nI,o1e=dV,l1e=a1e,c1e=LO,u1e=tW,d1e=rW,f1e=X4,h1e=1,p1e=2;function m1e(e,t){return c1e(e)&&u1e(t)?d1e(f1e(e),t):function(r){var n=o1e(r,e);return n===void 0&&n===t?l1e(r,e):s1e(t,n,h1e|p1e)}}var g1e=m1e;function x1e(e){return e}var Jg=x1e;function v1e(e){return function(t){return t==null?void 0:t[e]}}var y1e=v1e,w1e=VO;function b1e(e){return function(t){return w1e(t,e)}}var S1e=b1e,_1e=y1e,N1e=S1e,E1e=LO,A1e=X4;function C1e(e){return E1e(e)?_1e(A1e(e)):N1e(e)}var j1e=C1e,T1e=Hpe,O1e=g1e,I1e=Jg,P1e=ol,k1e=j1e;function M1e(e){return typeof e=="function"?e:e==null?I1e:typeof e=="object"?P1e(e)?O1e(e[0],e[1]):T1e(e):k1e(e)}var o0=M1e;function D1e(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var nW=D1e;function L1e(e){return e!==e}var R1e=L1e;function F1e(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var B1e=F1e,$1e=nW,U1e=R1e,z1e=B1e;function V1e(e,t,r){return t===t?z1e(e,t,r):$1e(e,U1e,r)}var W1e=V1e,H1e=W1e;function q1e(e,t){var r=e==null?0:e.length;return!!r&&H1e(e,t,0)>-1}var G1e=q1e;function Y1e(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var X1e=Y1e;function K1e(){}var Q1e=K1e,ME=ZV,Z1e=Q1e,J1e=JO,eme=1/0,tme=ME&&1/J1e(new ME([,-0]))[1]==eme?function(e){return new ME(e)}:Z1e,rme=tme,nme=zV,ime=G1e,ame=X1e,sme=WV,ome=rme,lme=JO,cme=200;function ume(e,t,r){var n=-1,i=ime,a=e.length,o=!0,l=[],c=l;if(r)o=!1,i=ame;else if(a>=cme){var u=t?null:ome(e);if(u)return lme(u);o=!1,i=sme,c=new nme}else c=t?[]:l;e:for(;++n<a;){var f=e[n],p=t?t(f):f;if(f=r||f!==0?f:0,o&&p===p){for(var g=c.length;g--;)if(c[g]===p)continue e;t&&c.push(p),l.push(f)}else i(c,p,r)||(c!==l&&c.push(p),l.push(f))}return l}var dme=ume,fme=o0,hme=dme;function pme(e,t){return e&&e.length?hme(e,fme(t)):[]}var mme=pme;const dD=Zn(mme);function iW(e,t,r){return t===!0?dD(e,r):Vn(t)?dD(e,t):e}function sg(e){"@babel/helpers - typeof";return sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sg(e)}var gme=["ref"];function fD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ed(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fD(Object(r),!0).forEach(function(n){f_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sW(n.key),n)}}function vme(e,t,r){return t&&hD(e.prototype,t),r&&hD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yme(e,t,r){return t=XS(t),wme(e,aW()?Reflect.construct(t,r||[],XS(e).constructor):t.apply(e,r))}function wme(e,t){if(t&&(sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bme(e)}function bme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aW=function(){return!!e})()}function XS(e){return XS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},XS(e)}function Sme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CC(e,t)}function CC(e,t){return CC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},CC(e,t)}function f_(e,t,r){return t=sW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sW(e){var t=_me(e,"string");return sg(t)=="symbol"?t:t+""}function _me(e,t){if(sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nme(e,t){if(e==null)return{};var r=Eme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ame(e){return e.value}function Cme(e,t){if(qe.isValidElement(e))return qe.cloneElement(e,t);if(typeof e=="function")return qe.createElement(e,t);t.ref;var r=Nme(t,gme);return qe.createElement(ZO,r)}var pD=1,lp=function(e){function t(){var r;xme(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=yme(this,t,[].concat(i)),f_(r,"lastBoundingBox",{width:-1,height:-1}),r}return Sme(t,e),vme(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>pD||Math.abs(i.height-this.lastBoundingBox.height)>pD)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ed({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,f=i.chartHeight,p,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var x=this.getBBoxSnapshot();p={left:((u||0)-x.width)/2}}else p=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();g={top:((f||0)-b.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ed(Ed({},p),g)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,p=Ed(Ed({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return qe.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(x){n.wrapperNode=x}},Cme(a,Ed(Ed({},this.props),{},{payload:iW(f,u,Ame)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Ed(Ed({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&cr(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(O.PureComponent);f_(lp,"displayName","Legend");f_(lp,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var mD=P2,jme=eI,Tme=ol,gD=mD?mD.isConcatSpreadable:void 0;function Ome(e){return Tme(e)||jme(e)||!!(gD&&e&&e[gD])}var Ime=Ome,Pme=qV,kme=Ime;function oW(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=kme),i||(i=[]);++a<o;){var l=e[a];t>0&&r(l)?t>1?oW(l,t-1,r,n,i):Pme(i,l):n||(i[i.length]=l)}return i}var lW=oW;function Mme(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++i];if(r(a[c],c,a)===!1)break}return t}}var Dme=Mme,Lme=Dme,Rme=Lme(),Fme=Rme,Bme=Fme,$me=d_;function Ume(e,t){return e&&Bme(e,t,$me)}var cW=Ume,zme=D2;function Vme(e,t){return function(r,n){if(r==null)return r;if(!zme(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Object(r);(t?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var Wme=Vme,Hme=cW,qme=Wme,Gme=qme(Hme),iI=Gme,Yme=iI,Xme=D2;function Kme(e,t){var r=-1,n=Xme(e)?Array(e.length):[];return Yme(e,function(i,a,o){n[++r]=t(i,a,o)}),n}var uW=Kme;function Qme(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Zme=Qme,xD=qg;function Jme(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=xD(e),o=t!==void 0,l=t===null,c=t===t,u=xD(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||l&&r&&i||!o&&i||!c)return-1}return 0}var ege=Jme,tge=ege;function rge(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,l=r.length;++n<o;){var c=tge(i[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var nge=rge,DE=zO,ige=VO,age=o0,sge=uW,oge=Zme,lge=XV,cge=nge,uge=Jg,dge=ol;function fge(e,t,r){t.length?t=DE(t,function(a){return dge(a)?function(o){return ige(o,a.length===1?a[0]:a)}:a}):t=[uge];var n=-1;t=DE(t,lge(age));var i=sge(e,function(a,o,l){var c=DE(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return oge(i,function(a,o){return cge(a,o,r)})}var hge=fge;function pge(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var mge=pge,gge=mge,vD=Math.max;function xge(e,t,r){return t=vD(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=vD(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=n[i];return l[t]=r(o),gge(e,this,l)}}var vge=xge;function yge(e){return function(){return e}}var wge=yge,bge=Xp,Sge=function(){try{var e=bge(Object,"defineProperty");return e({},"",{}),e}catch{}}(),dW=Sge,_ge=wge,yD=dW,Nge=Jg,Ege=yD?function(e,t){return yD(e,"toString",{configurable:!0,enumerable:!1,value:_ge(t),writable:!0})}:Nge,Age=Ege,Cge=800,jge=16,Tge=Date.now;function Oge(e){var t=0,r=0;return function(){var n=Tge(),i=jge-(n-r);if(r=n,i>0){if(++t>=Cge)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Ige=Oge,Pge=Age,kge=Ige,Mge=kge(Pge),Dge=Mge,Lge=Jg,Rge=vge,Fge=Dge;function Bge(e,t){return Fge(Rge(e,t,Lge),e+"")}var $ge=Bge,Uge=FO,zge=D2,Vge=tI,Wge=s0;function Hge(e,t,r){if(!Wge(r))return!1;var n=typeof t;return(n=="number"?zge(r)&&Vge(t,r.length):n=="string"&&t in r)?Uge(r[t],e):!1}var h_=Hge,qge=lW,Gge=hge,Yge=$ge,wD=h_,Xge=Yge(function(e,t){if(e==null)return[];var r=t.length;return r>1&&wD(e,t[0],t[1])?t=[]:r>2&&wD(t[0],t[1],t[2])&&(t=[t[0]]),Gge(e,qge(t,1),[])}),Kge=Xge;const aI=Zn(Kge);function py(e){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},py(e)}function jC(){return jC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jC.apply(this,arguments)}function Qge(e,t){return txe(e)||exe(e,t)||Jge(e,t)||Zge()}function Zge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jge(e,t){if(e){if(typeof e=="string")return bD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bD(e,t)}}function bD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function exe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function txe(e){if(Array.isArray(e))return e}function SD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SD(Object(r),!0).forEach(function(n){rxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rxe(e,t,r){return t=nxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nxe(e){var t=ixe(e,"string");return py(t)=="symbol"?t:t+""}function ixe(e,t){if(py(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(py(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function axe(e){return Array.isArray(e)&&hs(e[0])&&hs(e[1])?e.join(" ~ "):e}var sxe=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,p=t.formatter,g=t.itemSorter,x=t.wrapperClassName,b=t.labelClassName,y=t.label,_=t.labelFormatter,N=t.accessibilityLayer,E=N===void 0?!1:N,C=function(){if(f&&f.length){var U={padding:0,margin:0},q=(g?aI(f,g):f).map(function(K,V){if(K.type==="none")return null;var ee=LE({display:"block",paddingTop:4,paddingBottom:4,color:K.color||"#000"},l),te=K.formatter||p||axe,J=K.value,ge=K.name,Ie=J,Ge=ge;if(te&&Ie!=null&&Ge!=null){var W=te(J,ge,K,V,f);if(Array.isArray(W)){var Q=Qge(W,2);Ie=Q[0],Ge=Q[1]}else Ie=W}return qe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:ee},hs(Ge)?qe.createElement("span",{className:"recharts-tooltip-item-name"},Ge):null,hs(Ge)?qe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,qe.createElement("span",{className:"recharts-tooltip-item-value"},Ie),qe.createElement("span",{className:"recharts-tooltip-item-unit"},K.unit||""))});return qe.createElement("ul",{className:"recharts-tooltip-item-list",style:U},q)}return null},I=LE({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),P=LE({margin:0},u),D=!di(y),k=D?y:"",L=oi("recharts-default-tooltip",x),B=oi("recharts-tooltip-label",b);D&&_&&f!==void 0&&f!==null&&(k=_(y,f));var G=E?{role:"status","aria-live":"assertive"}:{};return qe.createElement("div",jC({className:L,style:I},G),qe.createElement("p",{className:B,style:P},qe.isValidElement(k)?k:"".concat(k)),C())};function my(e){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},my(e)}function Qw(e,t,r){return t=oxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oxe(e){var t=lxe(e,"string");return my(t)=="symbol"?t:t+""}function lxe(e,t){if(my(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(my(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fx="recharts-tooltip-wrapper",cxe={visibility:"hidden"};function uxe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return oi(Fx,Qw(Qw(Qw(Qw({},"".concat(Fx,"-right"),cr(r)&&t&&cr(t.x)&&r>=t.x),"".concat(Fx,"-left"),cr(r)&&t&&cr(t.x)&&r<t.x),"".concat(Fx,"-bottom"),cr(n)&&t&&cr(t.y)&&n>=t.y),"".concat(Fx,"-top"),cr(n)&&t&&cr(t.y)&&n<t.y))}function _D(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&cr(a[n]))return a[n];var f=r[n]-l-i,p=r[n]+i;if(t[n])return o[n]?f:p;if(o[n]){var g=f,x=c[n];return g<x?Math.max(p,c[n]):Math.max(f,c[n])}var b=p+l,y=c[n]+u;return b>y?Math.max(f,c[n]):Math.max(p,c[n])}function dxe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function fxe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,p;return o.height>0&&o.width>0&&r?(f=_D({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=_D({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=dxe({translateX:f,translateY:p,useTranslate3d:l})):u=cxe,{cssProperties:u,cssClasses:uxe({translateX:f,translateY:p,coordinate:r})}}function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function ND(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ED(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(r),!0).forEach(function(n){OC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ND(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hW(n.key),n)}}function mxe(e,t,r){return t&&pxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gxe(e,t,r){return t=KS(t),xxe(e,fW()?Reflect.construct(t,r||[],KS(e).constructor):t.apply(e,r))}function xxe(e,t){if(t&&(og(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vxe(e)}function vxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fW=function(){return!!e})()}function KS(e){return KS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},KS(e)}function yxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TC(e,t)}function TC(e,t){return TC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TC(e,t)}function OC(e,t,r){return t=hW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hW(e){var t=wxe(e,"string");return og(t)=="symbol"?t:t+""}function wxe(e,t){if(og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(og(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AD=1,bxe=function(e){function t(){var r;hxe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=gxe(this,t,[].concat(i)),OC(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),OC(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return yxe(t,e),mxe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>AD||Math.abs(n.height-this.state.lastBoundingBox.height)>AD)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,f=i.coordinate,p=i.hasPayload,g=i.isAnimationActive,x=i.offset,b=i.position,y=i.reverseDirection,_=i.useTranslate3d,N=i.viewBox,E=i.wrapperStyle,C=fxe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:x,position:b,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:N}),I=C.cssClasses,P=C.cssProperties,D=ED(ED({transition:g&&a?"transform ".concat(l,"ms ").concat(c):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&p?"visible":"hidden",position:"absolute",top:0,left:0},E);return qe.createElement("div",{tabIndex:-1,className:I,style:D,ref:function(L){n.wrapperNode=L}},u)}}])}(O.PureComponent),Sxe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Dh={isSsr:Sxe(),get:function(t){return Dh[t]},set:function(t,r){if(typeof t=="string")Dh[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(i){Dh[i]=t[i]})}}};function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function CD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(r),!0).forEach(function(n){sI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mW(n.key),n)}}function Exe(e,t,r){return t&&Nxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Axe(e,t,r){return t=QS(t),Cxe(e,pW()?Reflect.construct(t,r||[],QS(e).constructor):t.apply(e,r))}function Cxe(e,t){if(t&&(lg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jxe(e)}function jxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pW=function(){return!!e})()}function QS(e){return QS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},QS(e)}function Txe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IC(e,t)}function IC(e,t){return IC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IC(e,t)}function sI(e,t,r){return t=mW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mW(e){var t=Oxe(e,"string");return lg(t)=="symbol"?t:t+""}function Oxe(e,t){if(lg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ixe(e){return e.dataKey}function Pxe(e,t){return qe.isValidElement(e)?qe.cloneElement(e,t):typeof e=="function"?qe.createElement(e,t):qe.createElement(sxe,t)}var Pu=function(e){function t(){return _xe(this,t),Axe(this,t,arguments)}return Txe(t,e),Exe(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,f=i.coordinate,p=i.filterNull,g=i.isAnimationActive,x=i.offset,b=i.payload,y=i.payloadUniqBy,_=i.position,N=i.reverseDirection,E=i.useTranslate3d,C=i.viewBox,I=i.wrapperStyle,P=b??[];p&&P.length&&(P=iW(b.filter(function(k){return k.value!=null&&(k.hide!==!0||n.props.includeHidden)}),y,Ixe));var D=P.length>0;return qe.createElement(bxe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:g,active:a,coordinate:f,hasPayload:D,offset:x,position:_,reverseDirection:N,useTranslate3d:E,viewBox:C,wrapperStyle:I},Pxe(u,jD(jD({},this.props),{},{payload:P})))}}])}(O.PureComponent);sI(Pu,"displayName","Tooltip");sI(Pu,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Dh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var kxe=ud,Mxe=function(){return kxe.Date.now()},Dxe=Mxe,Lxe=/\s/;function Rxe(e){for(var t=e.length;t--&&Lxe.test(e.charAt(t)););return t}var Fxe=Rxe,Bxe=Fxe,$xe=/^\s+/;function Uxe(e){return e&&e.slice(0,Bxe(e)+1).replace($xe,"")}var zxe=Uxe,Vxe=zxe,TD=s0,Wxe=qg,OD=NaN,Hxe=/^[-+]0x[0-9a-f]+$/i,qxe=/^0b[01]+$/i,Gxe=/^0o[0-7]+$/i,Yxe=parseInt;function Xxe(e){if(typeof e=="number")return e;if(Wxe(e))return OD;if(TD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=TD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Vxe(e);var r=qxe.test(e);return r||Gxe.test(e)?Yxe(e.slice(2),r?2:8):Hxe.test(e)?OD:+e}var gW=Xxe,Kxe=s0,RE=Dxe,ID=gW,Qxe="Expected a function",Zxe=Math.max,Jxe=Math.min;function eve(e,t,r){var n,i,a,o,l,c,u=0,f=!1,p=!1,g=!0;if(typeof e!="function")throw new TypeError(Qxe);t=ID(t)||0,Kxe(r)&&(f=!!r.leading,p="maxWait"in r,a=p?Zxe(ID(r.maxWait)||0,t):a,g="trailing"in r?!!r.trailing:g);function x(D){var k=n,L=i;return n=i=void 0,u=D,o=e.apply(L,k),o}function b(D){return u=D,l=setTimeout(N,t),f?x(D):o}function y(D){var k=D-c,L=D-u,B=t-k;return p?Jxe(B,a-L):B}function _(D){var k=D-c,L=D-u;return c===void 0||k>=t||k<0||p&&L>=a}function N(){var D=RE();if(_(D))return E(D);l=setTimeout(N,y(D))}function E(D){return l=void 0,g&&n?x(D):(n=i=void 0,o)}function C(){l!==void 0&&clearTimeout(l),u=0,n=c=i=l=void 0}function I(){return l===void 0?o:E(RE())}function P(){var D=RE(),k=_(D);if(n=arguments,i=this,c=D,k){if(l===void 0)return b(c);if(p)return clearTimeout(l),l=setTimeout(N,t),x(c)}return l===void 0&&(l=setTimeout(N,t)),o}return P.cancel=C,P.flush=I,P}var tve=eve,rve=tve,nve=s0,ive="Expected a function";function ave(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(ive);return nve(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),rve(e,t,{leading:n,maxWait:t,trailing:i})}var sve=ave;const xW=Zn(sve);function gy(e){"@babel/helpers - typeof";return gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gy(e)}function PD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PD(Object(r),!0).forEach(function(n){ove(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ove(e,t,r){return t=lve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lve(e){var t=cve(e,"string");return gy(t)=="symbol"?t:t+""}function cve(e,t){if(gy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uve(e,t){return pve(e)||hve(e,t)||fve(e,t)||dve()}function dve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fve(e,t){if(e){if(typeof e=="string")return kD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kD(e,t)}}function kD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function pve(e){if(Array.isArray(e))return e}var mve=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,p=e.minHeight,g=e.maxHeight,x=e.children,b=e.debounce,y=b===void 0?0:b,_=e.id,N=e.className,E=e.onResize,C=e.style,I=C===void 0?{}:C,P=O.useRef(null),D=O.useRef();D.current=E,O.useImperativeHandle(t,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var k=O.useState({containerWidth:i.width,containerHeight:i.height}),L=uve(k,2),B=L[0],G=L[1],F=O.useCallback(function(q,K){G(function(V){var ee=Math.round(q),te=Math.round(K);return V.containerWidth===ee&&V.containerHeight===te?V:{containerWidth:ee,containerHeight:te}})},[]);O.useEffect(function(){var q=function(ge){var Ie,Ge=ge[0].contentRect,W=Ge.width,Q=Ge.height;F(W,Q),(Ie=D.current)===null||Ie===void 0||Ie.call(D,W,Q)};y>0&&(q=xW(q,y,{trailing:!0,leading:!1}));var K=new ResizeObserver(q),V=P.current.getBoundingClientRect(),ee=V.width,te=V.height;return F(ee,te),K.observe(P.current),function(){K.disconnect()}},[F,y]);var U=O.useMemo(function(){var q=B.containerWidth,K=B.containerHeight;if(q<0||K<0)return null;Gd(H0(o)||H0(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Gd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=H0(o)?q:o,ee=H0(c)?K:c;r&&r>0&&(V?ee=V/r:ee&&(V=ee*r),g&&ee>g&&(ee=g)),Gd(V>0||ee>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,ee,o,c,f,p,r);var te=!Array.isArray(x)&&qd(x.type).endsWith("Chart");return qe.Children.map(x,function(J){return qe.isValidElement(J)?O.cloneElement(J,Zw({width:V,height:ee},te?{style:Zw({height:"100%",width:"100%",maxHeight:ee,maxWidth:V},J.props.style)}:{})):J})},[r,x,c,g,p,f,B,o]);return qe.createElement("div",{id:_?"".concat(_):void 0,className:oi("recharts-responsive-container",N),style:Zw(Zw({},I),{},{width:o,height:c,minWidth:f,minHeight:p,maxHeight:g}),ref:P},U)}),vW=function(t){return null};vW.displayName="Cell";function xy(e){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xy(e)}function MD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(r),!0).forEach(function(n){gve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gve(e,t,r){return t=xve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xve(e){var t=vve(e,"string");return xy(t)=="symbol"?t:t+""}function vve(e,t){if(xy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v1={widthCache:{},cacheCount:0},yve=2e3,wve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DD="recharts_measurement_span";function bve(e){var t=PC({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Tv=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Dh.isSsr)return{width:0,height:0};var n=bve(r),i=JSON.stringify({text:t,copyStyle:n});if(v1.widthCache[i])return v1.widthCache[i];try{var a=document.getElementById(DD);a||(a=document.createElement("span"),a.setAttribute("id",DD),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=PC(PC({},wve),n);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return v1.widthCache[i]=c,++v1.cacheCount>yve&&(v1.cacheCount=0,v1.widthCache={}),c}catch{return{width:0,height:0}}},Sve=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function vy(e){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vy(e)}function ZS(e,t){return Ave(e)||Eve(e,t)||Nve(e,t)||_ve()}function _ve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nve(e,t){if(e){if(typeof e=="string")return LD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LD(e,t)}}function LD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Ave(e){if(Array.isArray(e))return e}function Cve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tve(n.key),n)}}function jve(e,t,r){return t&&RD(e.prototype,t),r&&RD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tve(e){var t=Ove(e,"string");return vy(t)=="symbol"?t:t+""}function Ove(e,t){if(vy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ive=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Pve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kve=Object.keys(yW),J1="NaN";function Mve(e,t){return e*yW[t]}var Jw=function(){function e(t,r){Cve(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Ive.test(r)&&(this.num=NaN,this.unit=""),kve.includes(r)&&(this.num=Mve(t,r),this.unit="px")}return jve(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Pve.exec(r))!==null&&n!==void 0?n:[],a=ZS(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function wW(e){if(e.includes(J1))return J1;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=FD.exec(t))!==null&&r!==void 0?r:[],i=ZS(n,4),a=i[1],o=i[2],l=i[3],c=Jw.parse(a??""),u=Jw.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return J1;t=t.replace(FD,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,g=(p=BD.exec(t))!==null&&p!==void 0?p:[],x=ZS(g,4),b=x[1],y=x[2],_=x[3],N=Jw.parse(b??""),E=Jw.parse(_??""),C=y==="+"?N.add(E):N.subtract(E);if(C.isNaN())return J1;t=t.replace(BD,C.toString())}return t}var $D=/\(([^()]*)\)/;function Dve(e){for(var t=e;t.includes("(");){var r=$D.exec(t),n=ZS(r,2),i=n[1];t=t.replace($D,wW(i))}return t}function Lve(e){var t=e.replace(/\s+/g,"");return t=Dve(t),t=wW(t),t}function Rve(e){try{return Lve(e)}catch{return J1}}function FE(e){var t=Rve(e.slice(5,-1));return t===J1?"":t}var Fve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Bve=["dx","dy","angle","className","breakAll"];function kC(){return kC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kC.apply(this,arguments)}function UD(e,t){if(e==null)return{};var r=$ve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zD(e,t){return Wve(e)||Vve(e,t)||zve(e,t)||Uve()}function Uve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zve(e,t){if(e){if(typeof e=="string")return VD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VD(e,t)}}function VD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Wve(e){if(Array.isArray(e))return e}var bW=/[ \f\n\r\t\v\u2028\u2029]+/,SW=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];di(r)||(n?a=r.toString().split(""):a=r.toString().split(bW));var o=a.map(function(c){return{word:c,width:Tv(c,i).width}}),l=n?0:Tv("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Hve=function(t,r,n,i,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=cr(o),p=l,g=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(ee,te){var J=te.word,ge=te.width,Ie=ee[ee.length-1];if(Ie&&(i==null||a||Ie.width+ge+n<Number(i)))Ie.words.push(J),Ie.width+=ge+n;else{var Ge={words:[J],width:ge};ee.push(Ge)}return ee},[])},x=g(r),b=function(V){return V.reduce(function(ee,te){return ee.width>te.width?ee:te})};if(!f)return x;for(var y="",_=function(V){var ee=p.slice(0,V),te=SW({breakAll:u,style:c,children:ee+y}).wordsWithComputedWidth,J=g(te),ge=J.length>o||b(J).width>Number(i);return[ge,J]},N=0,E=p.length-1,C=0,I;N<=E&&C<=p.length-1;){var P=Math.floor((N+E)/2),D=P-1,k=_(D),L=zD(k,2),B=L[0],G=L[1],F=_(P),U=zD(F,1),q=U[0];if(!B&&!q&&(N=P+1),B&&q&&(E=P-1),!B&&q){I=G;break}C++}return I||x},WD=function(t){var r=di(t)?[]:t.toString().split(bW);return[{words:r}]},qve=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Dh.isSsr){var c,u,f=SW({breakAll:o,children:i,style:a});if(f){var p=f.wordsWithComputedWidth,g=f.spaceWidth;c=p,u=g}else return WD(i);return Hve({breakAll:o,children:i,maxLines:l,style:a},c,u,r,n)}return WD(i)},HD="#808080",JS=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,p=f===void 0?!1:f,g=t.textAnchor,x=g===void 0?"start":g,b=t.verticalAnchor,y=b===void 0?"end":b,_=t.fill,N=_===void 0?HD:_,E=UD(t,Fve),C=O.useMemo(function(){return qve({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:p,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,p,E.style,E.width]),I=E.dx,P=E.dy,D=E.angle,k=E.className,L=E.breakAll,B=UD(E,Bve);if(!hs(n)||!hs(a))return null;var G=n+(cr(I)?I:0),F=a+(cr(P)?P:0),U;switch(y){case"start":U=FE("calc(".concat(u,")"));break;case"middle":U=FE("calc(".concat((C.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:U=FE("calc(".concat(C.length-1," * -").concat(l,")"));break}var q=[];if(p){var K=C[0].width,V=E.width;q.push("scale(".concat((cr(V)?V/K:1)/K,")"))}return D&&q.push("rotate(".concat(D,", ").concat(G,", ").concat(F,")")),q.length&&(B.transform=q.join(" ")),qe.createElement("text",kC({},si(B,!0),{x:G,y:F,className:oi("recharts-text",k),textAnchor:x,fill:N.includes("url")?HD:N}),C.map(function(ee,te){var J=ee.words.join(L?"":" ");return qe.createElement("tspan",{x:G,dy:te===0?U:l,key:"".concat(J,"-").concat(te)},J)}))};function Lh(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Gve(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function oI(e){let t,r,n;e.length!==2?(t=Lh,r=(l,c)=>Lh(e(l),c),n=(l,c)=>e(l)-c):(t=e===Lh||e===Gve?e:Yve,r=e,n=e);function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const p=u+f>>>1;r(l[p],c)<0?u=p+1:f=p}while(u<f)}return u}function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const p=u+f>>>1;r(l[p],c)<=0?u=p+1:f=p}while(u<f)}return u}function o(l,c,u=0,f=l.length){const p=i(l,c,u,f-1);return p>u&&n(l[p-1],c)>-n(l[p],c)?p-1:p}return{left:i,center:o,right:a}}function Yve(){return 0}function _W(e){return e===null?NaN:+e}function*Xve(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Kve=oI(Lh),L2=Kve.right;oI(_W).center;class qD extends Map{constructor(t,r=Jve){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(GD(this,t))}has(t){return super.has(GD(this,t))}set(t,r){return super.set(Qve(this,t),r)}delete(t){return super.delete(Zve(this,t))}}function GD({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Qve({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Zve({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Jve(e){return e!==null&&typeof e=="object"?e.valueOf():e}function eye(e=Lh){if(e===Lh)return NW;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function NW(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const tye=Math.sqrt(50),rye=Math.sqrt(10),nye=Math.sqrt(2);function e5(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=tye?10:a>=rye?5:a>=nye?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?e5(e,t,r*2):[l,c,u]}function MC(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?e5(t,e,r):e5(e,t,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function DC(e,t,r){return t=+t,e=+e,r=+r,e5(e,t,r)[2]}function LC(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?DC(t,e,r):DC(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function YD(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function XD(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function EW(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?NW:eye(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(c-p)/c)*(u-c/2<0?-1:1),x=Math.max(r,Math.floor(t-u*p/c+g)),b=Math.min(n,Math.floor(t+(c-u)*p/c+g));EW(e,t,x,b,i)}const a=e[t];let o=r,l=n;for(Bx(e,r,t),i(e[n],a)>0&&Bx(e,r,n);o<l;){for(Bx(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[r],a)===0?Bx(e,r,l):(++l,Bx(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Bx(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function iye(e,t,r){if(e=Float64Array.from(Xve(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return XD(e);if(t>=1)return YD(e);var n,i=(n-1)*t,a=Math.floor(i),o=YD(EW(e,a).subarray(0,a+1)),l=XD(e.subarray(a+1));return o+(l-o)*(i-a)}}function aye(e,t,r=_W){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function sye(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function bc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ef(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const RC=Symbol("implicit");function lI(){var e=new qD,t=[],r=[],n=RC;function i(a){let o=e.get(a);if(o===void 0){if(n!==RC)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new qD;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return lI(t,r).unknown(n)},bc.apply(i,arguments),i}function yy(){var e=lI().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function p(){var g=t().length,x=i<n,b=x?i:n,y=x?n:i;a=(y-b)/Math.max(1,g-c+u*2),l&&(a=Math.floor(a)),b+=(y-b-a*(g-c))*f,o=a*(1-c),l&&(b=Math.round(b),o=Math.round(o));var _=sye(g).map(function(N){return b+a*N});return r(x?_.reverse():_)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(g){return arguments.length?(l=!!g,p()):l},e.padding=function(g){return arguments.length?(c=Math.min(1,u=+g),p()):c},e.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},e.paddingOuter=function(g){return arguments.length?(u=+g,p()):u},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),p()):f},e.copy=function(){return yy(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(f)},bc.apply(p(),arguments)}function AW(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return AW(t())},e}function Ov(){return AW(yy.apply(null,arguments).paddingInner(1))}function cI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function CW(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function R2(){}var wy=.7,t5=1/wy,vm="\\s*([+-]?\\d+)\\s*",by="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oye=/^#([0-9a-f]{3,8})$/,lye=new RegExp(`^rgb\\(${vm},${vm},${vm}\\)$`),cye=new RegExp(`^rgb\\(${Xu},${Xu},${Xu}\\)$`),uye=new RegExp(`^rgba\\(${vm},${vm},${vm},${by}\\)$`),dye=new RegExp(`^rgba\\(${Xu},${Xu},${Xu},${by}\\)$`),fye=new RegExp(`^hsl\\(${by},${Xu},${Xu}\\)$`),hye=new RegExp(`^hsla\\(${by},${Xu},${Xu},${by}\\)$`),KD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cI(R2,Sy,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:QD,formatHex:QD,formatHex8:pye,formatHsl:mye,formatRgb:ZD,toString:ZD});function QD(){return this.rgb().formatHex()}function pye(){return this.rgb().formatHex8()}function mye(){return jW(this).formatHsl()}function ZD(){return this.rgb().formatRgb()}function Sy(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=oye.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?JD(t):r===3?new Zo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?eb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?eb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lye.exec(e))?new Zo(t[1],t[2],t[3],1):(t=cye.exec(e))?new Zo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uye.exec(e))?eb(t[1],t[2],t[3],t[4]):(t=dye.exec(e))?eb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fye.exec(e))?rL(t[1],t[2]/100,t[3]/100,1):(t=hye.exec(e))?rL(t[1],t[2]/100,t[3]/100,t[4]):KD.hasOwnProperty(e)?JD(KD[e]):e==="transparent"?new Zo(NaN,NaN,NaN,0):null}function JD(e){return new Zo(e>>16&255,e>>8&255,e&255,1)}function eb(e,t,r,n){return n<=0&&(e=t=r=NaN),new Zo(e,t,r,n)}function gye(e){return e instanceof R2||(e=Sy(e)),e?(e=e.rgb(),new Zo(e.r,e.g,e.b,e.opacity)):new Zo}function FC(e,t,r,n){return arguments.length===1?gye(e):new Zo(e,t,r,n??1)}function Zo(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}cI(Zo,FC,CW(R2,{brighter(e){return e=e==null?t5:Math.pow(t5,e),new Zo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wy:Math.pow(wy,e),new Zo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zo(cp(this.r),cp(this.g),cp(this.b),r5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eL,formatHex:eL,formatHex8:xye,formatRgb:tL,toString:tL}));function eL(){return`#${q0(this.r)}${q0(this.g)}${q0(this.b)}`}function xye(){return`#${q0(this.r)}${q0(this.g)}${q0(this.b)}${q0((isNaN(this.opacity)?1:this.opacity)*255)}`}function tL(){const e=r5(this.opacity);return`${e===1?"rgb(":"rgba("}${cp(this.r)}, ${cp(this.g)}, ${cp(this.b)}${e===1?")":`, ${e})`}`}function r5(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cp(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function q0(e){return e=cp(e),(e<16?"0":"")+e.toString(16)}function rL(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Gc(e,t,r,n)}function jW(e){if(e instanceof Gc)return new Gc(e.h,e.s,e.l,e.opacity);if(e instanceof R2||(e=Sy(e)),!e)return new Gc;if(e instanceof Gc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Gc(o,l,c,e.opacity)}function vye(e,t,r,n){return arguments.length===1?jW(e):new Gc(e,t,r,n??1)}function Gc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}cI(Gc,vye,CW(R2,{brighter(e){return e=e==null?t5:Math.pow(t5,e),new Gc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wy:Math.pow(wy,e),new Gc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Zo(BE(e>=240?e-240:e+120,i,n),BE(e,i,n),BE(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Gc(nL(this.h),tb(this.s),tb(this.l),r5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=r5(this.opacity);return`${e===1?"hsl(":"hsla("}${nL(this.h)}, ${tb(this.s)*100}%, ${tb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function nL(e){return e=(e||0)%360,e<0?e+360:e}function tb(e){return Math.max(0,Math.min(1,e||0))}function BE(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const uI=e=>()=>e;function yye(e,t){return function(r){return e+r*t}}function wye(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function bye(e){return(e=+e)==1?TW:function(t,r){return r-t?wye(t,r,e):uI(isNaN(t)?r:t)}}function TW(e,t){var r=t-e;return r?yye(e,r):uI(isNaN(e)?t:e)}const iL=function e(t){var r=bye(t);function n(i,a){var o=r((i=FC(i)).r,(a=FC(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=TW(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=u(f),i+""}}return n.gamma=e,n}(1);function Sye(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function _ye(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Nye(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=ex(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function Eye(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function n5(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Aye(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=ex(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var BC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$E=new RegExp(BC.source,"g");function Cye(e){return function(){return e}}function jye(e){return function(t){return e(t)+""}}function Tye(e,t){var r=BC.lastIndex=$E.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=BC.exec(e))&&(i=$E.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:n5(n,i)})),r=$E.lastIndex;return r<t.length&&(a=t.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?jye(c[0].x):Cye(t):(t=c.length,function(u){for(var f=0,p;f<t;++f)l[(p=c[f]).i]=p.x(u);return l.join("")})}function ex(e,t){var r=typeof t,n;return t==null||r==="boolean"?uI(t):(r==="number"?n5:r==="string"?(n=Sy(t))?(t=n,iL):Tye:t instanceof Sy?iL:t instanceof Date?Eye:_ye(t)?Sye:Array.isArray(t)?Nye:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Aye:n5)(e,t)}function dI(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Oye(e,t){t===void 0&&(t=e,e=ex);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function Iye(e){return function(){return e}}function i5(e){return+e}var aL=[0,1];function Co(e){return e}function $C(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Iye(isNaN(t)?NaN:.5)}function Pye(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function kye(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=$C(i,n),a=r(o,a)):(n=$C(n,i),a=r(a,o)),function(l){return a(n(l))}}function Mye(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=$C(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(l){var c=L2(e,l,1,n)-1;return a[c](i[c](l))}}function F2(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function p_(){var e=aL,t=aL,r=ex,n,i,a,o=Co,l,c,u;function f(){var g=Math.min(e.length,t.length);return o!==Co&&(o=Pye(e[0],e[g-1])),l=g>2?Mye:kye,c=u=null,p}function p(g){return g==null||isNaN(g=+g)?a:(c||(c=l(e.map(n),t,r)))(n(o(g)))}return p.invert=function(g){return o(i((u||(u=l(t,e.map(n),n5)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,i5),f()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),r=dI,f()},p.clamp=function(g){return arguments.length?(o=g?!0:Co,f()):o!==Co},p.interpolate=function(g){return arguments.length?(r=g,f()):r},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,x){return n=g,i=x,f()}}function fI(){return p_()(Co,Co)}function Dye(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function a5(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function cg(e){return e=a5(Math.abs(e)),e?e[1]:NaN}function Lye(e,t){return function(r,n){for(var i=r.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Rye(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Fye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _y(e){if(!(t=Fye.exec(e)))throw new Error("invalid format: "+e);var t;return new hI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_y.prototype=hI.prototype;function hI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}hI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bye(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var OW;function $ye(e,t){var r=a5(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(OW=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+a5(e,Math.max(0,t+a-1))[0]}function sL(e,t){var r=a5(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const oL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Dye,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>sL(e*100,t),r:sL,s:$ye,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lL(e){return e}var cL=Array.prototype.map,uL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Uye(e){var t=e.grouping===void 0||e.thousands===void 0?lL:Lye(cL.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?lL:Rye(cL.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(p){p=_y(p);var g=p.fill,x=p.align,b=p.sign,y=p.symbol,_=p.zero,N=p.width,E=p.comma,C=p.precision,I=p.trim,P=p.type;P==="n"?(E=!0,P="g"):oL[P]||(C===void 0&&(C=12),I=!0,P="g"),(_||g==="0"&&x==="=")&&(_=!0,g="0",x="=");var D=y==="$"?r:y==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",k=y==="$"?n:/[%p]/.test(P)?o:"",L=oL[P],B=/[defgprs%]/.test(P);C=C===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function G(F){var U=D,q=k,K,V,ee;if(P==="c")q=L(F)+q,F="";else{F=+F;var te=F<0||1/F<0;if(F=isNaN(F)?c:L(Math.abs(F),C),I&&(F=Bye(F)),te&&+F==0&&b!=="+"&&(te=!1),U=(te?b==="("?b:l:b==="-"||b==="("?"":b)+U,q=(P==="s"?uL[8+OW/3]:"")+q+(te&&b==="("?")":""),B){for(K=-1,V=F.length;++K<V;)if(ee=F.charCodeAt(K),48>ee||ee>57){q=(ee===46?i+F.slice(K+1):F.slice(K))+q,F=F.slice(0,K);break}}}E&&!_&&(F=t(F,1/0));var J=U.length+F.length+q.length,ge=J<N?new Array(N-J+1).join(g):"";switch(E&&_&&(F=t(ge+F,ge.length?N-q.length:1/0),ge=""),x){case"<":F=U+F+q+ge;break;case"=":F=U+ge+F+q;break;case"^":F=ge.slice(0,J=ge.length>>1)+U+F+q+ge.slice(J);break;default:F=ge+U+F+q;break}return a(F)}return G.toString=function(){return p+""},G}function f(p,g){var x=u((p=_y(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(cg(g)/3)))*3,y=Math.pow(10,-b),_=uL[8+b/3];return function(N){return x(y*N)+_}}return{format:u,formatPrefix:f}}var rb,pI,IW;zye({thousands:",",grouping:[3],currency:["$",""]});function zye(e){return rb=Uye(e),pI=rb.format,IW=rb.formatPrefix,rb}function Vye(e){return Math.max(0,-cg(Math.abs(e)))}function Wye(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cg(t)/3)))*3-cg(Math.abs(e)))}function Hye(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cg(t)-cg(e))+1}function PW(e,t,r,n){var i=LC(e,t,r),a;switch(n=_y(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Wye(i,o))&&(n.precision=a),IW(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Hye(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Vye(i))&&(n.precision=a-(n.type==="%")*2);break}}return pI(n)}function l0(e){var t=e.domain;return e.ticks=function(r){var n=t();return MC(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return PW(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],l=n[a],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);f-- >0;){if(u=DC(o,l,r),u===c)return n[i]=o,n[a]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function s5(){var e=fI();return e.copy=function(){return F2(e,s5())},bc.apply(e,arguments),l0(e)}function kW(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,i5),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return kW(e).unknown(t)},e=arguments.length?Array.from(e,i5):[0,1],l0(r)}function MW(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function dL(e){return Math.log(e)}function fL(e){return Math.exp(e)}function qye(e){return-Math.log(-e)}function Gye(e){return-Math.exp(-e)}function Yye(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Xye(e){return e===10?Yye:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Kye(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function hL(e){return(t,r)=>-e(-t,r)}function mI(e){const t=e(dL,fL),r=t.domain;let n=10,i,a;function o(){return i=Kye(n),a=Xye(n),r()[0]<0?(i=hL(i),a=hL(a),e(qye,Gye)):e(dL,fL),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const p=f<u;p&&([u,f]=[f,u]);let g=i(u),x=i(f),b,y;const _=l==null?10:+l;let N=[];if(!(n%1)&&x-g<_){if(g=Math.floor(g),x=Math.ceil(x),u>0){for(;g<=x;++g)for(b=1;b<n;++b)if(y=g<0?b/a(-g):b*a(g),!(y<u)){if(y>f)break;N.push(y)}}else for(;g<=x;++g)for(b=n-1;b>=1;--b)if(y=g>0?b/a(-g):b*a(g),!(y<u)){if(y>f)break;N.push(y)}N.length*2<_&&(N=MC(u,f,_))}else N=MC(g,x,Math.min(x-g,_)).map(a);return p?N.reverse():N},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=_y(c)).precision==null&&(c.trim=!0),c=pI(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let p=f/a(Math.round(i(f)));return p*n<n-.5&&(p*=n),p<=u?c(f):""}},t.nice=()=>r(MW(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function DW(){const e=mI(p_()).domain([1,10]);return e.copy=()=>F2(e,DW()).base(e.base()),bc.apply(e,arguments),e}function pL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function gI(e){var t=1,r=e(pL(t),mL(t));return r.constant=function(n){return arguments.length?e(pL(t=+n),mL(t)):t},l0(r)}function LW(){var e=gI(p_());return e.copy=function(){return F2(e,LW()).constant(e.constant())},bc.apply(e,arguments)}function gL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Qye(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Zye(e){return e<0?-e*e:e*e}function xI(e){var t=e(Co,Co),r=1;function n(){return r===1?e(Co,Co):r===.5?e(Qye,Zye):e(gL(r),gL(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},l0(t)}function vI(){var e=xI(p_());return e.copy=function(){return F2(e,vI()).exponent(e.exponent())},bc.apply(e,arguments),e}function Jye(){return vI.apply(null,arguments).exponent(.5)}function xL(e){return Math.sign(e)*e*e}function e2e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function RW(){var e=fI(),t=[0,1],r=!1,n;function i(a){var o=e2e(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(xL(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,i5)).map(xL)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return RW(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},bc.apply(i,arguments),l0(i)}function FW(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=aye(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:t[L2(r,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Lh),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return FW().domain(e).range(t).unknown(n)},bc.apply(a,arguments)}function BW(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[L2(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return BW().domain([e,t]).range(i).unknown(a)},bc.apply(l0(o),arguments)}function $W(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[L2(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return $W().domain(e).range(t).unknown(r)},bc.apply(i,arguments)}const UE=new Date,zE=new Date;function ps(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},i.filter=a=>ps(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(UE.setTime(+a),zE.setTime(+o),e(UE),e(zE),Math.floor(r(UE,zE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const o5=ps(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);o5.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ps(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):o5);o5.range;const Fd=1e3,fc=Fd*60,Bd=fc*60,of=Bd*24,yI=of*7,vL=of*30,VE=of*365,G0=ps(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fd)},(e,t)=>(t-e)/Fd,e=>e.getUTCSeconds());G0.range;const wI=ps(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fd)},(e,t)=>{e.setTime(+e+t*fc)},(e,t)=>(t-e)/fc,e=>e.getMinutes());wI.range;const bI=ps(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*fc)},(e,t)=>(t-e)/fc,e=>e.getUTCMinutes());bI.range;const SI=ps(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fd-e.getMinutes()*fc)},(e,t)=>{e.setTime(+e+t*Bd)},(e,t)=>(t-e)/Bd,e=>e.getHours());SI.range;const _I=ps(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Bd)},(e,t)=>(t-e)/Bd,e=>e.getUTCHours());_I.range;const B2=ps(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fc)/of,e=>e.getDate()-1);B2.range;const m_=ps(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/of,e=>e.getUTCDate()-1);m_.range;const UW=ps(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/of,e=>Math.floor(e/of));UW.range;function Kp(e){return ps(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*fc)/yI)}const g_=Kp(0),l5=Kp(1),t2e=Kp(2),r2e=Kp(3),ug=Kp(4),n2e=Kp(5),i2e=Kp(6);g_.range;l5.range;t2e.range;r2e.range;ug.range;n2e.range;i2e.range;function Qp(e){return ps(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/yI)}const x_=Qp(0),c5=Qp(1),a2e=Qp(2),s2e=Qp(3),dg=Qp(4),o2e=Qp(5),l2e=Qp(6);x_.range;c5.range;a2e.range;s2e.range;dg.range;o2e.range;l2e.range;const NI=ps(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());NI.range;const EI=ps(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());EI.range;const lf=ps(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());lf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ps(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});lf.range;const cf=ps(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());cf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ps(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});cf.range;function zW(e,t,r,n,i,a){const o=[[G0,1,Fd],[G0,5,5*Fd],[G0,15,15*Fd],[G0,30,30*Fd],[a,1,fc],[a,5,5*fc],[a,15,15*fc],[a,30,30*fc],[i,1,Bd],[i,3,3*Bd],[i,6,6*Bd],[i,12,12*Bd],[n,1,of],[n,2,2*of],[r,1,yI],[t,1,vL],[t,3,3*vL],[e,1,VE]];function l(u,f,p){const g=f<u;g&&([u,f]=[f,u]);const x=p&&typeof p.range=="function"?p:c(u,f,p),b=x?x.range(u,+f+1):[];return g?b.reverse():b}function c(u,f,p){const g=Math.abs(f-u)/p,x=oI(([,,_])=>_).right(o,g);if(x===o.length)return e.every(LC(u/VE,f/VE,p));if(x===0)return o5.every(Math.max(LC(u,f,p),1));const[b,y]=o[g/o[x-1][2]<o[x][2]/g?x-1:x];return b.every(y)}return[l,c]}const[c2e,u2e]=zW(cf,EI,x_,UW,_I,bI),[d2e,f2e]=zW(lf,NI,g_,B2,SI,wI);function WE(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function HE(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $x(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function h2e(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Ux(i),f=zx(i),p=Ux(a),g=zx(a),x=Ux(o),b=zx(o),y=Ux(l),_=zx(l),N=Ux(c),E=zx(c),C={a:te,A:J,b:ge,B:Ie,c:null,d:NL,e:NL,f:L2e,g:q2e,G:Y2e,H:k2e,I:M2e,j:D2e,L:VW,m:R2e,M:F2e,p:Ge,q:W,Q:CL,s:jL,S:B2e,u:$2e,U:U2e,V:z2e,w:V2e,W:W2e,x:null,X:null,y:H2e,Y:G2e,Z:X2e,"%":AL},I={a:Q,A:Z,b:re,B:le,c:null,d:EL,e:EL,f:J2e,g:cwe,G:dwe,H:K2e,I:Q2e,j:Z2e,L:HW,m:ewe,M:twe,p:Ne,q:Ae,Q:CL,s:jL,S:rwe,u:nwe,U:iwe,V:awe,w:swe,W:owe,x:null,X:null,y:lwe,Y:uwe,Z:fwe,"%":AL},P={a:G,A:F,b:U,B:q,c:K,d:SL,e:SL,f:T2e,g:bL,G:wL,H:_L,I:_L,j:E2e,L:j2e,m:N2e,M:A2e,p:B,q:_2e,Q:I2e,s:P2e,S:C2e,u:v2e,U:y2e,V:w2e,w:x2e,W:b2e,x:V,X:ee,y:bL,Y:wL,Z:S2e,"%":O2e};C.x=D(r,C),C.X=D(n,C),C.c=D(t,C),I.x=D(r,I),I.X=D(n,I),I.c=D(t,I);function D(ve,xe){return function(Le){var Se=[],ye=-1,We=0,Ye=ve.length,we,Pe,ce;for(Le instanceof Date||(Le=new Date(+Le));++ye<Ye;)ve.charCodeAt(ye)===37&&(Se.push(ve.slice(We,ye)),(Pe=yL[we=ve.charAt(++ye)])!=null?we=ve.charAt(++ye):Pe=we==="e"?" ":"0",(ce=xe[we])&&(we=ce(Le,Pe)),Se.push(we),We=ye+1);return Se.push(ve.slice(We,ye)),Se.join("")}}function k(ve,xe){return function(Le){var Se=$x(1900,void 0,1),ye=L(Se,ve,Le+="",0),We,Ye;if(ye!=Le.length)return null;if("Q"in Se)return new Date(Se.Q);if("s"in Se)return new Date(Se.s*1e3+("L"in Se?Se.L:0));if(xe&&!("Z"in Se)&&(Se.Z=0),"p"in Se&&(Se.H=Se.H%12+Se.p*12),Se.m===void 0&&(Se.m="q"in Se?Se.q:0),"V"in Se){if(Se.V<1||Se.V>53)return null;"w"in Se||(Se.w=1),"Z"in Se?(We=HE($x(Se.y,0,1)),Ye=We.getUTCDay(),We=Ye>4||Ye===0?c5.ceil(We):c5(We),We=m_.offset(We,(Se.V-1)*7),Se.y=We.getUTCFullYear(),Se.m=We.getUTCMonth(),Se.d=We.getUTCDate()+(Se.w+6)%7):(We=WE($x(Se.y,0,1)),Ye=We.getDay(),We=Ye>4||Ye===0?l5.ceil(We):l5(We),We=B2.offset(We,(Se.V-1)*7),Se.y=We.getFullYear(),Se.m=We.getMonth(),Se.d=We.getDate()+(Se.w+6)%7)}else("W"in Se||"U"in Se)&&("w"in Se||(Se.w="u"in Se?Se.u%7:"W"in Se?1:0),Ye="Z"in Se?HE($x(Se.y,0,1)).getUTCDay():WE($x(Se.y,0,1)).getDay(),Se.m=0,Se.d="W"in Se?(Se.w+6)%7+Se.W*7-(Ye+5)%7:Se.w+Se.U*7-(Ye+6)%7);return"Z"in Se?(Se.H+=Se.Z/100|0,Se.M+=Se.Z%100,HE(Se)):WE(Se)}}function L(ve,xe,Le,Se){for(var ye=0,We=xe.length,Ye=Le.length,we,Pe;ye<We;){if(Se>=Ye)return-1;if(we=xe.charCodeAt(ye++),we===37){if(we=xe.charAt(ye++),Pe=P[we in yL?xe.charAt(ye++):we],!Pe||(Se=Pe(ve,Le,Se))<0)return-1}else if(we!=Le.charCodeAt(Se++))return-1}return Se}function B(ve,xe,Le){var Se=u.exec(xe.slice(Le));return Se?(ve.p=f.get(Se[0].toLowerCase()),Le+Se[0].length):-1}function G(ve,xe,Le){var Se=x.exec(xe.slice(Le));return Se?(ve.w=b.get(Se[0].toLowerCase()),Le+Se[0].length):-1}function F(ve,xe,Le){var Se=p.exec(xe.slice(Le));return Se?(ve.w=g.get(Se[0].toLowerCase()),Le+Se[0].length):-1}function U(ve,xe,Le){var Se=N.exec(xe.slice(Le));return Se?(ve.m=E.get(Se[0].toLowerCase()),Le+Se[0].length):-1}function q(ve,xe,Le){var Se=y.exec(xe.slice(Le));return Se?(ve.m=_.get(Se[0].toLowerCase()),Le+Se[0].length):-1}function K(ve,xe,Le){return L(ve,t,xe,Le)}function V(ve,xe,Le){return L(ve,r,xe,Le)}function ee(ve,xe,Le){return L(ve,n,xe,Le)}function te(ve){return o[ve.getDay()]}function J(ve){return a[ve.getDay()]}function ge(ve){return c[ve.getMonth()]}function Ie(ve){return l[ve.getMonth()]}function Ge(ve){return i[+(ve.getHours()>=12)]}function W(ve){return 1+~~(ve.getMonth()/3)}function Q(ve){return o[ve.getUTCDay()]}function Z(ve){return a[ve.getUTCDay()]}function re(ve){return c[ve.getUTCMonth()]}function le(ve){return l[ve.getUTCMonth()]}function Ne(ve){return i[+(ve.getUTCHours()>=12)]}function Ae(ve){return 1+~~(ve.getUTCMonth()/3)}return{format:function(ve){var xe=D(ve+="",C);return xe.toString=function(){return ve},xe},parse:function(ve){var xe=k(ve+="",!1);return xe.toString=function(){return ve},xe},utcFormat:function(ve){var xe=D(ve+="",I);return xe.toString=function(){return ve},xe},utcParse:function(ve){var xe=k(ve+="",!0);return xe.toString=function(){return ve},xe}}}var yL={"-":"",_:" ",0:"0"},Os=/^\s*\d+/,p2e=/^%/,m2e=/[\\^$*+?|[\]().{}]/g;function ni(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function g2e(e){return e.replace(m2e,"\\$&")}function Ux(e){return new RegExp("^(?:"+e.map(g2e).join("|")+")","i")}function zx(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function x2e(e,t,r){var n=Os.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function v2e(e,t,r){var n=Os.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function y2e(e,t,r){var n=Os.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function w2e(e,t,r){var n=Os.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function b2e(e,t,r){var n=Os.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function wL(e,t,r){var n=Os.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function bL(e,t,r){var n=Os.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function S2e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function _2e(e,t,r){var n=Os.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function N2e(e,t,r){var n=Os.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function SL(e,t,r){var n=Os.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function E2e(e,t,r){var n=Os.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function _L(e,t,r){var n=Os.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function A2e(e,t,r){var n=Os.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function C2e(e,t,r){var n=Os.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function j2e(e,t,r){var n=Os.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function T2e(e,t,r){var n=Os.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function O2e(e,t,r){var n=p2e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function I2e(e,t,r){var n=Os.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function P2e(e,t,r){var n=Os.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function NL(e,t){return ni(e.getDate(),t,2)}function k2e(e,t){return ni(e.getHours(),t,2)}function M2e(e,t){return ni(e.getHours()%12||12,t,2)}function D2e(e,t){return ni(1+B2.count(lf(e),e),t,3)}function VW(e,t){return ni(e.getMilliseconds(),t,3)}function L2e(e,t){return VW(e,t)+"000"}function R2e(e,t){return ni(e.getMonth()+1,t,2)}function F2e(e,t){return ni(e.getMinutes(),t,2)}function B2e(e,t){return ni(e.getSeconds(),t,2)}function $2e(e){var t=e.getDay();return t===0?7:t}function U2e(e,t){return ni(g_.count(lf(e)-1,e),t,2)}function WW(e){var t=e.getDay();return t>=4||t===0?ug(e):ug.ceil(e)}function z2e(e,t){return e=WW(e),ni(ug.count(lf(e),e)+(lf(e).getDay()===4),t,2)}function V2e(e){return e.getDay()}function W2e(e,t){return ni(l5.count(lf(e)-1,e),t,2)}function H2e(e,t){return ni(e.getFullYear()%100,t,2)}function q2e(e,t){return e=WW(e),ni(e.getFullYear()%100,t,2)}function G2e(e,t){return ni(e.getFullYear()%1e4,t,4)}function Y2e(e,t){var r=e.getDay();return e=r>=4||r===0?ug(e):ug.ceil(e),ni(e.getFullYear()%1e4,t,4)}function X2e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ni(t/60|0,"0",2)+ni(t%60,"0",2)}function EL(e,t){return ni(e.getUTCDate(),t,2)}function K2e(e,t){return ni(e.getUTCHours(),t,2)}function Q2e(e,t){return ni(e.getUTCHours()%12||12,t,2)}function Z2e(e,t){return ni(1+m_.count(cf(e),e),t,3)}function HW(e,t){return ni(e.getUTCMilliseconds(),t,3)}function J2e(e,t){return HW(e,t)+"000"}function ewe(e,t){return ni(e.getUTCMonth()+1,t,2)}function twe(e,t){return ni(e.getUTCMinutes(),t,2)}function rwe(e,t){return ni(e.getUTCSeconds(),t,2)}function nwe(e){var t=e.getUTCDay();return t===0?7:t}function iwe(e,t){return ni(x_.count(cf(e)-1,e),t,2)}function qW(e){var t=e.getUTCDay();return t>=4||t===0?dg(e):dg.ceil(e)}function awe(e,t){return e=qW(e),ni(dg.count(cf(e),e)+(cf(e).getUTCDay()===4),t,2)}function swe(e){return e.getUTCDay()}function owe(e,t){return ni(c5.count(cf(e)-1,e),t,2)}function lwe(e,t){return ni(e.getUTCFullYear()%100,t,2)}function cwe(e,t){return e=qW(e),ni(e.getUTCFullYear()%100,t,2)}function uwe(e,t){return ni(e.getUTCFullYear()%1e4,t,4)}function dwe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?dg(e):dg.ceil(e),ni(e.getUTCFullYear()%1e4,t,4)}function fwe(){return"+0000"}function AL(){return"%"}function CL(e){return+e}function jL(e){return Math.floor(+e/1e3)}var y1,GW,YW;hwe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hwe(e){return y1=h2e(e),GW=y1.format,y1.parse,YW=y1.utcFormat,y1.utcParse,y1}function pwe(e){return new Date(e)}function mwe(e){return e instanceof Date?+e:+new Date(+e)}function AI(e,t,r,n,i,a,o,l,c,u){var f=fI(),p=f.invert,g=f.domain,x=u(".%L"),b=u(":%S"),y=u("%I:%M"),_=u("%I %p"),N=u("%a %d"),E=u("%b %d"),C=u("%B"),I=u("%Y");function P(D){return(c(D)<D?x:l(D)<D?b:o(D)<D?y:a(D)<D?_:n(D)<D?i(D)<D?N:E:r(D)<D?C:I)(D)}return f.invert=function(D){return new Date(p(D))},f.domain=function(D){return arguments.length?g(Array.from(D,mwe)):g().map(pwe)},f.ticks=function(D){var k=g();return e(k[0],k[k.length-1],D??10)},f.tickFormat=function(D,k){return k==null?P:u(k)},f.nice=function(D){var k=g();return(!D||typeof D.range!="function")&&(D=t(k[0],k[k.length-1],D??10)),D?g(MW(k,D)):f},f.copy=function(){return F2(f,AI(e,t,r,n,i,a,o,l,c,u))},f}function gwe(){return bc.apply(AI(d2e,f2e,lf,NI,g_,B2,SI,wI,G0,GW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xwe(){return bc.apply(AI(c2e,u2e,cf,EI,x_,m_,_I,bI,G0,YW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function v_(){var e=0,t=1,r,n,i,a,o=Co,l=!1,c;function u(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(a(p)-r)*i,l?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(p){return arguments.length?(l=!!p,u):l},u.interpolator=function(p){return arguments.length?(o=p,u):o};function f(p){return function(g){var x,b;return arguments.length?([x,b]=g,o=p(x,b),u):[o(0),o(1)]}}return u.range=f(ex),u.rangeRound=f(dI),u.unknown=function(p){return arguments.length?(c=p,u):c},function(p){return a=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),u}}function c0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function XW(){var e=l0(v_()(Co));return e.copy=function(){return c0(e,XW())},Ef.apply(e,arguments)}function KW(){var e=mI(v_()).domain([1,10]);return e.copy=function(){return c0(e,KW()).base(e.base())},Ef.apply(e,arguments)}function QW(){var e=gI(v_());return e.copy=function(){return c0(e,QW()).constant(e.constant())},Ef.apply(e,arguments)}function CI(){var e=xI(v_());return e.copy=function(){return c0(e,CI()).exponent(e.exponent())},Ef.apply(e,arguments)}function vwe(){return CI.apply(null,arguments).exponent(.5)}function ZW(){var e=[],t=Co;function r(n){if(n!=null&&!isNaN(n=+n))return t((L2(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Lh),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>iye(e,a/n))},r.copy=function(){return ZW(t).domain(e)},Ef.apply(r,arguments)}function y_(){var e=0,t=.5,r=1,n=1,i,a,o,l,c,u=Co,f,p=!1,g;function x(y){return isNaN(y=+y)?g:(y=.5+((y=+f(y))-a)*(n*y<n*a?l:c),u(p?Math.max(0,Math.min(1,y)):y))}x.domain=function(y){return arguments.length?([e,t,r]=y,i=f(e=+e),a=f(t=+t),o=f(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,x):[e,t,r]},x.clamp=function(y){return arguments.length?(p=!!y,x):p},x.interpolator=function(y){return arguments.length?(u=y,x):u};function b(y){return function(_){var N,E,C;return arguments.length?([N,E,C]=_,u=Oye(y,[N,E,C]),x):[u(0),u(.5),u(1)]}}return x.range=b(ex),x.rangeRound=b(dI),x.unknown=function(y){return arguments.length?(g=y,x):g},function(y){return f=y,i=y(e),a=y(t),o=y(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,x}}function JW(){var e=l0(y_()(Co));return e.copy=function(){return c0(e,JW())},Ef.apply(e,arguments)}function eH(){var e=mI(y_()).domain([.1,1,10]);return e.copy=function(){return c0(e,eH()).base(e.base())},Ef.apply(e,arguments)}function tH(){var e=gI(y_());return e.copy=function(){return c0(e,tH()).constant(e.constant())},Ef.apply(e,arguments)}function jI(){var e=xI(y_());return e.copy=function(){return c0(e,jI()).exponent(e.exponent())},Ef.apply(e,arguments)}function ywe(){return jI.apply(null,arguments).exponent(.5)}const TL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:yy,scaleDiverging:JW,scaleDivergingLog:eH,scaleDivergingPow:jI,scaleDivergingSqrt:ywe,scaleDivergingSymlog:tH,scaleIdentity:kW,scaleImplicit:RC,scaleLinear:s5,scaleLog:DW,scaleOrdinal:lI,scalePoint:Ov,scalePow:vI,scaleQuantile:FW,scaleQuantize:BW,scaleRadial:RW,scaleSequential:XW,scaleSequentialLog:KW,scaleSequentialPow:CI,scaleSequentialQuantile:ZW,scaleSequentialSqrt:vwe,scaleSequentialSymlog:QW,scaleSqrt:Jye,scaleSymlog:LW,scaleThreshold:$W,scaleTime:gwe,scaleUtc:xwe,tickFormat:PW},Symbol.toStringTag,{value:"Module"}));var wwe=qg;function bwe(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],o=t(a);if(o!=null&&(l===void 0?o===o&&!wwe(o):r(o,l)))var l=o,c=a}return c}var rH=bwe;function Swe(e,t){return e>t}var _we=Swe,Nwe=rH,Ewe=_we,Awe=Jg;function Cwe(e){return e&&e.length?Nwe(e,Awe,Ewe):void 0}var jwe=Cwe;const w_=Zn(jwe);function Twe(e,t){return e<t}var Owe=Twe,Iwe=rH,Pwe=Owe,kwe=Jg;function Mwe(e){return e&&e.length?Iwe(e,kwe,Pwe):void 0}var Dwe=Mwe;const b_=Zn(Dwe);var Lwe=zO,Rwe=o0,Fwe=uW,Bwe=ol;function $we(e,t){var r=Bwe(e)?Lwe:Fwe;return r(e,Rwe(t))}var Uwe=$we,zwe=lW,Vwe=Uwe;function Wwe(e,t){return zwe(Vwe(e,t),1)}var Hwe=Wwe;const qwe=Zn(Hwe);var Gwe=nI;function Ywe(e,t){return Gwe(e,t)}var Xwe=Ywe;const TI=Zn(Xwe);var tx=1e9,Kwe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},II,da=!0,yc="[DecimalError] ",up=yc+"Invalid argument: ",OI=yc+"Exponent out of range: ",rx=Math.floor,L0=Math.pow,Qwe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jl,vs=1e7,Ki=7,nH=9007199254740991,u5=rx(nH/Ki),Cr={};Cr.absoluteValue=Cr.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Cr.comparedTo=Cr.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Cr.decimalPlaces=Cr.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ki;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Cr.dividedBy=Cr.div=function(e){return Yd(this,new this.constructor(e))};Cr.dividedToIntegerBy=Cr.idiv=function(e){var t=this,r=t.constructor;return Ri(Yd(t,new r(e),0,1),r.precision)};Cr.equals=Cr.eq=function(e){return!this.cmp(e)};Cr.exponent=function(){return es(this)};Cr.greaterThan=Cr.gt=function(e){return this.cmp(e)>0};Cr.greaterThanOrEqualTo=Cr.gte=function(e){return this.cmp(e)>=0};Cr.isInteger=Cr.isint=function(){return this.e>this.d.length-2};Cr.isNegative=Cr.isneg=function(){return this.s<0};Cr.isPositive=Cr.ispos=function(){return this.s>0};Cr.isZero=function(){return this.s===0};Cr.lessThan=Cr.lt=function(e){return this.cmp(e)<0};Cr.lessThanOrEqualTo=Cr.lte=function(e){return this.cmp(e)<1};Cr.logarithm=Cr.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(jl))throw Error(yc+"NaN");if(r.s<1)throw Error(yc+(r.s?"NaN":"-Infinity"));return r.eq(jl)?new n(0):(da=!1,t=Yd(Ny(r,a),Ny(e,a),a),da=!0,Ri(t,i))};Cr.minus=Cr.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sH(t,e):iH(t,(e.s=-e.s,e))};Cr.modulo=Cr.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(yc+"NaN");return r.s?(da=!1,t=Yd(r,e,0,1).times(e),da=!0,r.minus(t)):Ri(new n(r),i)};Cr.naturalExponential=Cr.exp=function(){return aH(this)};Cr.naturalLogarithm=Cr.ln=function(){return Ny(this)};Cr.negated=Cr.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Cr.plus=Cr.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iH(t,e):sH(t,(e.s=-e.s,e))};Cr.precision=Cr.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(up+e);if(t=es(i)+1,n=i.d.length-1,r=n*Ki+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Cr.squareRoot=Cr.sqrt=function(){var e,t,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(yc+"NaN")}for(e=es(l),da=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Uu(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=rx((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(Yd(l,a,o+2)).times(.5),Uu(a.d).slice(0,o)===(t=Uu(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Ri(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;o+=4}return da=!0,Ri(n,r)};Cr.times=Cr.mul=function(e){var t,r,n,i,a,o,l,c,u,f=this,p=f.constructor,g=f.d,x=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,r=f.e+e.e,c=g.length,u=x.length,c<u&&(a=g,g=x,x=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+x[n]*g[i-n-1]+t,a[i--]=l%vs|0,t=l/vs|0;a[i]=(a[i]+t)%vs|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,da?Ri(e,p.precision):e};Cr.toDecimalPlaces=Cr.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(td(e,0,tx),t===void 0?t=n.rounding:td(t,0,8),Ri(r,e+es(r)+1,t))};Cr.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=kp(n,!0):(td(e,0,tx),t===void 0?t=i.rounding:td(t,0,8),n=Ri(new i(n),e+1,t),r=kp(n,!0,e+1)),r};Cr.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?kp(i):(td(e,0,tx),t===void 0?t=a.rounding:td(t,0,8),n=Ri(new a(i),e+es(i)+1,t),r=kp(n.abs(),!1,e+es(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Cr.toInteger=Cr.toint=function(){var e=this,t=e.constructor;return Ri(new t(e),es(e)+1,t.rounding)};Cr.toNumber=function(){return+this};Cr.toPower=Cr.pow=function(e){var t,r,n,i,a,o,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(jl);if(l=new c(l),!l.s){if(e.s<1)throw Error(yc+"Infinity");return l}if(l.eq(jl))return l;if(n=c.precision,e.eq(jl))return Ri(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=l.s,o){if((r=f<0?-f:f)<=nH){for(i=new c(jl),t=Math.ceil(n/Ki+4),da=!1;r%2&&(i=i.times(l),IL(i.d,t)),r=rx(r/2),r!==0;)l=l.times(l),IL(l.d,t);return da=!0,e.s<0?new c(jl).div(i):Ri(i,n)}}else if(a<0)throw Error(yc+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,da=!1,i=e.times(Ny(l,n+u)),da=!0,i=aH(i),i.s=a,i};Cr.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=es(i),n=kp(i,r<=a.toExpNeg||r>=a.toExpPos)):(td(e,1,tx),t===void 0?t=a.rounding:td(t,0,8),i=Ri(new a(i),e,t),r=es(i),n=kp(i,e<=r||r<=a.toExpNeg,e)),n};Cr.toSignificantDigits=Cr.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(td(e,1,tx),t===void 0?t=n.rounding:td(t,0,8)),Ri(new n(r),e,t)};Cr.toString=Cr.valueOf=Cr.val=Cr.toJSON=Cr[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=es(e),r=e.constructor;return kp(e,t<=r.toExpNeg||t>=r.toExpPos)};function iH(e,t){var r,n,i,a,o,l,c,u,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),da?Ri(t,p):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(p/Ki),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/vs|0,c[a]%=vs;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,da?Ri(t,p):t}function td(e,t,r){if(e!==~~e||e<t||e>r)throw Error(up+e)}function Uu(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=Ki-n.length,r&&(a+=rh(r)),a+=n;o=e[t],n=o+"",r=Ki-n.length,r&&(a+=rh(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Yd=function(){function e(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%vs|0,o=a/vs|0;return o&&n.unshift(o),n}function t(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*vs+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,u,f,p,g,x,b,y,_,N,E,C,I,P,D,k,L,B=n.constructor,G=n.s==i.s?1:-1,F=n.d,U=i.d;if(!n.s)return new B(n);if(!i.s)throw Error(yc+"Division by zero");for(c=n.e-i.e,k=U.length,P=F.length,x=new B(G),b=x.d=[],u=0;U[u]==(F[u]||0);)++u;if(U[u]>(F[u]||0)&&--c,a==null?E=a=B.precision:o?E=a+(es(n)-es(i))+1:E=a,E<0)return new B(0);if(E=E/Ki+2|0,u=0,k==1)for(f=0,U=U[0],E++;(u<P||f)&&E--;u++)C=f*vs+(F[u]||0),b[u]=C/U|0,f=C%U|0;else{for(f=vs/(U[0]+1)|0,f>1&&(U=e(U,f),F=e(F,f),k=U.length,P=F.length),I=k,y=F.slice(0,k),_=y.length;_<k;)y[_++]=0;L=U.slice(),L.unshift(0),D=U[0],U[1]>=vs/2&&++D;do f=0,l=t(U,y,k,_),l<0?(N=y[0],k!=_&&(N=N*vs+(y[1]||0)),f=N/D|0,f>1?(f>=vs&&(f=vs-1),p=e(U,f),g=p.length,_=y.length,l=t(p,y,g,_),l==1&&(f--,r(p,k<g?L:U,g))):(f==0&&(l=f=1),p=U.slice()),g=p.length,g<_&&p.unshift(0),r(y,p,_),l==-1&&(_=y.length,l=t(U,y,k,_),l<1&&(f++,r(y,k<_?L:U,_))),_=y.length):l===0&&(f++,y=[0]),b[u++]=f,l&&y[0]?y[_++]=F[I]||0:(y=[F[I]],_=1);while((I++<P||y[0]!==void 0)&&E--)}return b[0]||b.shift(),x.e=c,Ri(x,o?a+es(x)+1:a)}}();function aH(e,t){var r,n,i,a,o,l,c=0,u=0,f=e.constructor,p=f.precision;if(es(e)>16)throw Error(OI+es(e));if(!e.s)return new f(jl);for(t==null?(da=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(L0(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new f(jl),f.precision=l;;){if(i=Ri(i.times(e),l),r=r.times(++c),o=a.plus(Yd(i,r,l)),Uu(o.d).slice(0,l)===Uu(a.d).slice(0,l)){for(;u--;)a=Ri(a.times(a),l);return f.precision=p,t==null?(da=!0,Ri(a,p)):a}a=o}}function es(e){for(var t=e.e*Ki,r=e.d[0];r>=10;r/=10)t++;return t}function qE(e,t,r){if(t>e.LN10.sd())throw da=!0,r&&(e.precision=r),Error(yc+"LN10 precision limit exceeded");return Ri(new e(e.LN10),t)}function rh(e){for(var t="";e--;)t+="0";return t}function Ny(e,t){var r,n,i,a,o,l,c,u,f,p=1,g=10,x=e,b=x.d,y=x.constructor,_=y.precision;if(x.s<1)throw Error(yc+(x.s?"NaN":"-Infinity"));if(x.eq(jl))return new y(0);if(t==null?(da=!1,u=_):u=t,x.eq(10))return t==null&&(da=!0),qE(y,u);if(u+=g,y.precision=u,r=Uu(b),n=r.charAt(0),a=es(x),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)x=x.times(e),r=Uu(x.d),n=r.charAt(0),p++;a=es(x),n>1?(x=new y("0."+r),a++):x=new y(n+"."+r.slice(1))}else return c=qE(y,u+2,_).times(a+""),x=Ny(new y(n+"."+r.slice(1)),u-g).plus(c),y.precision=_,t==null?(da=!0,Ri(x,_)):x;for(l=o=x=Yd(x.minus(jl),x.plus(jl),u),f=Ri(x.times(x),u),i=3;;){if(o=Ri(o.times(f),u),c=l.plus(Yd(o,new y(i),u)),Uu(c.d).slice(0,u)===Uu(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(qE(y,u+2,_).times(a+""))),l=Yd(l,new y(p),u),y.precision=_,t==null?(da=!0,Ri(l,_)):l;l=c,i+=2}}function OL(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=rx(r/Ki),e.d=[],n=(r+1)%Ki,r<0&&(n+=Ki),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ki;n<i;)e.d.push(+t.slice(n,n+=Ki));t=t.slice(n),n=Ki-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),da&&(e.e>u5||e.e<-u5))throw Error(OI+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ri(e,t,r){var n,i,a,o,l,c,u,f,p=e.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Ki,i=t,u=p[f=0];else{if(f=Math.ceil((n+1)/Ki),a=p.length,f>=a)return e;for(u=a=p[f],o=1;a>=10;a/=10)o++;n%=Ki,i=n-Ki+o}if(r!==void 0&&(a=L0(10,o-i-1),l=u/a%10|0,c=t<0||p[f+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/L0(10,o-i):0:p[f-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return c?(a=es(e),p.length=1,t=t-a-1,p[0]=L0(10,(Ki-t%Ki)%Ki),e.e=rx(-t/Ki)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=f,a=1,f--):(p.length=f+1,a=L0(10,Ki-n),p[f]=i>0?(u/L0(10,o-i)%L0(10,i)|0)*a:0),c)for(;;)if(f==0){(p[0]+=a)==vs&&(p[0]=1,++e.e);break}else{if(p[f]+=a,p[f]!=vs)break;p[f--]=0,a=1}for(n=p.length;p[--n]===0;)p.pop();if(da&&(e.e>u5||e.e<-u5))throw Error(OI+es(e));return e}function sH(e,t){var r,n,i,a,o,l,c,u,f,p,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),da?Ri(t,x):t;if(c=e.d,p=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,l=p.length):(r=p,n=u,l=c.length),i=Math.max(Math.ceil(x/Ki),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=p.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){f=c[i]<p[i];break}o=0}for(f&&(r=c,c=p,p=r,t.s=-t.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=vs-1;--c[a],c[i]+=vs}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,da?Ri(t,x):t):new g(0)}function kp(e,t,r){var n,i=es(e),a=Uu(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+rh(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+rh(-i-1)+a,r&&(n=r-o)>0&&(a+=rh(n))):i>=o?(a+=rh(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+rh(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=rh(n))),e.s<0?"-"+a:a}function IL(e,t){if(e.length>t)return e.length=t,!0}function oH(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(up+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return OL(o,a.toString())}else if(typeof a!="string")throw Error(up+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Qwe.test(a))OL(o,a);else throw Error(up+a)}if(i.prototype=Cr,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=oH,i.config=i.set=Zwe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Zwe(e){if(!e||typeof e!="object")throw Error(yc+"Object expected");var t,r,n,i=["precision",1,tx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(rx(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(up+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(up+r+": "+n);return this}var II=oH(Kwe);jl=new II(1);const Pi=II;function Jwe(e){return nbe(e)||rbe(e)||tbe(e)||ebe()}function ebe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tbe(e,t){if(e){if(typeof e=="string")return UC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UC(e,t)}}function rbe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function nbe(e){if(Array.isArray(e))return UC(e)}function UC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ibe=function(t){return t},lH={"@@functional/placeholder":!0},cH=function(t){return t===lH},PL=function(t){return function r(){return arguments.length===0||arguments.length===1&&cH(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},abe=function e(t,r){return t===1?r:PL(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==lH}).length;return o>=t?r.apply(void 0,i):e(t-o,PL(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=i.map(function(p){return cH(p)?c.shift():p});return r.apply(void 0,Jwe(f).concat(c))}))})},S_=function(t){return abe(t.length,t)},zC=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},sbe=S_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),obe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return ibe;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},VC=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},uH=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function lbe(e){var t;return e===0?t=1:t=Math.floor(new Pi(e).abs().log(10).toNumber())+1,t}function cbe(e,t,r){for(var n=new Pi(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var ube=S_(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),dbe=S_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),fbe=S_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const __={rangeStep:cbe,getDigitCount:lbe,interpolateNumber:ube,uninterpolateNumber:dbe,uninterpolateTruncation:fbe};function WC(e){return mbe(e)||pbe(e)||dH(e)||hbe()}function hbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pbe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function mbe(e){if(Array.isArray(e))return HC(e)}function Ey(e,t){return vbe(e)||xbe(e,t)||dH(e,t)||gbe()}function gbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dH(e,t){if(e){if(typeof e=="string")return HC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HC(e,t)}}function HC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xbe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function vbe(e){if(Array.isArray(e))return e}function fH(e){var t=Ey(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function hH(e,t,r){if(e.lte(0))return new Pi(0);var n=__.getDigitCount(e.toNumber()),i=new Pi(10).pow(n),a=e.div(i),o=n!==1?.05:.1,l=new Pi(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?c:new Pi(Math.ceil(c))}function ybe(e,t,r){var n=1,i=new Pi(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Pi(10).pow(__.getDigitCount(e)-1),i=new Pi(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Pi(Math.floor(e)))}else e===0?i=new Pi(Math.floor((t-1)/2)):r||(i=new Pi(Math.floor(e)));var o=Math.floor((t-1)/2),l=obe(sbe(function(c){return i.add(new Pi(c-o).mul(n)).toNumber()}),zC);return l(0,t)}function pH(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Pi(0),tickMin:new Pi(0),tickMax:new Pi(0)};var a=hH(new Pi(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new Pi(0):(o=new Pi(e).add(t).div(2),o=o.sub(new Pi(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new Pi(t).sub(o).div(a).toNumber()),u=l+c+1;return u>r?pH(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:a,tickMin:o.sub(new Pi(l).mul(a)),tickMax:o.add(new Pi(c).mul(a))})}function wbe(e){var t=Ey(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=fH([r,n]),c=Ey(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var p=f===1/0?[u].concat(WC(zC(0,i-1).map(function(){return 1/0}))):[].concat(WC(zC(0,i-1).map(function(){return-1/0})),[f]);return r>n?VC(p):p}if(u===f)return ybe(u,i,a);var g=pH(u,f,o,a),x=g.step,b=g.tickMin,y=g.tickMax,_=__.rangeStep(b,y.add(new Pi(.1).mul(x)),x);return r>n?VC(_):_}function bbe(e,t){var r=Ey(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=fH([n,i]),l=Ey(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var f=Math.max(t,2),p=hH(new Pi(u).sub(c).div(f-1),a,0),g=[].concat(WC(__.rangeStep(new Pi(c),new Pi(u).sub(new Pi(.99).mul(p)),p)),[u]);return n>i?VC(g):g}var Sbe=uH(wbe),_be=uH(bbe),Nbe="Invariant failed";function Mp(e,t){throw new Error(Nbe)}var Ebe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function fg(e){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(e)}function d5(){return d5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d5.apply(this,arguments)}function Abe(e,t){return Obe(e)||Tbe(e,t)||jbe(e,t)||Cbe()}function Cbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jbe(e,t){if(e){if(typeof e=="string")return kL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kL(e,t)}}function kL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Obe(e){if(Array.isArray(e))return e}function Ibe(e,t){if(e==null)return{};var r=Pbe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xH(n.key),n)}}function Dbe(e,t,r){return t&&Mbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lbe(e,t,r){return t=f5(t),Rbe(e,mH()?Reflect.construct(t,r||[],f5(e).constructor):t.apply(e,r))}function Rbe(e,t){if(t&&(fg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fbe(e)}function Fbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mH=function(){return!!e})()}function f5(e){return f5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f5(e)}function Bbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qC(e,t)}function qC(e,t){return qC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qC(e,t)}function gH(e,t,r){return t=xH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xH(e){var t=$be(e,"string");return fg(t)=="symbol"?t:t+""}function $be(e,t){if(fg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N_=function(e){function t(){return kbe(this,t),Lbe(this,t,arguments)}return Bbe(t,e),Dbe(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,p=n.yAxis,g=Ibe(n,Ebe),x=si(g,!1);this.props.direction==="x"&&f.type!=="number"&&Mp();var b=c.map(function(y){var _=u(y,l),N=_.x,E=_.y,C=_.value,I=_.errorVal;if(!I)return null;var P=[],D,k;if(Array.isArray(I)){var L=Abe(I,2);D=L[0],k=L[1]}else D=k=I;if(a==="vertical"){var B=f.scale,G=E+i,F=G+o,U=G-o,q=B(C-D),K=B(C+k);P.push({x1:K,y1:F,x2:K,y2:U}),P.push({x1:q,y1:G,x2:K,y2:G}),P.push({x1:q,y1:F,x2:q,y2:U})}else if(a==="horizontal"){var V=p.scale,ee=N+i,te=ee-o,J=ee+o,ge=V(C-D),Ie=V(C+k);P.push({x1:te,y1:Ie,x2:J,y2:Ie}),P.push({x1:ee,y1:ge,x2:ee,y2:Ie}),P.push({x1:te,y1:ge,x2:J,y2:ge})}return qe.createElement(bs,d5({className:"recharts-errorBar",key:"bar-".concat(P.map(function(Ge){return"".concat(Ge.x1,"-").concat(Ge.x2,"-").concat(Ge.y1,"-").concat(Ge.y2)}))},x),P.map(function(Ge){return qe.createElement("line",d5({},Ge,{key:"line-".concat(Ge.x1,"-").concat(Ge.x2,"-").concat(Ge.y1,"-").concat(Ge.y2)}))}))});return qe.createElement(bs,{className:"recharts-errorBars"},b)}}])}(qe.Component);gH(N_,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});gH(N_,"displayName","ErrorBar");function Ay(e){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ay(e)}function ML(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function I0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ML(Object(r),!0).forEach(function(n){Ube(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ube(e,t,r){return t=zbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zbe(e){var t=Vbe(e,"string");return Ay(t)=="symbol"?t:t+""}function Vbe(e,t){if(Ay(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vH=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=_l(r,lp);if(!o)return null;var l=lp.defaultProps,c=l!==void 0?I0(I0({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(f,p){var g=p.item,x=p.props,b=x.sectors||x.data||[];return f.concat(b.map(function(y){return{type:o.props.iconType||g.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(f){var p=f.item,g=p.type.defaultProps,x=g!==void 0?I0(I0({},g),p.props):{},b=x.dataKey,y=x.name,_=x.legendType,N=x.hide;return{inactive:N,dataKey:b,type:c.iconType||_||"square",color:PI(p),value:y||b,payload:x}}),I0(I0(I0({},c),lp.getWithHeight(o,i)),{},{payload:u,item:o})};function Cy(e){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cy(e)}function DL(e){return Gbe(e)||qbe(e)||Hbe(e)||Wbe()}function Wbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hbe(e,t){if(e){if(typeof e=="string")return GC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GC(e,t)}}function qbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Gbe(e){if(Array.isArray(e))return GC(e)}function GC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LL(Object(r),!0).forEach(function(n){ym(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ym(e,t,r){return t=Ybe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ybe(e){var t=Xbe(e,"string");return Cy(t)=="symbol"?t:t+""}function Xbe(e,t){if(Cy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rd(e,t,r){return di(e)||di(t)?r:hs(t)?gc(e,t,r):Vn(t)?t(e):r}function Iv(e,t,r,n){var i=qwe(e,function(l){return rd(l,t)});if(r==="number"){var a=i.filter(function(l){return cr(l)||parseFloat(l)});return a.length?[b_(a),w_(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!di(l)}):i;return o.map(function(l){return hs(l)||l instanceof Date?l:""})}var Kbe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var f=u>0?i[u-1].coordinate:i[l-1].coordinate,p=i[u].coordinate,g=u>=l-1?i[0].coordinate:i[u+1].coordinate,x=void 0;if(Qc(p-f)!==Qc(g-p)){var b=[];if(Qc(g-p)===Qc(c[1]-c[0])){x=g;var y=p+c[1]-c[0];b[0]=Math.min(y,(y+f)/2),b[1]=Math.max(y,(y+f)/2)}else{x=f;var _=g+c[1]-c[0];b[0]=Math.min(p,(_+p)/2),b[1]=Math.max(p,(_+p)/2)}var N=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(t>N[0]&&t<=N[1]||t>=b[0]&&t<=b[1]){o=i[u].index;break}}else{var E=Math.min(f,g),C=Math.max(f,g);if(t>(E+p)/2&&t<=(C+p)/2){o=i[u].index;break}}}else for(var I=0;I<l;I++)if(I===0&&t<=(n[I].coordinate+n[I+1].coordinate)/2||I>0&&I<l-1&&t>(n[I].coordinate+n[I-1].coordinate)/2&&t<=(n[I].coordinate+n[I+1].coordinate)/2||I===l-1&&t>(n[I].coordinate+n[I-1].coordinate)/2){o=n[I].index;break}return o},PI=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Pa(Pa({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Qbe=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var f=a[l[c]].stackGroups,p=Object.keys(f),g=0,x=p.length;g<x;g++){var b=f[p[g]],y=b.items,_=b.cateAxisId,N=y.filter(function(k){return qd(k.type).indexOf("Bar")>=0});if(N&&N.length){var E=N[0].type.defaultProps,C=E!==void 0?Pa(Pa({},E),N[0].props):N[0].props,I=C.barSize,P=C[_];o[P]||(o[P]=[]);var D=di(I)?r:I;o[P].push({item:N[0],stackList:N.slice(1),barSize:di(D)?void 0:Pp(D,n,0)})}}return o},Zbe=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Pp(r,i,0,!0),f,p=[];if(o[0].barSize===+o[0].barSize){var g=!1,x=i/c,b=o.reduce(function(I,P){return I+P.barSize||0},0);b+=(c-1)*u,b>=i&&(b-=(c-1)*u,u=0),b>=i&&x>0&&(g=!0,x*=.9,b=c*x);var y=(i-b)/2>>0,_={offset:y-u,size:0};f=o.reduce(function(I,P){var D={item:P.item,position:{offset:_.offset+_.size+u,size:g?x:P.barSize}},k=[].concat(DL(I),[D]);return _=k[k.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(L){k.push({item:L,position:_})}),k},p)}else{var N=Pp(n,i,0,!0);i-2*N-(c-1)*u<=0&&(u=0);var E=(i-2*N-(c-1)*u)/c;E>1&&(E>>=0);var C=l===+l?Math.min(E,l):E;f=o.reduce(function(I,P,D){var k=[].concat(DL(I),[{item:P.item,position:{offset:N+(E+u)*D+(E-C)/2,size:C}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(L){k.push({item:L,position:k[k.length-1].position})}),k},p)}return f},Jbe=function(t,r,n,i){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=vH({children:a,legendWidth:c});if(u){var f=i||{},p=f.width,g=f.height,x=u.align,b=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&b==="middle")&&x!=="center"&&cr(t[x]))return Pa(Pa({},t),{},ym({},x,t[x]+(p||0)));if((y==="horizontal"||y==="vertical"&&x==="center")&&b!=="middle"&&cr(t[b]))return Pa(Pa({},t),{},ym({},b,t[b]+(g||0)))}return t},eSe=function(t,r,n){return di(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},yH=function(t,r,n,i,a){var o=r.props.children,l=nu(o,N_).filter(function(u){return eSe(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var p=rd(f,n);if(di(p))return u;var g=Array.isArray(p)?[b_(p),w_(p)]:[p,p],x=c.reduce(function(b,y){var _=rd(f,y,0),N=g[0]-Math.abs(Array.isArray(_)?_[0]:_),E=g[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(N,b[0]),Math.max(E,b[1])]},[1/0,-1/0]);return[Math.min(x[0],u[0]),Math.max(x[1],u[1])]},[1/0,-1/0])}return null},tSe=function(t,r,n,i,a){var o=r.map(function(l){return yH(t,l,n,a,i)}).filter(function(l){return!di(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},wH=function(t,r,n,i,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&yH(t,c,u,i)||Iv(t,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,p=u.length;f<p;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},bH=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},SH=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},$d=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Qc(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(p){var g=a?a.indexOf(p):p;return{coordinate:i(g)+u,value:p,offset:u}});return f.filter(function(p){return!M2(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,g){return{coordinate:i(p)+u,value:p,index:g,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(p){return{coordinate:i(p)+u,value:p,offset:u}}):i.domain().map(function(p,g){return{coordinate:i(p)+u,value:a?a[p]:p,index:g,offset:u}})},GE=new WeakMap,nb=function(t,r){if(typeof r!="function")return t;GE.has(t)||GE.set(t,new WeakMap);var n=GE.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},rSe=function(t,r,n){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:yy(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:s5(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ov(),realScaleType:"point"}:a==="category"?{scale:yy(),realScaleType:"band"}:{scale:s5(),realScaleType:"linear"};if(k2(i)){var c="scale".concat(o_(i));return{scale:(TL[c]||Ov)(),realScaleType:TL[c]?c:"point"}}return Vn(i)?{scale:i}:{scale:Ov(),realScaleType:"point"}},RL=1e-4,nSe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-RL,o=Math.max(i[0],i[1])+RL,l=t(r[0]),c=t(r[n-1]);(l<a||l>o||c<a||c>o)&&t.domain([r[0],r[n-1]])}},iSe=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},aSe=function(t,r){if(!r||r.length!==2||!cr(r[0])||!cr(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!cr(t[0])||t[0]<n)&&(a[0]=n),(!cr(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},sSe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var c=M2(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},oSe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=M2(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},lSe={sign:sSe,expand:Sde,none:ig,silhouette:_de,wiggle:Nde,positive:oSe},cSe=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),a=lSe[n],o=bde().keys(i).value(function(l,c){return+rd(l,c,0)}).order(vC).offset(a);return o(t)},uSe=function(t,r,n,i,a,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(p,g){var x,b=(x=g.type)!==null&&x!==void 0&&x.defaultProps?Pa(Pa({},g.type.defaultProps),g.props):g.props,y=b.stackId,_=b.hide;if(_)return p;var N=b[n],E=p[N]||{hasStack:!1,stackGroups:{}};if(hs(y)){var C=E.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};C.items.push(g),E.hasStack=!0,E.stackGroups[y]=C}else E.stackGroups[s_("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return Pa(Pa({},p),{},ym({},N,E))},c),f={};return Object.keys(u).reduce(function(p,g){var x=u[g];if(x.hasStack){var b={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(y,_){var N=x.stackGroups[_];return Pa(Pa({},y),{},ym({},_,{numericAxisId:n,cateAxisId:i,items:N.items,stackedData:cSe(t,N.items,a)}))},b)}return Pa(Pa({},p),{},ym({},g,x))},f)},dSe=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=Sbe(u,a,l);return t.domain([b_(f),w_(f)]),{niceTicks:f}}if(a&&i==="number"){var p=t.domain(),g=_be(p,a,l);return{niceTicks:g}}return null},FL=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=rd(o,r.dataKey,r.domain[l]);return di(c)?null:r.scale(c)-a/2+i},fSe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},hSe=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Pa(Pa({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(hs(a)){var o=r[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},pSe=function(t){return t.reduce(function(r,n){return[b_(n.concat([r[0]]).filter(cr)),w_(n.concat([r[1]]).filter(cr))]},[1/0,-1/0])},_H=function(t,r,n){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,f){var p=pSe(f.slice(r,n+1));return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},BL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$L=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YC=function(t,r,n){if(Vn(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(cr(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(BL.test(t[0])){var a=+BL.exec(t[0])[1];i[0]=r[0]-a}else Vn(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(cr(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if($L.test(t[1])){var o=+$L.exec(t[1])[1];i[1]=r[1]+o}else Vn(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},h5=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=aI(r,function(p){return p.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],f=a[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},UL=function(t,r,n){return!t||!t.length||TI(t,gc(n,"type.defaultProps.domain"))?r:t},NH=function(t,r){var n=t.type.defaultProps?Pa(Pa({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return Pa(Pa({},si(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:PI(t),value:rd(r,i),type:c,payload:r,chartType:u,hide:f})};function jy(e){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jy(e)}function zL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zL(Object(r),!0).forEach(function(n){mSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mSe(e,t,r){return t=gSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gSe(e){var t=xSe(e,"string");return jy(t)=="symbol"?t:t+""}function xSe(e,t){if(jy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p5=Math.PI/180,vSe=function(t){return t*180/Math.PI},$s=function(t,r,n,i){return{x:t+Math.cos(-p5*i)*n,y:r+Math.sin(-p5*i)*n}},ySe=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},wSe=function(t,r){var n=t.x,i=t.y,a=r.cx,o=r.cy,l=ySe({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:vSe(u),angleInRadian:u}},bSe=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},SSe=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},WL=function(t,r){var n=t.x,i=t.y,a=wSe({x:n,y:i},r),o=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=bSe(r),p=f.startAngle,g=f.endAngle,x=l,b;if(p<=g){for(;x>g;)x-=360;for(;x<p;)x+=360;b=x>=p&&x<=g}else{for(;x>p;)x-=360;for(;x<g;)x+=360;b=x>=g&&x<=p}return b?VL(VL({},r),{},{radius:o,angle:SSe(x,r)}):null};function Ty(e){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ty(e)}var _Se=["offset"];function NSe(e){return jSe(e)||CSe(e)||ASe(e)||ESe()}function ESe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ASe(e,t){if(e){if(typeof e=="string")return XC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XC(e,t)}}function CSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jSe(e){if(Array.isArray(e))return XC(e)}function XC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TSe(e,t){if(e==null)return{};var r=OSe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HL(Object(r),!0).forEach(function(n){ISe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ISe(e,t,r){return t=PSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PSe(e){var t=kSe(e,"string");return Ty(t)=="symbol"?t:t+""}function kSe(e,t){if(Ty(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(this,arguments)}var MSe=function(t){var r=t.value,n=t.formatter,i=di(t.children)?r:t.children;return Vn(n)?n(i):i},DSe=function(t,r){var n=Qc(r-t),i=Math.min(Math.abs(r-t),360);return n*i},LSe=function(t,r,n){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,f=c.cy,p=c.innerRadius,g=c.outerRadius,x=c.startAngle,b=c.endAngle,y=c.clockWise,_=(p+g)/2,N=DSe(x,b),E=N>=0?1:-1,C,I;i==="insideStart"?(C=x+E*o,I=y):i==="insideEnd"?(C=b-E*o,I=!y):i==="end"&&(C=b+E*o,I=y),I=N<=0?I:!I;var P=$s(u,f,_,C),D=$s(u,f,_,C+(I?1:-1)*359),k="M".concat(P.x,",").concat(P.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(I?0:1,`,
    `).concat(D.x,",").concat(D.y),L=di(t.id)?s_("recharts-radial-line-"):t.id;return qe.createElement("text",Oy({},n,{dominantBaseline:"central",className:oi("recharts-radial-bar-label",l)}),qe.createElement("defs",null,qe.createElement("path",{id:L,d:k})),qe.createElement("textPath",{xlinkHref:"#".concat(L)},r))},RSe=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,f=a.startAngle,p=a.endAngle,g=(f+p)/2;if(i==="outside"){var x=$s(o,l,u+n,g),b=x.x,y=x.y;return{x:b,y,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var _=(c+u)/2,N=$s(o,l,_,g),E=N.x,C=N.y;return{x:E,y:C,textAnchor:"middle",verticalAnchor:"middle"}},FSe=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,o=r,l=o.x,c=o.y,u=o.width,f=o.height,p=f>=0?1:-1,g=p*i,x=p>0?"end":"start",b=p>0?"start":"end",y=u>=0?1:-1,_=y*i,N=y>0?"end":"start",E=y>0?"start":"end";if(a==="top"){var C={x:l+u/2,y:c-p*i,textAnchor:"middle",verticalAnchor:x};return os(os({},C),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var I={x:l+u/2,y:c+f+g,textAnchor:"middle",verticalAnchor:b};return os(os({},I),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(a==="left"){var P={x:l-_,y:c+f/2,textAnchor:N,verticalAnchor:"middle"};return os(os({},P),n?{width:Math.max(P.x-n.x,0),height:f}:{})}if(a==="right"){var D={x:l+u+_,y:c+f/2,textAnchor:E,verticalAnchor:"middle"};return os(os({},D),n?{width:Math.max(n.x+n.width-D.x,0),height:f}:{})}var k=n?{width:u,height:f}:{};return a==="insideLeft"?os({x:l+_,y:c+f/2,textAnchor:E,verticalAnchor:"middle"},k):a==="insideRight"?os({x:l+u-_,y:c+f/2,textAnchor:N,verticalAnchor:"middle"},k):a==="insideTop"?os({x:l+u/2,y:c+g,textAnchor:"middle",verticalAnchor:b},k):a==="insideBottom"?os({x:l+u/2,y:c+f-g,textAnchor:"middle",verticalAnchor:x},k):a==="insideTopLeft"?os({x:l+_,y:c+g,textAnchor:E,verticalAnchor:b},k):a==="insideTopRight"?os({x:l+u-_,y:c+g,textAnchor:N,verticalAnchor:b},k):a==="insideBottomLeft"?os({x:l+_,y:c+f-g,textAnchor:E,verticalAnchor:x},k):a==="insideBottomRight"?os({x:l+u-_,y:c+f-g,textAnchor:N,verticalAnchor:x},k):Gg(a)&&(cr(a.x)||H0(a.x))&&(cr(a.y)||H0(a.y))?os({x:l+Pp(a.x,u),y:c+Pp(a.y,f),textAnchor:"end",verticalAnchor:"end"},k):os({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},k)},BSe=function(t){return"cx"in t&&cr(t.cx)};function oo(e){var t=e.offset,r=t===void 0?5:t,n=TSe(e,_Se),i=os({offset:r},n),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,f=i.className,p=f===void 0?"":f,g=i.textBreakAll;if(!a||di(l)&&di(c)&&!O.isValidElement(u)&&!Vn(u))return null;if(O.isValidElement(u))return O.cloneElement(u,i);var x;if(Vn(u)){if(x=O.createElement(u,i),O.isValidElement(x))return x}else x=MSe(i);var b=BSe(a),y=si(i,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return LSe(i,x,y);var _=b?RSe(i):FSe(i);return qe.createElement(JS,Oy({className:oi("recharts-label",p)},y,_,{breakAll:g}),x)}oo.displayName="Label";var EH=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,p=t.x,g=t.y,x=t.top,b=t.left,y=t.width,_=t.height,N=t.clockWise,E=t.labelViewBox;if(E)return E;if(cr(y)&&cr(_)){if(cr(p)&&cr(g))return{x:p,y:g,width:y,height:_};if(cr(x)&&cr(b))return{x,y:b,width:y,height:_}}return cr(p)&&cr(g)?{x:p,y:g,width:0,height:0}:cr(r)&&cr(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:N}:t.viewBox?t.viewBox:{}},$Se=function(t,r){return t?t===!0?qe.createElement(oo,{key:"label-implicit",viewBox:r}):hs(t)?qe.createElement(oo,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===oo?O.cloneElement(t,{key:"label-implicit",viewBox:r}):qe.createElement(oo,{key:"label-implicit",content:t,viewBox:r}):Vn(t)?qe.createElement(oo,{key:"label-implicit",content:t,viewBox:r}):Gg(t)?qe.createElement(oo,Oy({viewBox:r},t,{key:"label-implicit"})):null:null},USe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=EH(t),o=nu(i,oo).map(function(c,u){return O.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var l=$Se(t.label,r||a);return[l].concat(NSe(o))};oo.parseViewBox=EH;oo.renderCallByParent=USe;function zSe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var VSe=zSe;const WSe=Zn(VSe);function Iy(e){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iy(e)}var HSe=["valueAccessor"],qSe=["data","dataKey","clockWise","id","textBreakAll"];function GSe(e){return QSe(e)||KSe(e)||XSe(e)||YSe()}function YSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XSe(e,t){if(e){if(typeof e=="string")return KC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KC(e,t)}}function KSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QSe(e){if(Array.isArray(e))return KC(e)}function KC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function m5(){return m5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m5.apply(this,arguments)}function qL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qL(Object(r),!0).forEach(function(n){ZSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZSe(e,t,r){return t=JSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JSe(e){var t=e5e(e,"string");return Iy(t)=="symbol"?t:t+""}function e5e(e,t){if(Iy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YL(e,t){if(e==null)return{};var r=t5e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function t5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var r5e=function(t){return Array.isArray(t.value)?WSe(t.value):t.value};function dp(e){var t=e.valueAccessor,r=t===void 0?r5e:t,n=YL(e,HSe),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=YL(n,qSe);return!i||!i.length?null:qe.createElement(bs,{className:"recharts-label-list"},i.map(function(f,p){var g=di(a)?r(f,p):rd(f&&f.payload,a),x=di(l)?{}:{id:"".concat(l,"-").concat(p)};return qe.createElement(oo,m5({},si(f,!0),u,x,{parentViewBox:f.parentViewBox,value:g,textBreakAll:c,viewBox:oo.parseViewBox(di(o)?f:GL(GL({},f),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}dp.displayName="LabelList";function n5e(e,t){return e?e===!0?qe.createElement(dp,{key:"labelList-implicit",data:t}):qe.isValidElement(e)||Vn(e)?qe.createElement(dp,{key:"labelList-implicit",data:t,content:e}):Gg(e)?qe.createElement(dp,m5({data:t},e,{key:"labelList-implicit"})):null:null}function i5e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=nu(n,dp).map(function(o,l){return O.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var a=n5e(e.label,t);return[a].concat(GSe(i))}dp.renderCallByParent=i5e;function Py(e){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Py(e)}function QC(){return QC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QC.apply(this,arguments)}function XL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XL(Object(r),!0).forEach(function(n){a5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a5e(e,t,r){return t=s5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s5e(e){var t=o5e(e,"string");return Py(t)=="symbol"?t:t+""}function o5e(e,t){if(Py(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Py(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l5e=function(t,r){var n=Qc(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},ib=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+i,p=Math.asin(c/f)/p5,g=u?a:a+o*p,x=$s(r,n,f,g),b=$s(r,n,i,g),y=u?a-o*p:a,_=$s(r,n,f*Math.cos(p*p5),y);return{center:x,circleTangency:b,lineTangency:_,theta:p}},AH=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=l5e(o,l),u=o+c,f=$s(r,n,a,o),p=$s(r,n,a,u),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var x=$s(r,n,i,o),b=$s(r,n,i,u);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},c5e=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,p=Qc(f-u),g=ib({cx:r,cy:n,radius:a,angle:u,sign:p,cornerRadius:o,cornerIsExternal:c}),x=g.circleTangency,b=g.lineTangency,y=g.theta,_=ib({cx:r,cy:n,radius:a,angle:f,sign:-p,cornerRadius:o,cornerIsExternal:c}),N=_.circleTangency,E=_.lineTangency,C=_.theta,I=c?Math.abs(u-f):Math.abs(u-f)-y-C;if(I<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):AH({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:f});var P="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(I>180),",").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var D=ib({cx:r,cy:n,radius:i,angle:u,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=D.circleTangency,L=D.lineTangency,B=D.theta,G=ib({cx:r,cy:n,radius:i,angle:f,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),F=G.circleTangency,U=G.lineTangency,q=G.theta,K=c?Math.abs(u-f):Math.abs(u-f)-B-q;if(K<0&&o===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(U.x,",").concat(U.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(K>180),",").concat(+(p>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},u5e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},CH=function(t){var r=KL(KL({},u5e),t),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,p=r.endAngle,g=r.className;if(o<a||f===p)return null;var x=oi("recharts-sector",g),b=o-a,y=Pp(l,b,0,!0),_;return y>0&&Math.abs(f-p)<360?_=c5e({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,b/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:p}):_=AH({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:p}),qe.createElement("path",QC({},si(r,!0),{className:x,d:_,role:"img"}))};function ky(e){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ky(e)}function ZC(){return ZC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZC.apply(this,arguments)}function QL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QL(Object(r),!0).forEach(function(n){d5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d5e(e,t,r){return t=f5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f5e(e){var t=h5e(e,"string");return ky(t)=="symbol"?t:t+""}function h5e(e,t){if(ky(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ky(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JL={curveBasisClosed:ude,curveBasisOpen:dde,curveBasis:cde,curveBumpX:Xue,curveBumpY:Kue,curveLinearClosed:fde,curveLinear:c_,curveMonotoneX:hde,curveMonotoneY:pde,curveNatural:mde,curveStep:gde,curveStepAfter:vde,curveStepBefore:xde},ab=function(t){return t.x===+t.x&&t.y===+t.y},Vx=function(t){return t.x},Wx=function(t){return t.y},p5e=function(t,r){if(Vn(t))return t;var n="curve".concat(o_(t));return(n==="curveMonotone"||n==="curveBump")&&r?JL["".concat(n).concat(r==="vertical"?"Y":"X")]:JL[n]||c_},m5e=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=p5e(n,l),p=u?a.filter(function(y){return ab(y)}):a,g;if(Array.isArray(o)){var x=u?o.filter(function(y){return ab(y)}):o,b=p.map(function(y,_){return ZL(ZL({},y),{},{base:x[_]})});return l==="vertical"?g=Xw().y(Wx).x1(Vx).x0(function(y){return y.base.x}):g=Xw().x(Vx).y1(Wx).y0(function(y){return y.base.y}),g.defined(ab).curve(f),g(b)}return l==="vertical"&&cr(o)?g=Xw().y(Wx).x1(Vx).x0(o):cr(o)?g=Xw().x(Vx).y1(Wx).y0(o):g=CV().x(Vx).y(Wx),g.defined(ab).curve(f),g(p)},eR=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?m5e(t):i;return qe.createElement("path",ZC({},si(t,!1),FS(t),{className:oi("recharts-curve",r),d:o,ref:a}))},jH={exports:{}},g5e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",x5e=g5e,v5e=x5e;function TH(){}function OH(){}OH.resetWarningCache=TH;var y5e=function(){function e(n,i,a,o,l,c){if(c!==v5e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:OH,resetWarningCache:TH};return r.PropTypes=r,r};jH.exports=y5e();var w5e=jH.exports;const jr=Zn(w5e);var b5e=Object.getOwnPropertyNames,S5e=Object.getOwnPropertySymbols,_5e=Object.prototype.hasOwnProperty;function tR(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function sb(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);var c=e(r,n,i);return a.delete(r),a.delete(n),c}}function rR(e){return b5e(e).concat(S5e(e))}var IH=Object.hasOwn||function(e,t){return _5e.call(e,t)};function nx(e,t){return e||t?e===t:e===t||e!==e&&t!==t}var PH="_owner",nR=Object.getOwnPropertyDescriptor,iR=Object.keys;function N5e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function E5e(e,t){return nx(e.getTime(),t.getTime())}function aR(e,t,r){if(e.size!==t.size)return!1;for(var n={},i=e.entries(),a=0,o,l;(o=i.next())&&!o.done;){for(var c=t.entries(),u=!1,f=0;(l=c.next())&&!l.done;){var p=o.value,g=p[0],x=p[1],b=l.value,y=b[0],_=b[1];!u&&!n[f]&&(u=r.equals(g,y,a,f,e,t,r)&&r.equals(x,_,g,y,e,t,r))&&(n[f]=!0),f++}if(!u)return!1;a++}return!0}function A5e(e,t,r){var n=iR(e),i=n.length;if(iR(t).length!==i)return!1;for(var a;i-- >0;)if(a=n[i],a===PH&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!IH(t,a)||!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function Hx(e,t,r){var n=rR(e),i=n.length;if(rR(t).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=n[i],a===PH&&(e.$$typeof||t.$$typeof)&&e.$$typeof!==t.$$typeof||!IH(t,a)||!r.equals(e[a],t[a],a,a,e,t,r)||(o=nR(e,a),l=nR(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function C5e(e,t){return nx(e.valueOf(),t.valueOf())}function j5e(e,t){return e.source===t.source&&e.flags===t.flags}function sR(e,t,r){if(e.size!==t.size)return!1;for(var n={},i=e.values(),a,o;(a=i.next())&&!a.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!n[u]&&(c=r.equals(a.value,o.value,a.value,o.value,e,t,r))&&(n[u]=!0),u++;if(!c)return!1}return!0}function T5e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}var O5e="[object Arguments]",I5e="[object Boolean]",P5e="[object Date]",k5e="[object Map]",M5e="[object Number]",D5e="[object Object]",L5e="[object RegExp]",R5e="[object Set]",F5e="[object String]",B5e=Array.isArray,oR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,lR=Object.assign,$5e=Object.prototype.toString.call.bind(Object.prototype.toString);function U5e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areMapsEqual,i=e.areObjectsEqual,a=e.arePrimitiveWrappersEqual,o=e.areRegExpsEqual,l=e.areSetsEqual,c=e.areTypedArraysEqual;return function(f,p,g){if(f===p)return!0;if(f==null||p==null||typeof f!="object"||typeof p!="object")return f!==f&&p!==p;var x=f.constructor;if(x!==p.constructor)return!1;if(x===Object)return i(f,p,g);if(B5e(f))return t(f,p,g);if(oR!=null&&oR(f))return c(f,p,g);if(x===Date)return r(f,p,g);if(x===RegExp)return o(f,p,g);if(x===Map)return n(f,p,g);if(x===Set)return l(f,p,g);var b=$5e(f);return b===P5e?r(f,p,g):b===L5e?o(f,p,g):b===k5e?n(f,p,g):b===R5e?l(f,p,g):b===D5e?typeof f.then!="function"&&typeof p.then!="function"&&i(f,p,g):b===O5e?i(f,p,g):b===I5e||b===M5e||b===F5e?a(f,p,g):!1}}function z5e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Hx:N5e,areDatesEqual:E5e,areMapsEqual:n?tR(aR,Hx):aR,areObjectsEqual:n?Hx:A5e,arePrimitiveWrappersEqual:C5e,areRegExpsEqual:j5e,areSetsEqual:n?tR(sR,Hx):sR,areTypedArraysEqual:n?Hx:T5e};if(r&&(i=lR({},i,r(i))),t){var a=sb(i.areArraysEqual),o=sb(i.areMapsEqual),l=sb(i.areObjectsEqual),c=sb(i.areSetsEqual);i=lR({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function V5e(e){return function(t,r,n,i,a,o,l){return e(t,r,l)}}function W5e(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(c,u){var f=n(),p=f.cache,g=p===void 0?t?new WeakMap:void 0:p,x=f.meta;return r(c,u,{cache:g,equals:i,meta:x,strict:a})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return r(c,u,o)}}var H5e=u0();u0({strict:!0});u0({circular:!0});u0({circular:!0,strict:!0});u0({createInternalComparator:function(){return nx}});u0({strict:!0,createInternalComparator:function(){return nx}});u0({circular:!0,createInternalComparator:function(){return nx}});u0({circular:!0,createInternalComparator:function(){return nx},strict:!0});function u0(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,l=z5e(e),c=U5e(l),u=n?n(c):V5e(c);return W5e({circular:r,comparator:c,createState:i,equals:u,strict:o})}function q5e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function cR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):q5e(i)};requestAnimationFrame(n)}function JC(e){"@babel/helpers - typeof";return JC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},JC(e)}function G5e(e){return Q5e(e)||K5e(e)||X5e(e)||Y5e()}function Y5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X5e(e,t){if(e){if(typeof e=="string")return uR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uR(e,t)}}function uR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K5e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Q5e(e){if(Array.isArray(e))return e}function Z5e(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=G5e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){cR(i.bind(null,u),c);return}i(c),cR(i.bind(null,u));return}JC(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function My(e){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},My(e)}function dR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(r),!0).forEach(function(n){kH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kH(e,t,r){return t=J5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J5e(e){var t=e4e(e,"string");return My(t)==="symbol"?t:String(t)}function e4e(e,t){if(My(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(My(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t4e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},r4e=function(t){return t},n4e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Pv=function(t,r){return Object.keys(r).reduce(function(n,i){return fR(fR({},n),{},kH({},i,t(i,r[i])))},{})},hR=function(t,r,n){return t.map(function(i){return"".concat(n4e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function i4e(e,t){return o4e(e)||s4e(e,t)||MH(e,t)||a4e()}function a4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function o4e(e){if(Array.isArray(e))return e}function l4e(e){return d4e(e)||u4e(e)||MH(e)||c4e()}function c4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MH(e,t){if(e){if(typeof e=="string")return ej(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ej(e,t)}}function u4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d4e(e){if(Array.isArray(e))return ej(e)}function ej(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g5=1e-4,DH=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},LH=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},pR=function(t,r){return function(n){var i=DH(t,r);return LH(i,n)}},f4e=function(t,r){return function(n){var i=DH(t,r),a=[].concat(l4e(i.map(function(o,l){return o*l}).slice(1)),[0]);return LH(a,n)}},mR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),f=i4e(u,4);i=f[0],a=f[1],o=f[2],l=f[3]}}}var p=pR(i,o),g=pR(a,l),x=f4e(i,o),b=function(N){return N>1?1:N<0?0:N},y=function(N){for(var E=N>1?1:N,C=E,I=0;I<8;++I){var P=p(C)-E,D=x(C);if(Math.abs(P-E)<g5||D<g5)return g(C);C=b(C-P/D)}return g(C)};return y.isStepper=!1,y},h4e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(f,p,g){var x=-(f-p)*n,b=g*a,y=g+(x-b)*l/1e3,_=g*l/1e3+f;return Math.abs(_-p)<g5&&Math.abs(y)<g5?[p,0]:[_,y]};return c.isStepper=!0,c.dt=l,c},p4e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mR(i);case"spring":return h4e();default:if(i.split("(")[0]==="cubic-bezier")return mR(i)}return typeof i=="function"?i:null};function Dy(e){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dy(e)}function gR(e){return x4e(e)||g4e(e)||RH(e)||m4e()}function m4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function x4e(e){if(Array.isArray(e))return rj(e)}function xR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(r),!0).forEach(function(n){tj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tj(e,t,r){return t=v4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v4e(e){var t=y4e(e,"string");return Dy(t)==="symbol"?t:String(t)}function y4e(e,t){if(Dy(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w4e(e,t){return _4e(e)||S4e(e,t)||RH(e,t)||b4e()}function b4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RH(e,t){if(e){if(typeof e=="string")return rj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rj(e,t)}}function rj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function _4e(e){if(Array.isArray(e))return e}var x5=function(t,r,n){return t+(r-t)*n},nj=function(t){var r=t.from,n=t.to;return r!==n},N4e=function e(t,r,n){var i=Pv(function(a,o){if(nj(o)){var l=t(o.from,o.to,o.velocity),c=w4e(l,2),u=c[0],f=c[1];return Ms(Ms({},o),{},{from:u,velocity:f})}return o},r);return n<1?Pv(function(a,o){return nj(o)?Ms(Ms({},o),{},{velocity:x5(o.velocity,i[a].velocity,n),from:x5(o.from,i[a].from,n)}):o},r):e(t,i,n-1)};const E4e=function(e,t,r,n,i){var a=t4e(e,t),o=a.reduce(function(_,N){return Ms(Ms({},_),{},tj({},N,[e[N],t[N]]))},{}),l=a.reduce(function(_,N){return Ms(Ms({},_),{},tj({},N,{from:e[N],velocity:0,to:t[N]}))},{}),c=-1,u,f,p=function(){return null},g=function(){return Pv(function(N,E){return E.from},l)},x=function(){return!Object.values(l).filter(nj).length},b=function(N){u||(u=N);var E=N-u,C=E/r.dt;l=N4e(r,l,C),i(Ms(Ms(Ms({},e),t),g())),u=N,x()||(c=requestAnimationFrame(p))},y=function(N){f||(f=N);var E=(N-f)/n,C=Pv(function(P,D){return x5.apply(void 0,gR(D).concat([r(E)]))},o);if(i(Ms(Ms(Ms({},e),t),C)),E<1)c=requestAnimationFrame(p);else{var I=Pv(function(P,D){return x5.apply(void 0,gR(D).concat([r(1)]))},o);i(Ms(Ms(Ms({},e),t),I))}};return p=r.isStepper?b:y,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}};function hg(e){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hg(e)}var A4e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function C4e(e,t){if(e==null)return{};var r=j4e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function j4e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function YE(e){return P4e(e)||I4e(e)||O4e(e)||T4e()}function T4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O4e(e,t){if(e){if(typeof e=="string")return ij(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ij(e,t)}}function I4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P4e(e){if(Array.isArray(e))return ij(e)}function ij(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(n){dv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dv(e,t,r){return t=FH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k4e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M4e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FH(n.key),n)}}function D4e(e,t,r){return t&&M4e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FH(e){var t=L4e(e,"string");return hg(t)==="symbol"?t:String(t)}function L4e(e,t){if(hg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hg(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R4e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aj(e,t)}function aj(e,t){return aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aj(e,t)}function F4e(e){var t=B4e();return function(){var n=v5(e),i;if(t){var a=v5(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return sj(this,i)}}function sj(e,t){if(t&&(hg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oj(e)}function oj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B4e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v5(e){return v5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v5(e)}var Uh=function(e){R4e(r,e);var t=F4e(r);function r(n,i){var a;k4e(this,r),a=t.call(this,n,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,p=o.steps,g=o.children,x=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(oj(a)),a.changeStyle=a.changeStyle.bind(oj(a)),!l||x<=0)return a.state={style:{}},typeof g=="function"&&(a.state={style:f}),sj(a);if(p&&p.length)a.state={style:p[0].style};else if(u){if(typeof g=="function")return a.state={style:u},sj(a);a.state={style:c?dv({},c,u):u}}else a.state={style:{}};return a}return D4e(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,f=a.to,p=a.from,g=this.state.style;if(l){if(!o){var x={style:c?dv({},c,f):f};this.state&&g&&(c&&g[c]!==f||!c&&g!==f)&&this.setState(x);return}if(!(H5e(i.to,f)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=b||u?p:i.to;if(this.state&&g){var _={style:c?dv({},c,y):y};(c&&g[c]!==y||!c&&g!==y)&&this.setState(_)}this.runAnimation(Pc(Pc({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,f=i.begin,p=i.onAnimationEnd,g=i.onAnimationStart,x=E4e(o,l,p4e(u),c,this.changeStyle),b=function(){a.stopJSAnimation=x()};this.manager.start([g,f,b,c,p])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],f=u.style,p=u.duration,g=p===void 0?0:p,x=function(y,_,N){if(N===0)return y;var E=_.duration,C=_.easing,I=C===void 0?"ease":C,P=_.style,D=_.properties,k=_.onAnimationEnd,L=N>0?o[N-1]:_,B=D||Object.keys(P);if(typeof I=="function"||I==="spring")return[].concat(YE(y),[a.runJSAnimation.bind(a,{from:L.style,to:P,duration:E,easing:I}),E]);var G=hR(B,E,I),F=Pc(Pc(Pc({},L.style),P),{},{transition:G});return[].concat(YE(y),[F,E,k]).filter(r4e)};return this.manager.start([c].concat(YE(o.reduce(x,[f,Math.max(g,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Z5e());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,f=i.onAnimationStart,p=i.onAnimationEnd,g=i.steps,x=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof x=="function"||u==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var y=l?dv({},l,c):c,_=hR(Object.keys(y),o,u);b.start([f,a,Pc(Pc({},y),{},{transition:_}),o,p])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=C4e(i,A4e),u=O.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!l||u===0||o<=0)return a;var p=function(x){var b=x.props,y=b.style,_=y===void 0?{}:y,N=b.className,E=O.cloneElement(x,Pc(Pc({},c),{},{style:Pc(Pc({},_),f),className:N}));return E};return u===1?p(O.Children.only(a)):qe.createElement("div",null,O.Children.map(a,function(g){return p(g)}))}}]),r}(O.PureComponent);Uh.displayName="Animate";Uh.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Uh.propTypes={from:jr.oneOfType([jr.object,jr.string]),to:jr.oneOfType([jr.object,jr.string]),attributeName:jr.string,duration:jr.number,begin:jr.number,easing:jr.oneOfType([jr.string,jr.func]),steps:jr.arrayOf(jr.shape({duration:jr.number.isRequired,style:jr.object.isRequired,easing:jr.oneOfType([jr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),jr.func]),properties:jr.arrayOf("string"),onAnimationEnd:jr.func})),children:jr.oneOfType([jr.node,jr.func]),isActive:jr.bool,canBegin:jr.bool,onAnimationEnd:jr.func,shouldReAnimate:jr.bool,onAnimationStart:jr.func,onAnimationReStart:jr.func};jr.object,jr.object,jr.object,jr.element;jr.object,jr.object,jr.object,jr.oneOfType([jr.array,jr.element]),jr.any;function Ly(e){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ly(e)}function y5(){return y5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y5.apply(this,arguments)}function $4e(e,t){return W4e(e)||V4e(e,t)||z4e(e,t)||U4e()}function U4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z4e(e,t){if(e){if(typeof e=="string")return yR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yR(e,t)}}function yR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V4e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function W4e(e){if(Array.isArray(e))return e}function wR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(r),!0).forEach(function(n){H4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H4e(e,t,r){return t=q4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q4e(e){var t=G4e(e,"string");return Ly(t)=="symbol"?t:t+""}function G4e(e,t){if(Ly(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SR=function(t,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,f;if(o>0&&a instanceof Array){for(var p=[0,0,0,0],g=0,x=4;g<x;g++)p[g]=a[g]>o?o:a[g];f="M".concat(t,",").concat(r+l*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(t+c*p[0],",").concat(r)),f+="L ".concat(t+n-c*p[1],",").concat(r),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*p[1])),f+="L ".concat(t+n,",").concat(r+i-l*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(t+n-c*p[2],",").concat(r+i)),f+="L ".concat(t+c*p[3],",").concat(r+i),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*p[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var b=Math.min(o,a);f="M ".concat(t,",").concat(r+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+c*b,",").concat(r,`
            L `).concat(t+n-c*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*b,`
            L `).concat(t+n,",").concat(r+i-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+n-c*b,",").concat(r+i,`
            L `).concat(t+c*b,",").concat(r+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*b," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},Y4e=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),f=Math.max(a,a+l),p=Math.min(o,o+c),g=Math.max(o,o+c);return n>=u&&n<=f&&i>=p&&i<=g}return!1},X4e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kI=function(t){var r=bR(bR({},X4e),t),n=O.useRef(),i=O.useState(-1),a=$4e(i,2),o=a[0],l=a[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&l(I)}catch{}},[]);var c=r.x,u=r.y,f=r.width,p=r.height,g=r.radius,x=r.className,b=r.animationEasing,y=r.animationDuration,_=r.animationBegin,N=r.isAnimationActive,E=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||p!==+p||f===0||p===0)return null;var C=oi("recharts-rectangle",x);return E?qe.createElement(Uh,{canBegin:o>0,from:{width:f,height:p,x:c,y:u},to:{width:f,height:p,x:c,y:u},duration:y,animationEasing:b,isActive:E},function(I){var P=I.width,D=I.height,k=I.x,L=I.y;return qe.createElement(Uh,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:y,isActive:N,easing:b},qe.createElement("path",y5({},si(r,!0),{className:C,d:SR(k,L,P,D,g),ref:n})))}):qe.createElement("path",y5({},si(r,!0),{className:C,d:SR(c,u,f,p,g)}))};function lj(){return lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lj.apply(this,arguments)}var BH=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,o=oi("recharts-dot",a);return r===+r&&n===+n&&i===+i?qe.createElement("circle",lj({},si(t,!1),FS(t),{className:o,cx:r,cy:n,r:i})):null};function Ry(e){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ry(e)}var K4e=["x","y","top","left","width","height","className"];function cj(){return cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cj.apply(this,arguments)}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Q4e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(n){Z4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z4e(e,t,r){return t=J4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J4e(e){var t=e_e(e,"string");return Ry(t)=="symbol"?t:t+""}function e_e(e,t){if(Ry(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t_e(e,t){if(e==null)return{};var r=r_e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var n_e=function(t,r,n,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},i_e=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,p=f===void 0?0:f,g=t.height,x=g===void 0?0:g,b=t.className,y=t_e(t,K4e),_=Q4e({x:n,y:a,top:l,left:u,width:p,height:x},y);return!cr(n)||!cr(a)||!cr(p)||!cr(x)||!cr(l)||!cr(u)?null:qe.createElement("path",cj({},si(_,!0),{className:oi("recharts-cross",b),d:n_e(n,a,p,x,l,u)}))},a_e=QV,s_e=a_e(Object.getPrototypeOf,Object),o_e=s_e,l_e=_f,c_e=o_e,u_e=Nf,d_e="[object Object]",f_e=Function.prototype,h_e=Object.prototype,$H=f_e.toString,p_e=h_e.hasOwnProperty,m_e=$H.call(Object);function g_e(e){if(!u_e(e)||l_e(e)!=d_e)return!1;var t=c_e(e);if(t===null)return!0;var r=p_e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&$H.call(r)==m_e}var x_e=g_e;const v_e=Zn(x_e);var y_e=_f,w_e=Nf,b_e="[object Boolean]";function S_e(e){return e===!0||e===!1||w_e(e)&&y_e(e)==b_e}var __e=S_e;const N_e=Zn(__e);function Fy(e){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fy(e)}function w5(){return w5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w5.apply(this,arguments)}function E_e(e,t){return T_e(e)||j_e(e,t)||C_e(e,t)||A_e()}function A_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C_e(e,t){if(e){if(typeof e=="string")return NR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NR(e,t)}}function NR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function T_e(e){if(Array.isArray(e))return e}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){O_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O_e(e,t,r){return t=I_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I_e(e){var t=P_e(e,"string");return Fy(t)=="symbol"?t:t+""}function P_e(e,t){if(Fy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CR=function(t,r,n,i,a){var o=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+a),l+="L ".concat(t+n-o/2-i,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},k_e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},M_e=function(t){var r=AR(AR({},k_e),t),n=O.useRef(),i=O.useState(-1),a=E_e(i,2),o=a[0],l=a[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,p=r.lowerWidth,g=r.height,x=r.className,b=r.animationEasing,y=r.animationDuration,_=r.animationBegin,N=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||p!==+p||g!==+g||f===0&&p===0||g===0)return null;var E=oi("recharts-trapezoid",x);return N?qe.createElement(Uh,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:u},to:{upperWidth:f,lowerWidth:p,height:g,x:c,y:u},duration:y,animationEasing:b,isActive:N},function(C){var I=C.upperWidth,P=C.lowerWidth,D=C.height,k=C.x,L=C.y;return qe.createElement(Uh,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:y,easing:b},qe.createElement("path",w5({},si(r,!0),{className:E,d:CR(k,L,I,P,D),ref:n})))}):qe.createElement("g",null,qe.createElement("path",w5({},si(r,!0),{className:E,d:CR(c,u,f,p,g)})))},D_e=["option","shapeType","propTransformer","activeClassName","isActive"];function By(e){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},By(e)}function L_e(e,t){if(e==null)return{};var r=R_e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function b5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(r),!0).forEach(function(n){F_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F_e(e,t,r){return t=B_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B_e(e){var t=$_e(e,"string");return By(t)=="symbol"?t:t+""}function $_e(e,t){if(By(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(By(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U_e(e,t){return b5(b5({},t),e)}function z_e(e,t){return e==="symbols"}function TR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return qe.createElement(kI,r);case"trapezoid":return qe.createElement(M_e,r);case"sector":return qe.createElement(CH,r);case"symbols":if(z_e(t))return qe.createElement(QO,r);break;default:return null}}function V_e(e){return O.isValidElement(e)?e.props:e}function W_e(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?U_e:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=L_e(e,D_e),u;if(O.isValidElement(t))u=O.cloneElement(t,b5(b5({},c),V_e(t)));else if(Vn(t))u=t(c);else if(v_e(t)&&!N_e(t)){var f=i(t,c);u=qe.createElement(TR,{shapeType:r,elementProps:f})}else{var p=c;u=qe.createElement(TR,{shapeType:r,elementProps:p})}return l?qe.createElement(bs,{className:o},u):u}function E_(e,t){return t!=null&&"trapezoids"in e.props}function A_(e,t){return t!=null&&"sectors"in e.props}function $y(e,t){return t!=null&&"points"in e.props}function H_e(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function q_e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function G_e(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function Y_e(e,t){var r;return E_(e,t)?r=H_e:A_(e,t)?r=q_e:$y(e,t)&&(r=G_e),r}function X_e(e,t){var r;return E_(e,t)?r="trapezoids":A_(e,t)?r="sectors":$y(e,t)&&(r="points"),r}function K_e(e,t){if(E_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(A_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return $y(e,t)?t.payload:{}}function Q_e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=X_e(r,t),a=K_e(r,t),o=n.filter(function(c,u){var f=TI(a,c),p=r.props[i].filter(function(b){var y=Y_e(r,t);return y(b,t)}),g=r.props[i].indexOf(p[p.length-1]),x=u===g;return f&&x}),l=n.indexOf(o[o.length-1]);return l}var Z_e=Math.ceil,J_e=Math.max;function eNe(e,t,r,n){for(var i=-1,a=J_e(Z_e((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=e,e+=r;return o}var tNe=eNe,rNe=gW,OR=1/0,nNe=17976931348623157e292;function iNe(e){if(!e)return e===0?e:0;if(e=rNe(e),e===OR||e===-OR){var t=e<0?-1:1;return t*nNe}return e===e?e:0}var UH=iNe,aNe=tNe,sNe=h_,XE=UH;function oNe(e){return function(t,r,n){return n&&typeof n!="number"&&sNe(t,r,n)&&(r=n=void 0),t=XE(t),r===void 0?(r=t,t=0):r=XE(r),n=n===void 0?t<r?1:-1:XE(n),aNe(t,r,n,e)}}var lNe=oNe,cNe=lNe,uNe=cNe(),dNe=uNe;const S5=Zn(dNe);function Uy(e){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uy(e)}function IR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(r),!0).forEach(function(n){zH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zH(e,t,r){return t=fNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fNe(e){var t=hNe(e,"string");return Uy(t)=="symbol"?t:t+""}function hNe(e,t){if(Uy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pNe=["Webkit","Moz","O","ms"],mNe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=pNe.reduce(function(a,o){return PR(PR({},a),{},zH({},o+n,r))},{});return i[t]=r,i};function pg(e){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pg(e)}function _5(){return _5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_5.apply(this,arguments)}function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(n){vl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WH(n.key),n)}}function xNe(e,t,r){return t&&MR(e.prototype,t),r&&MR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function vNe(e,t,r){return t=N5(t),yNe(e,VH()?Reflect.construct(t,r||[],N5(e).constructor):t.apply(e,r))}function yNe(e,t){if(t&&(pg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wNe(e)}function wNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VH=function(){return!!e})()}function N5(e){return N5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N5(e)}function bNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uj(e,t)}function uj(e,t){return uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uj(e,t)}function vl(e,t,r){return t=WH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WH(e){var t=SNe(e,"string");return pg(t)=="symbol"?t:t+""}function SNe(e,t){if(pg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Ne=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Ov().domain(S5(0,c)).range([a,a+o-l]),f=u.domain().map(function(p){return u(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:f}},DR=function(t){return t.changedTouches&&!!t.changedTouches.length},mg=function(e){function t(r){var n;return gNe(this,t),n=vNe(this,t,[r]),vl(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),vl(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),vl(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),vl(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),vl(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),vl(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),vl(n,"handleSlideDragStart",function(i){var a=DR(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return bNe(t,e),xNe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,p=Math.min(i,a),g=Math.max(i,a),x=t.getIndexInRange(o,p),b=t.getIndexInRange(o,g);return{startIndex:x-x%c,endIndex:b===f?f:b-b%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=rd(a[n],l,n);return Vn(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,f=c.width,p=c.travellerWidth,g=c.startIndex,x=c.endIndex,b=c.onChange,y=n.pageX-a;y>0?y=Math.min(y,u+f-p-l,u+f-p-o):y<0&&(y=Math.max(y,u-o,u-l));var _=this.getIndex({startX:o+y,endX:l+y});(_.startIndex!==g||_.endIndex!==x)&&b&&b(_),this.setState({startX:o+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=DR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],f=this.props,p=f.x,g=f.width,x=f.travellerWidth,b=f.onChange,y=f.gap,_=f.data,N={startX:this.state.startX,endX:this.state.endX},E=n.pageX-a;E>0?E=Math.min(E,p+g-x-u):E<0&&(E=Math.max(E,p-u)),N[o]=u+E;var C=this.getIndex(N),I=C.startIndex,P=C.endIndex,D=function(){var L=_.length-1;return o==="startX"&&(l>c?I%y===0:P%y===0)||l<c&&P===L||o==="endX"&&(l>c?P%y===0:I%y===0)||l>c&&P===L};this.setState(vl(vl({},o,u+E),"brushMoveStartX",n.pageX),function(){b&&D()&&b(C)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[i],p=l.indexOf(f);if(p!==-1){var g=p+n;if(!(g===-1||g>=l.length)){var x=l[g];i==="startX"&&x>=u||i==="endX"&&x<=c||this.setState(vl({},i,x),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return qe.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,p=O.Children.only(u);return p?qe.cloneElement(p,{x:i,y:a,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,p=c.height,g=c.traveller,x=c.ariaLabel,b=c.data,y=c.startIndex,_=c.endIndex,N=Math.max(n,this.props.x),E=KE(KE({},si(this.props,!1)),{},{x:N,y:u,width:f,height:p}),C=x||"Min value: ".concat((a=b[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=b[_])===null||o===void 0?void 0:o.name);return qe.createElement(bs,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),l.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,E))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,f=Math.min(n,i)+u,p=Math.max(Math.abs(i-n)-u,0);return qe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:p,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,p=f.startX,g=f.endX,x=5,b={pointerEvents:"none",fill:u};return qe.createElement(bs,{className:"recharts-brush-texts"},qe.createElement(JS,_5({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,g)-x,y:o+l/2},b),this.getTextOfTick(i)),qe.createElement(JS,_5({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,g)+c+x,y:o+l/2},b),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,c=n.y,u=n.width,f=n.height,p=n.alwaysShowText,g=this.state,x=g.startX,b=g.endX,y=g.isTextActive,_=g.isSlideMoving,N=g.isTravellerMoving,E=g.isTravellerFocused;if(!i||!i.length||!cr(l)||!cr(c)||!cr(u)||!cr(f)||u<=0||f<=0)return null;var C=oi("recharts-brush",a),I=qe.Children.count(o)===1,P=mNe("userSelect","none");return qe.createElement(bs,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(x,b),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(b,"endX"),(y||_||N||E||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return qe.createElement(qe.Fragment,null,qe.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),qe.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),qe.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return qe.isValidElement(n)?a=qe.cloneElement(n,i):Vn(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,p=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return KE({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?_Ne({data:a,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var g=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(O.PureComponent);vl(mg,"displayName","Brush");vl(mg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var NNe=iI;function ENe(e,t){var r;return NNe(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var ANe=ENe,CNe=VV,jNe=o0,TNe=ANe,ONe=ol,INe=h_;function PNe(e,t,r){var n=ONe(e)?CNe:TNe;return r&&INe(e,t,r)&&(t=void 0),n(e,jNe(t))}var kNe=PNe;const MNe=Zn(kNe);var Ku=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},LR=dW;function DNe(e,t,r){t=="__proto__"&&LR?LR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var LNe=DNe,RNe=LNe,FNe=cW,BNe=o0;function $Ne(e,t){var r={};return t=BNe(t),FNe(e,function(n,i,a){RNe(r,i,t(n,i,a))}),r}var UNe=$Ne;const zNe=Zn(UNe);function VNe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var WNe=VNe,HNe=iI;function qNe(e,t){var r=!0;return HNe(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var GNe=qNe,YNe=WNe,XNe=GNe,KNe=o0,QNe=ol,ZNe=h_;function JNe(e,t,r){var n=QNe(e)?YNe:XNe;return r&&ZNe(e,t,r)&&(t=void 0),n(e,KNe(t))}var eEe=JNe;const HH=Zn(eEe);var tEe=["x","y"];function zy(e){"@babel/helpers - typeof";return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zy(e)}function dj(){return dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dj.apply(this,arguments)}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(n){rEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rEe(e,t,r){return t=nEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nEe(e){var t=iEe(e,"string");return zy(t)=="symbol"?t:t+""}function iEe(e,t){if(zy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aEe(e,t){if(e==null)return{};var r=sEe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oEe(e,t){var r=e.x,n=e.y,i=aEe(e,tEe),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),f=parseInt(u,10),p="".concat(t.width||i.width),g=parseInt(p,10);return qx(qx(qx(qx(qx({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:g,name:t.name,radius:t.radius})}function FR(e){return qe.createElement(W_e,dj({shapeType:"rectangle",propTransformer:oEe,activeClassName:"recharts-active-bar"},e))}var lEe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=typeof n=="number";return a?t(n,i):(a||Mp(),r)}},cEe=["value","background"],qH;function gg(e){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(e)}function uEe(e,t){if(e==null)return{};var r=dEe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function E5(){return E5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E5.apply(this,arguments)}function BR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(r),!0).forEach(function(n){Sh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $R(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YH(n.key),n)}}function hEe(e,t,r){return t&&$R(e.prototype,t),r&&$R(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function pEe(e,t,r){return t=A5(t),mEe(e,GH()?Reflect.construct(t,r||[],A5(e).constructor):t.apply(e,r))}function mEe(e,t){if(t&&(gg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gEe(e)}function gEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GH=function(){return!!e})()}function A5(e){return A5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A5(e)}function xEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fj(e,t)}function fj(e,t){return fj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},fj(e,t)}function Sh(e,t,r){return t=YH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YH(e){var t=vEe(e,"string");return gg(t)=="symbol"?t:t+""}function vEe(e,t){if(gg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zp=function(e){function t(){var r;fEe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=pEe(this,t,[].concat(i)),Sh(r,"state",{isAnimationFinished:!1}),Sh(r,"id",s_("recharts-bar-")),Sh(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Sh(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return xEe(t,e),hEe(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,f=si(this.props,!1);return n&&n.map(function(p,g){var x=g===c,b=x?u:o,y=Za(Za(Za({},f),p),{},{isActive:x,option:b,index:g,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return qe.createElement(bs,E5({className:"recharts-bar-rectangle"},BS(i.props,p,g),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value)}),qe.createElement(FR,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,f=i.animationEasing,p=i.animationId,g=this.state.prevData;return qe.createElement(Uh,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t,y=a.map(function(_,N){var E=g&&g[N];if(E){var C=x1(E.x,_.x),I=x1(E.y,_.y),P=x1(E.width,_.width),D=x1(E.height,_.height);return Za(Za({},_),{},{x:C(b),y:I(b),width:P(b),height:D(b)})}if(o==="horizontal"){var k=x1(0,_.height),L=k(b);return Za(Za({},_),{},{y:_.y+_.height-L,height:L})}var B=x1(0,_.width),G=B(b);return Za(Za({},_),{},{width:G})});return qe.createElement(bs,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!TI(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=si(this.props.background,!1);return a.map(function(u,f){u.value;var p=u.background,g=uEe(u,cEe);if(!p)return null;var x=Za(Za(Za(Za(Za({},g),{},{fill:"#eee"},p),c),BS(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return qe.createElement(FR,E5({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},x))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,f=a.children,p=nu(f,N_);if(!p)return null;var g=u==="vertical"?o[0].height/2:o[0].width/2,x=function(_,N){var E=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:E,errorVal:rd(_,N)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return qe.createElement(bs,b,p.map(function(y){return qe.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:g,dataPointFormatter:x})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,p=n.width,g=n.height,x=n.isAnimationActive,b=n.background,y=n.id;if(i||!a||!a.length)return null;var _=this.state.isAnimationFinished,N=oi("recharts-bar",o),E=l&&l.allowDataOverflow,C=c&&c.allowDataOverflow,I=E||C,P=di(y)?this.id:y;return qe.createElement(bs,{className:N},E||C?qe.createElement("defs",null,qe.createElement("clipPath",{id:"clipPath-".concat(P)},qe.createElement("rect",{x:E?u:u-p/2,y:C?f:f-g/2,width:E?p:p*2,height:C?g:g*2}))):null,qe.createElement(bs,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(P,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,P),(!x||_)&&dp.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(O.PureComponent);qH=Zp;Sh(Zp,"displayName","Bar");Sh(Zp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Dh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Sh(Zp,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,p=e.displayedData,g=e.offset,x=iSe(n,r);if(!x)return null;var b=t.layout,y=r.type.defaultProps,_=y!==void 0?Za(Za({},y),r.props):r.props,N=_.dataKey,E=_.children,C=_.minPointSize,I=b==="horizontal"?o:a,P=u?I.scale.domain():null,D=fSe({numericAxis:I}),k=nu(E,vW),L=p.map(function(B,G){var F,U,q,K,V,ee;u?F=aSe(u[f+G],P):(F=rd(B,N),Array.isArray(F)||(F=[D,F]));var te=lEe(C,qH.defaultProps.minPointSize)(F[1],G);if(b==="horizontal"){var J,ge=[o.scale(F[0]),o.scale(F[1])],Ie=ge[0],Ge=ge[1];U=FL({axis:a,ticks:l,bandSize:i,offset:x.offset,entry:B,index:G}),q=(J=Ge??Ie)!==null&&J!==void 0?J:void 0,K=x.size;var W=Ie-Ge;if(V=Number.isNaN(W)?0:W,ee={x:U,y:o.y,width:K,height:o.height},Math.abs(te)>0&&Math.abs(V)<Math.abs(te)){var Q=Qc(V||te)*(Math.abs(te)-Math.abs(V));q-=Q,V+=Q}}else{var Z=[a.scale(F[0]),a.scale(F[1])],re=Z[0],le=Z[1];if(U=re,q=FL({axis:o,ticks:c,bandSize:i,offset:x.offset,entry:B,index:G}),K=le-re,V=x.size,ee={x:a.x,y:q,width:a.width,height:V},Math.abs(te)>0&&Math.abs(K)<Math.abs(te)){var Ne=Qc(K||te)*(Math.abs(te)-Math.abs(K));K+=Ne}}return Za(Za(Za({},B),{},{x:U,y:q,width:K,height:V,value:u?F:F[1],payload:B,background:ee},k&&k[G]&&k[G].props),{},{tooltipPayload:[NH(r,B)],tooltipPosition:{x:U+K/2,y:q+V/2}})});return Za({data:L,layout:b},g)});function Vy(e){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vy(e)}function yEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XH(n.key),n)}}function wEe(e,t,r){return t&&UR(e.prototype,t),r&&UR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(r),!0).forEach(function(n){C_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C_(e,t,r){return t=XH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XH(e){var t=bEe(e,"string");return Vy(t)=="symbol"?t:t+""}function bEe(e,t){if(Vy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SEe=function(t,r,n,i,a){var o=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),p={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},g=!!_l(u,Zp);return f.reduce(function(x,b){var y=r[b],_=y.orientation,N=y.domain,E=y.padding,C=E===void 0?{}:E,I=y.mirror,P=y.reversed,D="".concat(_).concat(I?"Mirror":""),k,L,B,G,F;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var U=N[1]-N[0],q=1/0,K=y.categoricalDomain.sort();if(K.forEach(function(Z,re){re>0&&(q=Math.min((Z||0)-(K[re-1]||0),q))}),Number.isFinite(q)){var V=q/U,ee=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(k=V*ee/2),y.padding==="no-gap"){var te=Pp(t.barCategoryGap,V*ee),J=V*ee/2;k=J-te-(J-te)/ee*te}}}i==="xAxis"?L=[n.left+(C.left||0)+(k||0),n.left+n.width-(C.right||0)-(k||0)]:i==="yAxis"?L=c==="horizontal"?[n.top+n.height-(C.bottom||0),n.top+(C.top||0)]:[n.top+(C.top||0)+(k||0),n.top+n.height-(C.bottom||0)-(k||0)]:L=y.range,P&&(L=[L[1],L[0]]);var ge=rSe(y,a,g),Ie=ge.scale,Ge=ge.realScaleType;Ie.domain(N).range(L),nSe(Ie);var W=dSe(Ie,zc(zc({},y),{},{realScaleType:Ge}));i==="xAxis"?(F=_==="top"&&!I||_==="bottom"&&I,B=n.left,G=p[D]-F*y.height):i==="yAxis"&&(F=_==="left"&&!I||_==="right"&&I,B=p[D]-F*y.width,G=n.top);var Q=zc(zc(zc({},y),W),{},{realScaleType:Ge,x:B,y:G,scale:Ie,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return Q.bandSize=h5(Q,W),!y.hide&&i==="xAxis"?p[D]+=(F?-1:1)*Q.height:y.hide||(p[D]+=(F?-1:1)*Q.width),zc(zc({},x),{},C_({},b,Q))},{})},KH=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},_Ee=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return KH({x:r,y:n},{x:i,y:a})},QH=function(){function e(t){yEe(this,e),this.scale=t}return wEe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();C_(QH,"EPS",1e-4);var MI=function(t){var r=Object.keys(t).reduce(function(n,i){return zc(zc({},n),{},C_({},i,QH.create(t[i])))},{});return zc(zc({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return zNe(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return HH(i,function(a,o){return r[o].isInRange(a)})}})};function NEe(e){return(e%180+180)%180}var EEe=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=NEe(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},AEe=o0,CEe=D2,jEe=d_;function TEe(e){return function(t,r,n){var i=Object(t);if(!CEe(t)){var a=AEe(r);t=jEe(t),r=function(l){return a(i[l],l,i)}}var o=e(t,r,n);return o>-1?i[a?t[o]:o]:void 0}}var OEe=TEe,IEe=UH;function PEe(e){var t=IEe(e),r=t%1;return t===t?r?t-r:t:0}var kEe=PEe,MEe=nW,DEe=o0,LEe=kEe,REe=Math.max;function FEe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:LEe(r);return i<0&&(i=REe(n+i,0)),MEe(e,DEe(t),i)}var BEe=FEe,$Ee=OEe,UEe=BEe,zEe=$Ee(UEe),VEe=zEe;const WEe=Zn(VEe);var HEe=Ule(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),DI=O.createContext(void 0),LI=O.createContext(void 0),ZH=O.createContext(void 0),JH=O.createContext({}),eq=O.createContext(void 0),tq=O.createContext(0),rq=O.createContext(0),VR=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,f=HEe(a);return qe.createElement(DI.Provider,{value:n},qe.createElement(LI.Provider,{value:i},qe.createElement(JH.Provider,{value:a},qe.createElement(ZH.Provider,{value:f},qe.createElement(eq.Provider,{value:o},qe.createElement(tq.Provider,{value:u},qe.createElement(rq.Provider,{value:c},l)))))))},qEe=function(){return O.useContext(eq)},nq=function(t){var r=O.useContext(DI);r==null&&Mp();var n=r[t];return n==null&&Mp(),n},GEe=function(){var t=O.useContext(DI);return sh(t)},YEe=function(){var t=O.useContext(LI),r=WEe(t,function(n){return HH(n.domain,Number.isFinite)});return r||sh(t)},iq=function(t){var r=O.useContext(LI);r==null&&Mp();var n=r[t];return n==null&&Mp(),n},XEe=function(){var t=O.useContext(ZH);return t},KEe=function(){return O.useContext(JH)},RI=function(){return O.useContext(rq)},FI=function(){return O.useContext(tq)};function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function QEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sq(n.key),n)}}function JEe(e,t,r){return t&&ZEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eAe(e,t,r){return t=C5(t),tAe(e,aq()?Reflect.construct(t,r||[],C5(e).constructor):t.apply(e,r))}function tAe(e,t){if(t&&(xg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rAe(e)}function rAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aq=function(){return!!e})()}function C5(e){return C5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C5(e)}function nAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hj(e,t)}function hj(e,t){return hj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hj(e,t)}function WR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(r),!0).forEach(function(n){BI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BI(e,t,r){return t=sq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sq(e){var t=iAe(e,"string");return xg(t)=="symbol"?t:t+""}function iAe(e,t){if(xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aAe(e,t){return cAe(e)||lAe(e,t)||oAe(e,t)||sAe()}function sAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oAe(e,t){if(e){if(typeof e=="string")return qR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qR(e,t)}}function qR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function cAe(e){if(Array.isArray(e))return e}function pj(){return pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pj.apply(this,arguments)}var uAe=function(t,r){var n;return qe.isValidElement(t)?n=qe.cloneElement(t,r):Vn(t)?n=t(r):n=qe.createElement("line",pj({},r,{className:"recharts-reference-line-line"})),n},dAe=function(t,r,n,i,a,o,l,c,u){var f=a.x,p=a.y,g=a.width,x=a.height;if(n){var b=u.y,y=t.y.apply(b,{position:o});if(Ku(u,"discard")&&!t.y.isInRange(y))return null;var _=[{x:f+g,y},{x:f,y}];return c==="left"?_.reverse():_}if(r){var N=u.x,E=t.x.apply(N,{position:o});if(Ku(u,"discard")&&!t.x.isInRange(E))return null;var C=[{x:E,y:p+x},{x:E,y:p}];return l==="top"?C.reverse():C}if(i){var I=u.segment,P=I.map(function(D){return t.apply(D,{position:o})});return Ku(u,"discard")&&MNe(P,function(D){return!t.isInRange(D)})?null:P}return null};function fAe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=qEe(),f=nq(i),p=iq(a),g=XEe();if(!u||!g)return null;Gd(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=MI({x:f.scale,y:p.scale}),b=hs(t),y=hs(r),_=n&&n.length===2,N=dAe(x,b,y,_,g,e.position,f.orientation,p.orientation,e);if(!N)return null;var E=aAe(N,2),C=E[0],I=C.x,P=C.y,D=E[1],k=D.x,L=D.y,B=Ku(e,"hidden")?"url(#".concat(u,")"):void 0,G=HR(HR({clipPath:B},si(e,!0)),{},{x1:I,y1:P,x2:k,y2:L});return qe.createElement(bs,{className:oi("recharts-reference-line",l)},uAe(o,G),oo.renderCallByParent(e,_Ee({x1:I,y1:P,x2:k,y2:L})))}var $I=function(e){function t(){return QEe(this,t),eAe(this,t,arguments)}return nAe(t,e),JEe(t,[{key:"render",value:function(){return qe.createElement(fAe,this.props)}}])}(qe.Component);BI($I,"displayName","ReferenceLine");BI($I,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function mj(){return mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mj.apply(this,arguments)}function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}function GR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(r),!0).forEach(function(n){j_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lq(n.key),n)}}function mAe(e,t,r){return t&&pAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gAe(e,t,r){return t=j5(t),xAe(e,oq()?Reflect.construct(t,r||[],j5(e).constructor):t.apply(e,r))}function xAe(e,t){if(t&&(vg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vAe(e)}function vAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oq=function(){return!!e})()}function j5(e){return j5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j5(e)}function yAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gj(e,t)}function gj(e,t){return gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gj(e,t)}function j_(e,t,r){return t=lq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lq(e){var t=wAe(e,"string");return vg(t)=="symbol"?t:t+""}function wAe(e,t){if(vg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bAe=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,o=MI({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ku(t,"discard")&&!o.isInRange(l)?null:l},T_=function(e){function t(){return hAe(this,t),gAe(this,t,arguments)}return yAe(t,e),mAe(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=hs(i),f=hs(a);if(Gd(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var p=bAe(this.props);if(!p)return null;var g=p.x,x=p.y,b=this.props,y=b.shape,_=b.className,N=Ku(this.props,"hidden")?"url(#".concat(c,")"):void 0,E=YR(YR({clipPath:N},si(this.props,!0)),{},{cx:g,cy:x});return qe.createElement(bs,{className:oi("recharts-reference-dot",_)},t.renderDot(y,E),oo.renderCallByParent(this.props,{x:g-o,y:x-o,width:2*o,height:2*o}))}}])}(qe.Component);j_(T_,"displayName","ReferenceDot");j_(T_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});j_(T_,"renderDot",function(e,t){var r;return qe.isValidElement(e)?r=qe.cloneElement(e,t):Vn(e)?r=e(t):r=qe.createElement(BH,mj({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function xj(){return xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xj.apply(this,arguments)}function yg(e){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yg(e)}function XR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(r),!0).forEach(function(n){O_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uq(n.key),n)}}function NAe(e,t,r){return t&&_Ae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EAe(e,t,r){return t=T5(t),AAe(e,cq()?Reflect.construct(t,r||[],T5(e).constructor):t.apply(e,r))}function AAe(e,t){if(t&&(yg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CAe(e)}function CAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cq=function(){return!!e})()}function T5(e){return T5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T5(e)}function jAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vj(e,t)}function vj(e,t){return vj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vj(e,t)}function O_(e,t,r){return t=uq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uq(e){var t=TAe(e,"string");return yg(t)=="symbol"?t:t+""}function TAe(e,t){if(yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OAe=function(t,r,n,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,f=a.xAxis,p=a.yAxis;if(!f||!p)return null;var g=MI({x:f.scale,y:p.scale}),x={x:t?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(c,{position:"start"}):g.y.rangeMin},b={x:r?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(u,{position:"end"}):g.y.rangeMax};return Ku(a,"discard")&&(!g.isInRange(x)||!g.isInRange(b))?null:KH(x,b)},I_=function(e){function t(){return SAe(this,t),EAe(this,t,arguments)}return jAe(t,e),NAe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;Gd(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=hs(i),g=hs(a),x=hs(o),b=hs(l),y=this.props.shape;if(!p&&!g&&!x&&!b&&!y)return null;var _=OAe(p,g,x,b,this.props);if(!_&&!y)return null;var N=Ku(this.props,"hidden")?"url(#".concat(f,")"):void 0;return qe.createElement(bs,{className:oi("recharts-reference-area",c)},t.renderRect(y,KR(KR({clipPath:N},si(this.props,!0)),_)),oo.renderCallByParent(this.props,_))}}])}(qe.Component);O_(I_,"displayName","ReferenceArea");O_(I_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});O_(I_,"renderRect",function(e,t){var r;return qe.isValidElement(e)?r=qe.cloneElement(e,t):Vn(e)?r=e(t):r=qe.createElement(kI,xj({},t,{className:"recharts-reference-area-rect"})),r});function dq(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function IAe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return EEe(n,r)}function PAe(e,t,r){var n=r==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function O5(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function kAe(e,t){return dq(e,t+1)}function MAe(e,t,r,n,i){for(var a=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,f=o,p=function(){var b=n==null?void 0:n[c];if(b===void 0)return{v:dq(n,u)};var y=c,_,N=function(){return _===void 0&&(_=r(b,y)),_},E=b.coordinate,C=c===0||O5(e,E,N,f,l);C||(c=0,f=o,u+=1),C&&(f=E+e*(N()/2+i),c+=u)},g;u<=a.length;)if(g=p(),g)return g.v;return[]}function Wy(e){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wy(e)}function QR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ao(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(r),!0).forEach(function(n){DAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DAe(e,t,r){return t=LAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LAe(e){var t=RAe(e,"string");return Wy(t)=="symbol"?t:t+""}function RAe(e,t){if(Wy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FAe(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(g){var x=a[g],b,y=function(){return b===void 0&&(b=r(x,g)),b};if(g===o-1){var _=e*(x.coordinate+e*y()/2-c);a[g]=x=ao(ao({},x),{},{tickCoord:_>0?x.coordinate-_*e:x.coordinate})}else a[g]=x=ao(ao({},x),{},{tickCoord:x.coordinate});var N=O5(e,x.tickCoord,y,l,c);N&&(c=x.tickCoord-e*(y()/2+i),a[g]=ao(ao({},x),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return a}function BAe(e,t,r,n,i,a){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var f=n[l-1],p=r(f,l-1),g=e*(f.coordinate+e*p/2-u);o[l-1]=f=ao(ao({},f),{},{tickCoord:g>0?f.coordinate-g*e:f.coordinate});var x=O5(e,f.tickCoord,function(){return p},c,u);x&&(u=f.tickCoord-e*(p/2+i),o[l-1]=ao(ao({},f),{},{isShow:!0}))}for(var b=a?l-1:l,y=function(E){var C=o[E],I,P=function(){return I===void 0&&(I=r(C,E)),I};if(E===0){var D=e*(C.coordinate-e*P()/2-c);o[E]=C=ao(ao({},C),{},{tickCoord:D<0?C.coordinate-D*e:C.coordinate})}else o[E]=C=ao(ao({},C),{},{tickCoord:C.coordinate});var k=O5(e,C.tickCoord,P,c,u);k&&(c=C.tickCoord+e*(P()/2+i),o[E]=ao(ao({},C),{},{isShow:!0}))},_=0;_<b;_++)y(_);return o}function UI(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,p=e.angle;if(!i||!i.length||!n)return[];if(cr(c)||Dh.isSsr)return kAe(i,typeof c=="number"&&cr(c)?c:0);var g=[],x=l==="top"||l==="bottom"?"width":"height",b=f&&x==="width"?Tv(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(C,I){var P=Vn(u)?u(C.value,I):C.value;return x==="width"?IAe(Tv(P,{fontSize:t,letterSpacing:r}),b,p):Tv(P,{fontSize:t,letterSpacing:r})[x]},_=i.length>=2?Qc(i[1].coordinate-i[0].coordinate):1,N=PAe(a,_,x);return c==="equidistantPreserveStart"?MAe(_,N,y,i,o):(c==="preserveStart"||c==="preserveStartEnd"?g=BAe(_,N,y,i,o,c==="preserveStartEnd"):g=FAe(_,N,y,i,o),g.filter(function(E){return E.isShow}))}var $Ae=["viewBox"],UAe=["viewBox"],zAe=["ticks"];function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},em.apply(this,arguments)}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(n){zI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QE(e,t){if(e==null)return{};var r=VAe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hq(n.key),n)}}function HAe(e,t,r){return t&&JR(e.prototype,t),r&&JR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function qAe(e,t,r){return t=I5(t),GAe(e,fq()?Reflect.construct(t,r||[],I5(e).constructor):t.apply(e,r))}function GAe(e,t){if(t&&(wg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YAe(e)}function YAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fq=function(){return!!e})()}function I5(e){return I5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I5(e)}function XAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yj(e,t)}function yj(e,t){return yj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yj(e,t)}function zI(e,t,r){return t=hq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hq(e){var t=KAe(e,"string");return wg(t)=="symbol"?t:t+""}function KAe(e,t){if(wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ix=function(e){function t(r){var n;return WAe(this,t),n=qAe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return XAe(t,e),HAe(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=QE(n,$Ae),l=this.props,c=l.viewBox,u=QE(l,UAe);return!xm(a,c)||!xm(o,u)||!xm(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,f=i.tickSize,p=i.mirror,g=i.tickMargin,x,b,y,_,N,E,C=p?-1:1,I=n.tickSize||f,P=cr(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":x=b=n.coordinate,_=o+ +!p*c,y=_-C*I,E=y-C*g,N=P;break;case"left":y=_=n.coordinate,b=a+ +!p*l,x=b-C*I,N=x-C*g,E=P;break;case"right":y=_=n.coordinate,b=a+ +p*l,x=b+C*I,N=x+C*g,E=P;break;default:x=b=n.coordinate,_=o+ +p*c,y=_+C*I,E=y+C*g,N=P;break}return{line:{x1:x,y1:y,x2:b,y2:_},tick:{x:N,y:E}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,p=vo(vo(vo({},si(this.props,!1)),si(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!u||c==="bottom"&&u);p=vo(vo({},p),{},{x1:i,y1:a+g*l,x2:i+o,y2:a+g*l})}else{var x=+(c==="left"&&!u||c==="right"&&u);p=vo(vo({},p),{},{x1:i+x*o,y1:a,x2:i+x*o,y2:a+l})}return qe.createElement("line",em({},p,{className:oi("recharts-cartesian-axis-line",gc(f,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,p=l.tickFormatter,g=l.unit,x=UI(vo(vo({},this.props),{},{ticks:n}),i,a),b=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),_=si(this.props,!1),N=si(f,!1),E=vo(vo({},_),{},{fill:"none"},si(c,!1)),C=x.map(function(I,P){var D=o.getTickLineCoord(I),k=D.line,L=D.tick,B=vo(vo(vo(vo({textAnchor:b,verticalAnchor:y},_),{},{stroke:"none",fill:u},N),L),{},{index:P,payload:I,visibleTicksCount:x.length,tickFormatter:p});return qe.createElement(bs,em({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},BS(o.props,I,P)),c&&qe.createElement("line",em({},E,k,{className:oi("recharts-cartesian-axis-tick-line",gc(c,"className"))})),f&&t.renderTickItem(f,B,"".concat(Vn(p)?p(I.value,P):I.value).concat(g||"")))});return qe.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var p=this.props,g=p.ticks,x=QE(p,zAe),b=g;return Vn(c)&&(b=g&&g.length>0?c(this.props):c(x)),o<=0||l<=0||!b||!b.length?null:qe.createElement(bs,{className:oi("recharts-cartesian-axis",u),ref:function(_){n.layerReference=_}},a&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),oo.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return qe.isValidElement(n)?o=qe.cloneElement(n,i):Vn(n)?o=n(i):o=qe.createElement(JS,em({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(O.Component);zI(ix,"displayName","CartesianAxis");zI(ix,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var QAe=["x1","y1","x2","y2","key"],ZAe=["offset"];function Dp(e){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dp(e)}function e7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e7(Object(r),!0).forEach(function(n){JAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JAe(e,t,r){return t=e3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e3e(e){var t=t3e(e,"string");return Dp(t)=="symbol"?t:t+""}function t3e(e,t){if(Dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(this,arguments)}function t7(e,t){if(e==null)return{};var r=r3e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var n3e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return qe.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function pq(e,t){var r;if(qe.isValidElement(e))r=qe.cloneElement(e,t);else if(Vn(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,c=t7(t,QAe),u=si(c,!1);u.offset;var f=t7(u,ZAe);r=qe.createElement("line",Y0({},f,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function i3e(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=lo(lo({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return pq(i,u)});return qe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function a3e(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=lo(lo({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return pq(i,u)});return qe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function s3e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(g){return Math.round(g+i-i)}).sort(function(g,x){return g-x});i!==f[0]&&f.unshift(0);var p=f.map(function(g,x){var b=!f[x+1],y=b?i+o-g:f[x+1]-g;if(y<=0)return null;var _=x%t.length;return qe.createElement("rect",{key:"react-".concat(x),y:g,x:n,height:y,width:a,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return qe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function o3e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(g){return Math.round(g+a-a)}).sort(function(g,x){return g-x});a!==f[0]&&f.unshift(0);var p=f.map(function(g,x){var b=!f[x+1],y=b?a+l-g:f[x+1]-g;if(y<=0)return null;var _=x%n.length;return qe.createElement("rect",{key:"react-".concat(x),x:g,y:o,width:y,height:c,stroke:"none",fill:n[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return qe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var l3e=function(t,r){var n=t.xAxis,i=t.width,a=t.height,o=t.offset;return SH(UI(lo(lo(lo({},ix.defaultProps),n),{},{ticks:$d(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},c3e=function(t,r){var n=t.yAxis,i=t.width,a=t.height,o=t.offset;return SH(UI(lo(lo(lo({},ix.defaultProps),n),{},{ticks:$d(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},w1={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function mq(e){var t,r,n,i,a,o,l=RI(),c=FI(),u=KEe(),f=lo(lo({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:w1.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:w1.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:w1.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:w1.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:w1.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:w1.verticalFill,x:cr(e.x)?e.x:u.left,y:cr(e.y)?e.y:u.top,width:cr(e.width)?e.width:u.width,height:cr(e.height)?e.height:u.height}),p=f.x,g=f.y,x=f.width,b=f.height,y=f.syncWithTicks,_=f.horizontalValues,N=f.verticalValues,E=GEe(),C=YEe();if(!cr(x)||x<=0||!cr(b)||b<=0||!cr(p)||p!==+p||!cr(g)||g!==+g)return null;var I=f.verticalCoordinatesGenerator||l3e,P=f.horizontalCoordinatesGenerator||c3e,D=f.horizontalPoints,k=f.verticalPoints;if((!D||!D.length)&&Vn(P)){var L=_&&_.length,B=P({yAxis:C?lo(lo({},C),{},{ticks:L?_:C.ticks}):void 0,width:l,height:c,offset:u},L?!0:y);Gd(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Dp(B),"]")),Array.isArray(B)&&(D=B)}if((!k||!k.length)&&Vn(I)){var G=N&&N.length,F=I({xAxis:E?lo(lo({},E),{},{ticks:G?N:E.ticks}):void 0,width:l,height:c,offset:u},G?!0:y);Gd(Array.isArray(F),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Dp(F),"]")),Array.isArray(F)&&(k=F)}return qe.createElement("g",{className:"recharts-cartesian-grid"},qe.createElement(n3e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),qe.createElement(i3e,Y0({},f,{offset:u,horizontalPoints:D,xAxis:E,yAxis:C})),qe.createElement(a3e,Y0({},f,{offset:u,verticalPoints:k,xAxis:E,yAxis:C})),qe.createElement(s3e,Y0({},f,{horizontalPoints:D})),qe.createElement(o3e,Y0({},f,{verticalPoints:k})))}mq.displayName="CartesianGrid";function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function u3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vq(n.key),n)}}function f3e(e,t,r){return t&&d3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function h3e(e,t,r){return t=P5(t),p3e(e,gq()?Reflect.construct(t,r||[],P5(e).constructor):t.apply(e,r))}function p3e(e,t){if(t&&(bg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m3e(e)}function m3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gq=function(){return!!e})()}function P5(e){return P5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P5(e)}function g3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wj(e,t)}function wj(e,t){return wj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wj(e,t)}function xq(e,t,r){return t=vq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vq(e){var t=x3e(e,"string");return bg(t)=="symbol"?t:t+""}function x3e(e,t){if(bg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bj(){return bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bj.apply(this,arguments)}function v3e(e){var t=e.xAxisId,r=RI(),n=FI(),i=nq(t);return i==null?null:qe.createElement(ix,bj({},i,{className:oi("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return $d(o,!0)}}))}var P_=function(e){function t(){return u3e(this,t),h3e(this,t,arguments)}return g3e(t,e),f3e(t,[{key:"render",value:function(){return qe.createElement(v3e,this.props)}}])}(qe.Component);xq(P_,"displayName","XAxis");xq(P_,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function y3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bq(n.key),n)}}function b3e(e,t,r){return t&&w3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function S3e(e,t,r){return t=k5(t),_3e(e,yq()?Reflect.construct(t,r||[],k5(e).constructor):t.apply(e,r))}function _3e(e,t){if(t&&(Sg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N3e(e)}function N3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yq=function(){return!!e})()}function k5(e){return k5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k5(e)}function E3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sj(e,t)}function Sj(e,t){return Sj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Sj(e,t)}function wq(e,t,r){return t=bq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bq(e){var t=A3e(e,"string");return Sg(t)=="symbol"?t:t+""}function A3e(e,t){if(Sg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _j(){return _j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_j.apply(this,arguments)}var C3e=function(t){var r=t.yAxisId,n=RI(),i=FI(),a=iq(r);return a==null?null:qe.createElement(ix,_j({},a,{className:oi("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return $d(l,!0)}}))},k_=function(e){function t(){return y3e(this,t),S3e(this,t,arguments)}return E3e(t,e),b3e(t,[{key:"render",value:function(){return qe.createElement(C3e,this.props)}}])}(qe.Component);wq(k_,"displayName","YAxis");wq(k_,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function r7(e){return I3e(e)||O3e(e)||T3e(e)||j3e()}function j3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T3e(e,t){if(e){if(typeof e=="string")return Nj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nj(e,t)}}function O3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I3e(e){if(Array.isArray(e))return Nj(e)}function Nj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ej=function(t,r,n,i,a){var o=nu(t,$I),l=nu(t,T_),c=[].concat(r7(o),r7(l)),u=nu(t,I_),f="".concat(i,"Id"),p=i[0],g=r;if(c.length&&(g=c.reduce(function(y,_){if(_.props[f]===n&&Ku(_.props,"extendDomain")&&cr(_.props[p])){var N=_.props[p];return[Math.min(y[0],N),Math.max(y[1],N)]}return y},g)),u.length){var x="".concat(p,"1"),b="".concat(p,"2");g=u.reduce(function(y,_){if(_.props[f]===n&&Ku(_.props,"extendDomain")&&cr(_.props[x])&&cr(_.props[b])){var N=_.props[x],E=_.props[b];return[Math.min(y[0],N,E),Math.max(y[1],N,E)]}return y},g)}return a&&a.length&&(g=a.reduce(function(y,_){return cr(_)?[Math.min(y[0],_),Math.max(y[1],_)]:y},g)),g},Sq={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function a(c,u,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var x=new i(f,p||c,g),b=r?r+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],x]:c._events[b].push(x):(c._events[b]=x,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,p;if(this._eventsCount===0)return u;for(p in f=this._events)t.call(f,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,x=p.length,b=new Array(x);g<x;g++)b[g]=p[g].fn;return b},l.prototype.listenerCount=function(u){var f=r?r+u:u,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(u,f,p,g,x,b){var y=r?r+u:u;if(!this._events[y])return!1;var _=this._events[y],N=arguments.length,E,C;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),N){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,p),!0;case 4:return _.fn.call(_.context,f,p,g),!0;case 5:return _.fn.call(_.context,f,p,g,x),!0;case 6:return _.fn.call(_.context,f,p,g,x,b),!0}for(C=1,E=new Array(N-1);C<N;C++)E[C-1]=arguments[C];_.fn.apply(_.context,E)}else{var I=_.length,P;for(C=0;C<I;C++)switch(_[C].once&&this.removeListener(u,_[C].fn,void 0,!0),N){case 1:_[C].fn.call(_[C].context);break;case 2:_[C].fn.call(_[C].context,f);break;case 3:_[C].fn.call(_[C].context,f,p);break;case 4:_[C].fn.call(_[C].context,f,p,g);break;default:if(!E)for(P=1,E=new Array(N-1);P<N;P++)E[P-1]=arguments[P];_[C].fn.apply(_[C].context,E)}}return!0},l.prototype.on=function(u,f,p){return a(this,u,f,p,!1)},l.prototype.once=function(u,f,p){return a(this,u,f,p,!0)},l.prototype.removeListener=function(u,f,p,g){var x=r?r+u:u;if(!this._events[x])return this;if(!f)return o(this,x),this;var b=this._events[x];if(b.fn)b.fn===f&&(!g||b.once)&&(!p||b.context===p)&&o(this,x);else{for(var y=0,_=[],N=b.length;y<N;y++)(b[y].fn!==f||g&&!b[y].once||p&&b[y].context!==p)&&_.push(b[y]);_.length?this._events[x]=_.length===1?_[0]:_:o(this,x)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(Sq);var P3e=Sq.exports;const k3e=Zn(P3e);var ZE=new k3e,JE="recharts.syncMouseEvents";function Hy(e){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hy(e)}function M3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_q(n.key),n)}}function L3e(e,t,r){return t&&D3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eA(e,t,r){return t=_q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _q(e){var t=R3e(e,"string");return Hy(t)=="symbol"?t:t+""}function R3e(e,t){if(Hy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var F3e=function(){function e(){M3e(this,e),eA(this,"activeIndex",0),eA(this,"coordinateList",[]),eA(this,"layout","horizontal")}return L3e(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,p=f===void 0?null:f,g=r.mouseHandlerCallback,x=g===void 0?null:g;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=a+c+u,g=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:p,pageY:g})}}}])}();function B3e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&cr(n)&&cr(i))return!0}return!1}function $3e(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Nq(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,o=$s(t,r,n,i),l=$s(t,r,n,a);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function U3e(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,p=t.angle,g=$s(l,c,u,p),x=$s(l,c,f,p);n=g.x,i=g.y,a=x.x,o=x.y}else return Nq(t);return[{x:n,y:i},{x:a,y:o}]}function qy(e){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qy(e)}function n7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ob(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n7(Object(r),!0).forEach(function(n){z3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z3e(e,t,r){return t=V3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V3e(e){var t=W3e(e,"string");return qy(t)=="symbol"?t:t+""}function W3e(e,t){if(qy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H3e(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,p=e.layout,g=e.chartName,x=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!x||!a||!o||g!=="ScatterChart"&&i!=="axis")return null;var b,y=eR;if(g==="ScatterChart")b=o,y=i_e;else if(g==="BarChart")b=$3e(p,o,c,f),y=kI;else if(p==="radial"){var _=Nq(o),N=_.cx,E=_.cy,C=_.radius,I=_.startAngle,P=_.endAngle;b={cx:N,cy:E,startAngle:I,endAngle:P,innerRadius:C,outerRadius:C},y=CH}else b={points:U3e(p,o,c)},y=eR;var D=ob(ob(ob(ob({stroke:"#ccc",pointerEvents:"none"},c),b),si(x,!1)),{},{payload:l,payloadIndex:u,className:oi("recharts-tooltip-cursor",x.className)});return O.isValidElement(x)?O.cloneElement(x,D):O.createElement(y,D)}var q3e=["item"],G3e=["children","className","width","height","style","compact","title","desc"];function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}function tm(){return tm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tm.apply(this,arguments)}function i7(e,t){return K3e(e)||X3e(e,t)||Aq(e,t)||Y3e()}function Y3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function K3e(e){if(Array.isArray(e))return e}function a7(e,t){if(e==null)return{};var r=Q3e(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Q3e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Z3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cq(n.key),n)}}function eCe(e,t,r){return t&&J3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tCe(e,t,r){return t=M5(t),rCe(e,Eq()?Reflect.construct(t,r||[],M5(e).constructor):t.apply(e,r))}function rCe(e,t){if(t&&(_g(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nCe(e)}function nCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eq=function(){return!!e})()}function M5(e){return M5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M5(e)}function iCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Aj(e,t)}function Aj(e,t){return Aj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Aj(e,t)}function Ng(e){return oCe(e)||sCe(e)||Aq(e)||aCe()}function aCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aq(e,t){if(e){if(typeof e=="string")return Cj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cj(e,t)}}function sCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oCe(e){if(Array.isArray(e))return Cj(e)}function Cj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s7(Object(r),!0).forEach(function(n){on(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function on(e,t,r){return t=Cq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cq(e){var t=lCe(e,"string");return _g(t)=="symbol"?t:t+""}function lCe(e,t){if(_g(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cCe={xAxis:["bottom","top"],yAxis:["left","right"]},uCe={width:"100%",height:"100%"},jq={x:0,y:0};function lb(e){return e}var dCe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},fCe=function(t,r,n,i){var a=r.find(function(f){return f&&f.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return Ot(Ot(Ot({},i),$s(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return Ot(Ot(Ot({},i),$s(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return jq},M_=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ng(l),Ng(u)):l},[]);return o.length>0?o:t&&t.length&&cr(i)&&cr(a)?t.slice(i,a+1):[]};function Tq(e){return e==="number"?[0,"auto"]:void 0}var jj=function(t,r,n,i){var a=t.graphicalItems,o=t.tooltipAxis,l=M_(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var f,p=(f=u.props.data)!==null&&f!==void 0?f:r;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var x=p===void 0?l:p;g=oC(x,o.dataKey,i)}else g=p&&p[n]||l[n];return g?[].concat(Ng(c),[NH(u,g)]):c},[])},o7=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},o=dCe(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=Kbe(o,l,u,c);if(f>=0&&u){var p=u[f]&&u[f].value,g=jj(t,r,f,p),x=fCe(n,l,f,a);return{activeTooltipIndex:f,activeLabel:p,activePayload:g,activeCoordinate:x}}return null},hCe=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,p=t.children,g=t.stackOffset,x=bH(f,a);return n.reduce(function(b,y){var _,N=y.type.defaultProps!==void 0?Ot(Ot({},y.type.defaultProps),y.props):y.props,E=N.type,C=N.dataKey,I=N.allowDataOverflow,P=N.allowDuplicatedCategory,D=N.scale,k=N.ticks,L=N.includeHidden,B=N[o];if(b[B])return b;var G=M_(t.data,{graphicalItems:i.filter(function(W){var Q,Z=o in W.props?W.props[o]:(Q=W.type.defaultProps)===null||Q===void 0?void 0:Q[o];return Z===B}),dataStartIndex:c,dataEndIndex:u}),F=G.length,U,q,K;B3e(N.domain,I,E)&&(U=YC(N.domain,null,I),x&&(E==="number"||D!=="auto")&&(K=Iv(G,C,"category")));var V=Tq(E);if(!U||U.length===0){var ee,te=(ee=N.domain)!==null&&ee!==void 0?ee:V;if(C){if(U=Iv(G,C,E),E==="category"&&x){var J=Fce(U);P&&J?(q=U,U=S5(0,F)):P||(U=UL(te,U,y).reduce(function(W,Q){return W.indexOf(Q)>=0?W:[].concat(Ng(W),[Q])},[]))}else if(E==="category")P?U=U.filter(function(W){return W!==""&&!di(W)}):U=UL(te,U,y).reduce(function(W,Q){return W.indexOf(Q)>=0||Q===""||di(Q)?W:[].concat(Ng(W),[Q])},[]);else if(E==="number"){var ge=tSe(G,i.filter(function(W){var Q,Z,re=o in W.props?W.props[o]:(Q=W.type.defaultProps)===null||Q===void 0?void 0:Q[o],le="hide"in W.props?W.props.hide:(Z=W.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return re===B&&(L||!le)}),C,a,f);ge&&(U=ge)}x&&(E==="number"||D!=="auto")&&(K=Iv(G,C,"category"))}else x?U=S5(0,F):l&&l[B]&&l[B].hasStack&&E==="number"?U=g==="expand"?[0,1]:_H(l[B].stackGroups,c,u):U=wH(G,i.filter(function(W){var Q=o in W.props?W.props[o]:W.type.defaultProps[o],Z="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return Q===B&&(L||!Z)}),E,f,!0);if(E==="number")U=Ej(p,U,B,a,k),te&&(U=YC(te,U,I));else if(E==="category"&&te){var Ie=te,Ge=U.every(function(W){return Ie.indexOf(W)>=0});Ge&&(U=Ie)}}return Ot(Ot({},b),{},on({},B,Ot(Ot({},N),{},{axisType:a,domain:U,categoricalDomain:K,duplicateDomain:q,originalDomain:(_=N.domain)!==null&&_!==void 0?_:V,isCategorical:x,layout:f})))},{})},pCe=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,p=t.children,g=M_(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),x=g.length,b=bH(f,a),y=-1;return n.reduce(function(_,N){var E=N.type.defaultProps!==void 0?Ot(Ot({},N.type.defaultProps),N.props):N.props,C=E[o],I=Tq("number");if(!_[C]){y++;var P;return b?P=S5(0,x):l&&l[C]&&l[C].hasStack?(P=_H(l[C].stackGroups,c,u),P=Ej(p,P,C,a)):(P=YC(I,wH(g,n.filter(function(D){var k,L,B=o in D.props?D.props[o]:(k=D.type.defaultProps)===null||k===void 0?void 0:k[o],G="hide"in D.props?D.props.hide:(L=D.type.defaultProps)===null||L===void 0?void 0:L.hide;return B===C&&!G}),"number",f),i.defaultProps.allowDataOverflow),P=Ej(p,P,C,a)),Ot(Ot({},_),{},on({},C,Ot(Ot({axisType:a},i.defaultProps),{},{hide:!0,orientation:gc(cCe,"".concat(a,".").concat(y%2),null),domain:P,originalDomain:I,isCategorical:b,layout:f})))}return _},{})},mCe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,p="".concat(i,"Id"),g=nu(f,a),x={};return g&&g.length?x=hCe(t,{axes:g,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(x=pCe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),x},gCe=function(t){var r=sh(t),n=$d(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:aI(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:h5(r,n)}},l7=function(t){var r=t.children,n=t.defaultShowTooltip,i=_l(r,mg),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},xCe=function(t){return!t||!t.length?!1:t.some(function(r){var n=qd(r&&r.type);return n&&n.indexOf("Bar")>=0})},c7=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},vCe=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,p=n.children,g=n.margin||{},x=_l(p,mg),b=_l(p,lp),y=Object.keys(c).reduce(function(P,D){var k=c[D],L=k.orientation;return!k.mirror&&!k.hide?Ot(Ot({},P),{},on({},L,P[L]+k.width)):P},{left:g.left||0,right:g.right||0}),_=Object.keys(o).reduce(function(P,D){var k=o[D],L=k.orientation;return!k.mirror&&!k.hide?Ot(Ot({},P),{},on({},L,gc(P,"".concat(L))+k.height)):P},{top:g.top||0,bottom:g.bottom||0}),N=Ot(Ot({},_),y),E=N.bottom;x&&(N.bottom+=x.props.height||mg.defaultProps.height),b&&r&&(N=Jbe(N,i,n,r));var C=u-N.left-N.right,I=f-N.top-N.bottom;return Ot(Ot({brushBottom:E},N),{},{width:Math.max(C,0),height:Math.max(I,0)})},yCe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},wCe=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,p=t.defaultProps,g=function(N,E){var C=E.graphicalItems,I=E.stackGroups,P=E.offset,D=E.updateId,k=E.dataStartIndex,L=E.dataEndIndex,B=N.barSize,G=N.layout,F=N.barGap,U=N.barCategoryGap,q=N.maxBarSize,K=c7(G),V=K.numericAxisName,ee=K.cateAxisName,te=xCe(C),J=[];return C.forEach(function(ge,Ie){var Ge=M_(N.data,{graphicalItems:[ge],dataStartIndex:k,dataEndIndex:L}),W=ge.type.defaultProps!==void 0?Ot(Ot({},ge.type.defaultProps),ge.props):ge.props,Q=W.dataKey,Z=W.maxBarSize,re=W["".concat(V,"Id")],le=W["".concat(ee,"Id")],Ne={},Ae=c.reduce(function(ke,He){var nt=E["".concat(He.axisType,"Map")],mt=W["".concat(He.axisType,"Id")];nt&&nt[mt]||He.axisType==="zAxis"||Mp();var At=nt[mt];return Ot(Ot({},ke),{},on(on({},He.axisType,At),"".concat(He.axisType,"Ticks"),$d(At)))},Ne),ve=Ae[ee],xe=Ae["".concat(ee,"Ticks")],Le=I&&I[re]&&I[re].hasStack&&hSe(ge,I[re].stackGroups),Se=qd(ge.type).indexOf("Bar")>=0,ye=h5(ve,xe),We=[],Ye=te&&Qbe({barSize:B,stackGroups:I,totalSize:yCe(Ae,ee)});if(Se){var we,Pe,ce=di(Z)?q:Z,Ce=(we=(Pe=h5(ve,xe,!0))!==null&&Pe!==void 0?Pe:ce)!==null&&we!==void 0?we:0;We=Zbe({barGap:F,barCategoryGap:U,bandSize:Ce!==ye?Ce:ye,sizeList:Ye[le],maxBarSize:ce}),Ce!==ye&&(We=We.map(function(ke){return Ot(Ot({},ke),{},{position:Ot(Ot({},ke.position),{},{offset:ke.position.offset-Ce/2})})}))}var fe=ge&&ge.type&&ge.type.getComposedData;fe&&J.push({props:Ot(Ot({},fe(Ot(Ot({},Ae),{},{displayedData:Ge,props:N,dataKey:Q,item:ge,bandSize:ye,barPosition:We,offset:P,stackedData:Le,layout:G,dataStartIndex:k,dataEndIndex:L}))),{},on(on(on({key:ge.key||"item-".concat(Ie)},V,Ae[V]),ee,Ae[ee]),"animationId",D)),childIndex:Xce(ge,N.children),item:ge})}),J},x=function(N,E){var C=N.props,I=N.dataStartIndex,P=N.dataEndIndex,D=N.updateId;if(!DM({props:C}))return null;var k=C.children,L=C.layout,B=C.stackOffset,G=C.data,F=C.reverseStackOrder,U=c7(L),q=U.numericAxisName,K=U.cateAxisName,V=nu(k,n),ee=uSe(G,V,"".concat(q,"Id"),"".concat(K,"Id"),B,F),te=c.reduce(function(W,Q){var Z="".concat(Q.axisType,"Map");return Ot(Ot({},W),{},on({},Z,mCe(C,Ot(Ot({},Q),{},{graphicalItems:V,stackGroups:Q.axisType===q&&ee,dataStartIndex:I,dataEndIndex:P}))))},{}),J=vCe(Ot(Ot({},te),{},{props:C,graphicalItems:V}),E==null?void 0:E.legendBBox);Object.keys(te).forEach(function(W){te[W]=f(C,te[W],J,W.replace("Map",""),r)});var ge=te["".concat(K,"Map")],Ie=gCe(ge),Ge=g(C,Ot(Ot({},te),{},{dataStartIndex:I,dataEndIndex:P,updateId:D,graphicalItems:V,stackGroups:ee,offset:J}));return Ot(Ot({formattedGraphicalItems:Ge,graphicalItems:V,offset:J,stackGroups:ee},Ie),te)},b=function(_){function N(E){var C,I,P;return Z3e(this,N),P=tCe(this,N,[E]),on(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),on(P,"accessibilityManager",new F3e),on(P,"handleLegendBBoxUpdate",function(D){if(D){var k=P.state,L=k.dataStartIndex,B=k.dataEndIndex,G=k.updateId;P.setState(Ot({legendBBox:D},x({props:P.props,dataStartIndex:L,dataEndIndex:B,updateId:G},Ot(Ot({},P.state),{},{legendBBox:D}))))}}),on(P,"handleReceiveSyncEvent",function(D,k,L){if(P.props.syncId===D){if(L===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(k)}}),on(P,"handleBrushChange",function(D){var k=D.startIndex,L=D.endIndex;if(k!==P.state.dataStartIndex||L!==P.state.dataEndIndex){var B=P.state.updateId;P.setState(function(){return Ot({dataStartIndex:k,dataEndIndex:L},x({props:P.props,dataStartIndex:k,dataEndIndex:L,updateId:B},P.state))}),P.triggerSyncEvent({dataStartIndex:k,dataEndIndex:L})}}),on(P,"handleMouseEnter",function(D){var k=P.getMouseInfo(D);if(k){var L=Ot(Ot({},k),{},{isTooltipActive:!0});P.setState(L),P.triggerSyncEvent(L);var B=P.props.onMouseEnter;Vn(B)&&B(L,D)}}),on(P,"triggeredAfterMouseMove",function(D){var k=P.getMouseInfo(D),L=k?Ot(Ot({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(L),P.triggerSyncEvent(L);var B=P.props.onMouseMove;Vn(B)&&B(L,D)}),on(P,"handleItemMouseEnter",function(D){P.setState(function(){return{isTooltipActive:!0,activeItem:D,activePayload:D.tooltipPayload,activeCoordinate:D.tooltipPosition||{x:D.cx,y:D.cy}}})}),on(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),on(P,"handleMouseMove",function(D){D.persist(),P.throttleTriggeredAfterMouseMove(D)}),on(P,"handleMouseLeave",function(D){P.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};P.setState(k),P.triggerSyncEvent(k);var L=P.props.onMouseLeave;Vn(L)&&L(k,D)}),on(P,"handleOuterEvent",function(D){var k=Yce(D),L=gc(P.props,"".concat(k));if(k&&Vn(L)){var B,G;/.*touch.*/i.test(k)?G=P.getMouseInfo(D.changedTouches[0]):G=P.getMouseInfo(D),L((B=G)!==null&&B!==void 0?B:{},D)}}),on(P,"handleClick",function(D){var k=P.getMouseInfo(D);if(k){var L=Ot(Ot({},k),{},{isTooltipActive:!0});P.setState(L),P.triggerSyncEvent(L);var B=P.props.onClick;Vn(B)&&B(L,D)}}),on(P,"handleMouseDown",function(D){var k=P.props.onMouseDown;if(Vn(k)){var L=P.getMouseInfo(D);k(L,D)}}),on(P,"handleMouseUp",function(D){var k=P.props.onMouseUp;if(Vn(k)){var L=P.getMouseInfo(D);k(L,D)}}),on(P,"handleTouchMove",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(D.changedTouches[0])}),on(P,"handleTouchStart",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&P.handleMouseDown(D.changedTouches[0])}),on(P,"handleTouchEnd",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&P.handleMouseUp(D.changedTouches[0])}),on(P,"triggerSyncEvent",function(D){P.props.syncId!==void 0&&ZE.emit(JE,P.props.syncId,D,P.eventEmitterSymbol)}),on(P,"applySyncEvent",function(D){var k=P.props,L=k.layout,B=k.syncMethod,G=P.state.updateId,F=D.dataStartIndex,U=D.dataEndIndex;if(D.dataStartIndex!==void 0||D.dataEndIndex!==void 0)P.setState(Ot({dataStartIndex:F,dataEndIndex:U},x({props:P.props,dataStartIndex:F,dataEndIndex:U,updateId:G},P.state)));else if(D.activeTooltipIndex!==void 0){var q=D.chartX,K=D.chartY,V=D.activeTooltipIndex,ee=P.state,te=ee.offset,J=ee.tooltipTicks;if(!te)return;if(typeof B=="function")V=B(J,D);else if(B==="value"){V=-1;for(var ge=0;ge<J.length;ge++)if(J[ge].value===D.activeLabel){V=ge;break}}var Ie=Ot(Ot({},te),{},{x:te.left,y:te.top}),Ge=Math.min(q,Ie.x+Ie.width),W=Math.min(K,Ie.y+Ie.height),Q=J[V]&&J[V].value,Z=jj(P.state,P.props.data,V),re=J[V]?{x:L==="horizontal"?J[V].coordinate:Ge,y:L==="horizontal"?W:J[V].coordinate}:jq;P.setState(Ot(Ot({},D),{},{activeLabel:Q,activeCoordinate:re,activePayload:Z,activeTooltipIndex:V}))}else P.setState(D)}),on(P,"renderCursor",function(D){var k,L=P.state,B=L.isTooltipActive,G=L.activeCoordinate,F=L.activePayload,U=L.offset,q=L.activeTooltipIndex,K=L.tooltipAxisBandSize,V=P.getTooltipEventType(),ee=(k=D.props.active)!==null&&k!==void 0?k:B,te=P.props.layout,J=D.key||"_recharts-cursor";return qe.createElement(H3e,{key:J,activeCoordinate:G,activePayload:F,activeTooltipIndex:q,chartName:r,element:D,isActive:ee,layout:te,offset:U,tooltipAxisBandSize:K,tooltipEventType:V})}),on(P,"renderPolarAxis",function(D,k,L){var B=gc(D,"type.axisType"),G=gc(P.state,"".concat(B,"Map")),F=D.type.defaultProps,U=F!==void 0?Ot(Ot({},F),D.props):D.props,q=G&&G[U["".concat(B,"Id")]];return O.cloneElement(D,Ot(Ot({},q),{},{className:oi(B,q.className),key:D.key||"".concat(k,"-").concat(L),ticks:$d(q,!0)}))}),on(P,"renderPolarGrid",function(D){var k=D.props,L=k.radialLines,B=k.polarAngles,G=k.polarRadius,F=P.state,U=F.radiusAxisMap,q=F.angleAxisMap,K=sh(U),V=sh(q),ee=V.cx,te=V.cy,J=V.innerRadius,ge=V.outerRadius;return O.cloneElement(D,{polarAngles:Array.isArray(B)?B:$d(V,!0).map(function(Ie){return Ie.coordinate}),polarRadius:Array.isArray(G)?G:$d(K,!0).map(function(Ie){return Ie.coordinate}),cx:ee,cy:te,innerRadius:J,outerRadius:ge,key:D.key||"polar-grid",radialLines:L})}),on(P,"renderLegend",function(){var D=P.state.formattedGraphicalItems,k=P.props,L=k.children,B=k.width,G=k.height,F=P.props.margin||{},U=B-(F.left||0)-(F.right||0),q=vH({children:L,formattedGraphicalItems:D,legendWidth:U,legendContent:u});if(!q)return null;var K=q.item,V=a7(q,q3e);return O.cloneElement(K,Ot(Ot({},V),{},{chartWidth:B,chartHeight:G,margin:F,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),on(P,"renderTooltip",function(){var D,k=P.props,L=k.children,B=k.accessibilityLayer,G=_l(L,Pu);if(!G)return null;var F=P.state,U=F.isTooltipActive,q=F.activeCoordinate,K=F.activePayload,V=F.activeLabel,ee=F.offset,te=(D=G.props.active)!==null&&D!==void 0?D:U;return O.cloneElement(G,{viewBox:Ot(Ot({},ee),{},{x:ee.left,y:ee.top}),active:te,label:V,payload:te?K:[],coordinate:q,accessibilityLayer:B})}),on(P,"renderBrush",function(D){var k=P.props,L=k.margin,B=k.data,G=P.state,F=G.offset,U=G.dataStartIndex,q=G.dataEndIndex,K=G.updateId;return O.cloneElement(D,{key:D.key||"_recharts-brush",onChange:nb(P.handleBrushChange,D.props.onChange),data:B,x:cr(D.props.x)?D.props.x:F.left,y:cr(D.props.y)?D.props.y:F.top+F.height+F.brushBottom-(L.bottom||0),width:cr(D.props.width)?D.props.width:F.width,startIndex:U,endIndex:q,updateId:"brush-".concat(K)})}),on(P,"renderReferenceElement",function(D,k,L){if(!D)return null;var B=P,G=B.clipPathId,F=P.state,U=F.xAxisMap,q=F.yAxisMap,K=F.offset,V=D.type.defaultProps||{},ee=D.props,te=ee.xAxisId,J=te===void 0?V.xAxisId:te,ge=ee.yAxisId,Ie=ge===void 0?V.yAxisId:ge;return O.cloneElement(D,{key:D.key||"".concat(k,"-").concat(L),xAxis:U[J],yAxis:q[Ie],viewBox:{x:K.left,y:K.top,width:K.width,height:K.height},clipPathId:G})}),on(P,"renderActivePoints",function(D){var k=D.item,L=D.activePoint,B=D.basePoint,G=D.childIndex,F=D.isRange,U=[],q=k.props.key,K=k.item.type.defaultProps!==void 0?Ot(Ot({},k.item.type.defaultProps),k.item.props):k.item.props,V=K.activeDot,ee=K.dataKey,te=Ot(Ot({index:G,dataKey:ee,cx:L.x,cy:L.y,r:4,fill:PI(k.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},si(V,!1)),FS(V));return U.push(N.renderActiveDot(V,te,"".concat(q,"-activePoint-").concat(G))),B?U.push(N.renderActiveDot(V,Ot(Ot({},te),{},{cx:B.x,cy:B.y}),"".concat(q,"-basePoint-").concat(G))):F&&U.push(null),U}),on(P,"renderGraphicChild",function(D,k,L){var B=P.filterFormatItem(D,k,L);if(!B)return null;var G=P.getTooltipEventType(),F=P.state,U=F.isTooltipActive,q=F.tooltipAxis,K=F.activeTooltipIndex,V=F.activeLabel,ee=P.props.children,te=_l(ee,Pu),J=B.props,ge=J.points,Ie=J.isRange,Ge=J.baseLine,W=B.item.type.defaultProps!==void 0?Ot(Ot({},B.item.type.defaultProps),B.item.props):B.item.props,Q=W.activeDot,Z=W.hide,re=W.activeBar,le=W.activeShape,Ne=!!(!Z&&U&&te&&(Q||re||le)),Ae={};G!=="axis"&&te&&te.props.trigger==="click"?Ae={onClick:nb(P.handleItemMouseEnter,D.props.onClick)}:G!=="axis"&&(Ae={onMouseLeave:nb(P.handleItemMouseLeave,D.props.onMouseLeave),onMouseEnter:nb(P.handleItemMouseEnter,D.props.onMouseEnter)});var ve=O.cloneElement(D,Ot(Ot({},B.props),Ae));function xe(He){return typeof q.dataKey=="function"?q.dataKey(He.payload):null}if(Ne)if(K>=0){var Le,Se;if(q.dataKey&&!q.allowDuplicatedCategory){var ye=typeof q.dataKey=="function"?xe:"payload.".concat(q.dataKey.toString());Le=oC(ge,ye,V),Se=Ie&&Ge&&oC(Ge,ye,V)}else Le=ge==null?void 0:ge[K],Se=Ie&&Ge&&Ge[K];if(le||re){var We=D.props.activeIndex!==void 0?D.props.activeIndex:K;return[O.cloneElement(D,Ot(Ot(Ot({},B.props),Ae),{},{activeIndex:We})),null,null]}if(!di(Le))return[ve].concat(Ng(P.renderActivePoints({item:B,activePoint:Le,basePoint:Se,childIndex:K,isRange:Ie})))}else{var Ye,we=(Ye=P.getItemByXY(P.state.activeCoordinate))!==null&&Ye!==void 0?Ye:{graphicalItem:ve},Pe=we.graphicalItem,ce=Pe.item,Ce=ce===void 0?D:ce,fe=Pe.childIndex,ke=Ot(Ot(Ot({},B.props),Ae),{},{activeIndex:fe});return[O.cloneElement(Ce,ke),null,null]}return Ie?[ve,null,null]:[ve,null]}),on(P,"renderCustomized",function(D,k,L){return O.cloneElement(D,Ot(Ot({key:"recharts-customized-".concat(L)},P.props),P.state))}),on(P,"renderMap",{CartesianGrid:{handler:lb,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:lb},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:lb},YAxis:{handler:lb},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((C=E.id)!==null&&C!==void 0?C:s_("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=xW(P.triggeredAfterMouseMove,(I=E.throttleDelay)!==null&&I!==void 0?I:1e3/60),P.state={},P}return iCe(N,_),eCe(N,[{key:"componentDidMount",value:function(){var C,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,I=C.children,P=C.data,D=C.height,k=C.layout,L=_l(I,Pu);if(L){var B=L.props.defaultIndex;if(!(typeof B!="number"||B<0||B>this.state.tooltipTicks.length-1)){var G=this.state.tooltipTicks[B]&&this.state.tooltipTicks[B].value,F=jj(this.state,P,B,G),U=this.state.tooltipTicks[B].coordinate,q=(this.state.offset.top+D)/2,K=k==="horizontal",V=K?{x:U,y:q}:{y:U,x:q},ee=this.state.formattedGraphicalItems.find(function(J){var ge=J.item;return ge.type.name==="Scatter"});ee&&(V=Ot(Ot({},V),ee.props.points[B].tooltipPosition),F=ee.props.points[B].tooltipPayload);var te={activeTooltipIndex:B,isTooltipActive:!0,activeLabel:G,activePayload:F,activeCoordinate:V};this.setState(te),this.renderCursor(L),this.accessibilityManager.setIndex(B)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var P,D;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(C){cC([_l(C.children,Pu)],[_l(this.props.children,Pu)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=_l(this.props.children,Pu);if(C&&typeof C.props.shared=="boolean"){var I=C.props.shared?"axis":"item";return l.indexOf(I)>=0?I:a}return a}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var I=this.container,P=I.getBoundingClientRect(),D=Sve(P),k={chartX:Math.round(C.pageX-D.left),chartY:Math.round(C.pageY-D.top)},L=P.width/I.offsetWidth||1,B=this.inRange(k.chartX,k.chartY,L);if(!B)return null;var G=this.state,F=G.xAxisMap,U=G.yAxisMap,q=this.getTooltipEventType();if(q!=="axis"&&F&&U){var K=sh(F).scale,V=sh(U).scale,ee=K&&K.invert?K.invert(k.chartX):null,te=V&&V.invert?V.invert(k.chartY):null;return Ot(Ot({},k),{},{xValue:ee,yValue:te})}var J=o7(this.state,this.props.data,this.props.layout,B);return J?Ot(Ot({},k),J):null}},{key:"inRange",value:function(C,I){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,k=C/P,L=I/P;if(D==="horizontal"||D==="vertical"){var B=this.state.offset,G=k>=B.left&&k<=B.left+B.width&&L>=B.top&&L<=B.top+B.height;return G?{x:k,y:L}:null}var F=this.state,U=F.angleAxisMap,q=F.radiusAxisMap;if(U&&q){var K=sh(U);return WL({x:k,y:L},K)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,I=this.getTooltipEventType(),P=_l(C,Pu),D={};P&&I==="axis"&&(P.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var k=FS(this.props,this.handleOuterEvent);return Ot(Ot({},k),D)}},{key:"addListener",value:function(){ZE.on(JE,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){ZE.removeListener(JE,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,I,P){for(var D=this.state.formattedGraphicalItems,k=0,L=D.length;k<L;k++){var B=D[k];if(B.item===C||B.props.key===C.key||I===qd(B.item.type)&&P===B.childIndex)return B}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,I=this.state.offset,P=I.left,D=I.top,k=I.height,L=I.width;return qe.createElement("defs",null,qe.createElement("clipPath",{id:C},qe.createElement("rect",{x:P,y:D,height:k,width:L})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(I,P){var D=i7(P,2),k=D[0],L=D[1];return Ot(Ot({},I),{},on({},k,L.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(I,P){var D=i7(P,2),k=D[0],L=D[1];return Ot(Ot({},I),{},on({},k,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[C])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(C){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[C])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(C){var I=this.state,P=I.formattedGraphicalItems,D=I.activeItem;if(P&&P.length)for(var k=0,L=P.length;k<L;k++){var B=P[k],G=B.props,F=B.item,U=F.type.defaultProps!==void 0?Ot(Ot({},F.type.defaultProps),F.props):F.props,q=qd(F.type);if(q==="Bar"){var K=(G.data||[]).find(function(J){return Y4e(C,J)});if(K)return{graphicalItem:B,payload:K}}else if(q==="RadialBar"){var V=(G.data||[]).find(function(J){return WL(C,J)});if(V)return{graphicalItem:B,payload:V}}else if(E_(B,D)||A_(B,D)||$y(B,D)){var ee=Q_e({graphicalItem:B,activeTooltipItem:D,itemData:U.data}),te=U.activeIndex===void 0?ee:U.activeIndex;return{graphicalItem:Ot(Ot({},B),{},{childIndex:te}),payload:$y(B,D)?U.data[ee]:B.props.data[ee]}}}return null}},{key:"render",value:function(){var C=this;if(!DM(this))return null;var I=this.props,P=I.children,D=I.className,k=I.width,L=I.height,B=I.style,G=I.compact,F=I.title,U=I.desc,q=a7(I,G3e),K=si(q,!1);if(G)return qe.createElement(VR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},qe.createElement(dC,tm({},K,{width:k,height:L,title:F,desc:U}),this.renderClipPath(),RM(P,this.renderMap)));if(this.props.accessibilityLayer){var V,ee;K.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,K.role=(ee=this.props.role)!==null&&ee!==void 0?ee:"application",K.onKeyDown=function(J){C.accessibilityManager.keyboardEvent(J)},K.onFocus=function(){C.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return qe.createElement(VR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},qe.createElement("div",tm({className:oi("recharts-wrapper",D),style:Ot({position:"relative",cursor:"default",width:k,height:L},B)},te,{ref:function(ge){C.container=ge}}),qe.createElement(dC,tm({},K,{width:k,height:L,title:F,desc:U,style:uCe}),this.renderClipPath(),RM(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);on(b,"displayName",r),on(b,"defaultProps",Ot({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),on(b,"getDerivedStateFromProps",function(_,N){var E=_.dataKey,C=_.data,I=_.children,P=_.width,D=_.height,k=_.layout,L=_.stackOffset,B=_.margin,G=N.dataStartIndex,F=N.dataEndIndex;if(N.updateId===void 0){var U=l7(_);return Ot(Ot(Ot({},U),{},{updateId:0},x(Ot(Ot({props:_},U),{},{updateId:0}),N)),{},{prevDataKey:E,prevData:C,prevWidth:P,prevHeight:D,prevLayout:k,prevStackOffset:L,prevMargin:B,prevChildren:I})}if(E!==N.prevDataKey||C!==N.prevData||P!==N.prevWidth||D!==N.prevHeight||k!==N.prevLayout||L!==N.prevStackOffset||!xm(B,N.prevMargin)){var q=l7(_),K={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},V=Ot(Ot({},o7(N,C,k)),{},{updateId:N.updateId+1}),ee=Ot(Ot(Ot({},q),K),V);return Ot(Ot(Ot({},ee),x(Ot({props:_},ee),N)),{},{prevDataKey:E,prevData:C,prevWidth:P,prevHeight:D,prevLayout:k,prevStackOffset:L,prevMargin:B,prevChildren:I})}if(!cC(I,N.prevChildren)){var te,J,ge,Ie,Ge=_l(I,mg),W=Ge&&(te=(J=Ge.props)===null||J===void 0?void 0:J.startIndex)!==null&&te!==void 0?te:G,Q=Ge&&(ge=(Ie=Ge.props)===null||Ie===void 0?void 0:Ie.endIndex)!==null&&ge!==void 0?ge:F,Z=W!==G||Q!==F,re=!di(C),le=re&&!Z?N.updateId:N.updateId+1;return Ot(Ot({updateId:le},x(Ot(Ot({props:_},N),{},{updateId:le,dataStartIndex:W,dataEndIndex:Q}),N)),{},{prevChildren:I,dataStartIndex:W,dataEndIndex:Q})}return null}),on(b,"renderActiveDot",function(_,N,E){var C;return O.isValidElement(_)?C=O.cloneElement(_,N):Vn(_)?C=_(N):C=qe.createElement(BH,N),qe.createElement(bs,{className:"recharts-active-dot",key:E},C)});var y=O.forwardRef(function(N,E){return qe.createElement(b,tm({},N,{ref:E}))});return y.displayName=b.displayName,y},bCe=wCe({chartName:"BarChart",GraphicalChild:Zp,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:P_},{axisType:"yAxis",AxisComp:k_}],formatAxisMap:SEe});const SCe=e=>e.toLocaleString("default",{month:"short"}),_Ce=()=>{const e=[],t=new Date;for(let r=5;r>=0;r--){const n=new Date(t.getFullYear(),t.getMonth()-r,1);e.push({month:SCe(n),count:0})}return e};function NCe(){const{data:e,isLoading:t}=Er({queryKey:["/api/parts-issuance/monthly-usage"]});if(t)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(cn,{className:"h-8 w-8 animate-spin text-primary"})});const r=e&&e.length>0?e:_Ce();return s.jsx(mve,{width:"100%",height:300,children:s.jsxs(bCe,{data:r,margin:{top:10,right:10,left:10,bottom:10},children:[s.jsx(mq,{strokeDasharray:"3 3",vertical:!1}),s.jsx(P_,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:12}}),s.jsx(k_,{axisLine:!1,tickLine:!1,tick:{fontSize:12},width:30}),s.jsx(Pu,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"6px",fontSize:"12px"},formatter:n=>[`${n} parts`,"Usage"],labelStyle:{fontWeight:"bold"}}),s.jsx(lp,{wrapperStyle:{paddingTop:"10px"}}),s.jsx(Zp,{name:"Parts Used",dataKey:"count",fill:"hsl(var(--chart-1))",radius:[4,4,0,0],barSize:30})]})})}var ECe=BB.useId||(()=>{}),ACe=0;function iu(e){const[t,r]=O.useState(ECe());return js(()=>{r(n=>n??String(ACe++))},[e]),t?`radix-${t}`:""}var tA="focusScope.autoFocusOnMount",rA="focusScope.autoFocusOnUnmount",u7={bubbles:!1,cancelable:!0},CCe="FocusScope",D_=O.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=O.useState(null),u=Wa(i),f=Wa(a),p=O.useRef(null),g=kn(t,y=>c(y)),x=O.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;O.useEffect(()=>{if(n){let y=function(C){if(x.paused||!l)return;const I=C.target;l.contains(I)?p.current=I:Jf(p.current,{select:!0})},_=function(C){if(x.paused||!l)return;const I=C.relatedTarget;I!==null&&(l.contains(I)||Jf(p.current,{select:!0}))},N=function(C){if(document.activeElement===document.body)for(const P of C)P.removedNodes.length>0&&Jf(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const E=new MutationObserver(N);return l&&E.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),E.disconnect()}}},[n,l,x.paused]),O.useEffect(()=>{if(l){f7.add(x);const y=document.activeElement;if(!l.contains(y)){const N=new CustomEvent(tA,u7);l.addEventListener(tA,u),l.dispatchEvent(N),N.defaultPrevented||(jCe(kCe(Oq(l)),{select:!0}),document.activeElement===y&&Jf(l))}return()=>{l.removeEventListener(tA,u),setTimeout(()=>{const N=new CustomEvent(rA,u7);l.addEventListener(rA,f),l.dispatchEvent(N),N.defaultPrevented||Jf(y??document.body,{select:!0}),l.removeEventListener(rA,f),f7.remove(x)},0)}}},[l,u,f,x]);const b=O.useCallback(y=>{if(!r&&!n||x.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,N=document.activeElement;if(_&&N){const E=y.currentTarget,[C,I]=TCe(E);C&&I?!y.shiftKey&&N===I?(y.preventDefault(),r&&Jf(C,{select:!0})):y.shiftKey&&N===C&&(y.preventDefault(),r&&Jf(I,{select:!0})):N===E&&y.preventDefault()}},[r,n,x.paused]);return s.jsx(Wr.div,{tabIndex:-1,...o,ref:g,onKeyDown:b})});D_.displayName=CCe;function jCe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Jf(n,{select:t}),document.activeElement!==r)return}function TCe(e){const t=Oq(e),r=d7(t,e),n=d7(t.reverse(),e);return[r,n]}function Oq(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function d7(e,t){for(const r of e)if(!OCe(r,{upTo:t}))return r}function OCe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ICe(e){return e instanceof HTMLInputElement&&"select"in e}function Jf(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&ICe(e)&&t&&e.select()}}var f7=PCe();function PCe(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=h7(e,t),e.unshift(t)},remove(t){var r;e=h7(e,t),(r=e[0])==null||r.resume()}}}function h7(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function kCe(e){return e.filter(t=>t.tagName!=="A")}var nA=0;function VI(){O.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??p7()),document.body.insertAdjacentElement("beforeend",e[1]??p7()),nA++,()=>{nA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),nA--}},[])}function p7(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fu=function(){return Fu=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Fu.apply(this,arguments)};function Iq(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function MCe(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var Yb="right-scroll-bar-position",Xb="width-before-scroll-bar",DCe="with-scroll-bars-hidden",LCe="--removed-body-scroll-bar-size";function iA(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function RCe(e,t){var r=O.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var FCe=typeof window<"u"?O.useLayoutEffect:O.useEffect,m7=new WeakMap;function BCe(e,t){var r=RCe(null,function(n){return e.forEach(function(i){return iA(i,n)})});return FCe(function(){var n=m7.get(r);if(n){var i=new Set(n),a=new Set(e),o=r.current;i.forEach(function(l){a.has(l)||iA(l,null)}),a.forEach(function(l){i.has(l)||iA(l,o)})}m7.set(r,e)},[e]),r}function $Ce(e){return e}function UCe(e,t){t===void 0&&(t=$Ce);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var f=o;o=[],f.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),r}}}};return i}function zCe(e){e===void 0&&(e={});var t=UCe(null);return t.options=Fu({async:!0,ssr:!1},e),t}var Pq=function(e){var t=e.sideCar,r=Iq(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return O.createElement(n,Fu({},r))};Pq.isSideCarExport=!0;function VCe(e,t){return e.useMedium(t),Pq}var kq=zCe(),aA=function(){},L_=O.forwardRef(function(e,t){var r=O.useRef(null),n=O.useState({onScrollCapture:aA,onWheelCapture:aA,onTouchMoveCapture:aA}),i=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,p=e.shards,g=e.sideCar,x=e.noIsolation,b=e.inert,y=e.allowPinchZoom,_=e.as,N=_===void 0?"div":_,E=e.gapMode,C=Iq(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=g,P=BCe([r,t]),D=Fu(Fu({},C),i);return O.createElement(O.Fragment,null,f&&O.createElement(I,{sideCar:kq,removeScrollBar:u,shards:p,noIsolation:x,inert:b,setCallbacks:a,allowPinchZoom:!!y,lockRef:r,gapMode:E}),o?O.cloneElement(O.Children.only(l),Fu(Fu({},D),{ref:P})):O.createElement(N,Fu({},D,{className:c,ref:P}),l))});L_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};L_.classNames={fullWidth:Xb,zeroRight:Yb};var WCe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function HCe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=WCe();return t&&e.setAttribute("nonce",t),e}function qCe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function GCe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var YCe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=HCe())&&(qCe(t,r),GCe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},XCe=function(){var e=YCe();return function(t,r){O.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Mq=function(){var e=XCe(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},KCe={left:0,top:0,right:0,gap:0},sA=function(e){return parseInt(e||"",10)||0},QCe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[sA(r),sA(n),sA(i)]},ZCe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return KCe;var t=QCe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},JCe=Mq(),wm="data-scroll-locked",eje=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(DCe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(wm,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yb,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Xb,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Yb," .").concat(Yb,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Xb," .").concat(Xb,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(wm,`] {
    `).concat(LCe,": ").concat(l,`px;
  }
`)},g7=function(){var e=parseInt(document.body.getAttribute(wm)||"0",10);return isFinite(e)?e:0},tje=function(){O.useEffect(function(){return document.body.setAttribute(wm,(g7()+1).toString()),function(){var e=g7()-1;e<=0?document.body.removeAttribute(wm):document.body.setAttribute(wm,e.toString())}},[])},rje=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;tje();var a=O.useMemo(function(){return ZCe(i)},[i]);return O.createElement(JCe,{styles:eje(a,!t,i,r?"":"!important")})},Tj=!1;if(typeof window<"u")try{var cb=Object.defineProperty({},"passive",{get:function(){return Tj=!0,!0}});window.addEventListener("test",cb,cb),window.removeEventListener("test",cb,cb)}catch{Tj=!1}var b1=Tj?{passive:!1}:!1,nje=function(e){return e.tagName==="TEXTAREA"},Dq=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!nje(e)&&r[t]==="visible")},ije=function(e){return Dq(e,"overflowY")},aje=function(e){return Dq(e,"overflowX")},x7=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Lq(e,n);if(i){var a=Rq(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},sje=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},oje=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Lq=function(e,t){return e==="v"?ije(t):aje(t)},Rq=function(e,t){return e==="v"?sje(t):oje(t)},lje=function(e,t){return e==="h"&&t==="rtl"?-1:1},cje=function(e,t,r,n,i){var a=lje(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),u=!1,f=o>0,p=0,g=0;do{var x=Rq(e,l),b=x[0],y=x[1],_=x[2],N=y-_-a*b;(b||N)&&Lq(e,l)&&(p+=N,g+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(p)<1||!i)||!f&&(Math.abs(g)<1||!i))&&(u=!0),u},ub=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},v7=function(e){return[e.deltaX,e.deltaY]},y7=function(e){return e&&"current"in e?e.current:e},uje=function(e,t){return e[0]===t[0]&&e[1]===t[1]},dje=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},fje=0,S1=[];function hje(e){var t=O.useRef([]),r=O.useRef([0,0]),n=O.useRef(),i=O.useState(fje++)[0],a=O.useState(Mq)[0],o=O.useRef(e);O.useEffect(function(){o.current=e},[e]),O.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=MCe([e.lockRef.current],(e.shards||[]).map(y7),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=O.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var N=ub(y),E=r.current,C="deltaX"in y?y.deltaX:E[0]-N[0],I="deltaY"in y?y.deltaY:E[1]-N[1],P,D=y.target,k=Math.abs(C)>Math.abs(I)?"h":"v";if("touches"in y&&k==="h"&&D.type==="range")return!1;var L=x7(k,D);if(!L)return!0;if(L?P=k:(P=k==="v"?"h":"v",L=x7(k,D)),!L)return!1;if(!n.current&&"changedTouches"in y&&(C||I)&&(n.current=P),!P)return!0;var B=n.current||P;return cje(B,_,y,B==="h"?C:I,!0)},[]),c=O.useCallback(function(y){var _=y;if(!(!S1.length||S1[S1.length-1]!==a)){var N="deltaY"in _?v7(_):ub(_),E=t.current.filter(function(P){return P.name===_.type&&(P.target===_.target||_.target===P.shadowParent)&&uje(P.delta,N)})[0];if(E&&E.should){_.cancelable&&_.preventDefault();return}if(!E){var C=(o.current.shards||[]).map(y7).filter(Boolean).filter(function(P){return P.contains(_.target)}),I=C.length>0?l(_,C[0]):!o.current.noIsolation;I&&_.cancelable&&_.preventDefault()}}},[]),u=O.useCallback(function(y,_,N,E){var C={name:y,delta:_,target:N,should:E,shadowParent:pje(N)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(I){return I!==C})},1)},[]),f=O.useCallback(function(y){r.current=ub(y),n.current=void 0},[]),p=O.useCallback(function(y){u(y.type,v7(y),y.target,l(y,e.lockRef.current))},[]),g=O.useCallback(function(y){u(y.type,ub(y),y.target,l(y,e.lockRef.current))},[]);O.useEffect(function(){return S1.push(a),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",c,b1),document.addEventListener("touchmove",c,b1),document.addEventListener("touchstart",f,b1),function(){S1=S1.filter(function(y){return y!==a}),document.removeEventListener("wheel",c,b1),document.removeEventListener("touchmove",c,b1),document.removeEventListener("touchstart",f,b1)}},[]);var x=e.removeScrollBar,b=e.inert;return O.createElement(O.Fragment,null,b?O.createElement(a,{styles:dje(i)}):null,x?O.createElement(rje,{gapMode:e.gapMode}):null)}function pje(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const mje=VCe(kq,hje);var R_=O.forwardRef(function(e,t){return O.createElement(L_,Fu({},e,{ref:t,sideCar:mje}))});R_.classNames=L_.classNames;var gje=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},_1=new WeakMap,db=new WeakMap,fb={},oA=0,Fq=function(e){return e&&(e.host||Fq(e.parentNode))},xje=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Fq(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},vje=function(e,t,r,n){var i=xje(t,Array.isArray(e)?e:[e]);fb[r]||(fb[r]=new WeakMap);var a=fb[r],o=[],l=new Set,c=new Set(i),u=function(p){!p||l.has(p)||(l.add(p),u(p.parentNode))};i.forEach(u);var f=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(g){if(l.has(g))f(g);else try{var x=g.getAttribute(n),b=x!==null&&x!=="false",y=(_1.get(g)||0)+1,_=(a.get(g)||0)+1;_1.set(g,y),a.set(g,_),o.push(g),y===1&&b&&db.set(g,!0),_===1&&g.setAttribute(r,"true"),b||g.setAttribute(n,"true")}catch(N){console.error("aria-hidden: cannot operate on ",g,N)}})};return f(t),l.clear(),oA++,function(){o.forEach(function(p){var g=_1.get(p)-1,x=a.get(p)-1;_1.set(p,g),a.set(p,x),g||(db.has(p)||p.removeAttribute(n),db.delete(p)),x||p.removeAttribute(r)}),oA--,oA||(_1=new WeakMap,_1=new WeakMap,db=new WeakMap,fb={})}},WI=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=gje(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),vje(n,i,r,"aria-hidden")):function(){return null}},HI="Dialog",[Bq,$q]=pu(HI),[yje,gu]=Bq(HI),Uq=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=O.useRef(null),c=O.useRef(null),[u=!1,f]=lu({prop:n,defaultProp:i,onChange:a});return s.jsx(yje,{scope:t,triggerRef:l,contentRef:c,contentId:iu(),titleId:iu(),descriptionId:iu(),open:u,onOpenChange:f,onOpenToggle:O.useCallback(()=>f(p=>!p),[f]),modal:o,children:r})};Uq.displayName=HI;var zq="DialogTrigger",Vq=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=gu(zq,r),a=kn(t,i.triggerRef);return s.jsx(Wr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":YI(i.open),...n,ref:a,onClick:Nr(e.onClick,i.onOpenToggle)})});Vq.displayName=zq;var qI="DialogPortal",[wje,Wq]=Bq(qI,{forceMount:void 0}),Hq=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=gu(qI,t);return s.jsx(wje,{scope:t,forceMount:r,children:O.Children.map(n,o=>s.jsx(Do,{present:r||a.open,children:s.jsx(j2,{asChild:!0,container:i,children:o})}))})};Hq.displayName=qI;var D5="DialogOverlay",qq=O.forwardRef((e,t)=>{const r=Wq(D5,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=gu(D5,e.__scopeDialog);return a.modal?s.jsx(Do,{present:n||a.open,children:s.jsx(bje,{...i,ref:t})}):null});qq.displayName=D5;var bje=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=gu(D5,r);return s.jsx(R_,{as:af,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Wr.div,{"data-state":YI(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Lp="DialogContent",Gq=O.forwardRef((e,t)=>{const r=Wq(Lp,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=gu(Lp,e.__scopeDialog);return s.jsx(Do,{present:n||a.open,children:a.modal?s.jsx(Sje,{...i,ref:t}):s.jsx(_je,{...i,ref:t})})});Gq.displayName=Lp;var Sje=O.forwardRef((e,t)=>{const r=gu(Lp,e.__scopeDialog),n=O.useRef(null),i=kn(t,r.contentRef,n);return O.useEffect(()=>{const a=n.current;if(a)return WI(a)},[]),s.jsx(Yq,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nr(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Nr(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Nr(e.onFocusOutside,a=>a.preventDefault())})}),_je=O.forwardRef((e,t)=>{const r=gu(Lp,e.__scopeDialog),n=O.useRef(!1),i=O.useRef(!1);return s.jsx(Yq,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Yq=O.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=gu(Lp,r),c=O.useRef(null),u=kn(t,c);return VI(),s.jsxs(s.Fragment,{children:[s.jsx(D_,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(Wg,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":YI(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Eje,{titleId:l.titleId}),s.jsx(Cje,{contentRef:c,descriptionId:l.descriptionId})]})]})}),GI="DialogTitle",Xq=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=gu(GI,r);return s.jsx(Wr.h2,{id:i.titleId,...n,ref:t})});Xq.displayName=GI;var Kq="DialogDescription",Qq=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=gu(Kq,r);return s.jsx(Wr.p,{id:i.descriptionId,...n,ref:t})});Qq.displayName=Kq;var Zq="DialogClose",Jq=O.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=gu(Zq,r);return s.jsx(Wr.button,{type:"button",...n,ref:t,onClick:Nr(e.onClick,()=>i.onOpenChange(!1))})});Jq.displayName=Zq;function YI(e){return e?"open":"closed"}var eG="DialogTitleWarning",[Nje,tG]=oie(eG,{contentName:Lp,titleName:GI,docsSlug:"dialog"}),Eje=({titleId:e})=>{const t=tG(eG),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return O.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Aje="DialogDescriptionWarning",Cje=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tG(Aje).contentName}}.`;return O.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},rG=Uq,nG=Vq,iG=Hq,XI=qq,KI=Gq,QI=Xq,ZI=Qq,JI=Jq;const Qr=rG,nd=nG,jje=iG,aG=O.forwardRef(({className:e,...t},r)=>s.jsx(XI,{ref:r,className:ir("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));aG.displayName=XI.displayName;const qr=O.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(jje,{children:[s.jsx(aG,{}),s.jsxs(KI,{ref:n,className:ir("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(JI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Yo,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qr.displayName=KI.displayName;const Gr=({className:e,...t})=>s.jsx("div",{className:ir("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Gr.displayName="DialogHeader";const Pn=({className:e,...t})=>s.jsx("div",{className:ir("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Pn.displayName="DialogFooter";const Yr=O.forwardRef(({className:e,...t},r)=>s.jsx(QI,{ref:r,className:ir("text-lg font-semibold leading-none tracking-tight",e),...t}));Yr.displayName=QI.displayName;const gn=O.forwardRef(({className:e,...t},r)=>s.jsx(ZI,{ref:r,className:ir("text-sm text-muted-foreground",e),...t}));gn.displayName=ZI.displayName;var Tje="Label",sG=O.forwardRef((e,t)=>s.jsx(Wr.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));sG.displayName=Tje;var oG=sG;const Oje=a0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ht=O.forwardRef(({className:e,...t},r)=>s.jsx(oG,{ref:r,className:ir(Oje(),e),...t}));Ht.displayName=oG.displayName;function w7(){O.useState(!1),O.useState(null);const[e,t]=O.useState(!1),[r,n]=O.useState(!1),[i,a]=O.useState(""),[o,l]=O.useState(!1),[c,u]=O.useState(!1),{toast:f}=ea(),p=Yp(),[g,x]=O.useState(null),[b,y]=O.useState(!0);O.useEffect(()=>{async function q(){y(!0);try{const K=new Date().getTime(),ee=await(await fetch(`/api/stats?_=${K}`)).json();console.log("DIRECT STATS FETCH RESPONSE:",ee);const te={...ee};x(te)}catch(K){console.error("Error fetching stats:",K)}finally{y(!1)}}q()},[]);const{data:_,isLoading:N}=Er({queryKey:["/api/parts/low-stock"]}),{data:E,isLoading:C}=Er({queryKey:["/api/parts-issuance/recent"],staleTime:0}),I=Sr({mutationFn:async q=>await(await nn("POST","/api/reset-issuance-count",{password:q})).json(),onSuccess:()=>{p.invalidateQueries({queryKey:["/api/stats"]}),f({title:"Success",description:"Monthly part charge-out count has been reset to zero.",variant:"default"}),t(!1),a(""),l(!1)},onError:q=>{f({title:"Error",description:q.message||"Failed to reset charge-out count. Please verify your password.",variant:"destructive"}),l(!1)}}),P=Sr({mutationFn:async()=>await(await nn("POST","/api/manual-backup")).json(),onSuccess:q=>{f({title:"Backup Successful",description:`Database backup completed successfully at ${new Date().toLocaleTimeString()}`,variant:"default"}),n(!1),u(!1)},onError:q=>{f({title:"Backup Failed",description:q.message||"Database backup operation failed. Please try again later.",variant:"destructive"}),u(!1)}}),D=()=>{if(!i){f({title:"Error",description:"Admin password is required",variant:"destructive"});return}l(!0),I.mutate(i)},k=()=>{u(!0),P.mutate()},L=[{header:"Part ID",accessor:"partId",className:"whitespace-nowrap"},{header:"Description",accessor:"name"},{header:"In Stock",accessor:q=>s.jsx("span",{className:q.availability==="low"?"text-red-600 font-medium":"text-amber-600 font-medium",children:q.quantity})},{header:"Reorder Level",accessor:"reorderLevel"},{header:"Status",accessor:q=>s.jsx(rV,{quantity:q.quantity,reorderLevel:q.reorderLevel,showDetails:!1})},{header:"Actions",accessor:q=>s.jsx("div",{className:"flex justify-end",children:s.jsx(Ee,{variant:"ghost",size:"sm",className:"h-8 text-secondary-foreground",asChild:!0,children:s.jsxs(la,{href:"/parts-issuance",children:[s.jsx(Kc,{className:"h-4 w-4 mr-1"}),"Charge Out"]})})}),className:"text-right"}],B=[{header:"Part ID",accessor:q=>q.part.partId,className:"whitespace-nowrap"},{header:"Part Name",accessor:q=>q.part.name},{header:"Quantity",accessor:"quantity"},{header:"Building",accessor:q=>q.buildingName||"Other"},{header:"Cost Center",accessor:q=>q.projectCode||"-"},{header:"Date",accessor:q=>new Date(q.issuedAt).toLocaleDateString(),className:"whitespace-nowrap text-sm"}],G=[],{user:F}=Ts(),U=(F==null?void 0:F.role)==="technician";return b||N||C?s.jsxs("div",{className:"flex h-full items-center justify-center",children:[s.jsx(cn,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-lg",children:"Loading dashboard..."})]}):U?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Technician Dashboard"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"Select an option below to continue:"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Pt,{className:"hover:border-primary cursor-pointer transition-all",children:s.jsx(la,{href:"/parts-issuance",children:s.jsxs(zt,{className:"p-6 flex flex-col items-center justify-center min-h-[200px]",children:[s.jsx(Kc,{className:"h-16 w-16 text-primary mb-4"}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Part Charge-Outs"}),s.jsx("p",{className:"text-center text-muted-foreground",children:"Request and charge out parts for maintenance or repairs"})]})})}),s.jsx(Pt,{className:"hover:border-primary cursor-pointer transition-all",children:s.jsx(la,{href:"/parts-pickup",children:s.jsxs(zt,{className:"p-6 flex flex-col items-center justify-center min-h-[200px]",children:[s.jsx(sp,{className:"h-16 w-16 text-primary mb-4"}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Parts Pickup"}),s.jsx("p",{className:"text-center text-muted-foreground",children:"Record parts received from suppliers"})]})})}),s.jsx(Pt,{className:"hover:border-primary cursor-pointer transition-all",children:s.jsx(la,{href:"/tool-signout",children:s.jsxs(zt,{className:"p-6 flex flex-col items-center justify-center min-h-[200px]",children:[s.jsx(Mh,{className:"h-16 w-16 text-primary mb-4"}),s.jsx("h3",{className:"text-xl font-bold mb-2",children:"Tool SignOut"}),s.jsx("p",{className:"text-center text-muted-foreground",children:"Track tools signed out for maintenance and repairs"})]})})})]})]})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm p-4 mb-6",children:s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Parts Management Dashboard"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(la,{href:"/inventory-aging",children:s.jsx("button",{className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded border font-medium",children:"Inventory Aging"})}),s.jsx(la,{href:"/performance-dashboard",children:s.jsx("button",{className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded border font-medium",children:"Performance"})}),s.jsx(la,{href:"/parts-inventory",children:s.jsx("button",{className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded border font-medium",children:"Inventory"})}),s.jsx(la,{href:"/bulk-inventory",children:s.jsx("button",{className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded border font-medium",children:"Bulk Scanner"})}),s.jsx(la,{href:"/parts-issuance",children:s.jsx("button",{className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded border font-medium",children:"Charge-Outs"})})]})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Gw,{title:"Total Parts",value:(g==null?void 0:g.totalParts)||0,icon:PS,iconBgColor:"bg-primary",iconColor:"text-primary",trend:{value:"2 new since last week",direction:"up"}}),s.jsx(Gw,{title:"Parts In Stock",value:(g==null?void 0:g.totalPartsInStock)||0,icon:oy,iconBgColor:"bg-green-500",iconColor:"text-green-500",trend:{value:"Well supplied",direction:"neutral"}}),s.jsxs("div",{className:"relative",children:[s.jsx(Gw,{title:"Parts Charged Out (Month)",value:(g==null?void 0:g.monthlyPartsIssuance)||0,icon:Kc,iconBgColor:"bg-amber-500",iconColor:"text-amber-500",trend:{value:g!=null&&g.monthlyPartsIssuance?"Current month total":"No parts charged out yet",direction:"neutral"}}),s.jsxs(Ee,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 text-xs",onClick:()=>t(!0),children:[s.jsx(oae,{className:"h-3 w-3 mr-1"}),"Reset"]})]}),s.jsx(Gw,{title:"Critical & Low Stock",value:(g==null?void 0:g.lowStockItemsCount)||0,icon:kl,iconBgColor:"bg-red-500",iconColor:"text-red-500",trend:{value:`${(g==null?void 0:g.partsWithoutReorderLevels)||0} parts lack reorder levels`,direction:"neutral"}})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[s.jsx(Pt,{className:"hover:border-primary cursor-pointer transition-all",children:s.jsx(la,{href:"/tool-signout",children:s.jsxs(zt,{className:"p-6 flex flex-col items-center justify-center",children:[s.jsx(Mh,{className:"h-12 w-12 text-primary mb-2"}),s.jsx("h3",{className:"text-lg font-bold",children:"Tool SignOut"}),s.jsx("p",{className:"text-center text-muted-foreground text-sm",children:"Manage tool signouts"})]})})}),s.jsx(Pt,{className:"hover:border-primary cursor-pointer transition-all",children:s.jsxs(zt,{className:"p-6 flex flex-col items-center justify-center cursor-pointer",onClick:()=>n(!0),children:[s.jsx(ly,{className:"h-12 w-12 text-primary mb-2"}),s.jsx("h3",{className:"text-lg font-bold",children:"Database Backup"}),s.jsx("p",{className:"text-center text-muted-foreground text-sm",children:"Create a manual database backup"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[s.jsxs(Pt,{className:"lg:col-span-2",children:[s.jsx(Gt,{className:"px-6 py-4 flex flex-row items-center justify-between space-y-0",children:s.jsx(Yt,{className:"text-base font-medium",children:"Monthly Parts Usage"})}),s.jsx(zt,{className:"px-6 pb-6",children:s.jsx(NCe,{})})]}),s.jsxs(Pt,{className:"h-full",children:[s.jsx(Gt,{className:"pb-2",children:s.jsx(Yt,{className:"text-lg font-bold",children:"Inventory Status Overview"})}),s.jsx(zt,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"flex flex-col p-3 border rounded-md bg-red-50 border-red-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(rg,{size:16,className:"mr-1.5 text-red-600"}),s.jsx("span",{className:"text-sm font-medium text-red-700",children:"Critical & Low"})]}),s.jsxs("div",{className:"mt-1",children:[s.jsx("span",{className:"text-2xl font-bold text-red-800",children:(g==null?void 0:g.lowStockItemsCount)||0}),s.jsx("span",{className:"text-xs text-red-600 ml-1",children:"parts"})]})]}),s.jsxs("div",{className:"flex flex-col p-3 border rounded-md bg-orange-50 border-orange-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(kl,{size:16,className:"mr-1.5 text-orange-500"}),s.jsx("span",{className:"text-sm font-medium text-orange-700",children:"Medium Stock"})]}),s.jsxs("div",{className:"mt-1",children:[s.jsx("span",{className:"text-2xl font-bold text-orange-800",children:(g==null?void 0:g.mediumStockCount)||0}),s.jsx("span",{className:"text-xs text-orange-600 ml-1",children:"parts"})]})]}),s.jsxs("div",{className:"flex flex-col p-3 border rounded-md bg-green-50 border-green-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Cp,{size:16,className:"mr-1.5 text-green-500"}),s.jsx("span",{className:"text-sm font-medium text-green-700",children:"Healthy"})]}),s.jsxs("div",{className:"mt-1",children:[s.jsx("span",{className:"text-2xl font-bold text-green-800",children:(g==null?void 0:g.healthyStockCount)||0}),s.jsx("span",{className:"text-xs text-green-600 ml-1",children:"parts"})]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("div",{className:"text-sm font-medium mb-1.5",children:"Status Distribution"}),s.jsxs("div",{className:"flex w-full h-3 rounded-full overflow-hidden",children:[((g==null?void 0:g.lowStockItemsCount)||0)>0&&s.jsx("div",{className:"bg-red-600",style:{width:`${((g==null?void 0:g.lowStockItemsCount)||0)/((g==null?void 0:g.totalParts)||1)*100}%`}}),((g==null?void 0:g.mediumStockCount)||0)>0&&s.jsx("div",{className:"bg-orange-500",style:{width:`${((g==null?void 0:g.mediumStockCount)||0)/((g==null?void 0:g.totalParts)||1)*100}%`}}),((g==null?void 0:g.healthyStockCount)||0)>0&&s.jsx("div",{className:"bg-green-500",style:{width:`${((g==null?void 0:g.healthyStockCount)||0)/((g==null?void 0:g.totalParts)||1)*100}%`}})]}),s.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[s.jsx("span",{children:"Critical/Low"}),s.jsx("span",{children:"Medium"}),s.jsx("span",{children:"Healthy"})]})]})]})})]})]}),s.jsxs(Pt,{className:"mb-6",children:[s.jsxs(Gt,{className:"px-6 py-4 flex flex-row items-center justify-between space-y-0",children:[s.jsx(Yt,{className:"text-base font-medium",children:"Recent Part Charge-Outs"}),s.jsx(Ee,{asChild:!0,children:s.jsxs(la,{href:"/parts-issuance",children:[s.jsx(Kc,{className:"h-4 w-4 mr-1"}),"Charge Out Parts"]})})]}),s.jsx(zt,{className:"px-6 pb-6",children:s.jsx(Ll,{data:E||[],columns:B,itemsPerPage:5})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(Pt,{className:"lg:col-span-2",children:[s.jsxs(Gt,{className:"px-6 py-4 flex flex-row items-center justify-between space-y-0",children:[s.jsx(Yt,{className:"text-base font-medium",children:"Low Stock Parts"}),s.jsx(Ee,{variant:"outline",size:"sm",asChild:!0,children:s.jsx(la,{href:"/parts-inventory",children:"View All Parts"})})]}),s.jsx(zt,{className:"px-6 pb-6",children:s.jsx(Ll,{data:_||[],columns:L,itemsPerPage:4})})]}),s.jsxs(Pt,{children:[s.jsx(Gt,{className:"px-6 py-4 flex flex-row items-center justify-between space-y-0",children:s.jsx(Yt,{className:"text-base font-medium",children:"Recent Activity"})}),s.jsx(zt,{className:"px-6 pb-6 space-y-4",children:G.map((q,K)=>s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"mr-3 mt-1",children:s.jsx("div",{className:`w-8 h-8 rounded-full ${q.color} flex items-center justify-center text-white`,children:s.jsx(mm,{className:"h-4 w-4"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:q.name}),s.jsxs("p",{className:"text-sm",children:[q.action," ",s.jsx("span",{className:"text-primary",children:q.partInfo})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:q.time})]})]},K))})]})]}),s.jsx(Qr,{open:e,onOpenChange:t,children:s.jsxs(qr,{className:"sm:max-w-md",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Reset Monthly Charge-Out Count"}),s.jsx(gn,{children:"Enter the admin password to reset the monthly parts charge-out count to zero. This action will maintain the charge-out history but reset the counter."})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ht,{htmlFor:"adminPassword",children:"Admin Password"}),s.jsx(Rt,{id:"adminPassword",type:"password",placeholder:"Enter admin password",value:i,onChange:q=>a(q.target.value)})]})}),s.jsxs(Pn,{className:"flex justify-between",children:[s.jsx(Ee,{variant:"outline",onClick:()=>{t(!1),a("")},children:"Cancel"}),s.jsx(Ee,{variant:"default",onClick:D,disabled:o,children:o?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting..."]}):"Reset Count"})]})]})}),s.jsx(Qr,{open:r,onOpenChange:n,children:s.jsxs(qr,{className:"sm:max-w-md",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Database Backup"}),s.jsx(gn,{children:"Create a manual database backup. This will create a local backup file of the database that can be used for disaster recovery."})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[s.jsx("p",{children:"Backups are automatically created weekly on Sundays at 2:00 AM."}),s.jsx("p",{children:"Use this option to create an immediate backup before making major changes."}),s.jsx("p",{className:"font-semibold",children:"Note: This will only create a local backup. Google Drive integration requires additional configuration."})]})}),s.jsxs(Pn,{className:"flex justify-between",children:[s.jsx(Ee,{variant:"outline",onClick:()=>n(!1),children:"Cancel"}),s.jsx(Ee,{variant:"default",onClick:k,disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Backup..."]}):"Create Backup"})]})]})})]})}var e6={},F_={},Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});function Ije(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Pje=function e(t,r){Ije(this,e),this.data=t,this.text=r.text||t,this.options=r};Lo.default=Pje;Object.defineProperty(F_,"__esModule",{value:!0});F_.CODE39=void 0;var kje=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Mje=Lo,Dje=Lje(Mje);function Lje(e){return e&&e.__esModule?e:{default:e}}function Rje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fje(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Bje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $je=function(e){Bje(t,e);function t(r,n){return Rje(this,t),r=r.toUpperCase(),n.mod43&&(r+=Vje(Wje(r))),Fje(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return kje(t,[{key:"encode",value:function(){for(var n=lA("*"),i=0;i<this.data.length;i++)n+=lA(this.data[i])+"0";return n+=lA("*"),{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),t}(Dje.default),lG=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],Uje=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function lA(e){return zje(cG(e))}function zje(e){return Uje[e].toString(2)}function Vje(e){return lG[e]}function cG(e){return lG.indexOf(e)}function Wje(e){for(var t=0,r=0;r<e.length;r++)t+=cG(e[r]);return t=t%43,t}F_.CODE39=$je;var zu={},t6={},ax={},ta={};Object.defineProperty(ta,"__esModule",{value:!0});var Gx;function cA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var uG=ta.SET_A=0,dG=ta.SET_B=1,fG=ta.SET_C=2;ta.SHIFT=98;var Hje=ta.START_A=103,qje=ta.START_B=104,Gje=ta.START_C=105;ta.MODULO=103;ta.STOP=106;ta.FNC1=207;ta.SET_BY_CODE=(Gx={},cA(Gx,Hje,uG),cA(Gx,qje,dG),cA(Gx,Gje,fG),Gx);ta.SWAP={101:uG,100:dG,99:fG};ta.A_START_CHAR="";ta.B_START_CHAR="";ta.C_START_CHAR="";ta.A_CHARS="[\0-_-]";ta.B_CHARS="[ --]";ta.C_CHARS="(*[0-9]{2}*)";ta.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(ax,"__esModule",{value:!0});var Yje=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Xje=Lo,Kje=Qje(Xje),ml=ta;function Qje(e){return e&&e.__esModule?e:{default:e}}function Zje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jje(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function eTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var tTe=function(e){eTe(t,e);function t(r,n){Zje(this,t);var i=Jje(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r.substring(1),n));return i.bytes=r.split("").map(function(a){return a.charCodeAt(0)}),i}return Yje(t,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.bytes,i=n.shift()-105,a=ml.SET_BY_CODE[i];if(a===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&n.unshift(ml.FNC1);var o=t.next(n,1,a);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:t.getBar(i)+o.result+t.getBar((o.checksum+i)%ml.MODULO)+t.getBar(ml.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var n=this.options.ean128||!1;return typeof n=="string"&&(n=n.toLowerCase()==="true"),n}}],[{key:"getBar",value:function(n){return ml.BARS[n]?ml.BARS[n].toString():""}},{key:"correctIndex",value:function(n,i){if(i===ml.SET_A){var a=n.shift();return a<32?a+64:a-32}else return i===ml.SET_B?n.shift()-32:(n.shift()-48)*10+n.shift()-48}},{key:"next",value:function(n,i,a){if(!n.length)return{result:"",checksum:0};var o=void 0,l=void 0;if(n[0]>=200){l=n.shift()-105;var c=ml.SWAP[l];c!==void 0?o=t.next(n,i+1,c):((a===ml.SET_A||a===ml.SET_B)&&l===ml.SHIFT&&(n[0]=a===ml.SET_A?n[0]>95?n[0]-96:n[0]:n[0]<32?n[0]+96:n[0]),o=t.next(n,i+1,a))}else l=t.correctIndex(n,a),o=t.next(n,i+1,a);var u=t.getBar(l),f=l*i;return{result:u+o.result,checksum:f+o.checksum}}}]),t}(Kje.default);ax.default=tTe;var r6={};Object.defineProperty(r6,"__esModule",{value:!0});var Rh=ta,hG=function(t){return t.match(new RegExp("^"+Rh.A_CHARS+"*"))[0].length},pG=function(t){return t.match(new RegExp("^"+Rh.B_CHARS+"*"))[0].length},mG=function(t){return t.match(new RegExp("^"+Rh.C_CHARS+"*"))[0]};function n6(e,t){var r=t?Rh.A_CHARS:Rh.B_CHARS,n=e.match(new RegExp("^("+r+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(n)return n[1]+""+gG(e.substring(n[1].length));var i=e.match(new RegExp("^"+r+"+"))[0];return i.length===e.length?e:i+String.fromCharCode(t?205:206)+n6(e.substring(i.length),!t)}function gG(e){var t=mG(e),r=t.length;if(r===e.length)return e;e=e.substring(r);var n=hG(e)>=pG(e);return t+String.fromCharCode(n?206:205)+n6(e,n)}r6.default=function(e){var t=void 0,r=mG(e).length;if(r>=2)t=Rh.C_START_CHAR+gG(e);else{var n=hG(e)>pG(e);t=(n?Rh.A_START_CHAR:Rh.B_START_CHAR)+n6(e,n)}return t.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,a){return""+a})};Object.defineProperty(t6,"__esModule",{value:!0});var rTe=ax,nTe=xG(rTe),iTe=r6,aTe=xG(iTe);function xG(e){return e&&e.__esModule?e:{default:e}}function sTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uA(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function oTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var lTe=function(e){oTe(t,e);function t(r,n){if(sTe(this,t),/^[\x00-\x7F\xC8-\xD3]+$/.test(r))var i=uA(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,(0,aTe.default)(r),n));else var i=uA(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return uA(i)}return t}(nTe.default);t6.default=lTe;var i6={};Object.defineProperty(i6,"__esModule",{value:!0});var cTe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),uTe=ax,dTe=fTe(uTe),b7=ta;function fTe(e){return e&&e.__esModule?e:{default:e}}function hTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pTe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function mTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var gTe=function(e){mTe(t,e);function t(r,n){return hTe(this,t),pTe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,b7.A_START_CHAR+r,n))}return cTe(t,[{key:"valid",value:function(){return new RegExp("^"+b7.A_CHARS+"+$").test(this.data)}}]),t}(dTe.default);i6.default=gTe;var a6={};Object.defineProperty(a6,"__esModule",{value:!0});var xTe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),vTe=ax,yTe=wTe(vTe),S7=ta;function wTe(e){return e&&e.__esModule?e:{default:e}}function bTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function STe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function _Te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var NTe=function(e){_Te(t,e);function t(r,n){return bTe(this,t),STe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,S7.B_START_CHAR+r,n))}return xTe(t,[{key:"valid",value:function(){return new RegExp("^"+S7.B_CHARS+"+$").test(this.data)}}]),t}(yTe.default);a6.default=NTe;var s6={};Object.defineProperty(s6,"__esModule",{value:!0});var ETe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),ATe=ax,CTe=jTe(ATe),_7=ta;function jTe(e){return e&&e.__esModule?e:{default:e}}function TTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OTe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function ITe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var PTe=function(e){ITe(t,e);function t(r,n){return TTe(this,t),OTe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,_7.C_START_CHAR+r,n))}return ETe(t,[{key:"valid",value:function(){return new RegExp("^"+_7.C_CHARS+"+$").test(this.data)}}]),t}(CTe.default);s6.default=PTe;Object.defineProperty(zu,"__esModule",{value:!0});zu.CODE128C=zu.CODE128B=zu.CODE128A=zu.CODE128=void 0;var kTe=t6,MTe=B_(kTe),DTe=i6,LTe=B_(DTe),RTe=a6,FTe=B_(RTe),BTe=s6,$Te=B_(BTe);function B_(e){return e&&e.__esModule?e:{default:e}}zu.CODE128=MTe.default;zu.CODE128A=LTe.default;zu.CODE128B=FTe.default;zu.CODE128C=$Te.default;var Ko={},o6={},Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.SIDE_BIN="101";Sc.MIDDLE_BIN="01010";Sc.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};Sc.EAN2_STRUCTURE=["LL","LG","GL","GG"];Sc.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];Sc.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var $_={},Jp={};Object.defineProperty(Jp,"__esModule",{value:!0});var UTe=Sc,zTe=function(t,r,n){var i=t.split("").map(function(o,l){return UTe.BINARIES[r[l]]}).map(function(o,l){return o?o[t[l]]:""});if(n){var a=t.length-1;i=i.map(function(o,l){return l<a?o+n:o})}return i.join("")};Jp.default=zTe;Object.defineProperty($_,"__esModule",{value:!0});var VTe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),N1=Sc,WTe=Jp,N7=vG(WTe),HTe=Lo,qTe=vG(HTe);function vG(e){return e&&e.__esModule?e:{default:e}}function GTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YTe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function XTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var KTe=function(e){XTe(t,e);function t(r,n){GTe(this,t);var i=YTe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return i.fontSize=!n.flat&&n.fontSize>n.width*10?n.width*10:n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return VTe(t,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(n,i){return this.text.substr(n,i)}},{key:"leftEncode",value:function(n,i){return(0,N7.default)(n,i)}},{key:"rightText",value:function(n,i){return this.text.substr(n,i)}},{key:"rightEncode",value:function(n,i){return(0,N7.default)(n,i)}},{key:"encodeGuarded",value:function(){var n={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:N1.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:n},{data:N1.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:n},{data:N1.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var n=[N1.SIDE_BIN,this.leftEncode(),N1.MIDDLE_BIN,this.rightEncode(),N1.SIDE_BIN];return{data:n.join(""),text:this.text}}}]),t}(qTe.default);$_.default=KTe;Object.defineProperty(o6,"__esModule",{value:!0});var QTe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Yx=function e(t,r,n){t===null&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(i===void 0){var a=Object.getPrototypeOf(t);return a===null?void 0:e(a,r,n)}else{if("value"in i)return i.value;var o=i.get;return o===void 0?void 0:o.call(n)}},ZTe=Sc,JTe=$_,eOe=tOe(JTe);function tOe(e){return e&&e.__esModule?e:{default:e}}function rOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nOe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function iOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var E7=function(t){var r=t.substr(0,12).split("").map(function(n){return+n}).reduce(function(n,i,a){return a%2?n+i*3:n+i},0);return(10-r%10)%10},aOe=function(e){iOe(t,e);function t(r,n){rOe(this,t),r.search(/^[0-9]{12}$/)!==-1&&(r+=E7(r));var i=nOe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return i.lastChar=n.lastChar,i}return QTe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===E7(this.data)}},{key:"leftText",value:function(){return Yx(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var n=this.data.substr(1,6),i=ZTe.EAN13_STRUCTURE[this.data[0]];return Yx(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,n,i)}},{key:"rightText",value:function(){return Yx(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var n=this.data.substr(7,6);return Yx(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,n,"RRRRRR")}},{key:"encodeGuarded",value:function(){var n=Yx(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(n.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(n.push({data:"00"}),n.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),n}}]),t}(eOe.default);o6.default=aOe;var l6={};Object.defineProperty(l6,"__esModule",{value:!0});var sOe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),hb=function e(t,r,n){t===null&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(i===void 0){var a=Object.getPrototypeOf(t);return a===null?void 0:e(a,r,n)}else{if("value"in i)return i.value;var o=i.get;return o===void 0?void 0:o.call(n)}},oOe=$_,lOe=cOe(oOe);function cOe(e){return e&&e.__esModule?e:{default:e}}function uOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dOe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function fOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A7=function(t){var r=t.substr(0,7).split("").map(function(n){return+n}).reduce(function(n,i,a){return a%2?n+i:n+i*3},0);return(10-r%10)%10},hOe=function(e){fOe(t,e);function t(r,n){return uOe(this,t),r.search(/^[0-9]{7}$/)!==-1&&(r+=A7(r)),dOe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return sOe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===A7(this.data)}},{key:"leftText",value:function(){return hb(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var n=this.data.substr(0,4);return hb(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"leftEncode",this).call(this,n,"LLLL")}},{key:"rightText",value:function(){return hb(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var n=this.data.substr(4,4);return hb(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"rightEncode",this).call(this,n,"RRRR")}}]),t}(lOe.default);l6.default=hOe;var c6={};Object.defineProperty(c6,"__esModule",{value:!0});var pOe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),mOe=Sc,gOe=Jp,xOe=yG(gOe),vOe=Lo,yOe=yG(vOe);function yG(e){return e&&e.__esModule?e:{default:e}}function wOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bOe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function SOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _Oe=function(t){var r=t.split("").map(function(n){return+n}).reduce(function(n,i,a){return a%2?n+i*9:n+i*3},0);return r%10},NOe=function(e){SOe(t,e);function t(r,n){return wOe(this,t),bOe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return pOe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var n=mOe.EAN5_STRUCTURE[_Oe(this.data)];return{data:"1011"+(0,xOe.default)(this.data,n,"01"),text:this.text}}}]),t}(yOe.default);c6.default=NOe;var u6={};Object.defineProperty(u6,"__esModule",{value:!0});var EOe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),AOe=Sc,COe=Jp,jOe=wG(COe),TOe=Lo,OOe=wG(TOe);function wG(e){return e&&e.__esModule?e:{default:e}}function IOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function POe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function kOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var MOe=function(e){kOe(t,e);function t(r,n){return IOe(this,t),POe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return EOe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var n=AOe.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,jOe.default)(this.data,n,"01"),text:this.text}}}]),t}(OOe.default);u6.default=MOe;var $2={};Object.defineProperty($2,"__esModule",{value:!0});var DOe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();$2.checksum=Oj;var LOe=Jp,E1=bG(LOe),ROe=Lo,FOe=bG(ROe);function bG(e){return e&&e.__esModule?e:{default:e}}function BOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Oe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function UOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var zOe=function(e){UOe(t,e);function t(r,n){BOe(this,t),r.search(/^[0-9]{11}$/)!==-1&&(r+=Oj(r));var i=$Oe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return i.displayValue=n.displayValue,n.fontSize>n.width*10?i.fontSize=n.width*10:i.fontSize=n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return DOe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==Oj(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=(0,E1.default)(this.data.substr(0,6),"LLLLLL"),n+="01010",n+=(0,E1.default)(this.data.substr(6,6),"RRRRRR"),n+="101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101"+(0,E1.default)(this.data[0],"L"),options:{height:this.guardHeight}}),n.push({data:(0,E1.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),n.push({data:"01010",options:{height:this.guardHeight}}),n.push({data:(0,E1.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),n.push({data:(0,E1.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),n}}]),t}(FOe.default);function Oj(e){var t=0,r;for(r=1;r<11;r+=2)t+=parseInt(e[r]);for(r=0;r<11;r+=2)t+=parseInt(e[r])*3;return(10-t%10)%10}$2.default=zOe;var d6={};Object.defineProperty(d6,"__esModule",{value:!0});var VOe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),WOe=Jp,HOe=SG(WOe),qOe=Lo,GOe=SG(qOe),YOe=$2;function SG(e){return e&&e.__esModule?e:{default:e}}function XOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dA(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function KOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var QOe=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],ZOe=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],JOe=function(e){KOe(t,e);function t(r,n){XOe(this,t);var i=dA(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));if(i.isValid=!1,r.search(/^[0-9]{6}$/)!==-1)i.middleDigits=r,i.upcA=C7(r,"0"),i.text=n.text||""+i.upcA[0]+r+i.upcA[i.upcA.length-1],i.isValid=!0;else if(r.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=r.substring(1,r.length-1),i.upcA=C7(i.middleDigits,r[0]),i.upcA[i.upcA.length-1]===r[r.length-1])i.isValid=!0;else return dA(i);else return dA(i);return i.displayValue=n.displayValue,n.fontSize>n.width*10?i.fontSize=n.width*10:i.fontSize=n.fontSize,i.guardHeight=n.height+i.fontSize/2+n.textMargin,i}return VOe(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=this.encodeMiddleDigits(),n+="010101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101",options:{height:this.guardHeight}}),n.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),n.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),n}},{key:"encodeMiddleDigits",value:function(){var n=this.upcA[0],i=this.upcA[this.upcA.length-1],a=ZOe[parseInt(i)][parseInt(n)];return(0,HOe.default)(this.middleDigits,a)}}]),t}(GOe.default);function C7(e,t){for(var r=parseInt(e[e.length-1]),n=QOe[r],i="",a=0,o=0;o<n.length;o++){var l=n[o];l==="X"?i+=e[a++]:i+=l}return i=""+t+i,""+i+(0,YOe.checksum)(i)}d6.default=JOe;Object.defineProperty(Ko,"__esModule",{value:!0});Ko.UPCE=Ko.UPC=Ko.EAN2=Ko.EAN5=Ko.EAN8=Ko.EAN13=void 0;var eIe=o6,tIe=sx(eIe),rIe=l6,nIe=sx(rIe),iIe=c6,aIe=sx(iIe),sIe=u6,oIe=sx(sIe),lIe=$2,cIe=sx(lIe),uIe=d6,dIe=sx(uIe);function sx(e){return e&&e.__esModule?e:{default:e}}Ko.EAN13=tIe.default;Ko.EAN8=nIe.default;Ko.EAN5=aIe.default;Ko.EAN2=oIe.default;Ko.UPC=cIe.default;Ko.UPCE=dIe.default;var Eg={},U_={},U2={};Object.defineProperty(U2,"__esModule",{value:!0});U2.START_BIN="1010";U2.END_BIN="11101";U2.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(U_,"__esModule",{value:!0});var fIe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),pb=U2,hIe=Lo,pIe=mIe(hIe);function mIe(e){return e&&e.__esModule?e:{default:e}}function gIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xIe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function vIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var yIe=function(e){vIe(t,e);function t(){return gIe(this,t),xIe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return fIe(t,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var n=this,i=this.data.match(/.{2}/g).map(function(a){return n.encodePair(a)}).join("");return{data:pb.START_BIN+i+pb.END_BIN,text:this.text}}},{key:"encodePair",value:function(n){var i=pb.BINARIES[n[1]];return pb.BINARIES[n[0]].split("").map(function(a,o){return(a==="1"?"111":"1")+(i[o]==="1"?"000":"0")}).join("")}}]),t}(pIe.default);U_.default=yIe;var f6={};Object.defineProperty(f6,"__esModule",{value:!0});var wIe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),bIe=U_,SIe=_Ie(bIe);function _Ie(e){return e&&e.__esModule?e:{default:e}}function NIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EIe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function AIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j7=function(t){var r=t.substr(0,13).split("").map(function(n){return parseInt(n,10)}).reduce(function(n,i,a){return n+i*(3-a%2*2)},0);return Math.ceil(r/10)*10-r},CIe=function(e){AIe(t,e);function t(r,n){return NIe(this,t),r.search(/^[0-9]{13}$/)!==-1&&(r+=j7(r)),EIe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return wIe(t,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===j7(this.data)}}]),t}(SIe.default);f6.default=CIe;Object.defineProperty(Eg,"__esModule",{value:!0});Eg.ITF14=Eg.ITF=void 0;var jIe=U_,TIe=_G(jIe),OIe=f6,IIe=_G(OIe);function _G(e){return e&&e.__esModule?e:{default:e}}Eg.ITF=TIe.default;Eg.ITF14=IIe.default;var oc={},e1={};Object.defineProperty(e1,"__esModule",{value:!0});var PIe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),kIe=Lo,MIe=DIe(kIe);function DIe(e){return e&&e.__esModule?e:{default:e}}function LIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RIe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function FIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var BIe=function(e){FIe(t,e);function t(r,n){return LIe(this,t),RIe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return PIe(t,[{key:"encode",value:function(){for(var n="110",i=0;i<this.data.length;i++){var a=parseInt(this.data[i]),o=a.toString(2);o=$Ie(o,4-o.length);for(var l=0;l<o.length;l++)n+=o[l]=="0"?"100":"110"}return n+="1001",{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),t}(MIe.default);function $Ie(e,t){for(var r=0;r<t;r++)e="0"+e;return e}e1.default=BIe;var h6={},t1={};Object.defineProperty(t1,"__esModule",{value:!0});t1.mod10=UIe;t1.mod11=zIe;function UIe(e){for(var t=0,r=0;r<e.length;r++){var n=parseInt(e[r]);(r+e.length)%2===0?t+=n:t+=n*2%10+Math.floor(n*2/10)}return(10-t%10)%10}function zIe(e){for(var t=0,r=[2,3,4,5,6,7],n=0;n<e.length;n++){var i=parseInt(e[e.length-1-n]);t+=r[n%r.length]*i}return(11-t%11)%11}Object.defineProperty(h6,"__esModule",{value:!0});var VIe=e1,WIe=qIe(VIe),HIe=t1;function qIe(e){return e&&e.__esModule?e:{default:e}}function GIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YIe(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function XIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var KIe=function(e){XIe(t,e);function t(r,n){return GIe(this,t),YIe(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r+(0,HIe.mod10)(r),n))}return t}(WIe.default);h6.default=KIe;var p6={};Object.defineProperty(p6,"__esModule",{value:!0});var QIe=e1,ZIe=e6e(QIe),JIe=t1;function e6e(e){return e&&e.__esModule?e:{default:e}}function t6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r6e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function n6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i6e=function(e){n6e(t,e);function t(r,n){return t6e(this,t),r6e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r+(0,JIe.mod11)(r),n))}return t}(ZIe.default);p6.default=i6e;var m6={};Object.defineProperty(m6,"__esModule",{value:!0});var a6e=e1,s6e=o6e(a6e),T7=t1;function o6e(e){return e&&e.__esModule?e:{default:e}}function l6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c6e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function u6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d6e=function(e){u6e(t,e);function t(r,n){return l6e(this,t),r+=(0,T7.mod10)(r),r+=(0,T7.mod10)(r),c6e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return t}(s6e.default);m6.default=d6e;var g6={};Object.defineProperty(g6,"__esModule",{value:!0});var f6e=e1,h6e=p6e(f6e),O7=t1;function p6e(e){return e&&e.__esModule?e:{default:e}}function m6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g6e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function x6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v6e=function(e){x6e(t,e);function t(r,n){return m6e(this,t),r+=(0,O7.mod11)(r),r+=(0,O7.mod10)(r),g6e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return t}(h6e.default);g6.default=v6e;Object.defineProperty(oc,"__esModule",{value:!0});oc.MSI1110=oc.MSI1010=oc.MSI11=oc.MSI10=oc.MSI=void 0;var y6e=e1,w6e=z2(y6e),b6e=h6,S6e=z2(b6e),_6e=p6,N6e=z2(_6e),E6e=m6,A6e=z2(E6e),C6e=g6,j6e=z2(C6e);function z2(e){return e&&e.__esModule?e:{default:e}}oc.MSI=w6e.default;oc.MSI10=S6e.default;oc.MSI11=N6e.default;oc.MSI1010=A6e.default;oc.MSI1110=j6e.default;var z_={};Object.defineProperty(z_,"__esModule",{value:!0});z_.pharmacode=void 0;var T6e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),O6e=Lo,I6e=P6e(O6e);function P6e(e){return e&&e.__esModule?e:{default:e}}function k6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M6e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function D6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var L6e=function(e){D6e(t,e);function t(r,n){k6e(this,t);var i=M6e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n));return i.number=parseInt(r,10),i}return T6e(t,[{key:"encode",value:function(){for(var n=this.number,i="";!isNaN(n)&&n!=0;)n%2===0?(i="11100"+i,n=(n-2)/2):(i="100"+i,n=(n-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),t}(I6e.default);z_.pharmacode=L6e;var V_={};Object.defineProperty(V_,"__esModule",{value:!0});V_.codabar=void 0;var R6e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),F6e=Lo,B6e=$6e(F6e);function $6e(e){return e&&e.__esModule?e:{default:e}}function U6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z6e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function V6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var W6e=function(e){V6e(t,e);function t(r,n){U6e(this,t),r.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(r="A"+r+"A");var i=z6e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r.toUpperCase(),n));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return R6e(t,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var n=[],i=this.getEncodings(),a=0;a<this.data.length;a++)n.push(i[this.data.charAt(a)]),a!==this.data.length-1&&n.push("0");return{text:this.text,data:n.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),t}(B6e.default);V_.codabar=W6e;var Ag={},W_={},V2={};Object.defineProperty(V2,"__esModule",{value:!0});V2.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""];V2.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];V2.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(W_,"__esModule",{value:!0});var H6e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),mb=V2,q6e=Lo,G6e=Y6e(q6e);function Y6e(e){return e&&e.__esModule?e:{default:e}}function X6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K6e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function Q6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Z6e=function(e){Q6e(t,e);function t(r,n){return X6e(this,t),K6e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return H6e(t,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.data.split("").flatMap(function(l){return mb.MULTI_SYMBOLS[l]||l}),i=n.map(function(l){return t.getEncoding(l)}).join(""),a=t.checksum(n,20),o=t.checksum(n.concat(a),15);return{text:this.text,data:t.getEncoding("")+i+t.getEncoding(a)+t.getEncoding(o)+t.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(n){return mb.BINARIES[t.symbolValue(n)]}},{key:"getSymbol",value:function(n){return mb.SYMBOLS[n]}},{key:"symbolValue",value:function(n){return mb.SYMBOLS.indexOf(n)}},{key:"checksum",value:function(n,i){var a=n.slice().reverse().reduce(function(o,l,c){var u=c%i+1;return o+t.symbolValue(l)*u},0);return t.getSymbol(a%47)}}]),t}(G6e.default);W_.default=Z6e;var x6={};Object.defineProperty(x6,"__esModule",{value:!0});var J6e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),e8e=W_,t8e=r8e(e8e);function r8e(e){return e&&e.__esModule?e:{default:e}}function n8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i8e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function a8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s8e=function(e){a8e(t,e);function t(r,n){return n8e(this,t),i8e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return J6e(t,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),t}(t8e.default);x6.default=s8e;Object.defineProperty(Ag,"__esModule",{value:!0});Ag.CODE93FullASCII=Ag.CODE93=void 0;var o8e=W_,l8e=NG(o8e),c8e=x6,u8e=NG(c8e);function NG(e){return e&&e.__esModule?e:{default:e}}Ag.CODE93=l8e.default;Ag.CODE93FullASCII=u8e.default;var H_={};Object.defineProperty(H_,"__esModule",{value:!0});H_.GenericBarcode=void 0;var d8e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f8e=Lo,h8e=p8e(f8e);function p8e(e){return e&&e.__esModule?e:{default:e}}function m8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g8e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function x8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var v8e=function(e){x8e(t,e);function t(r,n){return m8e(this,t),g8e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,n))}return d8e(t,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),t}(h8e.default);H_.GenericBarcode=v8e;Object.defineProperty(e6,"__esModule",{value:!0});var y8e=F_,gb=zu,A1=Ko,I7=Eg,Xx=oc,w8e=z_,b8e=V_,P7=Ag,S8e=H_;e6.default={CODE39:y8e.CODE39,CODE128:gb.CODE128,CODE128A:gb.CODE128A,CODE128B:gb.CODE128B,CODE128C:gb.CODE128C,EAN13:A1.EAN13,EAN8:A1.EAN8,EAN5:A1.EAN5,EAN2:A1.EAN2,UPC:A1.UPC,UPCE:A1.UPCE,ITF14:I7.ITF14,ITF:I7.ITF,MSI:Xx.MSI,MSI10:Xx.MSI10,MSI11:Xx.MSI11,MSI1010:Xx.MSI1010,MSI1110:Xx.MSI1110,pharmacode:w8e.pharmacode,codabar:b8e.codabar,CODE93:P7.CODE93,CODE93FullASCII:P7.CODE93FullASCII,GenericBarcode:S8e.GenericBarcode};var ox={};Object.defineProperty(ox,"__esModule",{value:!0});var _8e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};ox.default=function(e,t){return _8e({},e,t)};var v6={};Object.defineProperty(v6,"__esModule",{value:!0});v6.default=N8e;function N8e(e){var t=[];function r(n){if(Array.isArray(n))for(var i=0;i<n.length;i++)r(n[i]);else n.text=n.text||"",n.data=n.data||"",t.push(n)}return r(e),t}var y6={};Object.defineProperty(y6,"__esModule",{value:!0});y6.default=E8e;function E8e(e){return e.marginTop=e.marginTop||e.margin,e.marginBottom=e.marginBottom||e.margin,e.marginRight=e.marginRight||e.margin,e.marginLeft=e.marginLeft||e.margin,e}var w6={},b6={},q_={};Object.defineProperty(q_,"__esModule",{value:!0});q_.default=A8e;function A8e(e){var t=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var r in t)t.hasOwnProperty(r)&&(r=t[r],typeof e[r]=="string"&&(e[r]=parseInt(e[r],10)));return typeof e.displayValue=="string"&&(e.displayValue=e.displayValue!="false"),e}var G_={};Object.defineProperty(G_,"__esModule",{value:!0});var C8e={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};G_.default=C8e;Object.defineProperty(b6,"__esModule",{value:!0});var j8e=q_,T8e=EG(j8e),O8e=G_,k7=EG(O8e);function EG(e){return e&&e.__esModule?e:{default:e}}function I8e(e){var t={};for(var r in k7.default)k7.default.hasOwnProperty(r)&&(e.hasAttribute("jsbarcode-"+r.toLowerCase())&&(t[r]=e.getAttribute("jsbarcode-"+r.toLowerCase())),e.hasAttribute("data-"+r.toLowerCase())&&(t[r]=e.getAttribute("data-"+r.toLowerCase())));return t.value=e.getAttribute("jsbarcode-value")||e.getAttribute("data-value"),t=(0,T8e.default)(t),t}b6.default=I8e;var S6={},_6={},Tl={};Object.defineProperty(Tl,"__esModule",{value:!0});Tl.getTotalWidthOfEncodings=Tl.calculateEncodingAttributes=Tl.getBarcodePadding=Tl.getEncodingHeight=Tl.getMaximumHeightOfEncodings=void 0;var P8e=ox,k8e=M8e(P8e);function M8e(e){return e&&e.__esModule?e:{default:e}}function AG(e,t){return t.height+(t.displayValue&&e.text.length>0?t.fontSize+t.textMargin:0)+t.marginTop+t.marginBottom}function CG(e,t,r){if(r.displayValue&&t<e){if(r.textAlign=="center")return Math.floor((e-t)/2);if(r.textAlign=="left")return 0;if(r.textAlign=="right")return Math.floor(e-t)}return 0}function D8e(e,t,r){for(var n=0;n<e.length;n++){var i=e[n],a=(0,k8e.default)(t,i.options),o;a.displayValue?o=F8e(i.text,a,r):o=0;var l=i.data.length*a.width;i.width=Math.ceil(Math.max(o,l)),i.height=AG(i,a),i.barcodePadding=CG(o,l,a)}}function L8e(e){for(var t=0,r=0;r<e.length;r++)t+=e[r].width;return t}function R8e(e){for(var t=0,r=0;r<e.length;r++)e[r].height>t&&(t=e[r].height);return t}function F8e(e,t,r){var n;if(r)n=r;else if(typeof document<"u")n=document.createElement("canvas").getContext("2d");else return 0;n.font=t.fontOptions+" "+t.fontSize+"px "+t.font;var i=n.measureText(e);if(!i)return 0;var a=i.width;return a}Tl.getMaximumHeightOfEncodings=R8e;Tl.getEncodingHeight=AG;Tl.getBarcodePadding=CG;Tl.calculateEncodingAttributes=D8e;Tl.getTotalWidthOfEncodings=L8e;Object.defineProperty(_6,"__esModule",{value:!0});var B8e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),$8e=ox,U8e=z8e($8e),fA=Tl;function z8e(e){return e&&e.__esModule?e:{default:e}}function V8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var W8e=function(){function e(t,r,n){V8e(this,e),this.canvas=t,this.encodings=r,this.options=n}return B8e(e,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var r=0;r<this.encodings.length;r++){var n=(0,U8e.default)(this.options,this.encodings[r].options);this.drawCanvasBarcode(n,this.encodings[r]),this.drawCanvasText(n,this.encodings[r]),this.moveCanvasDrawing(this.encodings[r])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var r=this.canvas.getContext("2d");r.save(),(0,fA.calculateEncodingAttributes)(this.encodings,this.options,r);var n=(0,fA.getTotalWidthOfEncodings)(this.encodings),i=(0,fA.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=n+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,r.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(r.fillStyle=this.options.background,r.fillRect(0,0,this.canvas.width,this.canvas.height)),r.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(r,n){var i=this.canvas.getContext("2d"),a=n.data,o;r.textPosition=="top"?o=r.marginTop+r.fontSize+r.textMargin:o=r.marginTop,i.fillStyle=r.lineColor;for(var l=0;l<a.length;l++){var c=l*r.width+n.barcodePadding;a[l]==="1"?i.fillRect(c,o,r.width,r.height):a[l]&&i.fillRect(c,o,r.width,r.height*a[l])}}},{key:"drawCanvasText",value:function(r,n){var i=this.canvas.getContext("2d"),a=r.fontOptions+" "+r.fontSize+"px "+r.font;if(r.displayValue){var o,l;r.textPosition=="top"?l=r.marginTop+r.fontSize-r.textMargin:l=r.height+r.textMargin+r.marginTop+r.fontSize,i.font=a,r.textAlign=="left"||n.barcodePadding>0?(o=0,i.textAlign="left"):r.textAlign=="right"?(o=n.width-1,i.textAlign="right"):(o=n.width/2,i.textAlign="center"),i.fillText(n.text,o,l)}}},{key:"moveCanvasDrawing",value:function(r){var n=this.canvas.getContext("2d");n.translate(r.width,0)}},{key:"restoreCanvas",value:function(){var r=this.canvas.getContext("2d");r.restore()}}]),e}();_6.default=W8e;var N6={};Object.defineProperty(N6,"__esModule",{value:!0});var H8e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),q8e=ox,G8e=Y8e(q8e),hA=Tl;function Y8e(e){return e&&e.__esModule?e:{default:e}}function X8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var xb="http://www.w3.org/2000/svg",K8e=function(){function e(t,r,n){X8e(this,e),this.svg=t,this.encodings=r,this.options=n,this.document=n.xmlDocument||document}return H8e(e,[{key:"render",value:function(){var r=this.options.marginLeft;this.prepareSVG();for(var n=0;n<this.encodings.length;n++){var i=this.encodings[n],a=(0,G8e.default)(this.options,i.options),o=this.createGroup(r,a.marginTop,this.svg);this.setGroupOptions(o,a),this.drawSvgBarcode(o,a,i),this.drawSVGText(o,a,i),r+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,hA.calculateEncodingAttributes)(this.encodings,this.options);var r=(0,hA.getTotalWidthOfEncodings)(this.encodings),n=(0,hA.getMaximumHeightOfEncodings)(this.encodings),i=r+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,n),this.options.background&&this.drawRect(0,0,i,n,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(r,n,i){var a=i.data,o;n.textPosition=="top"?o=n.fontSize+n.textMargin:o=0;for(var l=0,c=0,u=0;u<a.length;u++)c=u*n.width+i.barcodePadding,a[u]==="1"?l++:l>0&&(this.drawRect(c-n.width*l,o,n.width*l,n.height,r),l=0);l>0&&this.drawRect(c-n.width*(l-1),o,n.width*l,n.height,r)}},{key:"drawSVGText",value:function(r,n,i){var a=this.document.createElementNS(xb,"text");if(n.displayValue){var o,l;a.setAttribute("style","font:"+n.fontOptions+" "+n.fontSize+"px "+n.font),n.textPosition=="top"?l=n.fontSize-n.textMargin:l=n.height+n.textMargin+n.fontSize,n.textAlign=="left"||i.barcodePadding>0?(o=0,a.setAttribute("text-anchor","start")):n.textAlign=="right"?(o=i.width-1,a.setAttribute("text-anchor","end")):(o=i.width/2,a.setAttribute("text-anchor","middle")),a.setAttribute("x",o),a.setAttribute("y",l),a.appendChild(this.document.createTextNode(i.text)),r.appendChild(a)}}},{key:"setSvgAttributes",value:function(r,n){var i=this.svg;i.setAttribute("width",r+"px"),i.setAttribute("height",n+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+r+" "+n),i.setAttribute("xmlns",xb),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(r,n,i){var a=this.document.createElementNS(xb,"g");return a.setAttribute("transform","translate("+r+", "+n+")"),i.appendChild(a),a}},{key:"setGroupOptions",value:function(r,n){r.setAttribute("style","fill:"+n.lineColor+";")}},{key:"drawRect",value:function(r,n,i,a,o){var l=this.document.createElementNS(xb,"rect");return l.setAttribute("x",r),l.setAttribute("y",n),l.setAttribute("width",i),l.setAttribute("height",a),o.appendChild(l),l}}]),e}();N6.default=K8e;var E6={};Object.defineProperty(E6,"__esModule",{value:!0});var Q8e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function Z8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var J8e=function(){function e(t,r,n){Z8e(this,e),this.object=t,this.encodings=r,this.options=n}return Q8e(e,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),e}();E6.default=J8e;Object.defineProperty(S6,"__esModule",{value:!0});var ePe=_6,tPe=A6(ePe),rPe=N6,nPe=A6(rPe),iPe=E6,aPe=A6(iPe);function A6(e){return e&&e.__esModule?e:{default:e}}S6.default={CanvasRenderer:tPe.default,SVGRenderer:nPe.default,ObjectRenderer:aPe.default};var lx={};Object.defineProperty(lx,"__esModule",{value:!0});function C6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j6(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function T6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var sPe=function(e){T6(t,e);function t(r,n){C6(this,t);var i=j6(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.name="InvalidInputException",i.symbology=r,i.input=n,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return t}(Error),oPe=function(e){T6(t,e);function t(){C6(this,t);var r=j6(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.name="InvalidElementException",r.message="Not supported type to render on",r}return t}(Error),lPe=function(e){T6(t,e);function t(){C6(this,t);var r=j6(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.name="NoElementException",r.message="No element to render on.",r}return t}(Error);lx.InvalidInputException=sPe;lx.InvalidElementException=oPe;lx.NoElementException=lPe;Object.defineProperty(w6,"__esModule",{value:!0});var cPe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uPe=b6,Ij=jG(uPe),dPe=S6,fv=jG(dPe),fPe=lx;function jG(e){return e&&e.__esModule?e:{default:e}}function O6(e){if(typeof e=="string")return hPe(e);if(Array.isArray(e)){for(var t=[],r=0;r<e.length;r++)t.push(O6(e[r]));return t}else{if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLImageElement)return pPe(e);if(e&&e.nodeName&&e.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&e instanceof SVGElement)return{element:e,options:(0,Ij.default)(e),renderer:fv.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement)return{element:e,options:(0,Ij.default)(e),renderer:fv.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:fv.default.CanvasRenderer};if(e&&(typeof e>"u"?"undefined":cPe(e))==="object"&&!e.nodeName)return{element:e,renderer:fv.default.ObjectRenderer};throw new fPe.InvalidElementException}}function hPe(e){var t=document.querySelectorAll(e);if(t.length!==0){for(var r=[],n=0;n<t.length;n++)r.push(O6(t[n]));return r}}function pPe(e){var t=document.createElement("canvas");return{element:t,options:(0,Ij.default)(e),renderer:fv.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",t.toDataURL())}}}w6.default=O6;var I6={};Object.defineProperty(I6,"__esModule",{value:!0});var mPe=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function gPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var xPe=function(){function e(t){gPe(this,e),this.api=t}return mPe(e,[{key:"handleCatch",value:function(r){if(r.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw r.message;else throw r;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(r){try{var n=r.apply(void 0,arguments);return this.api._options.valid(!0),n}catch(i){return this.handleCatch(i),this.api}}}]),e}();I6.default=xPe;var vPe=e6,fp=d0(vPe),yPe=ox,W2=d0(yPe),wPe=v6,TG=d0(wPe),bPe=y6,M7=d0(bPe),SPe=w6,_Pe=d0(SPe),NPe=q_,EPe=d0(NPe),APe=I6,CPe=d0(APe),OG=lx,jPe=G_,IG=d0(jPe);function d0(e){return e&&e.__esModule?e:{default:e}}var Xd=function(){},Y_=function(t,r,n){var i=new Xd;if(typeof t>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,_Pe.default)(t),i._encodings=[],i._options=IG.default,i._errorHandler=new CPe.default(i),typeof r<"u"&&(n=n||{},n.format||(n.format=kG()),i.options(n)[n.format](r,n).render()),i};Y_.getModule=function(e){return fp.default[e]};for(var D7 in fp.default)fp.default.hasOwnProperty(D7)&&TPe(fp.default,D7);function TPe(e,t){Xd.prototype[t]=Xd.prototype[t.toUpperCase()]=Xd.prototype[t.toLowerCase()]=function(r,n){var i=this;return i._errorHandler.wrapBarcodeCall(function(){n.text=typeof n.text>"u"?void 0:""+n.text;var a=(0,W2.default)(i._options,n);a=(0,EPe.default)(a);var o=e[t],l=PG(r,o,a);return i._encodings.push(l),i})}}function PG(e,t,r){e=""+e;var n=new t(e,r);if(!n.valid())throw new OG.InvalidInputException(n.constructor.name,e);var i=n.encode();i=(0,TG.default)(i);for(var a=0;a<i.length;a++)i[a].options=(0,W2.default)(r,i[a].options);return i}function kG(){return fp.default.CODE128?"CODE128":Object.keys(fp.default)[0]}Xd.prototype.options=function(e){return this._options=(0,W2.default)(this._options,e),this};Xd.prototype.blank=function(e){var t=new Array(e+1).join("0");return this._encodings.push({data:t}),this};Xd.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var e;for(var t in this._renderProperties){e=this._renderProperties[t];var r=(0,W2.default)(this._options,e.options);r.format=="auto"&&(r.format=kG()),this._errorHandler.wrapBarcodeCall(function(){var n=r.value,i=fp.default[r.format.toUpperCase()],a=PG(n,i,r);Pj(e,a,r)})}}};Xd.prototype.render=function(){if(!this._renderProperties)throw new OG.NoElementException;if(Array.isArray(this._renderProperties))for(var e=0;e<this._renderProperties.length;e++)Pj(this._renderProperties[e],this._encodings,this._options);else Pj(this._renderProperties,this._encodings,this._options);return this};Xd.prototype._defaults=IG.default;function Pj(e,t,r){t=(0,TG.default)(t);for(var n=0;n<t.length;n++)t[n].options=(0,W2.default)(r,t[n].options),(0,M7.default)(t[n].options);(0,M7.default)(r);var i=e.renderer,a=new i(e.element,t,r);a.render(),e.afterRender&&e.afterRender()}typeof window<"u"&&(window.JsBarcode=Y_);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(e,t){var r=[];return jQuery(this).each(function(){r.push(this)}),Y_(r,e,t)});var OPe=Y_;const H2=Zn(OPe),IPe=({value:e,displayValue:t=!0,text:r,fontSize:n=12,width:i=2,height:a=100,margin:o=10,background:l="#ffffff",lineColor:c="#000000",onGenerated:u})=>{const f=O.useRef(null);return O.useEffect(()=>{if(f.current&&e)try{H2(f.current,e,{format:"CODE128",displayValue:t,text:r||e,fontSize:n,width:i,height:a,margin:o,background:l,lineColor:c}),u&&f.current&&u(f.current)}catch(p){console.error("Barcode generation error:",p)}},[e,t,r,n,i,a,o,l,c,u]),s.jsx("canvas",{ref:f})},PPe=({value:e,itemName:t,printLabel:r="Print Barcode",onPrintComplete:n,...i})=>{const[a,o]=qe.useState(!1),l=O.useRef(null),c=()=>{if(!e)return;o(!0);const u=window.open("","_blank");if(!u){alert("Please allow popups for this website to print barcodes."),o(!1);return}u.document.write(`
      <html>
        <head>
          <title>Print Barcode - ${e}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 0;
              padding: 20px;
            }
            .barcode-container {
              display: inline-block;
              text-align: center;
              margin: 10px;
              padding: 15px;
              border: 1px dashed #ccc;
              page-break-inside: avoid;
            }
            .barcode-name {
              margin-top: 8px;
              font-weight: bold;
              font-size: 14px;
            }
            @media print {
              body {
                margin: 0;
                padding: 0;
              }
              .barcode-container {
                border: none;
              }
              .no-print {
                display: none;
              }
            }
          </style>
        </head>
        <body>
          <div class="no-print" style="margin-bottom: 20px; text-align: center;">
            <h2>Print Barcode</h2>
            <p>Click the Print button below or use Ctrl+P to print</p>
            <button onclick="window.print(); setTimeout(() => window.close(), 500);" 
              style="padding: 8px 16px; background: #4F46E5; color: white; border: none; border-radius: 4px; cursor: pointer;">
              Print
            </button>
          </div>
          <div class="barcode-container">
            <div id="barcode-placeholder"></div>
            ${t?`<div class="barcode-name">${t}</div>`:""}
          </div>
        </body>
      </html>
    `),u.document.close(),u.onload=()=>{const f=document.createElement("canvas"),p=u.document.getElementById("barcode-placeholder");p&&(H2(f,e,{format:"CODE128",displayValue:i.displayValue!==!1,text:i.text||e,fontSize:i.fontSize||14,width:i.width||2,height:i.height||100,margin:i.margin||10,background:i.background||"#ffffff",lineColor:i.lineColor||"#000000"}),p.appendChild(f),u.addEventListener("afterprint",()=>{u.close(),o(!1),n&&n()}),setTimeout(()=>{o(!1),n&&n()},3e3))}};return s.jsxs("div",{ref:l,className:"flex flex-col items-center",children:[s.jsx("div",{className:"mb-2",children:s.jsx(IPe,{value:e,...i})}),s.jsx(Ee,{onClick:c,size:"sm",variant:"outline",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}),"Printing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Op,{className:"mr-2 h-4 w-4"}),r]})})]})},kPe=({items:e,title:t="Print Barcodes",onPrintComplete:r})=>{const[n,i]=qe.useState(!1),a=()=>{if(!e||e.length===0)return;i(!0);const o=window.open("","_blank");if(!o){alert("Please allow popups for this website to print barcodes."),i(!1);return}o.document.write(`
      <html>
        <head>
          <title>${t}</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 0;
              padding: 20px;
            }
            .page-header {
              text-align: center;
              margin-bottom: 20px;
            }
            .barcodes-container {
              display: flex;
              flex-wrap: wrap;
              justify-content: flex-start;
            }
            .barcode-container {
              display: inline-block;
              text-align: center;
              margin: 10px;
              padding: 15px;
              border: 1px dashed #ccc;
              page-break-inside: avoid;
            }
            .barcode-name {
              margin-top: 8px;
              font-weight: bold;
              font-size: 14px;
            }
            @media print {
              body {
                margin: 0;
                padding: 10px;
              }
              .barcode-container {
                border: none;
              }
              .no-print {
                display: none;
              }
            }
          </style>
        </head>
        <body>
          <div class="no-print page-header">
            <h2>${t}</h2>
            <p>Click the Print button below or use Ctrl+P to print</p>
            <button onclick="window.print(); setTimeout(() => window.close(), 500);" 
              style="padding: 8px 16px; background: #4F46E5; color: white; border: none; border-radius: 4px; cursor: pointer;">
              Print
            </button>
          </div>
          <div class="barcodes-container">
            ${e.map(l=>`
              <div class="barcode-container">
                <div id="barcode-placeholder-${l.value}"></div>
                ${l.name?`<div class="barcode-name">${l.name}</div>`:""}
              </div>
            `).join("")}
          </div>
        </body>
      </html>
    `),o.document.close(),o.onload=()=>{e.forEach(l=>{const c=document.createElement("canvas"),u=o.document.getElementById(`barcode-placeholder-${l.value}`);u&&(H2(c,l.value,{format:"CODE128",displayValue:!0,fontSize:14,width:2,height:80,margin:10}),u.appendChild(c))}),o.addEventListener("afterprint",()=>{o.close(),i(!1),r&&r()}),setTimeout(()=>{i(!1),r&&r()},3e3)}};return s.jsx(Ee,{onClick:a,disabled:n||e.length===0,className:"w-full",children:n?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}),"Printing ",e.length," Barcodes..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Op,{className:"mr-2 h-4 w-4"}),"Print ",e.length," Barcodes"]})})};function L5({onCodeDetected:e,onClose:t}){const r=O.useRef(null),[n,i]=O.useState(!1),[a,o]=O.useState(null),l=async()=>{try{console.log("Starting camera stream...");const f=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});r.current&&(r.current.srcObject=f,r.current.play(),o(f),i(!0),console.log("Camera started successfully"))}catch(f){console.error("Camera error:",f);const p=prompt("Camera not available. Please enter barcode manually:");p&&(e(p),t())}},c=()=>{a&&(a.getTracks().forEach(f=>f.stop()),o(null)),r.current&&(r.current.srcObject=null),i(!1)};O.useEffect(()=>(l(),()=>{c()}),[]);const u=()=>{const f=prompt("Enter barcode manually:");f&&(e(f),t())};return s.jsxs(Pt,{className:"w-full max-w-md mx-auto",children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsxs(Yt,{className:"flex items-center gap-2",children:[s.jsx(oM,{className:"h-5 w-5"}),"Barcode Scanner"]}),s.jsx(Ee,{variant:"ghost",size:"icon",onClick:t,children:s.jsx(Yo,{className:"h-4 w-4"})})]}),s.jsxs(zt,{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("video",{ref:r,className:"w-full h-64 bg-black rounded-md",autoPlay:!0,playsInline:!0,muted:!0}),n&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:s.jsx("div",{className:"border-2 border-red-500 w-48 h-32 bg-transparent opacity-60"})}),!n&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 rounded-md",children:s.jsxs("div",{className:"text-center",children:[s.jsx(oM,{className:"h-8 w-8 mx-auto mb-2 text-gray-400"}),s.jsx("div",{className:"text-sm text-gray-500",children:"Starting camera..."})]})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ee,{onClick:u,variant:"outline",className:"flex-1",children:"Enter Manually"}),s.jsx(Ee,{onClick:()=>{c(),t()},variant:"outline",className:"flex-1",children:"Close"})]}),s.jsx("div",{className:"text-xs text-center text-muted-foreground",children:"Point camera at barcode, then enter the code manually when prompted"})]})]})}function kj(e,[t,r]){return Math.min(r,Math.max(t,e))}var MPe=O.createContext(void 0);function X_(e){const t=O.useContext(MPe);return e||t||"ltr"}const DPe=["top","right","bottom","left"],zh=Math.min,El=Math.max,R5=Math.round,vb=Math.floor,Qu=e=>({x:e,y:e}),LPe={left:"right",right:"left",bottom:"top",top:"bottom"},RPe={start:"end",end:"start"};function Mj(e,t,r){return El(e,zh(t,r))}function uf(e,t){return typeof e=="function"?e(t):e}function df(e){return e.split("-")[0]}function cx(e){return e.split("-")[1]}function P6(e){return e==="x"?"y":"x"}function k6(e){return e==="y"?"height":"width"}function Vh(e){return["top","bottom"].includes(df(e))?"y":"x"}function M6(e){return P6(Vh(e))}function FPe(e,t,r){r===void 0&&(r=!1);const n=cx(e),i=M6(e),a=k6(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=F5(o)),[o,F5(o)]}function BPe(e){const t=F5(e);return[Dj(e),t,Dj(t)]}function Dj(e){return e.replace(/start|end/g,t=>RPe[t])}function $Pe(e,t,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?a:o;default:return[]}}function UPe(e,t,r,n){const i=cx(e);let a=$Pe(df(e),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(Dj)))),a}function F5(e){return e.replace(/left|right|bottom|top/g,t=>LPe[t])}function zPe(e){return{top:0,right:0,bottom:0,left:0,...e}}function MG(e){return typeof e!="number"?zPe(e):{top:e,right:e,bottom:e,left:e}}function B5(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function L7(e,t,r){let{reference:n,floating:i}=e;const a=Vh(t),o=M6(t),l=k6(o),c=df(t),u=a==="y",f=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,g=n[l]/2-i[l]/2;let x;switch(c){case"top":x={x:f,y:n.y-i.height};break;case"bottom":x={x:f,y:n.y+n.height};break;case"right":x={x:n.x+n.width,y:p};break;case"left":x={x:n.x-i.width,y:p};break;default:x={x:n.x,y:n.y}}switch(cx(t)){case"start":x[o]-=g*(r&&u?-1:1);break;case"end":x[o]+=g*(r&&u?-1:1);break}return x}const VPe=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:p}=L7(u,n,c),g=n,x={},b=0;for(let y=0;y<l.length;y++){const{name:_,fn:N}=l[y],{x:E,y:C,data:I,reset:P}=await N({x:f,y:p,initialPlacement:n,placement:g,strategy:i,middlewareData:x,rects:u,platform:o,elements:{reference:e,floating:t}});f=E??f,p=C??p,x={...x,[_]:{...x[_],...I}},P&&b<=50&&(b++,typeof P=="object"&&(P.placement&&(g=P.placement),P.rects&&(u=P.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):P.rects),{x:f,y:p}=L7(u,g,c)),y=-1)}return{x:f,y:p,placement:g,strategy:i,middlewareData:x}};async function Gy(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:x=0}=uf(t,e),b=MG(x),_=l[g?p==="floating"?"reference":"floating":p],N=B5(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(_)))==null||r?_:_.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),E=p==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),I=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},P=B5(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:E,offsetParent:C,strategy:c}):E);return{top:(N.top-P.top+b.top)/I.y,bottom:(P.bottom-N.bottom+b.bottom)/I.y,left:(N.left-P.left+b.left)/I.x,right:(P.right-N.right+b.right)/I.x}}const WPe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=uf(e,t)||{};if(u==null)return{};const p=MG(f),g={x:r,y:n},x=M6(i),b=k6(x),y=await o.getDimensions(u),_=x==="y",N=_?"top":"left",E=_?"bottom":"right",C=_?"clientHeight":"clientWidth",I=a.reference[b]+a.reference[x]-g[x]-a.floating[b],P=g[x]-a.reference[x],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=D?D[C]:0;(!k||!await(o.isElement==null?void 0:o.isElement(D)))&&(k=l.floating[C]||a.floating[b]);const L=I/2-P/2,B=k/2-y[b]/2-1,G=zh(p[N],B),F=zh(p[E],B),U=G,q=k-y[b]-F,K=k/2-y[b]/2+L,V=Mj(U,K,q),ee=!c.arrow&&cx(i)!=null&&K!==V&&a.reference[b]/2-(K<U?G:F)-y[b]/2<0,te=ee?K<U?K-U:K-q:0;return{[x]:g[x]+te,data:{[x]:V,centerOffset:K-V-te,...ee&&{alignmentOffset:te}},reset:ee}}}),HPe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,..._}=uf(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const N=df(i),E=Vh(l),C=df(l)===l,I=await(c.isRTL==null?void 0:c.isRTL(u.floating)),P=g||(C||!y?[F5(l)]:BPe(l)),D=b!=="none";!g&&D&&P.push(...UPe(l,y,b,I));const k=[l,...P],L=await Gy(t,_),B=[];let G=((n=a.flip)==null?void 0:n.overflows)||[];if(f&&B.push(L[N]),p){const K=FPe(i,o,I);B.push(L[K[0]],L[K[1]])}if(G=[...G,{placement:i,overflows:B}],!B.every(K=>K<=0)){var F,U;const K=(((F=a.flip)==null?void 0:F.index)||0)+1,V=k[K];if(V)return{data:{index:K,overflows:G},reset:{placement:V}};let ee=(U=G.filter(te=>te.overflows[0]<=0).sort((te,J)=>te.overflows[1]-J.overflows[1])[0])==null?void 0:U.placement;if(!ee)switch(x){case"bestFit":{var q;const te=(q=G.filter(J=>{if(D){const ge=Vh(J.placement);return ge===E||ge==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(ge=>ge>0).reduce((ge,Ie)=>ge+Ie,0)]).sort((J,ge)=>J[1]-ge[1])[0])==null?void 0:q[0];te&&(ee=te);break}case"initialPlacement":ee=l;break}if(i!==ee)return{reset:{placement:ee}}}return{}}}};function R7(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function F7(e){return DPe.some(t=>e[t]>=0)}const qPe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=uf(e,t);switch(n){case"referenceHidden":{const a=await Gy(t,{...i,elementContext:"reference"}),o=R7(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:F7(o)}}}case"escaped":{const a=await Gy(t,{...i,altBoundary:!0}),o=R7(a,r.floating);return{data:{escapedOffsets:o,escaped:F7(o)}}}default:return{}}}}};async function GPe(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=df(r),l=cx(r),c=Vh(r)==="y",u=["left","top"].includes(o)?-1:1,f=a&&c?-1:1,p=uf(t,e);let{mainAxis:g,crossAxis:x,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof b=="number"&&(x=l==="end"?b*-1:b),c?{x:x*f,y:g*u}:{x:g*u,y:x*f}}const YPe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await GPe(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},XPe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:_=>{let{x:N,y:E}=_;return{x:N,y:E}}},...c}=uf(e,t),u={x:r,y:n},f=await Gy(t,c),p=Vh(df(i)),g=P6(p);let x=u[g],b=u[p];if(a){const _=g==="y"?"top":"left",N=g==="y"?"bottom":"right",E=x+f[_],C=x-f[N];x=Mj(E,x,C)}if(o){const _=p==="y"?"top":"left",N=p==="y"?"bottom":"right",E=b+f[_],C=b-f[N];b=Mj(E,b,C)}const y=l.fn({...t,[g]:x,[p]:b});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[g]:a,[p]:o}}}}}},KPe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=uf(e,t),f={x:r,y:n},p=Vh(i),g=P6(p);let x=f[g],b=f[p];const y=uf(l,t),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const C=g==="y"?"height":"width",I=a.reference[g]-a.floating[C]+_.mainAxis,P=a.reference[g]+a.reference[C]-_.mainAxis;x<I?x=I:x>P&&(x=P)}if(u){var N,E;const C=g==="y"?"width":"height",I=["top","left"].includes(df(i)),P=a.reference[p]-a.floating[C]+(I&&((N=o.offset)==null?void 0:N[p])||0)+(I?0:_.crossAxis),D=a.reference[p]+a.reference[C]+(I?0:((E=o.offset)==null?void 0:E[p])||0)-(I?_.crossAxis:0);b<P?b=P:b>D&&(b=D)}return{[g]:x,[p]:b}}}},QPe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=uf(e,t),f=await Gy(t,u),p=df(i),g=cx(i),x=Vh(i)==="y",{width:b,height:y}=a.floating;let _,N;p==="top"||p==="bottom"?(_=p,N=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=p,_=g==="end"?"top":"bottom");const E=y-f.top-f.bottom,C=b-f.left-f.right,I=zh(y-f[_],E),P=zh(b-f[N],C),D=!t.middlewareData.shift;let k=I,L=P;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(L=C),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=E),D&&!g){const G=El(f.left,0),F=El(f.right,0),U=El(f.top,0),q=El(f.bottom,0);x?L=b-2*(G!==0||F!==0?G+F:El(f.left,f.right)):k=y-2*(U!==0||q!==0?U+q:El(f.top,f.bottom))}await c({...t,availableWidth:L,availableHeight:k});const B=await o.getDimensions(l.floating);return b!==B.width||y!==B.height?{reset:{rects:!0}}:{}}}};function K_(){return typeof window<"u"}function ux(e){return DG(e)?(e.nodeName||"").toLowerCase():"#document"}function Rl(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function dd(e){var t;return(t=(DG(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function DG(e){return K_()?e instanceof Node||e instanceof Rl(e).Node:!1}function cu(e){return K_()?e instanceof Element||e instanceof Rl(e).Element:!1}function id(e){return K_()?e instanceof HTMLElement||e instanceof Rl(e).HTMLElement:!1}function B7(e){return!K_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Rl(e).ShadowRoot}function q2(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=uu(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function ZPe(e){return["table","td","th"].includes(ux(e))}function Q_(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function D6(e){const t=L6(),r=cu(e)?uu(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function JPe(e){let t=Wh(e);for(;id(t)&&!Cg(t);){if(D6(t))return t;if(Q_(t))return null;t=Wh(t)}return null}function L6(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Cg(e){return["html","body","#document"].includes(ux(e))}function uu(e){return Rl(e).getComputedStyle(e)}function Z_(e){return cu(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wh(e){if(ux(e)==="html")return e;const t=e.assignedSlot||e.parentNode||B7(e)&&e.host||dd(e);return B7(t)?t.host:t}function LG(e){const t=Wh(e);return Cg(t)?e.ownerDocument?e.ownerDocument.body:e.body:id(t)&&q2(t)?t:LG(t)}function Yy(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=LG(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),o=Rl(i);if(a){const l=Lj(o);return t.concat(o,o.visualViewport||[],q2(i)?i:[],l&&r?Yy(l):[])}return t.concat(i,Yy(i,[],r))}function Lj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function RG(e){const t=uu(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=id(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,l=R5(r)!==a||R5(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function R6(e){return cu(e)?e:e.contextElement}function bm(e){const t=R6(e);if(!id(t))return Qu(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=RG(t);let o=(a?R5(r.width):r.width)/n,l=(a?R5(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const eke=Qu(0);function FG(e){const t=Rl(e);return!L6()||!t.visualViewport?eke:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function tke(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Rl(e)?!1:t}function Rp(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=R6(e);let o=Qu(1);t&&(n?cu(n)&&(o=bm(n)):o=bm(e));const l=tke(a,r,n)?FG(a):Qu(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,f=i.width/o.x,p=i.height/o.y;if(a){const g=Rl(a),x=n&&cu(n)?Rl(n):n;let b=g,y=Lj(b);for(;y&&n&&x!==b;){const _=bm(y),N=y.getBoundingClientRect(),E=uu(y),C=N.left+(y.clientLeft+parseFloat(E.paddingLeft))*_.x,I=N.top+(y.clientTop+parseFloat(E.paddingTop))*_.y;c*=_.x,u*=_.y,f*=_.x,p*=_.y,c+=C,u+=I,b=Rl(y),y=Lj(b)}}return B5({width:f,height:p,x:c,y:u})}function F6(e,t){const r=Z_(e).scrollLeft;return t?t.left+r:Rp(dd(e)).left+r}function BG(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:F6(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function rke(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",o=dd(n),l=t?Q_(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Qu(1);const f=Qu(0),p=id(n);if((p||!p&&!a)&&((ux(n)!=="body"||q2(o))&&(c=Z_(n)),id(n))){const x=Rp(n);u=bm(n),f.x=x.x+n.clientLeft,f.y=x.y+n.clientTop}const g=o&&!p&&!a?BG(o,c,!0):Qu(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+g.x,y:r.y*u.y-c.scrollTop*u.y+f.y+g.y}}function nke(e){return Array.from(e.getClientRects())}function ike(e){const t=dd(e),r=Z_(e),n=e.ownerDocument.body,i=El(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=El(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+F6(e);const l=-r.scrollTop;return uu(n).direction==="rtl"&&(o+=El(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:l}}function ake(e,t){const r=Rl(e),n=dd(e),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=L6();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}function ske(e,t){const r=Rp(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=id(e)?bm(e):Qu(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function $7(e,t,r){let n;if(t==="viewport")n=ake(e,r);else if(t==="document")n=ike(dd(e));else if(cu(t))n=ske(t,r);else{const i=FG(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return B5(n)}function $G(e,t){const r=Wh(e);return r===t||!cu(r)||Cg(r)?!1:uu(r).position==="fixed"||$G(r,t)}function oke(e,t){const r=t.get(e);if(r)return r;let n=Yy(e,[],!1).filter(l=>cu(l)&&ux(l)!=="body"),i=null;const a=uu(e).position==="fixed";let o=a?Wh(e):e;for(;cu(o)&&!Cg(o);){const l=uu(o),c=D6(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||q2(o)&&!c&&$G(e,o))?n=n.filter(f=>f!==o):i=l,o=Wh(o)}return t.set(e,n),n}function lke(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?Q_(t)?[]:oke(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,f)=>{const p=$7(t,f,i);return u.top=El(p.top,u.top),u.right=zh(p.right,u.right),u.bottom=zh(p.bottom,u.bottom),u.left=El(p.left,u.left),u},$7(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function cke(e){const{width:t,height:r}=RG(e);return{width:t,height:r}}function uke(e,t,r){const n=id(t),i=dd(t),a=r==="fixed",o=Rp(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Qu(0);if(n||!n&&!a)if((ux(t)!=="body"||q2(i))&&(l=Z_(t)),n){const g=Rp(t,!0,a,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else i&&(c.x=F6(i));const u=i&&!n&&!a?BG(i,l):Qu(0),f=o.left+l.scrollLeft-c.x-u.x,p=o.top+l.scrollTop-c.y-u.y;return{x:f,y:p,width:o.width,height:o.height}}function pA(e){return uu(e).position==="static"}function U7(e,t){if(!id(e)||uu(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return dd(e)===r&&(r=r.ownerDocument.body),r}function UG(e,t){const r=Rl(e);if(Q_(e))return r;if(!id(e)){let i=Wh(e);for(;i&&!Cg(i);){if(cu(i)&&!pA(i))return i;i=Wh(i)}return r}let n=U7(e,t);for(;n&&ZPe(n)&&pA(n);)n=U7(n,t);return n&&Cg(n)&&pA(n)&&!D6(n)?r:n||JPe(e)||r}const dke=async function(e){const t=this.getOffsetParent||UG,r=this.getDimensions,n=await r(e.floating);return{reference:uke(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function fke(e){return uu(e).direction==="rtl"}const hke={convertOffsetParentRelativeRectToViewportRelativeRect:rke,getDocumentElement:dd,getClippingRect:lke,getOffsetParent:UG,getElementRects:dke,getClientRects:nke,getDimensions:cke,getScale:bm,isElement:cu,isRTL:fke};function pke(e,t){let r=null,n;const i=dd(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:f,width:p,height:g}=e.getBoundingClientRect();if(l||t(),!p||!g)return;const x=vb(f),b=vb(i.clientWidth-(u+p)),y=vb(i.clientHeight-(f+g)),_=vb(u),E={rootMargin:-x+"px "+-b+"px "+-y+"px "+-_+"px",threshold:El(0,zh(1,c))||1};let C=!0;function I(P){const D=P[0].intersectionRatio;if(D!==c){if(!C)return o();D?o(!1,D):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C=!1}try{r=new IntersectionObserver(I,{...E,root:i.ownerDocument})}catch{r=new IntersectionObserver(I,E)}r.observe(e)}return o(!0),a}function mke(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=R6(e),f=i||a?[...u?Yy(u):[],...Yy(t)]:[];f.forEach(N=>{i&&N.addEventListener("scroll",r,{passive:!0}),a&&N.addEventListener("resize",r)});const p=u&&l?pke(u,r):null;let g=-1,x=null;o&&(x=new ResizeObserver(N=>{let[E]=N;E&&E.target===u&&x&&(x.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=x)==null||C.observe(t)})),r()}),u&&!c&&x.observe(u),x.observe(t));let b,y=c?Rp(e):null;c&&_();function _(){const N=Rp(e);y&&(N.x!==y.x||N.y!==y.y||N.width!==y.width||N.height!==y.height)&&r(),y=N,b=requestAnimationFrame(_)}return r(),()=>{var N;f.forEach(E=>{i&&E.removeEventListener("scroll",r),a&&E.removeEventListener("resize",r)}),p==null||p(),(N=x)==null||N.disconnect(),x=null,c&&cancelAnimationFrame(b)}}const gke=YPe,xke=XPe,vke=HPe,yke=QPe,wke=qPe,z7=WPe,bke=KPe,Ske=(e,t,r)=>{const n=new Map,i={platform:hke,...r},a={...i.platform,_c:n};return VPe(e,t,{...i,platform:a})};var Kb=typeof document<"u"?O.useLayoutEffect:O.useEffect;function $5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!$5(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!$5(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function zG(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function V7(e,t){const r=zG(e);return Math.round(t*r)/r}function mA(e){const t=O.useRef(e);return Kb(()=>{t.current=e}),t}function _ke(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,p]=O.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,x]=O.useState(n);$5(g,n)||x(n);const[b,y]=O.useState(null),[_,N]=O.useState(null),E=O.useCallback(J=>{J!==D.current&&(D.current=J,y(J))},[]),C=O.useCallback(J=>{J!==k.current&&(k.current=J,N(J))},[]),I=a||b,P=o||_,D=O.useRef(null),k=O.useRef(null),L=O.useRef(f),B=c!=null,G=mA(c),F=mA(i),U=mA(u),q=O.useCallback(()=>{if(!D.current||!k.current)return;const J={placement:t,strategy:r,middleware:g};F.current&&(J.platform=F.current),Ske(D.current,k.current,J).then(ge=>{const Ie={...ge,isPositioned:U.current!==!1};K.current&&!$5(L.current,Ie)&&(L.current=Ie,Gp.flushSync(()=>{p(Ie)}))})},[g,t,r,F,U]);Kb(()=>{u===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,p(J=>({...J,isPositioned:!1})))},[u]);const K=O.useRef(!1);Kb(()=>(K.current=!0,()=>{K.current=!1}),[]),Kb(()=>{if(I&&(D.current=I),P&&(k.current=P),I&&P){if(G.current)return G.current(I,P,q);q()}},[I,P,q,G,B]);const V=O.useMemo(()=>({reference:D,floating:k,setReference:E,setFloating:C}),[E,C]),ee=O.useMemo(()=>({reference:I,floating:P}),[I,P]),te=O.useMemo(()=>{const J={position:r,left:0,top:0};if(!ee.floating)return J;const ge=V7(ee.floating,f.x),Ie=V7(ee.floating,f.y);return l?{...J,transform:"translate("+ge+"px, "+Ie+"px)",...zG(ee.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ge,top:Ie}},[r,l,ee.floating,f.x,f.y]);return O.useMemo(()=>({...f,update:q,refs:V,elements:ee,floatingStyles:te}),[f,q,V,ee,te])}const Nke=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?z7({element:n.current,padding:i}).fn(r):{}:n?z7({element:n,padding:i}).fn(r):{}}}},Eke=(e,t)=>({...gke(e),options:[e,t]}),Ake=(e,t)=>({...xke(e),options:[e,t]}),Cke=(e,t)=>({...bke(e),options:[e,t]}),jke=(e,t)=>({...vke(e),options:[e,t]}),Tke=(e,t)=>({...yke(e),options:[e,t]}),Oke=(e,t)=>({...wke(e),options:[e,t]}),Ike=(e,t)=>({...Nke(e),options:[e,t]});var Pke="Arrow",VG=O.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return s.jsx(Wr.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});VG.displayName=Pke;var kke=VG;function Mke(e,t=[]){let r=[];function n(a,o){const l=O.createContext(o),c=r.length;r=[...r,o];function u(p){const{scope:g,children:x,...b}=p,y=(g==null?void 0:g[e][c])||l,_=O.useMemo(()=>b,Object.values(b));return s.jsx(y.Provider,{value:_,children:x})}function f(p,g){const x=(g==null?void 0:g[e][c])||l,b=O.useContext(x);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,f]}const i=()=>{const a=r.map(o=>O.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return O.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,Dke(i,...t)]}function Dke(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const p=c(a)[`__scope${u}`];return{...l,...p}},{});return O.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function B6(e){const[t,r]=O.useState(void 0);return js(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var $6="Popper",[WG,dx]=Mke($6),[Lke,HG]=WG($6),qG=e=>{const{__scopePopper:t,children:r}=e,[n,i]=O.useState(null);return s.jsx(Lke,{scope:t,anchor:n,onAnchorChange:i,children:r})};qG.displayName=$6;var GG="PopperAnchor",YG=O.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=HG(GG,r),o=O.useRef(null),l=kn(t,o);return O.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(Wr.div,{...i,ref:l})});YG.displayName=GG;var U6="PopperContent",[Rke,Fke]=WG(U6),XG=O.forwardRef((e,t)=>{var Ne,Ae,ve,xe,Le,Se;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:b,...y}=e,_=HG(U6,r),[N,E]=O.useState(null),C=kn(t,ye=>E(ye)),[I,P]=O.useState(null),D=B6(I),k=(D==null?void 0:D.width)??0,L=(D==null?void 0:D.height)??0,B=n+(a!=="center"?"-"+a:""),G=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},F=Array.isArray(u)?u:[u],U=F.length>0,q={padding:G,boundary:F.filter($ke),altBoundary:U},{refs:K,floatingStyles:V,placement:ee,isPositioned:te,middlewareData:J}=_ke({strategy:"fixed",placement:B,whileElementsMounted:(...ye)=>mke(...ye,{animationFrame:x==="always"}),elements:{reference:_.anchor},middleware:[Eke({mainAxis:i+L,alignmentAxis:o}),c&&Ake({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Cke():void 0,...q}),c&&jke({...q}),Tke({...q,apply:({elements:ye,rects:We,availableWidth:Ye,availableHeight:we})=>{const{width:Pe,height:ce}=We.reference,Ce=ye.floating.style;Ce.setProperty("--radix-popper-available-width",`${Ye}px`),Ce.setProperty("--radix-popper-available-height",`${we}px`),Ce.setProperty("--radix-popper-anchor-width",`${Pe}px`),Ce.setProperty("--radix-popper-anchor-height",`${ce}px`)}}),I&&Ike({element:I,padding:l}),Uke({arrowWidth:k,arrowHeight:L}),g&&Oke({strategy:"referenceHidden",...q})]}),[ge,Ie]=ZG(ee),Ge=Wa(b);js(()=>{te&&(Ge==null||Ge())},[te,Ge]);const W=(Ne=J.arrow)==null?void 0:Ne.x,Q=(Ae=J.arrow)==null?void 0:Ae.y,Z=((ve=J.arrow)==null?void 0:ve.centerOffset)!==0,[re,le]=O.useState();return js(()=>{N&&le(window.getComputedStyle(N).zIndex)},[N]),s.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:te?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[(xe=J.transformOrigin)==null?void 0:xe.x,(Le=J.transformOrigin)==null?void 0:Le.y].join(" "),...((Se=J.hide)==null?void 0:Se.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Rke,{scope:r,placedSide:ge,onArrowChange:P,arrowX:W,arrowY:Q,shouldHideArrow:Z,children:s.jsx(Wr.div,{"data-side":ge,"data-align":Ie,...y,ref:C,style:{...y.style,animation:te?void 0:"none"}})})})});XG.displayName=U6;var KG="PopperArrow",Bke={top:"bottom",right:"left",bottom:"top",left:"right"},QG=O.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=Fke(KG,n),o=Bke[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(kke,{...i,ref:r,style:{...i.style,display:"block"}})})});QG.displayName=KG;function $ke(e){return e!==null}var Uke=e=>({name:"transformOrigin",options:e,fn(t){var _,N,E;const{placement:r,rects:n,middlewareData:i}=t,o=((_=i.arrow)==null?void 0:_.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=ZG(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(((N=i.arrow)==null?void 0:N.x)??0)+l/2,x=(((E=i.arrow)==null?void 0:E.y)??0)+c/2;let b="",y="";return u==="bottom"?(b=o?p:`${g}px`,y=`${-c}px`):u==="top"?(b=o?p:`${g}px`,y=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,y=o?p:`${x}px`):u==="left"&&(b=`${n.floating.width+c}px`,y=o?p:`${x}px`),{data:{x:b,y}}}});function ZG(e){const[t,r="center"]=e.split("-");return[t,r]}var z6=qG,J_=YG,V6=XG,W6=QG;function H6(e){const t=O.useRef({value:e,previous:e});return O.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var zke=[" ","Enter","ArrowUp","ArrowDown"],Vke=[" ","Enter"],G2="Select",[eN,tN,Wke]=CO(G2),[fx,WXe]=pu(G2,[Wke,dx]),rN=dx(),[Hke,f0]=fx(G2),[qke,Gke]=fx(G2),JG=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:p,disabled:g,required:x,form:b}=e,y=rN(t),[_,N]=O.useState(null),[E,C]=O.useState(null),[I,P]=O.useState(!1),D=X_(u),[k=!1,L]=lu({prop:n,defaultProp:i,onChange:a}),[B,G]=lu({prop:o,defaultProp:l,onChange:c}),F=O.useRef(null),U=_?b||!!_.closest("form"):!0,[q,K]=O.useState(new Set),V=Array.from(q).map(ee=>ee.props.value).join(";");return s.jsx(z6,{...y,children:s.jsxs(Hke,{required:x,scope:t,trigger:_,onTriggerChange:N,valueNode:E,onValueNodeChange:C,valueNodeHasChildren:I,onValueNodeHasChildrenChange:P,contentId:iu(),value:B,onValueChange:G,open:k,onOpenChange:L,dir:D,triggerPointerDownPosRef:F,disabled:g,children:[s.jsx(eN.Provider,{scope:t,children:s.jsx(qke,{scope:e.__scopeSelect,onNativeOptionAdd:O.useCallback(ee=>{K(te=>new Set(te).add(ee))},[]),onNativeOptionRemove:O.useCallback(ee=>{K(te=>{const J=new Set(te);return J.delete(ee),J})},[]),children:r})}),U?s.jsxs(NY,{"aria-hidden":!0,required:x,tabIndex:-1,name:f,autoComplete:p,value:B,onChange:ee=>G(ee.target.value),disabled:g,form:b,children:[B===void 0?s.jsx("option",{value:""}):null,Array.from(q)]},V):null]})})};JG.displayName=G2;var eY="SelectTrigger",tY=O.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=rN(r),o=f0(eY,r),l=o.disabled||n,c=kn(t,o.onTriggerChange),u=tN(r),f=O.useRef("touch"),[p,g,x]=EY(y=>{const _=u().filter(C=>!C.disabled),N=_.find(C=>C.value===o.value),E=AY(_,y,N);E!==void 0&&o.onValueChange(E.value)}),b=y=>{l||(o.onOpenChange(!0),x()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return s.jsx(J_,{asChild:!0,...a,children:s.jsx(Wr.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":_Y(o.value)?"":void 0,...i,ref:c,onClick:Nr(i.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&b(y)}),onPointerDown:Nr(i.onPointerDown,y=>{f.current=y.pointerType;const _=y.target;_.hasPointerCapture(y.pointerId)&&_.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(b(y),y.preventDefault())}),onKeyDown:Nr(i.onKeyDown,y=>{const _=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(_&&y.key===" ")&&zke.includes(y.key)&&(b(),y.preventDefault())})})})});tY.displayName=eY;var rY="SelectValue",nY=O.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...l}=e,c=f0(rY,r),{onValueNodeHasChildrenChange:u}=c,f=a!==void 0,p=kn(t,c.onValueNodeChange);return js(()=>{u(f)},[u,f]),s.jsx(Wr.span,{...l,ref:p,style:{pointerEvents:"none"},children:_Y(c.value)?s.jsx(s.Fragment,{children:o}):a})});nY.displayName=rY;var Yke="SelectIcon",iY=O.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return s.jsx(Wr.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});iY.displayName=Yke;var Xke="SelectPortal",aY=e=>s.jsx(j2,{asChild:!0,...e});aY.displayName=Xke;var Fp="SelectContent",sY=O.forwardRef((e,t)=>{const r=f0(Fp,e.__scopeSelect),[n,i]=O.useState();if(js(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Gp.createPortal(s.jsx(oY,{scope:e.__scopeSelect,children:s.jsx(eN.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(lY,{...e,ref:t})});sY.displayName=Fp;var Rc=10,[oY,h0]=fx(Fp),Kke="SelectContentImpl",lY=O.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:x,sticky:b,hideWhenDetached:y,avoidCollisions:_,...N}=e,E=f0(Fp,r),[C,I]=O.useState(null),[P,D]=O.useState(null),k=kn(t,Ne=>I(Ne)),[L,B]=O.useState(null),[G,F]=O.useState(null),U=tN(r),[q,K]=O.useState(!1),V=O.useRef(!1);O.useEffect(()=>{if(C)return WI(C)},[C]),VI();const ee=O.useCallback(Ne=>{const[Ae,...ve]=U().map(Se=>Se.ref.current),[xe]=ve.slice(-1),Le=document.activeElement;for(const Se of Ne)if(Se===Le||(Se==null||Se.scrollIntoView({block:"nearest"}),Se===Ae&&P&&(P.scrollTop=0),Se===xe&&P&&(P.scrollTop=P.scrollHeight),Se==null||Se.focus(),document.activeElement!==Le))return},[U,P]),te=O.useCallback(()=>ee([L,C]),[ee,L,C]);O.useEffect(()=>{q&&te()},[q,te]);const{onOpenChange:J,triggerPointerDownPosRef:ge}=E;O.useEffect(()=>{if(C){let Ne={x:0,y:0};const Ae=xe=>{var Le,Se;Ne={x:Math.abs(Math.round(xe.pageX)-(((Le=ge.current)==null?void 0:Le.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((Se=ge.current)==null?void 0:Se.y)??0))}},ve=xe=>{Ne.x<=10&&Ne.y<=10?xe.preventDefault():C.contains(xe.target)||J(!1),document.removeEventListener("pointermove",Ae),ge.current=null};return ge.current!==null&&(document.addEventListener("pointermove",Ae),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ae),document.removeEventListener("pointerup",ve,{capture:!0})}}},[C,J,ge]),O.useEffect(()=>{const Ne=()=>J(!1);return window.addEventListener("blur",Ne),window.addEventListener("resize",Ne),()=>{window.removeEventListener("blur",Ne),window.removeEventListener("resize",Ne)}},[J]);const[Ie,Ge]=EY(Ne=>{const Ae=U().filter(Le=>!Le.disabled),ve=Ae.find(Le=>Le.ref.current===document.activeElement),xe=AY(Ae,Ne,ve);xe&&setTimeout(()=>xe.ref.current.focus())}),W=O.useCallback((Ne,Ae,ve)=>{const xe=!V.current&&!ve;(E.value!==void 0&&E.value===Ae||xe)&&(B(Ne),xe&&(V.current=!0))},[E.value]),Q=O.useCallback(()=>C==null?void 0:C.focus(),[C]),Z=O.useCallback((Ne,Ae,ve)=>{const xe=!V.current&&!ve;(E.value!==void 0&&E.value===Ae||xe)&&F(Ne)},[E.value]),re=n==="popper"?Rj:cY,le=re===Rj?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:x,sticky:b,hideWhenDetached:y,avoidCollisions:_}:{};return s.jsx(oY,{scope:r,content:C,viewport:P,onViewportChange:D,itemRefCallback:W,selectedItem:L,onItemLeave:Q,itemTextRefCallback:Z,focusSelectedItem:te,selectedItemText:G,position:n,isPositioned:q,searchRef:Ie,children:s.jsx(R_,{as:af,allowPinchZoom:!0,children:s.jsx(D_,{asChild:!0,trapped:E.open,onMountAutoFocus:Ne=>{Ne.preventDefault()},onUnmountAutoFocus:Nr(i,Ne=>{var Ae;(Ae=E.trigger)==null||Ae.focus({preventScroll:!0}),Ne.preventDefault()}),children:s.jsx(Wg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:Ne=>Ne.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:s.jsx(re,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:Ne=>Ne.preventDefault(),...N,...le,onPlaced:()=>K(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:Nr(N.onKeyDown,Ne=>{const Ae=Ne.ctrlKey||Ne.altKey||Ne.metaKey;if(Ne.key==="Tab"&&Ne.preventDefault(),!Ae&&Ne.key.length===1&&Ge(Ne.key),["ArrowUp","ArrowDown","Home","End"].includes(Ne.key)){let xe=U().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);if(["ArrowUp","End"].includes(Ne.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ne.key)){const Le=Ne.target,Se=xe.indexOf(Le);xe=xe.slice(Se+1)}setTimeout(()=>ee(xe)),Ne.preventDefault()}})})})})})})});lY.displayName=Kke;var Qke="SelectItemAlignedPosition",cY=O.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=f0(Fp,r),o=h0(Fp,r),[l,c]=O.useState(null),[u,f]=O.useState(null),p=kn(t,k=>f(k)),g=tN(r),x=O.useRef(!1),b=O.useRef(!0),{viewport:y,selectedItem:_,selectedItemText:N,focusSelectedItem:E}=o,C=O.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&y&&_&&N){const k=a.trigger.getBoundingClientRect(),L=u.getBoundingClientRect(),B=a.valueNode.getBoundingClientRect(),G=N.getBoundingClientRect();if(a.dir!=="rtl"){const Le=G.left-L.left,Se=B.left-Le,ye=k.left-Se,We=k.width+ye,Ye=Math.max(We,L.width),we=window.innerWidth-Rc,Pe=kj(Se,[Rc,Math.max(Rc,we-Ye)]);l.style.minWidth=We+"px",l.style.left=Pe+"px"}else{const Le=L.right-G.right,Se=window.innerWidth-B.right-Le,ye=window.innerWidth-k.right-Se,We=k.width+ye,Ye=Math.max(We,L.width),we=window.innerWidth-Rc,Pe=kj(Se,[Rc,Math.max(Rc,we-Ye)]);l.style.minWidth=We+"px",l.style.right=Pe+"px"}const F=g(),U=window.innerHeight-Rc*2,q=y.scrollHeight,K=window.getComputedStyle(u),V=parseInt(K.borderTopWidth,10),ee=parseInt(K.paddingTop,10),te=parseInt(K.borderBottomWidth,10),J=parseInt(K.paddingBottom,10),ge=V+ee+q+J+te,Ie=Math.min(_.offsetHeight*5,ge),Ge=window.getComputedStyle(y),W=parseInt(Ge.paddingTop,10),Q=parseInt(Ge.paddingBottom,10),Z=k.top+k.height/2-Rc,re=U-Z,le=_.offsetHeight/2,Ne=_.offsetTop+le,Ae=V+ee+Ne,ve=ge-Ae;if(Ae<=Z){const Le=F.length>0&&_===F[F.length-1].ref.current;l.style.bottom="0px";const Se=u.clientHeight-y.offsetTop-y.offsetHeight,ye=Math.max(re,le+(Le?Q:0)+Se+te),We=Ae+ye;l.style.height=We+"px"}else{const Le=F.length>0&&_===F[0].ref.current;l.style.top="0px";const ye=Math.max(Z,V+y.offsetTop+(Le?W:0)+le)+ve;l.style.height=ye+"px",y.scrollTop=Ae-Z+y.offsetTop}l.style.margin=`${Rc}px 0`,l.style.minHeight=Ie+"px",l.style.maxHeight=U+"px",n==null||n(),requestAnimationFrame(()=>x.current=!0)}},[g,a.trigger,a.valueNode,l,u,y,_,N,a.dir,n]);js(()=>C(),[C]);const[I,P]=O.useState();js(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const D=O.useCallback(k=>{k&&b.current===!0&&(C(),E==null||E(),b.current=!1)},[C,E]);return s.jsx(Jke,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:D,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:s.jsx(Wr.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});cY.displayName=Qke;var Zke="SelectPopperPosition",Rj=O.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Rc,...a}=e,o=rN(r);return s.jsx(V6,{...o,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Rj.displayName=Zke;var[Jke,q6]=fx(Fp,{}),Fj="SelectViewport",uY=O.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=h0(Fj,r),o=q6(Fj,r),l=kn(t,a.onViewportChange),c=O.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(eN.Slot,{scope:r,children:s.jsx(Wr.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Nr(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&p){const x=Math.abs(c.current-f.scrollTop);if(x>0){const b=window.innerHeight-Rc*2,y=parseFloat(p.style.minHeight),_=parseFloat(p.style.height),N=Math.max(y,_);if(N<b){const E=N+x,C=Math.min(b,E),I=E-C;p.style.height=C+"px",p.style.bottom==="0px"&&(f.scrollTop=I>0?I:0,p.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});uY.displayName=Fj;var dY="SelectGroup",[eMe,tMe]=fx(dY),rMe=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=iu();return s.jsx(eMe,{scope:r,id:i,children:s.jsx(Wr.div,{role:"group","aria-labelledby":i,...n,ref:t})})});rMe.displayName=dY;var fY="SelectLabel",hY=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=tMe(fY,r);return s.jsx(Wr.div,{id:i.id,...n,ref:t})});hY.displayName=fY;var U5="SelectItem",[nMe,pY]=fx(U5),mY=O.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=e,l=f0(U5,r),c=h0(U5,r),u=l.value===n,[f,p]=O.useState(a??""),[g,x]=O.useState(!1),b=kn(t,E=>{var C;return(C=c.itemRefCallback)==null?void 0:C.call(c,E,n,i)}),y=iu(),_=O.useRef("touch"),N=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(nMe,{scope:r,value:n,disabled:i,textId:y,isSelected:u,onItemTextChange:O.useCallback(E=>{p(C=>C||((E==null?void 0:E.textContent)??"").trim())},[]),children:s.jsx(eN.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:s.jsx(Wr.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:b,onFocus:Nr(o.onFocus,()=>x(!0)),onBlur:Nr(o.onBlur,()=>x(!1)),onClick:Nr(o.onClick,()=>{_.current!=="mouse"&&N()}),onPointerUp:Nr(o.onPointerUp,()=>{_.current==="mouse"&&N()}),onPointerDown:Nr(o.onPointerDown,E=>{_.current=E.pointerType}),onPointerMove:Nr(o.onPointerMove,E=>{var C;_.current=E.pointerType,i?(C=c.onItemLeave)==null||C.call(c):_.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Nr(o.onPointerLeave,E=>{var C;E.currentTarget===document.activeElement&&((C=c.onItemLeave)==null||C.call(c))}),onKeyDown:Nr(o.onKeyDown,E=>{var I;((I=c.searchRef)==null?void 0:I.current)!==""&&E.key===" "||(Vke.includes(E.key)&&N(),E.key===" "&&E.preventDefault())})})})})});mY.displayName=U5;var hv="SelectItemText",gY=O.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,o=f0(hv,r),l=h0(hv,r),c=pY(hv,r),u=Gke(hv,r),[f,p]=O.useState(null),g=kn(t,N=>p(N),c.onItemTextChange,N=>{var E;return(E=l.itemTextRefCallback)==null?void 0:E.call(l,N,c.value,c.disabled)}),x=f==null?void 0:f.textContent,b=O.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:y,onNativeOptionRemove:_}=u;return js(()=>(y(b),()=>_(b)),[y,_,b]),s.jsxs(s.Fragment,{children:[s.jsx(Wr.span,{id:c.textId,...a,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Gp.createPortal(a.children,o.valueNode):null]})});gY.displayName=hv;var xY="SelectItemIndicator",vY=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return pY(xY,r).isSelected?s.jsx(Wr.span,{"aria-hidden":!0,...n,ref:t}):null});vY.displayName=xY;var Bj="SelectScrollUpButton",yY=O.forwardRef((e,t)=>{const r=h0(Bj,e.__scopeSelect),n=q6(Bj,e.__scopeSelect),[i,a]=O.useState(!1),o=kn(t,n.onScrollButtonChange);return js(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(bY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});yY.displayName=Bj;var $j="SelectScrollDownButton",wY=O.forwardRef((e,t)=>{const r=h0($j,e.__scopeSelect),n=q6($j,e.__scopeSelect),[i,a]=O.useState(!1),o=kn(t,n.onScrollButtonChange);return js(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;a(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(bY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});wY.displayName=$j;var bY=O.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=h0("SelectScrollButton",r),o=O.useRef(null),l=tN(r),c=O.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return O.useEffect(()=>()=>c(),[c]),js(()=>{var f;const u=l().find(p=>p.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),s.jsx(Wr.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Nr(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Nr(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Nr(i.onPointerLeave,()=>{c()})})}),iMe="SelectSeparator",SY=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Wr.div,{"aria-hidden":!0,...n,ref:t})});SY.displayName=iMe;var Uj="SelectArrow",aMe=O.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=rN(r),a=f0(Uj,r),o=h0(Uj,r);return a.open&&o.position==="popper"?s.jsx(W6,{...i,...n,ref:t}):null});aMe.displayName=Uj;function _Y(e){return e===""||e===void 0}var NY=O.forwardRef((e,t)=>{const{value:r,...n}=e,i=O.useRef(null),a=kn(t,i),o=H6(r);return O.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&f){const p=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(p)}},[o,r]),s.jsx(T2,{asChild:!0,children:s.jsx("select",{...n,ref:a,defaultValue:r})})});NY.displayName="BubbleSelect";function EY(e){const t=Wa(e),r=O.useRef(""),n=O.useRef(0),i=O.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=O.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return O.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function AY(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=sMe(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function sMe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var oMe=JG,CY=tY,lMe=nY,cMe=iY,uMe=aY,jY=sY,dMe=uY,TY=hY,OY=mY,fMe=gY,hMe=vY,IY=yY,PY=wY,kY=SY;const Bn=oMe,$n=lMe,Mn=O.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(CY,{ref:n,className:ir("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(cMe,{asChild:!0,children:s.jsx(IO,{className:"h-4 w-4 opacity-50"})})]}));Mn.displayName=CY.displayName;const MY=O.forwardRef(({className:e,...t},r)=>s.jsx(IY,{ref:r,className:ir("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx($z,{className:"h-4 w-4"})}));MY.displayName=IY.displayName;const DY=O.forwardRef(({className:e,...t},r)=>s.jsx(PY,{ref:r,className:ir("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(IO,{className:"h-4 w-4"})}));DY.displayName=PY.displayName;const Dn=O.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>s.jsx(uMe,{children:s.jsxs(jY,{ref:i,className:ir("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(MY,{}),s.jsx(dMe,{className:ir("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(DY,{})]})}));Dn.displayName=jY.displayName;const pMe=O.forwardRef(({className:e,...t},r)=>s.jsx(TY,{ref:r,className:ir("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));pMe.displayName=TY.displayName;const er=O.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(OY,{ref:n,className:ir("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(hMe,{children:s.jsx(Cp,{className:"h-4 w-4"})})}),s.jsx(fMe,{children:t})]}));er.displayName=OY.displayName;const mMe=O.forwardRef(({className:e,...t},r)=>s.jsx(kY,{ref:r,className:ir("-mx-1 my-1 h-px bg-muted",e),...t}));mMe.displayName=kY.displayName;var G6="Checkbox",[gMe,HXe]=pu(G6),[xMe,vMe]=gMe(G6),LY=O.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:f,...p}=e,[g,x]=O.useState(null),b=kn(t,I=>x(I)),y=O.useRef(!1),_=g?f||!!g.closest("form"):!0,[N=!1,E]=lu({prop:i,defaultProp:a,onChange:u}),C=O.useRef(N);return O.useEffect(()=>{const I=g==null?void 0:g.form;if(I){const P=()=>E(C.current);return I.addEventListener("reset",P),()=>I.removeEventListener("reset",P)}},[g,E]),s.jsxs(xMe,{scope:r,state:N,disabled:l,children:[s.jsx(Wr.button,{type:"button",role:"checkbox","aria-checked":Fh(N)?"mixed":N,"aria-required":o,"data-state":BY(N),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:b,onKeyDown:Nr(e.onKeyDown,I=>{I.key==="Enter"&&I.preventDefault()}),onClick:Nr(e.onClick,I=>{E(P=>Fh(P)?!0:!P),_&&(y.current=I.isPropagationStopped(),y.current||I.stopPropagation())})}),_&&s.jsx(yMe,{control:g,bubbles:!y.current,name:n,value:c,checked:N,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:Fh(a)?!1:a})]})});LY.displayName=G6;var RY="CheckboxIndicator",FY=O.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,a=vMe(RY,r);return s.jsx(Do,{present:n||Fh(a.state)||a.state===!0,children:s.jsx(Wr.span,{"data-state":BY(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});FY.displayName=RY;var yMe=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:i,...a}=e,o=O.useRef(null),l=H6(r),c=B6(t);O.useEffect(()=>{const f=o.current,p=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(p,"checked").set;if(l!==r&&x){const b=new Event("click",{bubbles:n});f.indeterminate=Fh(r),x.call(f,Fh(r)?!1:r),f.dispatchEvent(b)}},[l,r,n]);const u=O.useRef(Fh(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Fh(e){return e==="indeterminate"}function BY(e){return Fh(e)?"indeterminate":e?"checked":"unchecked"}var $Y=LY,wMe=FY;const Vu=O.forwardRef(({className:e,...t},r)=>s.jsx($Y,{ref:r,className:ir("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(wMe,{className:ir("flex items-center justify-center text-current"),children:s.jsx(Cp,{className:"h-4 w-4"})})}));Vu.displayName=$Y.displayName;var bMe="Separator",W7="horizontal",SMe=["horizontal","vertical"],UY=O.forwardRef((e,t)=>{const{decorative:r,orientation:n=W7,...i}=e,a=_Me(n)?n:W7,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(Wr.div,{"data-orientation":a,...l,...i,ref:t})});UY.displayName=bMe;function _Me(e){return SMe.includes(e)}var zY=UY;const Xy=O.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>s.jsx(zY,{ref:i,decorative:r,orientation:t,className:ir("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Xy.displayName=zY.displayName;const NMe=a0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ti({className:e,variant:t,...r}){return s.jsx("div",{className:ir(NMe({variant:t}),e),...r})}const EMe=({value:e,format:t="CODE128",width:r=2,height:n=100,displayValue:i=!0,fontSize:a=20,textAlign:o="center",textPosition:l="bottom",textMargin:c=2,fontOptions:u="",font:f="monospace",background:p="#ffffff",lineColor:g="#000000",margin:x=10,marginTop:b,marginBottom:y,marginLeft:_,marginRight:N})=>{const E=O.useRef(null);return O.useEffect(()=>{if(E.current&&e)try{H2(E.current,e,{format:t,width:r,height:n,displayValue:i,fontSize:a,textAlign:o,textPosition:l,textMargin:c,fontOptions:u,font:f,background:p,lineColor:g,margin:x,marginTop:b??x,marginBottom:y??x,marginLeft:_??x,marginRight:N??x})}catch(C){console.error("Error generating barcode:",C)}},[e,t,r,n,i,a,o,l,c,u,f,p,g,x,b,y,_,N]),s.jsx("canvas",{ref:E})},AMe="modulepreload",CMe=function(e){return"/"+e},H7={},zj=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=CMe(c),c in H7)return;H7[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":AMe,u||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((g,x)=>{p.addEventListener("load",g),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};function _i(e){"@babel/helpers - typeof";return _i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_i(e)}var co=Uint8Array,Ml=Uint16Array,Y6=Int32Array,nN=new co([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),iN=new co([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Vj=new co([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),VY=function(e,t){for(var r=new Ml(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new Y6(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},WY=VY(nN,2),HY=WY.b,Wj=WY.r;HY[28]=258,Wj[258]=28;var qY=VY(iN,0),jMe=qY.b,q7=qY.r,Hj=new Ml(32768);for(var Qi=0;Qi<32768;++Qi){var Gf=(Qi&43690)>>1|(Qi&21845)<<1;Gf=(Gf&52428)>>2|(Gf&13107)<<2,Gf=(Gf&61680)>>4|(Gf&3855)<<4,Hj[Qi]=((Gf&65280)>>8|(Gf&255)<<8)>>1}var Zu=function(e,t,r){for(var n=e.length,i=0,a=new Ml(t);i<n;++i)e[i]&&++a[e[i]-1];var o=new Ml(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(r){l=new Ml(1<<t);var c=15-t;for(i=0;i<n;++i)if(e[i])for(var u=i<<4|e[i],f=t-e[i],p=o[e[i]-1]++<<f,g=p|(1<<f)-1;p<=g;++p)l[Hj[p]>>c]=u}else for(l=new Ml(n),i=0;i<n;++i)e[i]&&(l[i]=Hj[o[e[i]-1]++]>>15-e[i]);return l},Hh=new co(288);for(var Qi=0;Qi<144;++Qi)Hh[Qi]=8;for(var Qi=144;Qi<256;++Qi)Hh[Qi]=9;for(var Qi=256;Qi<280;++Qi)Hh[Qi]=7;for(var Qi=280;Qi<288;++Qi)Hh[Qi]=8;var Ky=new co(32);for(var Qi=0;Qi<32;++Qi)Ky[Qi]=5;var TMe=Zu(Hh,9,0),OMe=Zu(Hh,9,1),IMe=Zu(Ky,5,0),PMe=Zu(Ky,5,1),gA=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},kc=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},xA=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},X6=function(e){return(e+7)/8|0},GY=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new co(e.subarray(t,r))},kMe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Bc=function(e,t,r){var n=new Error(t||kMe[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Bc),!r)throw n;return n},MMe=function(e,t,r,n){var i=e.length,a=0;if(!i||t.f&&!t.l)return r||new co(0);var o=!r,l=o||t.i!=2,c=t.i;o&&(r=new co(i*3));var u=function(Le){var Se=r.length;if(Le>Se){var ye=new co(Math.max(Se*2,Le));ye.set(r),r=ye}},f=t.f||0,p=t.p||0,g=t.b||0,x=t.l,b=t.d,y=t.m,_=t.n,N=i*8;do{if(!x){f=kc(e,p,1);var E=kc(e,p+1,3);if(p+=3,E)if(E==1)x=OMe,b=PMe,y=9,_=5;else if(E==2){var D=kc(e,p,31)+257,k=kc(e,p+10,15)+4,L=D+kc(e,p+5,31)+1;p+=14;for(var B=new co(L),G=new co(19),F=0;F<k;++F)G[Vj[F]]=kc(e,p+F*3,7);p+=k*3;for(var U=gA(G),q=(1<<U)-1,K=Zu(G,U,1),F=0;F<L;){var V=K[kc(e,p,q)];p+=V&15;var C=V>>4;if(C<16)B[F++]=C;else{var ee=0,te=0;for(C==16?(te=3+kc(e,p,3),p+=2,ee=B[F-1]):C==17?(te=3+kc(e,p,7),p+=3):C==18&&(te=11+kc(e,p,127),p+=7);te--;)B[F++]=ee}}var J=B.subarray(0,D),ge=B.subarray(D);y=gA(J),_=gA(ge),x=Zu(J,y,1),b=Zu(ge,_,1)}else Bc(1);else{var C=X6(p)+4,I=e[C-4]|e[C-3]<<8,P=C+I;if(P>i){c&&Bc(0);break}l&&u(g+I),r.set(e.subarray(C,P),g),t.b=g+=I,t.p=p=P*8,t.f=f;continue}if(p>N){c&&Bc(0);break}}l&&u(g+131072);for(var Ie=(1<<y)-1,Ge=(1<<_)-1,W=p;;W=p){var ee=x[xA(e,p)&Ie],Q=ee>>4;if(p+=ee&15,p>N){c&&Bc(0);break}if(ee||Bc(2),Q<256)r[g++]=Q;else if(Q==256){W=p,x=null;break}else{var Z=Q-254;if(Q>264){var F=Q-257,re=nN[F];Z=kc(e,p,(1<<re)-1)+HY[F],p+=re}var le=b[xA(e,p)&Ge],Ne=le>>4;le||Bc(3),p+=le&15;var ge=jMe[Ne];if(Ne>3){var re=iN[Ne];ge+=xA(e,p)&(1<<re)-1,p+=re}if(p>N){c&&Bc(0);break}l&&u(g+131072);var Ae=g+Z;if(g<ge){var ve=a-ge,xe=Math.min(ge,Ae);for(ve+g<0&&Bc(3);g<xe;++g)r[g]=n[ve+g]}for(;g<Ae;++g)r[g]=r[g-ge]}}t.l=x,t.p=W,t.b=g,t.f=f,x&&(f=1,t.m=y,t.d=b,t.n=_)}while(!f);return g!=r.length&&o?GY(r,0,g):r.subarray(0,g)},Ad=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Kx=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},vA=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:XY,l:0};if(i==1){var o=new co(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(P,D){return P.f-D.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,f=1,p=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};f!=i-1;)l=r[r[u].f<r[p].f?u++:p++],c=r[u!=f&&r[u].f<r[p].f?u++:p++],r[f++]={s:-1,f:l.f+c.f,l,r:c};for(var g=a[0].s,n=1;n<i;++n)a[n].s>g&&(g=a[n].s);var x=new Ml(g+1),b=qj(r[f-1],x,0);if(b>t){var n=0,y=0,_=b-t,N=1<<_;for(a.sort(function(D,k){return x[k.s]-x[D.s]||D.f-k.f});n<i;++n){var E=a[n].s;if(x[E]>t)y+=N-(1<<b-x[E]),x[E]=t;else break}for(y>>=_;y>0;){var C=a[n].s;x[C]<t?y-=1<<t-x[C]++-1:++n}for(;n>=0&&y;--n){var I=a[n].s;x[I]==t&&(--x[I],++y)}b=t}return{t:new co(x),l:b}},qj=function(e,t,r){return e.s==-1?Math.max(qj(e.l,t,r+1),qj(e.r,t,r+1)):t[e.s]=r},G7=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ml(++t),n=0,i=e[0],a=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[l]}return{c:r.subarray(0,n),n:t}},Qx=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},YY=function(e,t,r){var n=r.length,i=X6(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},Y7=function(e,t,r,n,i,a,o,l,c,u,f){Ad(t,f++,r),++i[256];for(var p=vA(i,15),g=p.t,x=p.l,b=vA(a,15),y=b.t,_=b.l,N=G7(g),E=N.c,C=N.n,I=G7(y),P=I.c,D=I.n,k=new Ml(19),L=0;L<E.length;++L)++k[E[L]&31];for(var L=0;L<P.length;++L)++k[P[L]&31];for(var B=vA(k,7),G=B.t,F=B.l,U=19;U>4&&!G[Vj[U-1]];--U);var q=u+5<<3,K=Qx(i,Hh)+Qx(a,Ky)+o,V=Qx(i,g)+Qx(a,y)+o+14+3*U+Qx(k,G)+2*k[16]+3*k[17]+7*k[18];if(c>=0&&q<=K&&q<=V)return YY(t,f,e.subarray(c,c+u));var ee,te,J,ge;if(Ad(t,f,1+(V<K)),f+=2,V<K){ee=Zu(g,x,0),te=g,J=Zu(y,_,0),ge=y;var Ie=Zu(G,F,0);Ad(t,f,C-257),Ad(t,f+5,D-1),Ad(t,f+10,U-4),f+=14;for(var L=0;L<U;++L)Ad(t,f+3*L,G[Vj[L]]);f+=3*U;for(var Ge=[E,P],W=0;W<2;++W)for(var Q=Ge[W],L=0;L<Q.length;++L){var Z=Q[L]&31;Ad(t,f,Ie[Z]),f+=G[Z],Z>15&&(Ad(t,f,Q[L]>>5&127),f+=Q[L]>>12)}}else ee=TMe,te=Hh,J=IMe,ge=Ky;for(var L=0;L<l;++L){var re=n[L];if(re>255){var Z=re>>18&31;Kx(t,f,ee[Z+257]),f+=te[Z+257],Z>7&&(Ad(t,f,re>>23&31),f+=nN[Z]);var le=re&31;Kx(t,f,J[le]),f+=ge[le],le>3&&(Kx(t,f,re>>5&8191),f+=iN[le])}else Kx(t,f,ee[re]),f+=te[re]}return Kx(t,f,ee[256]),f+te[256]},DMe=new Y6([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),XY=new co(0),LMe=function(e,t,r,n,i,a){var o=a.z||e.length,l=new co(n+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(n,l.length-i),u=a.l,f=(a.r||0)&7;if(t){f&&(c[0]=a.r>>3);for(var p=DMe[t-1],g=p>>13,x=p&8191,b=(1<<r)-1,y=a.p||new Ml(32768),_=a.h||new Ml(b+1),N=Math.ceil(r/3),E=2*N,C=function(We){return(e[We]^e[We+1]<<N^e[We+2]<<E)&b},I=new Y6(25e3),P=new Ml(288),D=new Ml(32),k=0,L=0,B=a.i||0,G=0,F=a.w||0,U=0;B+2<o;++B){var q=C(B),K=B&32767,V=_[q];if(y[K]=V,_[q]=K,F<=B){var ee=o-B;if((k>7e3||G>24576)&&(ee>423||!u)){f=Y7(e,c,0,I,P,D,L,G,U,B-U,f),G=k=L=0,U=B;for(var te=0;te<286;++te)P[te]=0;for(var te=0;te<30;++te)D[te]=0}var J=2,ge=0,Ie=x,Ge=K-V&32767;if(ee>2&&q==C(B-Ge))for(var W=Math.min(g,ee)-1,Q=Math.min(32767,B),Z=Math.min(258,ee);Ge<=Q&&--Ie&&K!=V;){if(e[B+J]==e[B+J-Ge]){for(var re=0;re<Z&&e[B+re]==e[B+re-Ge];++re);if(re>J){if(J=re,ge=Ge,re>W)break;for(var le=Math.min(Ge,re-2),Ne=0,te=0;te<le;++te){var Ae=B-Ge+te&32767,ve=y[Ae],xe=Ae-ve&32767;xe>Ne&&(Ne=xe,V=Ae)}}}K=V,V=y[K],Ge+=K-V&32767}if(ge){I[G++]=268435456|Wj[J]<<18|q7[ge];var Le=Wj[J]&31,Se=q7[ge]&31;L+=nN[Le]+iN[Se],++P[257+Le],++D[Se],F=B+J,++k}else I[G++]=e[B],++P[e[B]]}}for(B=Math.max(B,F);B<o;++B)I[G++]=e[B],++P[e[B]];f=Y7(e,c,u,I,P,D,L,G,U,B-U,f),u||(a.r=f&7|c[f/8|0]<<3,f-=7,a.h=_,a.p=y,a.i=B,a.w=F)}else{for(var B=a.w||0;B<o+u;B+=65535){var ye=B+65535;ye>=o&&(c[f/8|0]=u,ye=o),f=YY(c,f+1,e.subarray(B,ye))}a.i=o}return GY(l,0,n+X6(f)+i)},KY=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},RMe=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new co(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return LMe(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},QY=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},FMe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=KY();i.p(t.dictionary),QY(e,2,i.d())}},BMe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Bc(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Bc(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Gj(e,t){t||(t={});var r=KY();r.p(e);var n=RMe(e,t,t.dictionary?6:2,4);return FMe(n,t),QY(n,n.length-4,r.d()),n}function $Me(e,t){return MMe(e.subarray(BMe(e,t),-4),{i:2},t,t)}var UMe=typeof TextDecoder<"u"&&new TextDecoder,zMe=0;try{UMe.decode(XY,{stream:!0}),zMe=1}catch{}var rn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function yA(){rn.console&&typeof rn.console.log=="function"&&rn.console.log.apply(rn.console,arguments)}var Li={log:yA,warn:function(e){rn.console&&(typeof rn.console.warn=="function"?rn.console.warn.apply(rn.console,arguments):yA.call(null,arguments))},error:function(e){rn.console&&(typeof rn.console.error=="function"?rn.console.error.apply(rn.console,arguments):yA(e))}};function wA(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){R0(n.response,t,r)},n.onerror=function(){Li.error("could not download file")},n.send()}function X7(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function yb(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var kv,Yj,R0=rn.saveAs||((typeof window>"u"?"undefined":_i(window))!=="object"||window!==rn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=rn.URL||rn.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?X7(i.href)?wA(e,t,r):yb(i,i.target="_blank"):yb(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){yb(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(X7(e))wA(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){yb(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:_i(a)!=="object"&&(Li.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return wA(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(rn.HTMLElement)||rn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":_i(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(e)}else{var c=rn.URL||rn.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function ZY(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function bA(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=eo(r,n,i,a,t[0],7,-680876936),a=eo(a,r,n,i,t[1],12,-389564586),i=eo(i,a,r,n,t[2],17,606105819),n=eo(n,i,a,r,t[3],22,-1044525330),r=eo(r,n,i,a,t[4],7,-176418897),a=eo(a,r,n,i,t[5],12,1200080426),i=eo(i,a,r,n,t[6],17,-1473231341),n=eo(n,i,a,r,t[7],22,-45705983),r=eo(r,n,i,a,t[8],7,1770035416),a=eo(a,r,n,i,t[9],12,-1958414417),i=eo(i,a,r,n,t[10],17,-42063),n=eo(n,i,a,r,t[11],22,-1990404162),r=eo(r,n,i,a,t[12],7,1804603682),a=eo(a,r,n,i,t[13],12,-40341101),i=eo(i,a,r,n,t[14],17,-1502002290),r=to(r,n=eo(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=to(a,r,n,i,t[6],9,-1069501632),i=to(i,a,r,n,t[11],14,643717713),n=to(n,i,a,r,t[0],20,-373897302),r=to(r,n,i,a,t[5],5,-701558691),a=to(a,r,n,i,t[10],9,38016083),i=to(i,a,r,n,t[15],14,-660478335),n=to(n,i,a,r,t[4],20,-405537848),r=to(r,n,i,a,t[9],5,568446438),a=to(a,r,n,i,t[14],9,-1019803690),i=to(i,a,r,n,t[3],14,-187363961),n=to(n,i,a,r,t[8],20,1163531501),r=to(r,n,i,a,t[13],5,-1444681467),a=to(a,r,n,i,t[2],9,-51403784),i=to(i,a,r,n,t[7],14,1735328473),r=ro(r,n=to(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=ro(a,r,n,i,t[8],11,-2022574463),i=ro(i,a,r,n,t[11],16,1839030562),n=ro(n,i,a,r,t[14],23,-35309556),r=ro(r,n,i,a,t[1],4,-1530992060),a=ro(a,r,n,i,t[4],11,1272893353),i=ro(i,a,r,n,t[7],16,-155497632),n=ro(n,i,a,r,t[10],23,-1094730640),r=ro(r,n,i,a,t[13],4,681279174),a=ro(a,r,n,i,t[0],11,-358537222),i=ro(i,a,r,n,t[3],16,-722521979),n=ro(n,i,a,r,t[6],23,76029189),r=ro(r,n,i,a,t[9],4,-640364487),a=ro(a,r,n,i,t[12],11,-421815835),i=ro(i,a,r,n,t[15],16,530742520),r=no(r,n=ro(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=no(a,r,n,i,t[7],10,1126891415),i=no(i,a,r,n,t[14],15,-1416354905),n=no(n,i,a,r,t[5],21,-57434055),r=no(r,n,i,a,t[12],6,1700485571),a=no(a,r,n,i,t[3],10,-1894986606),i=no(i,a,r,n,t[10],15,-1051523),n=no(n,i,a,r,t[1],21,-2054922799),r=no(r,n,i,a,t[8],6,1873313359),a=no(a,r,n,i,t[15],10,-30611744),i=no(i,a,r,n,t[6],15,-1560198380),n=no(n,i,a,r,t[13],21,1309151649),r=no(r,n,i,a,t[4],6,-145523070),a=no(a,r,n,i,t[11],10,-1120210379),i=no(i,a,r,n,t[2],15,718787259),n=no(n,i,a,r,t[9],21,-343485551),e[0]=_h(r,e[0]),e[1]=_h(n,e[1]),e[2]=_h(i,e[2]),e[3]=_h(a,e[3])}function aN(e,t,r,n,i,a){return t=_h(_h(t,e),_h(n,a)),_h(t<<i|t>>>32-i,r)}function eo(e,t,r,n,i,a,o){return aN(t&r|~t&n,e,t,i,a,o)}function to(e,t,r,n,i,a,o){return aN(t&n|r&~n,e,t,i,a,o)}function ro(e,t,r,n,i,a,o){return aN(t^r^n,e,t,i,a,o)}function no(e,t,r,n,i,a,o){return aN(r^(t|~n),e,t,i,a,o)}function JY(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)bA(n,VMe(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(bA(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,bA(n,i),n}function VMe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}kv=rn.atob.bind(rn),Yj=rn.btoa.bind(rn);var K7="0123456789abcdef".split("");function WMe(e){for(var t="",r=0;r<4;r++)t+=K7[e>>8*r+4&15]+K7[e>>8*r&15];return t}function HMe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Xj(e){return JY(e).map(HMe).join("")}var qMe=function(e){for(var t=0;t<e.length;t++)e[t]=WMe(e[t]);return e.join("")}(JY("hello"))!="5d41402abc4b2a76b9719d911017c592";function _h(e,t){if(qMe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Kj(e,t){var r,n,i,a;if(e!==r){for(var o=(i=e,a=1+(256/e.length>>0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var f=l[c];u=(u+f+o.charCodeAt(c))%256,l[c]=l[u],l[u]=f}r=e,n=l}else l=n;var p=t.length,g=0,x=0,b="";for(c=0;c<p;c++)x=(x+(f=l[g=(g+1)%256]))%256,l[g]=l[x],l[x]=f,o=l[(l[g]+l[x])%256],b+=String.fromCharCode(t.charCodeAt(c)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Q7={print:4,modify:8,copy:16,"annot-forms":32};function D1(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(Q7.perm!==void 0)throw new Error("Invalid permission: "+l);i+=Q7[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=Xj(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Kj(this.encryptionKey,this.padding)}function L1(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[n]}return t}function Z7(e){if(_i(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var o=t[r][a];try{o[0].apply(e,n)}catch(l){rn.console&&Li.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function z5(e){if(!(this instanceof z5))return new z5(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function eX(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function B0(e,t,r,n,i){if(!(this instanceof B0))return new B0(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,eX.call(this,n,i)}function rm(e,t,r,n,i){if(!(this instanceof rm))return new rm(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,eX.call(this,n,i)}function tn(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,u="S",f=null;_i(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,g={},x={internal:{},__private__:{}};x.__private__.PubSub=Z7;var b="1.3",y=x.__private__.getPdfVersion=function(){return b};x.__private__.setPdfVersion=function(R){b=R};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};x.__private__.getPageFormats=function(){return _};var N=x.__private__.getPageFormat=function(R){return _[R]};i=i||"a4";var E={COMPAT:"compat",ADVANCED:"advanced"},C=E.COMPAT;function I(){this.saveGraphicsState(),we(new dr(dt,0,0,-dt,0,Ks()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),u="n",C=E.ADVANCED}function P(){this.restoreGraphicsState(),u="S",C=E.COMPAT}var D=x.__private__.combineFontStyleAndFontWeight=function(R,oe){if(R=="bold"&&oe=="normal"||R=="bold"&&oe==400||R=="normal"&&oe=="italic"||R=="bold"&&oe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return oe&&(R=oe==400||oe==="normal"?R==="italic"?"italic":"normal":oe!=700&&oe!=="bold"||R!=="normal"?(oe==700?"bold":oe)+""+R:"bold"),R};x.advancedAPI=function(R){var oe=C===E.COMPAT;return oe&&I.call(this),typeof R!="function"||(R(this),oe&&P.call(this)),this},x.compatAPI=function(R){var oe=C===E.ADVANCED;return oe&&P.call(this),typeof R!="function"||(R(this),oe&&I.call(this)),this},x.isAdvancedAPI=function(){return C===E.ADVANCED};var k,L=function(R){if(C!==E.ADVANCED)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=x.roundToPrecision=x.__private__.roundToPrecision=function(R,oe){var Be=t||oe;if(isNaN(R)||isNaN(Be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(Be).replace(/0+$/,"")};k=x.hpf=x.__private__.hpf=typeof c=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return B(R,c)}:c==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return B(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return B(R,16)};var G=x.f2=x.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return B(R,2)},F=x.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return B(R,3)},U=x.scale=x.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return C===E.COMPAT?R*dt:C===E.ADVANCED?R:void 0},q=function(R){return C===E.COMPAT?Ks()-R:C===E.ADVANCED?R:void 0},K=function(R){return U(q(R))};x.__private__.setPrecision=x.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(t=parseInt(R,10))};var V,ee="00000000000000000000000000000000",te=x.__private__.getFileId=function(){return ee},J=x.__private__.setFileId=function(R){return ee=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Ra=new D1(f.userPermissions,f.userPassword,f.ownerPassword,ee)),ee};x.setFileId=function(R){return J(R),this},x.getFileId=function(){return te()};var ge=x.__private__.convertDateToPDFDate=function(R){var oe=R.getTimezoneOffset(),Be=oe<0?"+":"-",Ke=Math.floor(Math.abs(oe/60)),ut=Math.abs(oe%60),Ct=[Be,Z(Ke),"'",Z(ut),"'"].join("");return["D:",R.getFullYear(),Z(R.getMonth()+1),Z(R.getDate()),Z(R.getHours()),Z(R.getMinutes()),Z(R.getSeconds()),Ct].join("")},Ie=x.__private__.convertPDFDateToDate=function(R){var oe=parseInt(R.substr(2,4),10),Be=parseInt(R.substr(6,2),10)-1,Ke=parseInt(R.substr(8,2),10),ut=parseInt(R.substr(10,2),10),Ct=parseInt(R.substr(12,2),10),Lt=parseInt(R.substr(14,2),10);return new Date(oe,Be,Ke,ut,Ct,Lt,0)},Ge=x.__private__.setCreationDate=function(R){var oe;if(R===void 0&&(R=new Date),R instanceof Date)oe=ge(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");oe=R}return V=oe},W=x.__private__.getCreationDate=function(R){var oe=V;return R==="jsDate"&&(oe=Ie(V)),oe};x.setCreationDate=function(R){return Ge(R),this},x.getCreationDate=function(R){return W(R)};var Q,Z=x.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},re=x.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},le=0,Ne=[],Ae=[],ve=0,xe=[],Le=[],Se=!1,ye=Ae,We=function(){le=0,ve=0,Ae=[],Ne=[],xe=[],Oe=Gn(),Me=Gn()};x.__private__.setCustomOutputDestination=function(R){Se=!0,ye=R};var Ye=function(R){Se||(ye=R)};x.__private__.resetCustomOutputDestination=function(){Se=!1,ye=Ae};var we=x.__private__.out=function(R){return R=R.toString(),ve+=R.length+1,ye.push(R),ye},Pe=x.__private__.write=function(R){return we(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},ce=x.__private__.getArrayBuffer=function(R){for(var oe=R.length,Be=new ArrayBuffer(oe),Ke=new Uint8Array(Be);oe--;)Ke[oe]=R.charCodeAt(oe);return Be},Ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];x.__private__.getStandardFonts=function(){return Ce};var fe=e.fontSize||16;x.__private__.setFontSize=x.setFontSize=function(R){return fe=C===E.ADVANCED?R/dt:R,this};var ke,He=x.__private__.getFontSize=x.getFontSize=function(){return C===E.COMPAT?fe:fe*dt},nt=e.R2L||!1;x.__private__.setR2L=x.setR2L=function(R){return nt=R,this},x.__private__.getR2L=x.getR2L=function(){return nt};var mt,At=x.__private__.setZoomMode=function(R){var oe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))ke=R;else if(isNaN(R)){if(oe.indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');ke=R}else ke=parseInt(R,10)};x.__private__.getZoomMode=function(){return ke};var qt,mr=x.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');mt=R};x.__private__.getPageMode=function(){return mt};var ar=x.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');qt=R};x.__private__.getLayoutMode=function(){return qt},x.__private__.setDisplayMode=x.setDisplayMode=function(R,oe,Be){return At(R),ar(oe),mr(Be),this};var ze={title:"",subject:"",author:"",keywords:"",creator:""};x.__private__.getDocumentProperty=function(R){if(Object.keys(ze).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ze[R]},x.__private__.getDocumentProperties=function(){return ze},x.__private__.setDocumentProperties=x.setProperties=x.setDocumentProperties=function(R){for(var oe in ze)ze.hasOwnProperty(oe)&&R[oe]&&(ze[oe]=R[oe]);return this},x.__private__.setDocumentProperty=function(R,oe){if(Object.keys(ze).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ze[R]=oe};var tt,dt,Zt,ne,De,gt={},Nt={},Pr=[],Jr={},fa={},Ln={},Te={},it=null,jt=0,lr=[],xr=new Z7(x),Sa=e.hotfixes||[],dn={},ha={},li=[],dr=function R(oe,Be,Ke,ut,Ct,Lt){if(!(this instanceof R))return new R(oe,Be,Ke,ut,Ct,Lt);isNaN(oe)&&(oe=1),isNaN(Be)&&(Be=0),isNaN(Ke)&&(Ke=0),isNaN(ut)&&(ut=1),isNaN(Ct)&&(Ct=0),isNaN(Lt)&&(Lt=0),this._matrix=[oe,Be,Ke,ut,Ct,Lt]};Object.defineProperty(dr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(dr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(dr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(dr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(dr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(dr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(dr.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(dr.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(dr.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(dr.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(dr.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(dr.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(dr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(dr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(dr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(dr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),dr.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(R)},dr.prototype.multiply=function(R){var oe=R.sx*this.sx+R.shy*this.shx,Be=R.sx*this.shy+R.shy*this.sy,Ke=R.shx*this.sx+R.sy*this.shx,ut=R.shx*this.shy+R.sy*this.sy,Ct=R.tx*this.sx+R.ty*this.shx+this.tx,Lt=R.tx*this.shy+R.ty*this.sy+this.ty;return new dr(oe,Be,Ke,ut,Ct,Lt)},dr.prototype.decompose=function(){var R=this.sx,oe=this.shy,Be=this.shx,Ke=this.sy,ut=this.tx,Ct=this.ty,Lt=Math.sqrt(R*R+oe*oe),pr=(R/=Lt)*Be+(oe/=Lt)*Ke;Be-=R*pr,Ke-=oe*pr;var Ur=Math.sqrt(Be*Be+Ke*Ke);return pr/=Ur,R*(Ke/=Ur)<oe*(Be/=Ur)&&(R=-R,oe=-oe,pr=-pr,Lt=-Lt),{scale:new dr(Lt,0,0,Ur,0,0),translate:new dr(1,0,0,1,ut,Ct),rotate:new dr(R,oe,-oe,R,0,0),skew:new dr(1,0,pr,1,0,0)}},dr.prototype.toString=function(R){return this.join(" ")},dr.prototype.inversed=function(){var R=this.sx,oe=this.shy,Be=this.shx,Ke=this.sy,ut=this.tx,Ct=this.ty,Lt=1/(R*Ke-oe*Be),pr=Ke*Lt,Ur=-oe*Lt,fn=-Be*Lt,hn=R*Lt;return new dr(pr,Ur,fn,hn,-pr*ut-fn*Ct,-Ur*ut-hn*Ct)},dr.prototype.applyToPoint=function(R){var oe=R.x*this.sx+R.y*this.shx+this.tx,Be=R.x*this.shy+R.y*this.sy+this.ty;return new Pf(oe,Be)},dr.prototype.applyToRectangle=function(R){var oe=this.applyToPoint(R),Be=this.applyToPoint(new Pf(R.x+R.w,R.y+R.h));return new C0(oe.x,oe.y,Be.x-oe.x,Be.y-oe.y)},dr.prototype.clone=function(){var R=this.sx,oe=this.shy,Be=this.shx,Ke=this.sy,ut=this.tx,Ct=this.ty;return new dr(R,oe,Be,Ke,ut,Ct)},x.Matrix=dr;var qa=x.matrixMult=function(R,oe){return oe.multiply(R)},Fi=new dr(1,0,0,1,0,0);x.unitMatrix=x.identityMatrix=Fi;var _a=function(R,oe){if(!fa[R]){var Be=(oe instanceof B0?"Sh":"P")+(Object.keys(Jr).length+1).toString(10);oe.id=Be,fa[R]=Be,Jr[Be]=oe,xr.publish("addPattern",oe)}};x.ShadingPattern=B0,x.TilingPattern=rm,x.addShadingPattern=function(R,oe){return L("addShadingPattern()"),_a(R,oe),this},x.beginTilingPattern=function(R){L("beginTilingPattern()"),kf(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},x.endTilingPattern=function(R,oe){L("endTilingPattern()"),oe.stream=Le[Q].join(`
`),_a(R,oe),xr.publish("endTilingPattern",oe),li.pop().restore()};var On=x.__private__.newObject=function(){var R=Gn();return ue(R,!0),R},Gn=x.__private__.newObjectDeferred=function(){return le++,Ne[le]=function(){return ve},le},ue=function(R,oe){return oe=typeof oe=="boolean"&&oe,Ne[R]=ve,oe&&we(R+" 0 obj"),R},_e=x.__private__.newAdditionalObject=function(){var R={objId:Gn(),content:""};return xe.push(R),R},Oe=Gn(),Me=Gn(),Fe=x.__private__.decodeColorString=function(R){var oe=R.split(" ");if(oe.length!==2||oe[1]!=="g"&&oe[1]!=="G")oe.length===5&&(oe[4]==="k"||oe[4]==="K")&&(oe=[(1-oe[0])*(1-oe[3]),(1-oe[1])*(1-oe[3]),(1-oe[2])*(1-oe[3]),"r"]);else{var Be=parseFloat(oe[0]);oe=[Be,Be,Be,"r"]}for(var Ke="#",ut=0;ut<3;ut++)Ke+=("0"+Math.floor(255*parseFloat(oe[ut])).toString(16)).slice(-2);return Ke},Ve=x.__private__.encodeColorString=function(R){var oe;typeof R=="string"&&(R={ch1:R});var Be=R.ch1,Ke=R.ch2,ut=R.ch3,Ct=R.ch4,Lt=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Be=="string"&&Be.charAt(0)!=="#"){var pr=new ZY(Be);if(pr.ok)Be=pr.toHex();else if(!/^\d*\.?\d*$/.test(Be))throw new Error('Invalid color "'+Be+'" passed to jsPDF.encodeColorString.')}if(typeof Be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Be)&&(Be="#"+Be[1]+Be[1]+Be[2]+Be[2]+Be[3]+Be[3]),typeof Be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Be)){var Ur=parseInt(Be.substr(1),16);Be=Ur>>16&255,Ke=Ur>>8&255,ut=255&Ur}if(Ke===void 0||Ct===void 0&&Be===Ke&&Ke===ut)if(typeof Be=="string")oe=Be+" "+Lt[0];else switch(R.precision){case 2:oe=G(Be/255)+" "+Lt[0];break;case 3:default:oe=F(Be/255)+" "+Lt[0]}else if(Ct===void 0||_i(Ct)==="object"){if(Ct&&!isNaN(Ct.a)&&Ct.a===0)return oe=["1.","1.","1.",Lt[1]].join(" ");if(typeof Be=="string")oe=[Be,Ke,ut,Lt[1]].join(" ");else switch(R.precision){case 2:oe=[G(Be/255),G(Ke/255),G(ut/255),Lt[1]].join(" ");break;default:case 3:oe=[F(Be/255),F(Ke/255),F(ut/255),Lt[1]].join(" ")}}else if(typeof Be=="string")oe=[Be,Ke,ut,Ct,Lt[2]].join(" ");else switch(R.precision){case 2:oe=[G(Be),G(Ke),G(ut),G(Ct),Lt[2]].join(" ");break;case 3:default:oe=[F(Be),F(Ke),F(ut),F(Ct),Lt[2]].join(" ")}return oe},ft=x.__private__.getFilters=function(){return o},_t=x.__private__.putStream=function(R){var oe=(R=R||{}).data||"",Be=R.filters||ft(),Ke=R.alreadyAppliedFilters||[],ut=R.addLength1||!1,Ct=oe.length,Lt=R.objectId,pr=function(ms){return ms};if(f!==null&&Lt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(pr=Ra.encryptor(Lt,0));var Ur={};Be===!0&&(Be=["FlateEncode"]);var fn=R.additionalKeyValues||[],hn=(Ur=tn.API.processDataByFilters!==void 0?tn.API.processDataByFilters(oe,Be):{data:oe,reverseChain:[]}).reverseChain+(Array.isArray(Ke)?Ke.join(" "):Ke.toString());if(Ur.data.length!==0&&(fn.push({key:"Length",value:Ur.data.length}),ut===!0&&fn.push({key:"Length1",value:Ct})),hn.length!=0)if(hn.split("/").length-1==1)fn.push({key:"Filter",value:hn});else{fn.push({key:"Filter",value:"["+hn+"]"});for(var Fn=0;Fn<fn.length;Fn+=1)if(fn[Fn].key==="DecodeParms"){for(var Hi=[],hi=0;hi<Ur.reverseChain.split("/").length-1;hi+=1)Hi.push("null");Hi.push(fn[Fn].value),fn[Fn].value="["+Hi.join(" ")+"]"}}we("<<");for(var na=0;na<fn.length;na++)we("/"+fn[na].key+" "+fn[na].value);we(">>"),Ur.data.length!==0&&(we("stream"),we(pr(Ur.data)),we("endstream"))},ct=x.__private__.putPage=function(R){var oe=R.number,Be=R.data,Ke=R.objId,ut=R.contentsObjId;ue(Ke,!0),we("<</Type /Page"),we("/Parent "+R.rootDictionaryObjId+" 0 R"),we("/Resources "+R.resourceDictionaryObjId+" 0 R"),we("/MediaBox ["+parseFloat(k(R.mediaBox.bottomLeftX))+" "+parseFloat(k(R.mediaBox.bottomLeftY))+" "+k(R.mediaBox.topRightX)+" "+k(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&we("/CropBox ["+k(R.cropBox.bottomLeftX)+" "+k(R.cropBox.bottomLeftY)+" "+k(R.cropBox.topRightX)+" "+k(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&we("/BleedBox ["+k(R.bleedBox.bottomLeftX)+" "+k(R.bleedBox.bottomLeftY)+" "+k(R.bleedBox.topRightX)+" "+k(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&we("/TrimBox ["+k(R.trimBox.bottomLeftX)+" "+k(R.trimBox.bottomLeftY)+" "+k(R.trimBox.topRightX)+" "+k(R.trimBox.topRightY)+"]"),R.artBox!==null&&we("/ArtBox ["+k(R.artBox.bottomLeftX)+" "+k(R.artBox.bottomLeftY)+" "+k(R.artBox.topRightX)+" "+k(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&we("/UserUnit "+R.userUnit),xr.publish("putPage",{objId:Ke,pageContext:lr[oe],pageNumber:oe,page:Be}),we("/Contents "+ut+" 0 R"),we(">>"),we("endobj");var Ct=Be.join(`
`);return C===E.ADVANCED&&(Ct+=`
Q`),ue(ut,!0),_t({data:Ct,filters:ft(),objectId:ut}),we("endobj"),Ke},xt=x.__private__.putPages=function(){var R,oe,Be=[];for(R=1;R<=jt;R++)lr[R].objId=Gn(),lr[R].contentsObjId=Gn();for(R=1;R<=jt;R++)Be.push(ct({number:R,data:Le[R],objId:lr[R].objId,contentsObjId:lr[R].contentsObjId,mediaBox:lr[R].mediaBox,cropBox:lr[R].cropBox,bleedBox:lr[R].bleedBox,trimBox:lr[R].trimBox,artBox:lr[R].artBox,userUnit:lr[R].userUnit,rootDictionaryObjId:Oe,resourceDictionaryObjId:Me}));ue(Oe,!0),we("<</Type /Pages");var Ke="/Kids [";for(oe=0;oe<jt;oe++)Ke+=Be[oe]+" 0 R ";we(Ke+"]"),we("/Count "+jt),we(">>"),we("endobj"),xr.publish("postPutPages")},wt=function(R){xr.publish("putFont",{font:R,out:we,newObject:On,putStream:_t}),R.isAlreadyPutted!==!0&&(R.objectNumber=On(),we("<<"),we("/Type /Font"),we("/BaseFont /"+L1(R.postScriptName)),we("/Subtype /Type1"),typeof R.encoding=="string"&&we("/Encoding /"+R.encoding),we("/FirstChar 32"),we("/LastChar 255"),we(">>"),we("endobj"))},kt=function(){for(var R in gt)gt.hasOwnProperty(R)&&(p===!1||p===!0&&g.hasOwnProperty(R))&&wt(gt[R])},Vt=function(R){R.objectNumber=On();var oe=[];oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Form"}),oe.push({key:"BBox",value:"["+[k(R.x),k(R.y),k(R.x+R.width),k(R.y+R.height)].join(" ")+"]"}),oe.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var Be=R.pages[1].join(`
`);_t({data:Be,additionalKeyValues:oe,objectId:R.objectNumber}),we("endobj")},de=function(){for(var R in dn)dn.hasOwnProperty(R)&&Vt(dn[R])},at=function(R,oe){var Be,Ke=[],ut=1/(oe-1);for(Be=0;Be<1;Be+=ut)Ke.push(Be);if(Ke.push(1),R[0].offset!=0){var Ct={offset:0,color:R[0].color};R.unshift(Ct)}if(R[R.length-1].offset!=1){var Lt={offset:1,color:R[R.length-1].color};R.push(Lt)}for(var pr="",Ur=0,fn=0;fn<Ke.length;fn++){for(Be=Ke[fn];Be>R[Ur+1].offset;)Ur++;var hn=R[Ur].offset,Fn=(Be-hn)/(R[Ur+1].offset-hn),Hi=R[Ur].color,hi=R[Ur+1].color;pr+=re(Math.round((1-Fn)*Hi[0]+Fn*hi[0]).toString(16))+re(Math.round((1-Fn)*Hi[1]+Fn*hi[1]).toString(16))+re(Math.round((1-Fn)*Hi[2]+Fn*hi[2]).toString(16))}return pr.trim()},ht=function(R,oe){oe||(oe=21);var Be=On(),Ke=at(R.colors,oe),ut=[];ut.push({key:"FunctionType",value:"0"}),ut.push({key:"Domain",value:"[0.0 1.0]"}),ut.push({key:"Size",value:"["+oe+"]"}),ut.push({key:"BitsPerSample",value:"8"}),ut.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ut.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_t({data:Ke,additionalKeyValues:ut,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Be}),we("endobj"),R.objectNumber=On(),we("<< /ShadingType "+R.type),we("/ColorSpace /DeviceRGB");var Ct="/Coords ["+k(parseFloat(R.coords[0]))+" "+k(parseFloat(R.coords[1]))+" ";R.type===2?Ct+=k(parseFloat(R.coords[2]))+" "+k(parseFloat(R.coords[3])):Ct+=k(parseFloat(R.coords[2]))+" "+k(parseFloat(R.coords[3]))+" "+k(parseFloat(R.coords[4]))+" "+k(parseFloat(R.coords[5])),we(Ct+="]"),R.matrix&&we("/Matrix ["+R.matrix.toString()+"]"),we("/Function "+Be+" 0 R"),we("/Extend [true true]"),we(">>"),we("endobj")},Xt=function(R,oe){var Be=Gn(),Ke=On();oe.push({resourcesOid:Be,objectOid:Ke}),R.objectNumber=Ke;var ut=[];ut.push({key:"Type",value:"/Pattern"}),ut.push({key:"PatternType",value:"1"}),ut.push({key:"PaintType",value:"1"}),ut.push({key:"TilingType",value:"1"}),ut.push({key:"BBox",value:"["+R.boundingBox.map(k).join(" ")+"]"}),ut.push({key:"XStep",value:k(R.xStep)}),ut.push({key:"YStep",value:k(R.yStep)}),ut.push({key:"Resources",value:Be+" 0 R"}),R.matrix&&ut.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),_t({data:R.stream,additionalKeyValues:ut,objectId:R.objectNumber}),we("endobj")},st=function(R){var oe;for(oe in Jr)Jr.hasOwnProperty(oe)&&(Jr[oe]instanceof B0?ht(Jr[oe]):Jr[oe]instanceof rm&&Xt(Jr[oe],R))},Fr=function(R){for(var oe in R.objectNumber=On(),we("<<"),R)switch(oe){case"opacity":we("/ca "+G(R[oe]));break;case"stroke-opacity":we("/CA "+G(R[oe]))}we(">>"),we("endobj")},Rr=function(){var R;for(R in Ln)Ln.hasOwnProperty(R)&&Fr(Ln[R])},ji=function(){for(var R in we("/XObject <<"),dn)dn.hasOwnProperty(R)&&dn[R].objectNumber>=0&&we("/"+R+" "+dn[R].objectNumber+" 0 R");xr.publish("putXobjectDict"),we(">>")},cl=function(){Ra.oid=On(),we("<<"),we("/Filter /Standard"),we("/V "+Ra.v),we("/R "+Ra.r),we("/U <"+Ra.toHexString(Ra.U)+">"),we("/O <"+Ra.toHexString(Ra.O)+">"),we("/P "+Ra.P),we(">>"),we("endobj")},yn=function(){for(var R in we("/Font <<"),gt)gt.hasOwnProperty(R)&&(p===!1||p===!0&&g.hasOwnProperty(R))&&we("/"+R+" "+gt[R].objectNumber+" 0 R");we(">>")},pn=function(){if(Object.keys(Jr).length>0){for(var R in we("/Shading <<"),Jr)Jr.hasOwnProperty(R)&&Jr[R]instanceof B0&&Jr[R].objectNumber>=0&&we("/"+R+" "+Jr[R].objectNumber+" 0 R");xr.publish("putShadingPatternDict"),we(">>")}},en=function(R){if(Object.keys(Jr).length>0){for(var oe in we("/Pattern <<"),Jr)Jr.hasOwnProperty(oe)&&Jr[oe]instanceof x.TilingPattern&&Jr[oe].objectNumber>=0&&Jr[oe].objectNumber<R&&we("/"+oe+" "+Jr[oe].objectNumber+" 0 R");xr.publish("putTilingPatternDict"),we(">>")}},Ga=function(){if(Object.keys(Ln).length>0){var R;for(R in we("/ExtGState <<"),Ln)Ln.hasOwnProperty(R)&&Ln[R].objectNumber>=0&&we("/"+R+" "+Ln[R].objectNumber+" 0 R");xr.publish("putGStateDict"),we(">>")}},Ti=function(R){ue(R.resourcesOid,!0),we("<<"),we("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),yn(),pn(),en(R.objectOid),Ga(),ji(),we(">>"),we("endobj")},Ec=function(){var R=[];kt(),Rr(),de(),st(R),xr.publish("putResources"),R.forEach(Ti),Ti({resourcesOid:Me,objectOid:Number.MAX_SAFE_INTEGER}),xr.publish("postPutResources")},Mi=function(){xr.publish("putAdditionalObjects");for(var R=0;R<xe.length;R++){var oe=xe[R];ue(oe.objId,!0),we(oe.content),we("endobj")}xr.publish("postPutAdditionalObjects")},qs=function(R){Nt[R.fontName]=Nt[R.fontName]||{},Nt[R.fontName][R.fontStyle]=R.id},g0=function(R,oe,Be,Ke,ut){var Ct={id:"F"+(Object.keys(gt).length+1).toString(10),postScriptName:R,fontName:oe,fontStyle:Be,encoding:Ke,isStandardFont:ut||!1,metadata:{}};return xr.publish("addFont",{font:Ct,instance:this}),gt[Ct.id]=Ct,qs(Ct),Ct.id},Wi=function(R){for(var oe=0,Be=Ce.length;oe<Be;oe++){var Ke=g0.call(this,R[oe][0],R[oe][1],R[oe][2],Ce[oe][3],!0);p===!1&&(g[Ke]=!0);var ut=R[oe][0].split("-");qs({id:Ke,fontName:ut[0],fontStyle:ut[1]||""})}xr.publish("addFonts",{fonts:gt,dictionary:Nt})},Ya=function(R){return R.foo=function(){try{return R.apply(this,arguments)}catch(Ke){var oe=Ke.stack||"";~oe.indexOf(" at ")&&(oe=oe.split(" at ")[1]);var Be="Error in function "+oe.split(`
`)[0].split("<")[0]+": "+Ke.message;if(!rn.console)throw new Error(Be);rn.console.error(Be,Ke),rn.alert&&alert(Be)}},R.foo.bar=R,R.foo},Tf=function(R,oe){var Be,Ke,ut,Ct,Lt,pr,Ur,fn,hn;if(ut=(oe=oe||{}).sourceEncoding||"Unicode",Lt=oe.outputEncoding,(oe.autoencode||Lt)&&gt[tt].metadata&&gt[tt].metadata[ut]&&gt[tt].metadata[ut].encoding&&(Ct=gt[tt].metadata[ut].encoding,!Lt&&gt[tt].encoding&&(Lt=gt[tt].encoding),!Lt&&Ct.codePages&&(Lt=Ct.codePages[0]),typeof Lt=="string"&&(Lt=Ct[Lt]),Lt)){for(Ur=!1,pr=[],Be=0,Ke=R.length;Be<Ke;Be++)(fn=Lt[R.charCodeAt(Be)])?pr.push(String.fromCharCode(fn)):pr.push(R[Be]),pr[Be].charCodeAt(0)>>8&&(Ur=!0);R=pr.join("")}for(Be=R.length;Ur===void 0&&Be!==0;)R.charCodeAt(Be-1)>>8&&(Ur=!0),Be--;if(!Ur)return R;for(pr=oe.noBOM?[]:[254,255],Be=0,Ke=R.length;Be<Ke;Be++){if((hn=(fn=R.charCodeAt(Be))>>8)>>8)throw new Error("Character at position "+Be+" of string '"+R+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pr.push(hn),pr.push(fn-(hn<<8))}return String.fromCharCode.apply(void 0,pr)},Da=x.__private__.pdfEscape=x.pdfEscape=function(R,oe){return Tf(R,oe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Jn=x.__private__.beginPage=function(R){Le[++jt]=[],lr[jt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},Re(jt),Ye(Le[Q])},La=function(R,oe){var Be,Ke,ut;switch(r=oe||r,typeof R=="string"&&(Be=N(R.toLowerCase()),Array.isArray(Be)&&(Ke=Be[0],ut=Be[1])),Array.isArray(R)&&(Ke=R[0]*dt,ut=R[1]*dt),isNaN(Ke)&&(Ke=i[0],ut=i[1]),(Ke>14400||ut>14400)&&(Li.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ke=Math.min(14400,Ke),ut=Math.min(14400,ut)),i=[Ke,ut],r.substr(0,1)){case"l":ut>Ke&&(i=[ut,Ke]);break;case"p":Ke>ut&&(i=[ut,Ke])}Jn(i),ns(Cc),we(Fo),ma!==0&&we(ma+" J"),bu!==0&&we(bu+" j"),xr.publish("addPage",{pageNumber:jt})},pt=function(R){R>0&&R<=jt&&(Le.splice(R,1),lr.splice(R,1),jt--,Q>jt&&(Q=jt),this.setPage(Q))},Re=function(R){R>0&&R<=jt&&(Q=R)},Br=x.__private__.getNumberOfPages=x.getNumberOfPages=function(){return Le.length-1},pa=function(R,oe,Be){var Ke,ut=void 0;return Be=Be||{},R=R!==void 0?R:gt[tt].fontName,oe=oe!==void 0?oe:gt[tt].fontStyle,Ke=R.toLowerCase(),Nt[Ke]!==void 0&&Nt[Ke][oe]!==void 0?ut=Nt[Ke][oe]:Nt[R]!==void 0&&Nt[R][oe]!==void 0?ut=Nt[R][oe]:Be.disableWarning===!1&&Li.warn("Unable to look up font label for font '"+R+"', '"+oe+"'. Refer to getFontList() for available fonts."),ut||Be.noFallback||(ut=Nt.times[oe])==null&&(ut=Nt.times.normal),ut},Gs=x.__private__.putInfo=function(){var R=On(),oe=function(Ke){return Ke};for(var Be in f!==null&&(oe=Ra.encryptor(R,0)),we("<<"),we("/Producer ("+Da(oe("jsPDF "+tn.version))+")"),ze)ze.hasOwnProperty(Be)&&ze[Be]&&we("/"+Be.substr(0,1).toUpperCase()+Be.substr(1)+" ("+Da(oe(ze[Be]))+")");we("/CreationDate ("+Da(oe(V))+")"),we(">>"),we("endobj")},x0=x.__private__.putCatalog=function(R){var oe=(R=R||{}).rootDictionaryObjId||Oe;switch(On(),we("<<"),we("/Type /Catalog"),we("/Pages "+oe+" 0 R"),ke||(ke="fullwidth"),ke){case"fullwidth":we("/OpenAction [3 0 R /FitH null]");break;case"fullheight":we("/OpenAction [3 0 R /FitV null]");break;case"fullpage":we("/OpenAction [3 0 R /Fit]");break;case"original":we("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Be=""+ke;Be.substr(Be.length-1)==="%"&&(ke=parseInt(ke)/100),typeof ke=="number"&&we("/OpenAction [3 0 R /XYZ null null "+G(ke)+"]")}switch(qt||(qt="continuous"),qt){case"continuous":we("/PageLayout /OneColumn");break;case"single":we("/PageLayout /SinglePage");break;case"two":case"twoleft":we("/PageLayout /TwoColumnLeft");break;case"tworight":we("/PageLayout /TwoColumnRight")}mt&&we("/PageMode /"+mt),xr.publish("putCatalog"),we(">>"),we("endobj")},v0=x.__private__.putTrailer=function(){we("trailer"),we("<<"),we("/Size "+(le+1)),we("/Root "+le+" 0 R"),we("/Info "+(le-1)+" 0 R"),f!==null&&we("/Encrypt "+Ra.oid+" 0 R"),we("/ID [ <"+ee+"> <"+ee+"> ]"),we(">>")},Ys=x.__private__.putHeader=function(){we("%PDF-"+b),we("%")},zr=x.__private__.putXRef=function(){var R="0000000000";we("xref"),we("0 "+(le+1)),we("0000000000 65535 f ");for(var oe=1;oe<=le;oe++)typeof Ne[oe]=="function"?we((R+Ne[oe]()).slice(-10)+" 00000 n "):Ne[oe]!==void 0?we((R+Ne[oe]).slice(-10)+" 00000 n "):we("0000000000 00000 n ")},Yn=x.__private__.buildDocument=function(){We(),Ye(Ae),xr.publish("buildDocument"),Ys(),xt(),Mi(),Ec(),f!==null&&cl(),Gs(),x0();var R=ve;return zr(),v0(),we("startxref"),we(""+R),we("%%EOF"),Ye(Le[Q]),Ae.join(`
`)},md=x.__private__.getBlob=function(R){return new Blob([ce(R)],{type:"application/pdf"})},Of=x.output=x.__private__.output=Ya(function(R,oe){switch(typeof(oe=oe||{})=="string"?oe={filename:oe}:oe.filename=oe.filename||"generated.pdf",R){case void 0:return Yn();case"save":x.save(oe.filename);break;case"arraybuffer":return ce(Yn());case"blob":return md(Yn());case"bloburi":case"bloburl":if(rn.URL!==void 0&&typeof rn.URL.createObjectURL=="function")return rn.URL&&rn.URL.createObjectURL(md(Yn()))||void 0;Li.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Be="",Ke=Yn();try{Be=Yj(Ke)}catch{Be=Yj(unescape(encodeURIComponent(Ke)))}return"data:application/pdf;filename="+oe.filename+";base64,"+Be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(rn)==="[object Window]"){var ut="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ct=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';oe.pdfObjectUrl&&(ut=oe.pdfObjectUrl,Ct="");var Lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ut+'"'+Ct+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(oe)+");<\/script></body></html>",pr=rn.open();return pr!==null&&pr.document.write(Lt),pr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(rn)==="[object Window]"){var Ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(oe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+oe.filename+'" width="500px" height="400px" /></body></html>',fn=rn.open();if(fn!==null){fn.document.write(Ur);var hn=this;fn.document.documentElement.querySelector("#pdfViewer").onload=function(){fn.document.title=oe.filename,fn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(hn.output("bloburl"))}}return fn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(rn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Fn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",oe)+'"></iframe></body></html>',Hi=rn.open();if(Hi!==null&&(Hi.document.write(Fn),Hi.document.title=oe.filename),Hi||typeof safari>"u")return Hi;break;case"datauri":case"dataurl":return rn.document.location.href=this.output("datauristring",oe);default:return null}}),If=function(R){return Array.isArray(Sa)===!0&&Sa.indexOf(R)>-1};switch(n){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=If("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);dt=n}var Ra=null;Ge(),J();var y0=function(R){return f!==null?Ra.encryptor(R,0):function(oe){return oe}},l1=x.__private__.getPageInfo=x.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lr[R].objId,pageNumber:R,pageContext:lr[R]}},kr=x.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var oe in lr)if(lr[oe].objId===R)break;return l1(oe)},gd=x.__private__.getCurrentPageInfo=x.getCurrentPageInfo=function(){return{objId:lr[Q].objId,pageNumber:Q,pageContext:lr[Q]}};x.addPage=function(){return La.apply(this,arguments),this},x.setPage=function(){return Re.apply(this,arguments),Ye.call(this,Le[Q]),this},x.insertPage=function(R){return this.addPage(),this.movePage(Q,R),this},x.movePage=function(R,oe){var Be,Ke;if(R>oe){Be=Le[R],Ke=lr[R];for(var ut=R;ut>oe;ut--)Le[ut]=Le[ut-1],lr[ut]=lr[ut-1];Le[oe]=Be,lr[oe]=Ke,this.setPage(oe)}else if(R<oe){Be=Le[R],Ke=lr[R];for(var Ct=R;Ct<oe;Ct++)Le[Ct]=Le[Ct+1],lr[Ct]=lr[Ct+1];Le[oe]=Be,lr[oe]=Ke,this.setPage(oe)}return this},x.deletePage=function(){return pt.apply(this,arguments),this},x.__private__.text=x.text=function(R,oe,Be,Ke,ut){var Ct,Lt,pr,Ur,fn,hn,Fn,Hi,hi,na=(Ke=Ke||{}).scope||this;if(typeof R=="number"&&typeof oe=="number"&&(typeof Be=="string"||Array.isArray(Be))){var ms=Be;Be=oe,oe=R,R=ms}if(arguments[3]instanceof dr?(L("The transform parameter of text() with a Matrix value"),hi=ut):(pr=arguments[4],Ur=arguments[5],_i(Fn=arguments[3])==="object"&&Fn!==null||(typeof pr=="string"&&(Ur=pr,pr=null),typeof Fn=="string"&&(Ur=Fn,Fn=null),typeof Fn=="number"&&(pr=Fn,Fn=null),Ke={flags:Fn,angle:pr,align:Ur})),isNaN(oe)||isNaN(Be)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return na;var ia="",dl=!1,Na=typeof Ke.lineHeightFactor=="number"?Ke.lineHeightFactor:yu,mo=na.internal.scaleFactor;function Is(Bi){return Bi=Bi.split("	").join(Array(Ke.TabLen||9).join(" ")),Da(Bi,Fn)}function Mf(Bi){for(var $i,Ba=Bi.concat(),ss=[],wd=Ba.length;wd--;)typeof($i=Ba.shift())=="string"?ss.push($i):Array.isArray(Bi)&&($i.length===1||$i[1]===void 0&&$i[2]===void 0)?ss.push($i[0]):ss.push([$i[0],$i[1],$i[2]]);return ss}function Qs(Bi,$i){var Ba;if(typeof Bi=="string")Ba=$i(Bi)[0];else if(Array.isArray(Bi)){for(var ss,wd,wx=Bi.concat(),d1=[],sw=wx.length;sw--;)typeof(ss=wx.shift())=="string"?d1.push($i(ss)[0]):Array.isArray(ss)&&typeof ss[0]=="string"&&(wd=$i(ss[0],ss[1],ss[2]),d1.push([wd[0],wd[1],wd[2]]));Ba=d1}return Ba}var Df=!1,vd=!0;if(typeof R=="string")Df=!0;else if(Array.isArray(R)){var T0=R.concat();Lt=[];for(var yd,Oi=T0.length;Oi--;)(typeof(yd=T0.shift())!="string"||Array.isArray(yd)&&typeof yd[0]!="string")&&(vd=!1);Df=vd}if(Df===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var Lf=fe/na.internal.scaleFactor,Nu=Lf*(Na-1);switch(Ke.baseline){case"bottom":Be-=Nu;break;case"top":Be+=Lf-Nu;break;case"hanging":Be+=Lf-2*Nu;break;case"middle":Be+=Lf/2-Nu}if((hn=Ke.maxWidth||0)>0&&(typeof R=="string"?R=na.splitTextToSize(R,hn):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(Bi,$i){return Bi.concat(na.splitTextToSize($i,hn))},[]))),Ct={text:R,x:oe,y:Be,options:Ke,mutex:{pdfEscape:Da,activeFontKey:tt,fonts:gt,activeFontSize:fe}},xr.publish("preProcessText",Ct),R=Ct.text,pr=(Ke=Ct.options).angle,!(hi instanceof dr)&&pr&&typeof pr=="number"){pr*=Math.PI/180,Ke.rotationDirection===0&&(pr=-pr),C===E.ADVANCED&&(pr=-pr);var ql=Math.cos(pr),In=Math.sin(pr);hi=new dr(ql,In,-In,ql,0,0)}else pr&&pr instanceof dr&&(hi=pr);C!==E.ADVANCED||hi||(hi=Fi),(fn=Ke.charSpace||bt)!==void 0&&(ia+=k(U(fn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Hi=Ke.horizontalScale)!==void 0&&(ia+=k(100*Hi)+` Tz
`),Ke.lang;var is=-1,ae=Ke.renderingMode!==void 0?Ke.renderingMode:Ke.stroke,d=na.internal.getCurrentPageInfo().pageContext;switch(ae){case 0:case!1:case"fill":is=0;break;case 1:case!0:case"stroke":is=1;break;case 2:case"fillThenStroke":is=2;break;case 3:case"invisible":is=3;break;case 4:case"fillAndAddForClipping":is=4;break;case 5:case"strokeAndAddPathForClipping":is=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":is=6;break;case 7:case"addToPathForClipping":is=7}var h=d.usedRenderingMode!==void 0?d.usedRenderingMode:-1;is!==-1?ia+=is+` Tr
`:h!==-1&&(ia+=`0 Tr
`),is!==-1&&(d.usedRenderingMode=is),Ur=Ke.align||"left";var m,v=fe*Na,w=na.internal.pageSize.getWidth(),S=gt[tt];fn=Ke.charSpace||bt,hn=Ke.maxWidth||0,Fn=Object.assign({autoencode:!0,noBOM:!0},Ke.flags);var j=[],M=function(Bi){return na.getStringUnitWidth(Bi,{font:S,charSpace:fn,fontSize:fe,doKerning:!1})*fe/mo};if(Object.prototype.toString.call(R)==="[object Array]"){var z;Lt=Mf(R),Ur!=="left"&&(m=Lt.map(M));var X,ie=0;if(Ur==="right"){oe-=m[0],R=[],Oi=Lt.length;for(var pe=0;pe<Oi;pe++)pe===0?(X=Hl(oe),z=jc(Be)):(X=U(ie-m[pe]),z=-v),R.push([Lt[pe],X,z]),ie=m[pe]}else if(Ur==="center"){oe-=m[0]/2,R=[],Oi=Lt.length;for(var $e=0;$e<Oi;$e++)$e===0?(X=Hl(oe),z=jc(Be)):(X=U((ie-m[$e])/2),z=-v),R.push([Lt[$e],X,z]),ie=m[$e]}else if(Ur==="left"){R=[],Oi=Lt.length;for(var Xe=0;Xe<Oi;Xe++)R.push(Lt[Xe])}else if(Ur==="justify"&&S.encoding==="Identity-H"){R=[],Oi=Lt.length,hn=hn!==0?hn:w;for(var Qe=0,ot=0;ot<Oi;ot++)if(z=ot===0?jc(Be):-v,X=ot===0?Hl(oe):Qe,ot<Oi-1){var St=U((hn-m[ot])/(Lt[ot].split(" ").length-1)),Ft=Lt[ot].split(" ");R.push([Ft[0]+" ",X,z]),Qe=0;for(var Wt=1;Wt<Ft.length;Wt++){var $t=(M(Ft[Wt-1]+" "+Ft[Wt])-M(Ft[Wt]))*mo+St;Wt==Ft.length-1?R.push([Ft[Wt],$t,0]):R.push([Ft[Wt]+" ",$t,0]),Qe-=$t}}else R.push([Lt[ot],X,z]);R.push(["",Qe,0])}else{if(Ur!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],Oi=Lt.length,hn=hn!==0?hn:w,ot=0;ot<Oi;ot++)z=ot===0?jc(Be):-v,X=ot===0?Hl(oe):0,ot<Oi-1?j.push(k(U((hn-m[ot])/(Lt[ot].split(" ").length-1)))):j.push(0),R.push([Lt[ot],X,z])}}var En=typeof Ke.R2L=="boolean"?Ke.R2L:nt;En===!0&&(R=Qs(R,function(Bi,$i,Ba){return[Bi.split("").reverse().join(""),$i,Ba]})),Ct={text:R,x:oe,y:Be,options:Ke,mutex:{pdfEscape:Da,activeFontKey:tt,fonts:gt,activeFontSize:fe}},xr.publish("postProcessText",Ct),R=Ct.text,dl=Ct.mutex.isHex||!1;var sn=gt[tt].encoding;sn!=="WinAnsiEncoding"&&sn!=="StandardEncoding"||(R=Qs(R,function(Bi,$i,Ba){return[Is(Bi),$i,Ba]})),Lt=Mf(R),R=[];for(var Ea,as,xa,Wn=0,aa=1,Fa=Array.isArray(Lt[0])?aa:Wn,go="",Gl=function(Bi,$i,Ba){var ss="";return Ba instanceof dr?(Ba=typeof Ke.angle=="number"?qa(Ba,new dr(1,0,0,1,Bi,$i)):qa(new dr(1,0,0,1,Bi,$i),Ba),C===E.ADVANCED&&(Ba=qa(new dr(1,0,0,-1,0,0),Ba)),ss=Ba.join(" ")+` Tm
`):ss=k(Bi)+" "+k($i)+` Td
`,ss},Bo=0;Bo<Lt.length;Bo++){switch(go="",Fa){case aa:xa=(dl?"<":"(")+Lt[Bo][0]+(dl?">":")"),Ea=parseFloat(Lt[Bo][1]),as=parseFloat(Lt[Bo][2]);break;case Wn:xa=(dl?"<":"(")+Lt[Bo]+(dl?">":")"),Ea=Hl(oe),as=jc(Be)}j!==void 0&&j[Bo]!==void 0&&(go=j[Bo]+` Tw
`),Bo===0?R.push(go+Gl(Ea,as,hi)+xa):Fa===Wn?R.push(go+xa):Fa===aa&&R.push(go+Gl(Ea,as,hi)+xa)}R=Fa===Wn?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var $o=`BT
/`;return $o+=tt+" "+fe+` Tf
`,$o+=k(fe*Na)+` TL
`,$o+=Xs+`
`,$o+=ia,$o+=R,we($o+="ET"),g[tt]=!0,na};var Vl=x.__private__.clip=x.clip=function(R){return we(R==="evenodd"?"W*":"W"),this};x.clipEvenOdd=function(){return Vl("evenodd")},x.__private__.discardPath=x.discardPath=function(){return we("n"),this};var $r=x.__private__.isValidStyle=function(R){var oe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(oe=!0),oe};x.__private__.setDefaultPathOperation=x.setDefaultPathOperation=function(R){return $r(R)&&(u=R),this};var c1=x.__private__.getStyle=x.getStyle=function(R){var oe=u;switch(R){case"D":case"S":oe="S";break;case"F":oe="f";break;case"FD":case"DF":oe="B";break;case"f":case"f*":case"B":case"B*":oe=R}return oe},vn=x.close=function(){return we("h"),this};x.stroke=function(){return we("S"),this},x.fill=function(R){return ra("f",R),this},x.fillEvenOdd=function(R){return ra("f*",R),this},x.fillStroke=function(R){return ra("B",R),this},x.fillStrokeEvenOdd=function(R){return ra("B*",R),this};var ra=function(R,oe){_i(oe)==="object"?u1(oe,R):we(R)},w0=function(R){R===null||C===E.ADVANCED&&R===void 0||(R=c1(R),we(R))};function b0(R,oe,Be,Ke,ut){var Ct=new rm(oe||this.boundingBox,Be||this.xStep,Ke||this.yStep,this.gState,ut||this.matrix);Ct.stream=this.stream;var Lt=R+"$$"+this.cloneIndex+++"$$";return _a(Lt,Ct),Ct}var u1=function(R,oe){var Be=fa[R.key],Ke=Jr[Be];if(Ke instanceof B0)we("q"),we(Ac(oe)),Ke.gState&&x.setGState(Ke.gState),we(R.matrix.toString()+" cm"),we("/"+Be+" sh"),we("Q");else if(Ke instanceof rm){var ut=new dr(1,0,0,-1,0,Ks());R.matrix&&(ut=ut.multiply(R.matrix||Fi),Be=b0.call(Ke,R.key,R.boundingBox,R.xStep,R.yStep,ut).id),we("q"),we("/Pattern cs"),we("/"+Be+" scn"),Ke.gState&&x.setGState(Ke.gState),we(oe),we("Q")}},Ac=function(R){switch(R){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},S0=x.moveTo=function(R,oe){return we(k(U(R))+" "+k(K(oe))+" m"),this},ul=x.lineTo=function(R,oe){return we(k(U(R))+" "+k(K(oe))+" l"),this},Ro=x.curveTo=function(R,oe,Be,Ke,ut,Ct){return we([k(U(R)),k(K(oe)),k(U(Be)),k(K(Ke)),k(U(ut)),k(K(Ct)),"c"].join(" ")),this};x.__private__.line=x.line=function(R,oe,Be,Ke,ut){if(isNaN(R)||isNaN(oe)||isNaN(Be)||isNaN(Ke)||!$r(ut))throw new Error("Invalid arguments passed to jsPDF.line");return C===E.COMPAT?this.lines([[Be-R,Ke-oe]],R,oe,[1,1],ut||"S"):this.lines([[Be-R,Ke-oe]],R,oe,[1,1]).stroke()},x.__private__.lines=x.lines=function(R,oe,Be,Ke,ut,Ct){var Lt,pr,Ur,fn,hn,Fn,Hi,hi,na,ms,ia,dl;if(typeof R=="number"&&(dl=Be,Be=oe,oe=R,R=dl),Ke=Ke||[1,1],Ct=Ct||!1,isNaN(oe)||isNaN(Be)||!Array.isArray(R)||!Array.isArray(Ke)||!$r(ut)||typeof Ct!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(S0(oe,Be),Lt=Ke[0],pr=Ke[1],fn=R.length,ms=oe,ia=Be,Ur=0;Ur<fn;Ur++)(hn=R[Ur]).length===2?(ms=hn[0]*Lt+ms,ia=hn[1]*pr+ia,ul(ms,ia)):(Fn=hn[0]*Lt+ms,Hi=hn[1]*pr+ia,hi=hn[2]*Lt+ms,na=hn[3]*pr+ia,ms=hn[4]*Lt+ms,ia=hn[5]*pr+ia,Ro(Fn,Hi,hi,na,ms,ia));return Ct&&vn(),w0(ut),this},x.path=function(R){for(var oe=0;oe<R.length;oe++){var Be=R[oe],Ke=Be.c;switch(Be.op){case"m":S0(Ke[0],Ke[1]);break;case"l":ul(Ke[0],Ke[1]);break;case"c":Ro.apply(this,Ke);break;case"h":vn()}}return this},x.__private__.rect=x.rect=function(R,oe,Be,Ke,ut){if(isNaN(R)||isNaN(oe)||isNaN(Be)||isNaN(Ke)||!$r(ut))throw new Error("Invalid arguments passed to jsPDF.rect");return C===E.COMPAT&&(Ke=-Ke),we([k(U(R)),k(K(oe)),k(U(Be)),k(U(Ke)),"re"].join(" ")),w0(ut),this},x.__private__.triangle=x.triangle=function(R,oe,Be,Ke,ut,Ct,Lt){if(isNaN(R)||isNaN(oe)||isNaN(Be)||isNaN(Ke)||isNaN(ut)||isNaN(Ct)||!$r(Lt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Be-R,Ke-oe],[ut-Be,Ct-Ke],[R-ut,oe-Ct]],R,oe,[1,1],Lt,!0),this},x.__private__.roundedRect=x.roundedRect=function(R,oe,Be,Ke,ut,Ct,Lt){if(isNaN(R)||isNaN(oe)||isNaN(Be)||isNaN(Ke)||isNaN(ut)||isNaN(Ct)||!$r(Lt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var pr=4/3*(Math.SQRT2-1);return ut=Math.min(ut,.5*Be),Ct=Math.min(Ct,.5*Ke),this.lines([[Be-2*ut,0],[ut*pr,0,ut,Ct-Ct*pr,ut,Ct],[0,Ke-2*Ct],[0,Ct*pr,-ut*pr,Ct,-ut,Ct],[2*ut-Be,0],[-ut*pr,0,-ut,-Ct*pr,-ut,-Ct],[0,2*Ct-Ke],[0,-Ct*pr,ut*pr,-Ct,ut,-Ct]],R+ut,oe,[1,1],Lt,!0),this},x.__private__.ellipse=x.ellipse=function(R,oe,Be,Ke,ut){if(isNaN(R)||isNaN(oe)||isNaN(Be)||isNaN(Ke)||!$r(ut))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ct=4/3*(Math.SQRT2-1)*Be,Lt=4/3*(Math.SQRT2-1)*Ke;return S0(R+Be,oe),Ro(R+Be,oe-Lt,R+Ct,oe-Ke,R,oe-Ke),Ro(R-Ct,oe-Ke,R-Be,oe-Lt,R-Be,oe),Ro(R-Be,oe+Lt,R-Ct,oe+Ke,R,oe+Ke),Ro(R+Ct,oe+Ke,R+Be,oe+Lt,R+Be,oe),w0(ut),this},x.__private__.circle=x.circle=function(R,oe,Be,Ke){if(isNaN(R)||isNaN(oe)||isNaN(Be)||!$r(Ke))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,oe,Be,Be,Ke)},x.setFont=function(R,oe,Be){return Be&&(oe=D(oe,Be)),tt=pa(R,oe,{disableWarning:!1}),this};var xd=x.__private__.getFont=x.getFont=function(){return gt[pa.apply(x,arguments)]};x.__private__.getFontList=x.getFontList=function(){var R,oe,Be={};for(R in Nt)if(Nt.hasOwnProperty(R))for(oe in Be[R]=[],Nt[R])Nt[R].hasOwnProperty(oe)&&Be[R].push(oe);return Be},x.addFont=function(R,oe,Be,Ke,ut){var Ct=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ct.indexOf(arguments[3])!==-1?ut=arguments[3]:arguments[3]&&Ct.indexOf(arguments[3])==-1&&(Be=D(Be,Ke)),ut=ut||"Identity-H",g0.call(this,R,oe,Be,ut)};var yu,Cc=e.lineWidth||.200025,Wl=x.__private__.getLineWidth=x.getLineWidth=function(){return Cc},ns=x.__private__.setLineWidth=x.setLineWidth=function(R){return Cc=R,we(k(U(R))+" w"),this};x.__private__.setLineDash=tn.API.setLineDash=tn.API.setLineDashPattern=function(R,oe){if(R=R||[],oe=oe||0,isNaN(oe)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(Be){return k(U(Be))}).join(" "),oe=k(U(oe)),we("["+R+"] "+oe+" d"),this};var _0=x.__private__.getLineHeight=x.getLineHeight=function(){return fe*yu};x.__private__.getLineHeight=x.getLineHeight=function(){return fe*yu};var N0=x.__private__.setLineHeightFactor=x.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(yu=R),this},E0=x.__private__.getLineHeightFactor=x.getLineHeightFactor=function(){return yu};N0(e.lineHeight);var Hl=x.__private__.getHorizontalCoordinate=function(R){return U(R)},jc=x.__private__.getVerticalCoordinate=function(R){return C===E.ADVANCED?R:lr[Q].mediaBox.topRightY-lr[Q].mediaBox.bottomLeftY-U(R)},vx=x.__private__.getHorizontalCoordinateString=x.getHorizontalCoordinateString=function(R){return k(Hl(R))},Rn=x.__private__.getVerticalCoordinateString=x.getVerticalCoordinateString=function(R){return k(jc(R))},Fo=e.strokeColor||"0 G";x.__private__.getStrokeColor=x.getDrawColor=function(){return Fe(Fo)},x.__private__.setStrokeColor=x.setDrawColor=function(R,oe,Be,Ke){return Fo=Ve({ch1:R,ch2:oe,ch3:Be,ch4:Ke,pdfColorType:"draw",precision:2}),we(Fo),this};var wu=e.fillColor||"0 g";x.__private__.getFillColor=x.getFillColor=function(){return Fe(wu)},x.__private__.setFillColor=x.setFillColor=function(R,oe,Be,Ke){return wu=Ve({ch1:R,ch2:oe,ch3:Be,ch4:Ke,pdfColorType:"fill",precision:2}),we(wu),this};var Xs=e.textColor||"0 g",yx=x.__private__.getTextColor=x.getTextColor=function(){return Fe(Xs)};x.__private__.setTextColor=x.setTextColor=function(R,oe,Be,Ke){return Xs=Ve({ch1:R,ch2:oe,ch3:Be,ch4:Ke,pdfColorType:"text",precision:3}),this};var bt=e.charSpace,bn=x.__private__.getCharSpace=x.getCharSpace=function(){return parseFloat(bt||0)};x.__private__.setCharSpace=x.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return bt=R,this};var ma=0;x.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},x.__private__.setLineCap=x.setLineCap=function(R){var oe=x.CapJoinStyles[R];if(oe===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ma=oe,we(oe+" J"),this};var bu=0;x.__private__.setLineJoin=x.setLineJoin=function(R){var oe=x.CapJoinStyles[R];if(oe===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return bu=oe,we(oe+" j"),this},x.__private__.setLineMiterLimit=x.__private__.setMiterLimit=x.setLineMiterLimit=x.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return we(k(U(R))+" M"),this},x.GState=z5,x.setGState=function(R){(R=typeof R=="string"?Ln[Te[R]]:A0(null,R)).equals(it)||(we("/"+R.id+" gs"),it=R)};var A0=function(R,oe){if(!R||!Te[R]){var Be=!1;for(var Ke in Ln)if(Ln.hasOwnProperty(Ke)&&Ln[Ke].equals(oe)){Be=!0;break}if(Be)oe=Ln[Ke];else{var ut="GS"+(Object.keys(Ln).length+1).toString(10);Ln[ut]=oe,oe.id=ut}return R&&(Te[R]=oe.id),xr.publish("addGState",oe),oe}};x.addGState=function(R,oe){return A0(R,oe),this},x.saveGraphicsState=function(){return we("q"),Pr.push({key:tt,size:fe,color:Xs}),this},x.restoreGraphicsState=function(){we("Q");var R=Pr.pop();return tt=R.key,fe=R.size,Xs=R.color,it=null,this},x.setCurrentTransformationMatrix=function(R){return we(R.toString()+" cm"),this},x.comment=function(R){return we("#"+R),this};var Pf=function(R,oe){var Be=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Be},set:function(Ct){isNaN(Ct)||(Be=parseFloat(Ct))}});var Ke=oe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ke},set:function(Ct){isNaN(Ct)||(Ke=parseFloat(Ct))}});var ut="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ut},set:function(Ct){ut=Ct.toString()}}),this},C0=function(R,oe,Be,Ke){Pf.call(this,R,oe),this.type="rect";var ut=Be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ut},set:function(Lt){isNaN(Lt)||(ut=parseFloat(Lt))}});var Ct=Ke||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ct},set:function(Lt){isNaN(Lt)||(Ct=parseFloat(Lt))}}),this},j0=function(){this.page=jt,this.currentPage=Q,this.pages=Le.slice(0),this.pagesContext=lr.slice(0),this.x=Zt,this.y=ne,this.matrix=De,this.width=ci(Q),this.height=Ks(Q),this.outputDestination=ye,this.id="",this.objectNumber=-1};j0.prototype.restore=function(){jt=this.page,Q=this.currentPage,lr=this.pagesContext,Le=this.pages,Zt=this.x,ne=this.y,De=this.matrix,_u(Q,this.width),Xn(Q,this.height),ye=this.outputDestination};var kf=function(R,oe,Be,Ke,ut){li.push(new j0),jt=Q=0,Le=[],Zt=R,ne=oe,De=ut,Jn([Be,Ke])},ga=function(R){if(ha[R])li.pop().restore();else{var oe=new j0,Be="Xo"+(Object.keys(dn).length+1).toString(10);oe.id=Be,ha[R]=Be,dn[Be]=oe,xr.publish("addFormObject",oe),li.pop().restore()}};for(var Su in x.beginFormObject=function(R,oe,Be,Ke,ut){return kf(R,oe,Be,Ke,ut),this},x.endFormObject=function(R){return ga(R),this},x.doFormObject=function(R,oe){var Be=dn[ha[R]];return we("q"),we(oe.toString()+" cm"),we("/"+Be.id+" Do"),we("Q"),this},x.getFormObject=function(R){var oe=dn[ha[R]];return{x:oe.x,y:oe.y,width:oe.width,height:oe.height,matrix:oe.matrix}},x.save=function(R,oe){return R=R||"generated.pdf",(oe=oe||{}).returnPromise=oe.returnPromise||!1,oe.returnPromise===!1?(R0(md(Yn()),R),typeof R0.unload=="function"&&rn.setTimeout&&setTimeout(R0.unload,911),this):new Promise(function(Be,Ke){try{var ut=R0(md(Yn()),R);typeof R0.unload=="function"&&rn.setTimeout&&setTimeout(R0.unload,911),Be(ut)}catch(Ct){Ke(Ct.message)}})},tn.API)tn.API.hasOwnProperty(Su)&&(Su==="events"&&tn.API.events.length?function(R,oe){var Be,Ke,ut;for(ut=oe.length-1;ut!==-1;ut--)Be=oe[ut][0],Ke=oe[ut][1],R.subscribe.apply(R,[Be].concat(typeof Ke=="function"?[Ke]:Ke))}(xr,tn.API.events):x[Su]=tn.API[Su]);var ci=x.getPageWidth=function(R){return(lr[R=R||Q].mediaBox.topRightX-lr[R].mediaBox.bottomLeftX)/dt},_u=x.setPageWidth=function(R,oe){lr[R].mediaBox.topRightX=oe*dt+lr[R].mediaBox.bottomLeftX},Ks=x.getPageHeight=function(R){return(lr[R=R||Q].mediaBox.topRightY-lr[R].mediaBox.bottomLeftY)/dt},Xn=x.setPageHeight=function(R,oe){lr[R].mediaBox.topRightY=oe*dt+lr[R].mediaBox.bottomLeftY};return x.internal={pdfEscape:Da,getStyle:c1,getFont:xd,getFontSize:He,getCharSpace:bn,getTextColor:yx,getLineHeight:_0,getLineHeightFactor:E0,getLineWidth:Wl,write:Pe,getHorizontalCoordinate:Hl,getVerticalCoordinate:jc,getCoordinateString:vx,getVerticalCoordinateString:Rn,collections:{},newObject:On,newAdditionalObject:_e,newObjectDeferred:Gn,newObjectDeferredBegin:ue,getFilters:ft,putStream:_t,events:xr,scaleFactor:dt,pageSize:{getWidth:function(){return ci(Q)},setWidth:function(R){_u(Q,R)},getHeight:function(){return Ks(Q)},setHeight:function(R){Xn(Q,R)}},encryptionOptions:f,encryption:Ra,getEncryptor:y0,output:Of,getNumberOfPages:Br,pages:Le,out:we,f2:G,f3:F,getPageInfo:l1,getPageInfoByObjId:kr,getCurrentPageInfo:gd,getPDFVersion:y,Point:Pf,Rectangle:C0,Matrix:dr,hasHotfix:If},Object.defineProperty(x.internal.pageSize,"width",{get:function(){return ci(Q)},set:function(R){_u(Q,R)},enumerable:!0,configurable:!0}),Object.defineProperty(x.internal.pageSize,"height",{get:function(){return Ks(Q)},set:function(R){Xn(Q,R)},enumerable:!0,configurable:!0}),Wi.call(x,Ce),tt="F1",La(i,r),xr.publish("initialized"),x}D1.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},D1.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},D1.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},D1.prototype.processOwnerPassword=function(e,t){return Kj(Xj(t).substr(0,5),e)},D1.prototype.encryptor=function(e,t){var r=Xj(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Kj(r,n)}},z5.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||_i(e)!==_i(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},tn.API={events:[]},tn.version="3.0.1";var ja=tn.API,K6=1,r1=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},C1=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},wn=function(e){return e.toFixed(2)},Yf=function(e){return e.toFixed(5)};ja.__acroform__={};var ll=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},J7=function(e){return e*K6},Cu=function(e){var t=new rX,r=Mr.internal.getHeight(e)||0,n=Mr.internal.getWidth(e)||0;return t.BBox=[0,0,Number(wn(n)),Number(wn(r))],t},GMe=ja.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},YMe=ja.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},XMe=ja.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ua=ja.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return XMe(e,t-1)},za=ja.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return GMe(e,t-1)},Va=ja.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return YMe(e,t-1)},KMe=ja.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(a+l)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(a)||0,[Number(wn(c.lowerLeft_X)),Number(wn(c.lowerLeft_Y)),Number(wn(c.upperRight_X)),Number(wn(c.upperRight_Y))]},QMe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Qj(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+wn(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Cu(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},Qj=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(F){return F.split(`
`)}):i.map(function(F){return[F]});var a=r,o=Mr.internal.getHeight(e)||0;o=o<0?-o:o;var l=Mr.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(F,U,q){if(F+1<i.length){var K=U+" "+i[F+1][0];return wb(K,e,q).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var u,f,p=wb("3",e,a).height,g=e.multiline?o-a:(o-p)/2,x=g+=2,b=0,y=0,_=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+wb(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var N="",E=0,C=0;C<i.length;C++)if(i.hasOwnProperty(C)){var I=!1;if(i[C].length!==1&&_!==i[C].length-1){if((p+2)*(E+2)+2>o)continue e;N+=i[C][_],I=!0,y=C,C--}else{N=(N+=i[C][_]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var P=parseInt(C),D=c(P,N,a),k=C>=i.length-1;if(D&&!k){N+=" ",_=0;continue}if(D||k){if(k)y=P;else if(e.multiline&&(p+2)*(E+2)+2>o)continue e}else{if(!e.multiline||(p+2)*(E+2)+2>o)continue e;y=P}}for(var L="",B=b;B<=y;B++){var G=i[B];if(e.multiline){if(B===y){L+=G[_]+" ",_=(_+1)%G.length;continue}if(B===b){L+=G[G.length-1]+" ";continue}}L+=G[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,f=wb(L,e,a).width,e.textAlign){case"right":u=l-f-2;break;case"center":u=(l-f)/2;break;case"left":default:u=2}t+=wn(u)+" "+wn(x)+` Td
`,t+="("+r1(L)+`) Tj
`,t+=-wn(u)+` 0 Td
`,x=-(a+2),f=0,b=I?y:y+1,E++,N=""}break}return n.text=t,n.fontSize=a,n},wb=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},ZMe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},JMe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},eDe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,i=e[r];t.internal.newObjectDeferredBegin(i.objId,!0),_i(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[n]}},tDe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(xu.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(ZMe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");K6=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new nX,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&JMe(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=KMe(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Mr.createDefaultAppearanceStream(l),_i(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=QMe(l);c.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var p="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var x=l.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(x).length>=1||Array.isArray(x)){for(var o in x)if(x.hasOwnProperty(o)){var b=x[o];typeof b=="function"&&(b=b.call(i,l)),p+="/"+o+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=x)=="function"&&(b=b.call(i,l)),p+="/"+o+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);p+=">>"}c.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&eDe(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},tX=ja.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),_i(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+r1(n(e[a].toString()))+")"):i+=e[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},SA=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+r1(n(e))+")"},Wu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Wu.prototype.toString=function(){return this.objId+" 0 R"},Wu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Wu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:tX(i,this.objId,this.scope)}):i instanceof Wu?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var rX=function(){Wu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ll(rX,Wu);var nX=function(){Wu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+r1(r(e))+")"}},set:function(r){e=r}})};ll(nX,Wu);var xu=function e(){Wu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');t=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ua(t,3)},set:function(N){N?this.F=za(t,3):this.F=Va(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');r=N}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(N){n=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(N){n[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(N){n[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(N){n[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(N){n[3]=N}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof V5)return;a="FieldObject"+e.FieldNum++}var N=function(E){return E};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+r1(N(a))+")"},set:function(N){a=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(N){a=N}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(N){c=N}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/K6:u},set:function(N){u=N}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(N){f=N}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof V5||this instanceof hp))return SA(p,this.objId,this.scope)},set:function(N){N=N.toString(),p=N}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ws?g:SA(g,this.objId,this.scope)},set:function(N){N=N.toString(),g=this instanceof ws?N:N.substr(0,1)==="("?C1(N.substr(1,N.length-2)):C1(N)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ws?C1(g.substr(1,g.length-1)):g},set:function(N){N=N.toString(),g=this instanceof ws?"/"+N:N}});var x=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(x)return x},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof ws?x:SA(x,this.objId,this.scope)},set:function(N){N=N.toString(),x=this instanceof ws?N:N.substr(0,1)==="("?C1(N.substr(1,N.length-2)):C1(N)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ws?C1(x.substr(1,x.length-1)):x},set:function(N){N=N.toString(),x=this instanceof ws?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(N){N=!!N,y=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(N){b=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,1)},set:function(N){N?this.Ff=za(this.Ff,1):this.Ff=Va(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,2)},set:function(N){N?this.Ff=za(this.Ff,2):this.Ff=Va(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,3)},set:function(N){N?this.Ff=za(this.Ff,3):this.Ff=Va(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');_=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(_){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:_=2;break;case"center":case 1:_=1;break;case"left":case 0:default:_=0}}})};ll(xu,Wu);var Sm=function(){xu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return tX(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,o,l){l||(l=1);for(var c,u=[];c=o.exec(a);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,18)},set:function(r){r?this.Ff=za(this.Ff,18):this.Ff=Va(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=za(this.Ff,19):this.Ff=Va(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,20)},set:function(r){r?(this.Ff=za(this.Ff,20),t.sort()):this.Ff=Va(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,22)},set:function(r){r?this.Ff=za(this.Ff,22):this.Ff=Va(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,23)},set:function(r){r?this.Ff=za(this.Ff,23):this.Ff=Va(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,27)},set:function(r){r?this.Ff=za(this.Ff,27):this.Ff=Va(this.Ff,27)}}),this.hasAppearanceStream=!1};ll(Sm,xu);var _m=function(){Sm.call(this),this.fontName="helvetica",this.combo=!1};ll(_m,Sm);var Nm=function(){_m.call(this),this.combo=!0};ll(Nm,_m);var Qb=function(){Nm.call(this),this.edit=!0};ll(Qb,Nm);var ws=function(){xu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,15)},set:function(r){r?this.Ff=za(this.Ff,15):this.Ff=Va(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,16)},set:function(r){r?this.Ff=za(this.Ff,16):this.Ff=Va(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,17)},set:function(r){r?this.Ff=za(this.Ff,17):this.Ff=Va(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,26)},set:function(r){r?this.Ff=za(this.Ff,26):this.Ff=Va(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+r1(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){_i(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};ll(ws,xu);var Zb=function(){ws.call(this),this.pushButton=!0};ll(Zb,ws);var Em=function(){ws.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ll(Em,ws);var V5=function(){var e,t;xu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),n)o.push("/"+a+" ("+r1(i(n[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){_i(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Mr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ll(V5,xu),Em.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Em.prototype.createOption=function(e){var t=new V5;return t.Parent=this,t.optionName=e,this.Kids.push(t),rDe.call(this.scope,t),t};var Jb=function(){ws.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Mr.CheckBox.createAppearanceStream()};ll(Jb,ws);var hp=function(){xu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,13)},set:function(t){t?this.Ff=za(this.Ff,13):this.Ff=Va(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,21)},set:function(t){t?this.Ff=za(this.Ff,21):this.Ff=Va(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,23)},set:function(t){t?this.Ff=za(this.Ff,23):this.Ff=Va(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,24)},set:function(t){t?this.Ff=za(this.Ff,24):this.Ff=Va(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,25)},set:function(t){t?this.Ff=za(this.Ff,25):this.Ff=Va(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,26)},set:function(t){t?this.Ff=za(this.Ff,26):this.Ff=Va(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ll(hp,xu);var eS=function(){hp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ua(this.Ff,14)},set:function(e){e?this.Ff=za(this.Ff,14):this.Ff=Va(this.Ff,14)}}),this.password=!0};ll(eS,hp);var Mr={CheckBox:{createAppearanceStream:function(){return{N:{On:Mr.CheckBox.YesNormal},D:{On:Mr.CheckBox.YesPushDown,Off:Mr.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Cu(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=Qj(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+wn(Mr.internal.getWidth(e))+" "+wn(Mr.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+wn(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Cu(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=Mr.internal.getHeight(e),o=Mr.internal.getWidth(e),l=Qj(e,e.caption);return i.push("1 g"),i.push("0 0 "+wn(o)+" "+wn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+wn(o-1)+" "+wn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+wn(l.fontSize)+" Tf "+n),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Cu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+wn(Mr.internal.getWidth(e))+" "+wn(Mr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Mr.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Mr.RadioButton.Circle.YesNormal,t.D[e]=Mr.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Cu(e);t.scope=e.scope;var r=[],n=Mr.internal.getWidth(e)<=Mr.internal.getHeight(e)?Mr.internal.getWidth(e)/4:Mr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Mr.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Yf(Mr.internal.getWidth(e)/2)+" "+Yf(Mr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Cu(e);t.scope=e.scope;var r=[],n=Mr.internal.getWidth(e)<=Mr.internal.getHeight(e)?Mr.internal.getWidth(e)/4:Mr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Mr.internal.Bezier_C).toFixed(5)),o=Number((n*Mr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Yf(Mr.internal.getWidth(e)/2)+" "+Yf(Mr.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Yf(Mr.internal.getWidth(e)/2)+" "+Yf(Mr.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Cu(e);t.scope=e.scope;var r=[],n=Mr.internal.getWidth(e)<=Mr.internal.getHeight(e)?Mr.internal.getWidth(e)/4:Mr.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Mr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Yf(Mr.internal.getWidth(e)/2)+" "+Yf(Mr.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Mr.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Mr.RadioButton.Cross.YesNormal,t.D[e]=Mr.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Cu(e);t.scope=e.scope;var r=[],n=Mr.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+wn(Mr.internal.getWidth(e)-2)+" "+wn(Mr.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(wn(n.x1.x)+" "+wn(n.x1.y)+" m"),r.push(wn(n.x2.x)+" "+wn(n.x2.y)+" l"),r.push(wn(n.x4.x)+" "+wn(n.x4.y)+" m"),r.push(wn(n.x3.x)+" "+wn(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Cu(e);t.scope=e.scope;var r=Mr.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+wn(Mr.internal.getWidth(e))+" "+wn(Mr.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+wn(Mr.internal.getWidth(e)-2)+" "+wn(Mr.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(wn(r.x1.x)+" "+wn(r.x1.y)+" m"),n.push(wn(r.x2.x)+" "+wn(r.x2.y)+" l"),n.push(wn(r.x4.x)+" "+wn(r.x4.y)+" m"),n.push(wn(r.x3.x)+" "+wn(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Cu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+wn(Mr.internal.getWidth(e))+" "+wn(Mr.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Mr.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Mr.internal.getWidth(e),r=Mr.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Mr.internal.getWidth=function(e){var t=0;return _i(e)==="object"&&(t=J7(e.Rect[2])),t},Mr.internal.getHeight=function(e){var t=0;return _i(e)==="object"&&(t=J7(e.Rect[3])),t};var rDe=ja.addField=function(e){if(tDe(this,e),!(e instanceof xu))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ja.AcroFormChoiceField=Sm,ja.AcroFormListBox=_m,ja.AcroFormComboBox=Nm,ja.AcroFormEditBox=Qb,ja.AcroFormButton=ws,ja.AcroFormPushButton=Zb,ja.AcroFormRadioButton=Em,ja.AcroFormCheckBox=Jb,ja.AcroFormTextField=hp,ja.AcroFormPasswordField=eS,ja.AcroFormAppearance=Mr,ja.AcroForm={ChoiceField:Sm,ListBox:_m,ComboBox:Nm,EditBox:Qb,Button:ws,PushButton:Zb,RadioButton:Em,CheckBox:Jb,TextField:hp,PasswordField:eS,Appearance:Mr},tn.AcroForm={ChoiceField:Sm,ListBox:_m,ComboBox:Nm,EditBox:Qb,Button:ws,PushButton:Zb,RadioButton:Em,CheckBox:Jb,TextField:hp,PasswordField:eS,Appearance:Mr};function iX(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(F,U){var q,K,V,ee,te,J=t;if((U=U||t)==="RGBA"||F.data!==void 0&&F.data instanceof Uint8ClampedArray&&"height"in F&&"width"in F)return"RGBA";if(D(F))for(te in r)for(V=r[te],q=0;q<V.length;q+=1){for(ee=!0,K=0;K<V[q].length;K+=1)if(V[q][K]!==void 0&&V[q][K]!==F[K]){ee=!1;break}if(ee===!0){J=te;break}}else for(te in r)for(V=r[te],q=0;q<V.length;q+=1){for(ee=!0,K=0;K<V[q].length;K+=1)if(V[q][K]!==void 0&&V[q][K]!==F.charCodeAt(K)){ee=!1;break}if(ee===!0){J=te;break}}return J===t&&U!==t&&(J=U),J},i=function F(U){for(var q=this.internal.write,K=this.internal.putStream,V=(0,this.internal.getFilters)();V.indexOf("FlateEncode")!==-1;)V.splice(V.indexOf("FlateEncode"),1);U.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:U.width}),ee.push({key:"Height",value:U.height}),U.colorSpace===_.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(U.palette.length/3-1)+" "+("sMask"in U&&U.sMask!==void 0?U.objectId+2:U.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+U.colorSpace}),U.colorSpace===_.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:U.bitsPerComponent}),"decodeParameters"in U&&U.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+U.decodeParameters+">>"}),"transparency"in U&&Array.isArray(U.transparency)){for(var te="",J=0,ge=U.transparency.length;J<ge;J++)te+=U.transparency[J]+" "+U.transparency[J]+" ";ee.push({key:"Mask",value:"["+te+"]"})}U.sMask!==void 0&&ee.push({key:"SMask",value:U.objectId+1+" 0 R"});var Ie=U.filter!==void 0?["/"+U.filter]:void 0;if(K({data:U.data,additionalKeyValues:ee,alreadyAppliedFilters:Ie,objectId:U.objectId}),q("endobj"),"sMask"in U&&U.sMask!==void 0){var Ge="/Predictor "+U.predictor+" /Colors 1 /BitsPerComponent "+U.bitsPerComponent+" /Columns "+U.width,W={width:U.width,height:U.height,colorSpace:"DeviceGray",bitsPerComponent:U.bitsPerComponent,decodeParameters:Ge,data:U.sMask};"filter"in U&&(W.filter=U.filter),F.call(this,W)}if(U.colorSpace===_.INDEXED){var Q=this.internal.newObject();K({data:L(new Uint8Array(U.palette)),objectId:Q}),q("endobj")}},a=function(){var F=this.internal.collections.addImage_images;for(var U in F)i.call(this,F[U])},o=function(){var F,U=this.internal.collections.addImage_images,q=this.internal.write;for(var K in U)q("/I"+(F=U[K]).index,F.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var F=this.internal.collections.addImage_images;return l.call(this),F},u=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(F){return typeof e["process"+F.toUpperCase()]=="function"},p=function(F){return _i(F)==="object"&&F.nodeType===1},g=function(F,U){if(F.nodeName==="IMG"&&F.hasAttribute("src")){var q=""+F.getAttribute("src");if(q.indexOf("data:image/")===0)return kv(unescape(q).split("base64,").pop());var K=e.loadFile(q,!0);if(K!==void 0)return K}if(F.nodeName==="CANVAS"){if(F.width===0||F.height===0)throw new Error("Given canvas must have data. Canvas width: "+F.width+", height: "+F.height);var V;switch(U){case"PNG":V="image/png";break;case"WEBP":V="image/webp";break;case"JPEG":case"JPG":default:V="image/jpeg"}return kv(F.toDataURL(V,1).split("base64,").pop())}},x=function(F){var U=this.internal.collections.addImage_images;if(U){for(var q in U)if(F===U[q].alias)return U[q]}},b=function(F,U,q){return F||U||(F=-96,U=-96),F<0&&(F=-1*q.width*72/F/this.internal.scaleFactor),U<0&&(U=-1*q.height*72/U/this.internal.scaleFactor),F===0&&(F=U*q.width/q.height),U===0&&(U=F*q.height/q.width),[F,U]},y=function(F,U,q,K,V,ee){var te=b.call(this,q,K,V),J=this.internal.getCoordinateString,ge=this.internal.getVerticalCoordinateString,Ie=c.call(this);if(q=te[0],K=te[1],Ie[V.index]=V,ee){ee*=Math.PI/180;var Ge=Math.cos(ee),W=Math.sin(ee),Q=function(re){return re.toFixed(4)},Z=[Q(Ge),Q(W),Q(-1*W),Q(Ge),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,J(F),ge(U+K),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([J(q),"0","0",J(K),"0","0","cm"].join(" "))):this.internal.write([J(q),"0","0",J(K),J(F),ge(U+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+V.index+" Do"),this.internal.write("Q")},_=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=e.__addimage__.sHashCode=function(F){var U,q,K=0;if(typeof F=="string")for(q=F.length,U=0;U<q;U++)K=(K<<5)-K+F.charCodeAt(U),K|=0;else if(D(F))for(q=F.byteLength/2,U=0;U<q;U++)K=(K<<5)-K+F[U],K|=0;return K},C=e.__addimage__.validateStringAsBase64=function(F){(F=F||"").toString().trim();var U=!0;return F.length===0&&(U=!1),F.length%4!=0&&(U=!1),/^[A-Za-z0-9+/]+$/.test(F.substr(0,F.length-2))===!1&&(U=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(F.substr(-2))===!1&&(U=!1),U},I=e.__addimage__.extractImageFromDataUrl=function(F){if(F==null||!(F=F.trim()).startsWith("data:"))return null;var U=F.indexOf(",");return U<0?null:F.substring(0,U).trim().endsWith("base64")?F.substring(U+1):null},P=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(F){return P()&&F instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(F){return P()&&typeof Uint32Array<"u"&&(F instanceof Int8Array||F instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&F instanceof Uint8ClampedArray||F instanceof Int16Array||F instanceof Uint16Array||F instanceof Int32Array||F instanceof Uint32Array||F instanceof Float32Array||F instanceof Float64Array)},k=e.__addimage__.binaryStringToUint8Array=function(F){for(var U=F.length,q=new Uint8Array(U),K=0;K<U;K++)q[K]=F.charCodeAt(K);return q},L=e.__addimage__.arrayBufferToBinaryString=function(F){for(var U="",q=D(F)?F:new Uint8Array(F),K=0;K<q.length;K+=8192)U+=String.fromCharCode.apply(null,q.subarray(K,K+8192));return U};e.addImage=function(){var F,U,q,K,V,ee,te,J,ge;if(typeof arguments[1]=="number"?(U=t,q=arguments[1],K=arguments[2],V=arguments[3],ee=arguments[4],te=arguments[5],J=arguments[6],ge=arguments[7]):(U=arguments[1],q=arguments[2],K=arguments[3],V=arguments[4],ee=arguments[5],te=arguments[6],J=arguments[7],ge=arguments[8]),_i(F=arguments[0])==="object"&&!p(F)&&"imageData"in F){var Ie=F;F=Ie.imageData,U=Ie.format||U||t,q=Ie.x||q||0,K=Ie.y||K||0,V=Ie.w||Ie.width||V,ee=Ie.h||Ie.height||ee,te=Ie.alias||te,J=Ie.compression||J,ge=Ie.rotation||Ie.angle||ge}var Ge=this.internal.getFilters();if(J===void 0&&Ge.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(q)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var W=B.call(this,F,U,te,J);return y.call(this,q,K,V,ee,W,ge),this};var B=function(F,U,q,K){var V,ee,te;if(typeof F=="string"&&n(F)===t){F=unescape(F);var J=G(F,!1);(J!==""||(J=e.loadFile(F,!0))!==void 0)&&(F=J)}if(p(F)&&(F=g(F,U)),U=n(F,U),!f(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(((te=q)==null||te.length===0)&&(q=function(ge){return typeof ge=="string"||D(ge)?E(ge):D(ge.data)?E(ge.data):null}(F)),(V=x.call(this,q))||(P()&&(F instanceof Uint8Array||U==="RGBA"||(ee=F,F=k(F))),V=this["process"+U.toUpperCase()](F,u.call(this),q,function(ge){return ge&&typeof ge=="string"&&(ge=ge.toUpperCase()),ge in e.image_compression?ge:N.NONE}(K),ee)),!V)throw new Error("An unknown error occurred whilst processing the image.");return V},G=e.__addimage__.convertBase64ToBinaryString=function(F,U){U=typeof U!="boolean"||U;var q,K="";if(typeof F=="string"){var V;q=(V=I(F))!==null&&V!==void 0?V:F;try{K=kv(q)}catch(ee){if(U)throw C(q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};e.getImageProperties=function(F){var U,q,K="";if(p(F)&&(F=g(F)),typeof F=="string"&&n(F)===t&&((K=G(F,!1))===""&&(K=e.loadFile(F)||""),F=K),q=n(F),!f(q))throw new Error("addImage does not support files of type '"+q+"', please ensure that a plugin for '"+q+"' support is added.");if(!P()||F instanceof Uint8Array||(F=k(F)),!(U=this["process"+q.toUpperCase()](F)))throw new Error("An unknown error occurred whilst processing the image");return U.fileType=q,U}})(tn.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};tn.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,f=!1,p=0;p<u.length&&!f;p++)switch((n=u[p]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){n=u[g];var x=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(y.objId),E=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+x(N(n.contents))+")",a+=" /Popup "+_.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+x(N(E))+") >>",y.content=a;var C=y.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+C,n.open&&(a+=" /Open true"),a+=" >>",_.content=a,this.internal.write(y.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var I=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+x(b(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+x(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var D=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+D+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+i),h:u(n+a)},options:o,type:"link"})},e.textWithLink=function(r,n,i,a){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var f=this.splitTextToSize(r,l).length;o=Math.ceil(u*f)}else l=c,o=u;return this.text(r,n,i,a),i+=.2*u,a.align==="center"&&(n-=c/2),a.align==="right"&&(n-=c),this.link(n,i-u,l,o,a),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(tn.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=e.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&i.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(y){var _=0,N=r,E="",C=0;for(_=0;_<y.length;_+=1)N[y.charCodeAt(_)]!==void 0?(C++,typeof(N=N[y.charCodeAt(_)])=="number"&&(E+=String.fromCharCode(N),N=r,C=0),_===y.length-1&&(N=r,E+=y.charAt(_-(C-1)),_-=C-1,C=0)):(N=r,E+=y.charAt(_-C),_-=C,C=0);return E};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(y,_,N){return o(y)?a(y)===!1?-1:!u(y)||!o(_)&&!o(N)||!o(N)&&l(_)||l(y)&&!o(_)||l(y)&&c(_)||l(y)&&l(_)?0:f(y)&&o(_)&&!l(_)&&o(N)&&u(N)?3:l(y)||!o(N)?1:2:-1},x=function(y){var _=0,N=0,E=0,C="",I="",P="",D=(y=y||"").split("\\s+"),k=[];for(_=0;_<D.length;_+=1){for(k.push(""),N=0;N<D[_].length;N+=1)C=D[_][N],I=D[_][N-1],P=D[_][N+1],o(C)?(E=g(C,I,P),k[_]+=E!==-1?String.fromCharCode(t[C.charCodeAt(0)][E]):C):k[_]+=C;k[_]=p(k[_])}return k.join(" ")},b=e.__arabicParser__.processArabic=e.processArabic=function(){var y,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(_)){var E=0;for(N=[],E=0;E<_.length;E+=1)Array.isArray(_[E])?N.push([x(_[E][0]),_[E][1],_[E][2]]):N.push([x(_[E])]);y=N}else y=x(_);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",b])}(tn.API),tn.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(tn.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var x=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return x},set:function(y){x=y}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(y){b=y}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,x=0,b=0,y=0,_=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var N=u.maxWidth;N>0?typeof c=="string"?c=this.splitTextToSize(c,N):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(C,I){return C.concat(_.splitTextToSize(I,N))},[])):c=Array.isArray(c)?c:[c];for(var E=0;E<c.length;E++)x<(y=this.getStringUnitWidth(c[E],{font:p})*f)&&(x=y);return x!==0&&(b=c.length),{w:x/=g,h:Math.max((b*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,x=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=p.top,x&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,f,p,g){if(n.call(this),!f)throw new Error("No data for PDF table.");var x,b,y,_,N=[],E=[],C=[],I={},P={},D=[],k=[],L=(g=g||{}).autoSize||!1,B=g.printHeaders!==!1,G=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,F=g.margins||Object.assign({width:this.getPageWidth()},t),U=typeof g.padding=="number"?g.padding:3,q=g.headerBackgroundColor||"#c8c8c8",K=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=F,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=U,this.internal.__cell__.headerBackgroundColor=q,this.internal.__cell__.headerTextColor=K,this.setFontSize(G),p==null)E=N=Object.keys(f[0]),C=N.map(function(){return"left"});else if(Array.isArray(p)&&_i(p[0])==="object")for(N=p.map(function(Ie){return Ie.name}),E=p.map(function(Ie){return Ie.prompt||Ie.name||""}),C=p.map(function(Ie){return Ie.align||"left"}),x=0;x<p.length;x+=1)P[p[x].name]=p[x].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(E=N=p,C=N.map(function(){return"left"}));if(L||Array.isArray(p)&&typeof p[0]=="string")for(x=0;x<N.length;x+=1){for(I[_=N[x]]=f.map(function(Ie){return Ie[_]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(E[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=I[_],this.setFont(void 0,"normal"),y=0;y<b.length;y+=1)D.push(this.getTextDimensions(b[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[_]=Math.max.apply(null,D)+U+U,D=[]}if(B){var V={};for(x=0;x<N.length;x+=1)V[N[x]]={},V[N[x]].text=E[x],V[N[x]].align=C[x];var ee=l.call(this,V,P);k=N.map(function(Ie){return new a(c,u,P[Ie],ee,V[Ie].text,void 0,V[Ie].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var te=p.reduce(function(Ie,Ge){return Ie[Ge.name]=Ge.align,Ie},{});for(x=0;x<f.length;x+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:x,data:f[x]},this);var J=l.call(this,f[x],P);for(y=0;y<N.length;y+=1){var ge=f[x][N[y]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:x,col:y,data:ge},this),o.call(this,new a(c,u,P[N[y]],J,ge,x+2,te[N[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(x){var b=c[x];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,u[x]-f-f)},this).map(function(x){return this.getLineHeightFactor()*x.length*p/g+f+f},this).reduce(function(x,b){return Math.max(x,b)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],x=0;x<this.internal.__cell__.tableHeaderRow.length;x+=1){f=this.internal.__cell__.tableHeaderRow[x].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=c;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}}(tn.API);var aX={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},sX=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Zj=iX(sX),oX=[100,200,300,400,500,600,700,800,900],nDe=iX(oX);function Jj(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return aX[a=a||"normal"]?a:"normal"}(e.style),n=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(a){return typeof Zj[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function eF(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var iDe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},tF={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function rF(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function aDe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},iDe,r.genericFontFamilies||{}),a=null,o=null,l=0;l<t.length;++l)if(i[(a=Jj(t[l])).family]&&(a.family=i[a.family]),e.hasOwnProperty(a.family)){o=e[a.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+rF(a)+"' and default family '"+n+"'.");if(o=function(c,u){if(u[c])return u[c];var f=Zj[c],p=f<=Zj.normal?-1:1,g=eF(u,sX,f,p);if(!g)throw new Error("Could not find a matching font-stretch value for "+c);return g}(a.stretch,o),o=function(c,u){if(u[c])return u[c];for(var f=aX[c],p=0;p<f.length;++p)if(u[f[p]])return u[f[p]];throw new Error("Could not find a matching font-style for "+c)}(a.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var f=nDe[c],p=eF(u,oX,f,c<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+c);return p}(a.weight,o)))throw new Error("Failed to resolve a font for the rule '"+rF(a)+"'.");return o}function nF(e){return e.trimLeft()}function sDe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function oDe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var bb,iF,aF,_A=["times"];(function(e){var t,r,n,i,a,o,l,c,u,f=function(W){return W=W||{},this.isStrokeTransparent=W.isStrokeTransparent||!1,this.strokeOpacity=W.strokeOpacity||1,this.strokeStyle=W.strokeStyle||"#000000",this.fillStyle=W.fillStyle||"#000000",this.isFillTransparent=W.isFillTransparent||!1,this.fillOpacity=W.fillOpacity||1,this.font=W.font||"10px sans-serif",this.textBaseline=W.textBaseline||"alphabetic",this.textAlign=W.textAlign||"left",this.lineWidth=W.lineWidth||1,this.lineJoin=W.lineJoin||"miter",this.lineCap=W.lineCap||"butt",this.path=W.path||[],this.transform=W.transform!==void 0?W.transform.clone():new c,this.globalCompositeOperation=W.globalCompositeOperation||"normal",this.globalAlpha=W.globalAlpha||1,this.clip_path=W.clip_path||[],this.currentPoint=W.currentPoint||new o,this.miterLimit=W.miterLimit||10,this.lastPoint=W.lastPoint||new o,this.lineDashOffset=W.lineDashOffset||0,this.lineDash=W.lineDash||[],this.margin=W.margin||[0,0,0,0],this.prevPageLastElemOffset=W.prevPageLastElemOffset||0,this.ignoreClearRect=typeof W.ignoreClearRect!="boolean"||W.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new f}]);var p=function(W){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Q=W;Object.defineProperty(this,"pdf",{get:function(){return Q}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(Ye){Z=!!Ye}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(Ye){re=!!Ye}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(Ye){isNaN(Ye)||(le=Ye)}});var Ne=0;Object.defineProperty(this,"posY",{get:function(){return Ne},set:function(Ye){isNaN(Ye)||(Ne=Ye)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Ye){var we;typeof Ye=="number"?we=[Ye,Ye,Ye,Ye]:((we=new Array(4))[0]=Ye[0],we[1]=Ye.length>=2?Ye[1]:we[0],we[2]=Ye.length>=3?Ye[2]:we[0],we[3]=Ye.length>=4?Ye[3]:we[1]),u.margin=we}});var Ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ae},set:function(Ye){Ae=Ye}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(Ye){ve=Ye}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(Ye){xe=Ye}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Ye){Ye instanceof f&&(u=Ye)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Ye){u.path=Ye}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(Ye){Le=Ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ye){var we;we=g(Ye),this.ctx.fillStyle=we.style,this.ctx.isFillTransparent=we.a===0,this.ctx.fillOpacity=we.a,this.pdf.setFillColor(we.r,we.g,we.b,{a:we.a}),this.pdf.setTextColor(we.r,we.g,we.b,{a:we.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ye){var we=g(Ye);this.ctx.strokeStyle=we.style,this.ctx.isStrokeTransparent=we.a===0,this.ctx.strokeOpacity=we.a,we.a===0?this.pdf.setDrawColor(255,255,255):(we.a,this.pdf.setDrawColor(we.r,we.g,we.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ye){["butt","round","square"].indexOf(Ye)!==-1&&(this.ctx.lineCap=Ye,this.pdf.setLineCap(Ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ye){isNaN(Ye)||(this.ctx.lineWidth=Ye,this.pdf.setLineWidth(Ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ye){["bevel","round","miter"].indexOf(Ye)!==-1&&(this.ctx.lineJoin=Ye,this.pdf.setLineJoin(Ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ye){isNaN(Ye)||(this.ctx.miterLimit=Ye,this.pdf.setMiterLimit(Ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ye){this.ctx.textBaseline=Ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ye){["right","end","center","left","start"].indexOf(Ye)!==-1&&(this.ctx.textAlign=Ye)}});var Se=null;function ye(Ye,we){if(Se===null){var Pe=function(ce){var Ce=[];return Object.keys(ce).forEach(function(fe){ce[fe].forEach(function(ke){var He=null;switch(ke){case"bold":He={family:fe,weight:"bold"};break;case"italic":He={family:fe,style:"italic"};break;case"bolditalic":He={family:fe,weight:"bold",style:"italic"};break;case"":case"normal":He={family:fe}}He!==null&&(He.ref={name:fe,style:ke},Ce.push(He))})}),Ce}(Ye.getFontList());Se=function(ce){for(var Ce={},fe=0;fe<ce.length;++fe){var ke=Jj(ce[fe]),He=ke.family,nt=ke.stretch,mt=ke.style,At=ke.weight;Ce[He]=Ce[He]||{},Ce[He][nt]=Ce[He][nt]||{},Ce[He][nt][mt]=Ce[He][nt][mt]||{},Ce[He][nt][mt][At]=ke}return Ce}(Pe.concat(we))}return Se}var We=null;Object.defineProperty(this,"fontFaces",{get:function(){return We},set:function(Ye){Se=null,We=Ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ye){var we;if(this.ctx.font=Ye,(we=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ye))!==null){var Pe=we[1];we[2];var ce=we[3],Ce=we[4];we[5];var fe=we[6],ke=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ce)[2];Ce=Math.floor(ke==="px"?parseFloat(Ce)*this.pdf.internal.scaleFactor:ke==="em"?parseFloat(Ce)*this.pdf.getFontSize():parseFloat(Ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ce);var He=function(ze){var tt,dt,Zt=[],ne=ze.trim();if(ne==="")return _A;if(ne in tF)return[tF[ne]];for(;ne!=="";){switch(dt=null,tt=(ne=nF(ne)).charAt(0)){case'"':case"'":dt=sDe(ne.substring(1),tt);break;default:dt=oDe(ne)}if(dt===null||(Zt.push(dt[0]),(ne=nF(dt[1]))!==""&&ne.charAt(0)!==","))return _A;ne=ne.replace(/^,/,"")}return Zt}(fe);if(this.fontFaces){var nt=aDe(ye(this.pdf,this.fontFaces),He.map(function(ze){return{family:ze,stretch:"normal",weight:ce,style:Pe}}));this.pdf.setFont(nt.ref.name,nt.ref.style)}else{var mt="";(ce==="bold"||parseInt(ce,10)>=700||Pe==="bold")&&(mt="bold"),Pe==="italic"&&(mt+="italic"),mt.length===0&&(mt="normal");for(var At="",qt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mr=0;mr<He.length;mr++){if(this.pdf.internal.getFont(He[mr],mt,{noFallback:!0,disableWarning:!0})!==void 0){At=He[mr];break}if(mt==="bolditalic"&&this.pdf.internal.getFont(He[mr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)At=He[mr],mt="bold";else if(this.pdf.internal.getFont(He[mr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){At=He[mr],mt="normal";break}}if(At===""){for(var ar=0;ar<He.length;ar++)if(qt[He[ar]]){At=qt[He[ar]];break}}At=At===""?"Times":At,this.pdf.setFont(At,mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ye){this.ctx.globalCompositeOperation=Ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ye){this.ctx.globalAlpha=Ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ye){this.ctx.lineDashOffset=Ye,Ge.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ye){this.ctx.lineDash=Ye,Ge.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ye){this.ctx.ignoreClearRect=!!Ye}})};p.prototype.setLineDash=function(W){this.lineDash=W},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){I.call(this,"fill",!1)},p.prototype.stroke=function(){I.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(W,Q){if(isNaN(W)||isNaN(Q))throw Li.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(W,Q));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(W,Q)},p.prototype.closePath=function(){var W=new o(0,0),Q=0;for(Q=this.path.length-1;Q!==-1;Q--)if(this.path[Q].type==="begin"&&_i(this.path[Q+1])==="object"&&typeof this.path[Q+1].x=="number"){W=new o(this.path[Q+1].x,this.path[Q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(W.x,W.y)},p.prototype.lineTo=function(W,Q){if(isNaN(W)||isNaN(Q))throw Li.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(W,Q));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},p.prototype.quadraticCurveTo=function(W,Q,Z,re){if(isNaN(Z)||isNaN(re)||isNaN(W)||isNaN(Q))throw Li.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new o(Z,re)),Ne=this.ctx.transform.applyToPoint(new o(W,Q));this.path.push({type:"qct",x1:Ne.x,y1:Ne.y,x:le.x,y:le.y}),this.ctx.lastPoint=new o(le.x,le.y)},p.prototype.bezierCurveTo=function(W,Q,Z,re,le,Ne){if(isNaN(le)||isNaN(Ne)||isNaN(W)||isNaN(Q)||isNaN(Z)||isNaN(re))throw Li.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ae=this.ctx.transform.applyToPoint(new o(le,Ne)),ve=this.ctx.transform.applyToPoint(new o(W,Q)),xe=this.ctx.transform.applyToPoint(new o(Z,re));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:xe.x,y2:xe.y,x:Ae.x,y:Ae.y}),this.ctx.lastPoint=new o(Ae.x,Ae.y)},p.prototype.arc=function(W,Q,Z,re,le,Ne){if(isNaN(W)||isNaN(Q)||isNaN(Z)||isNaN(re)||isNaN(le))throw Li.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ne=!!Ne,!this.ctx.transform.isIdentity){var Ae=this.ctx.transform.applyToPoint(new o(W,Q));W=Ae.x,Q=Ae.y;var ve=this.ctx.transform.applyToPoint(new o(0,Z)),xe=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(ve.x-xe.x,2)+Math.pow(ve.y-xe.y,2))}Math.abs(le-re)>=2*Math.PI&&(re=0,le=2*Math.PI),this.path.push({type:"arc",x:W,y:Q,radius:Z,startAngle:re,endAngle:le,counterclockwise:Ne})},p.prototype.arcTo=function(W,Q,Z,re,le){throw new Error("arcTo not implemented.")},p.prototype.rect=function(W,Q,Z,re){if(isNaN(W)||isNaN(Q)||isNaN(Z)||isNaN(re))throw Li.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(W,Q),this.lineTo(W+Z,Q),this.lineTo(W+Z,Q+re),this.lineTo(W,Q+re),this.lineTo(W,Q),this.lineTo(W+Z,Q),this.lineTo(W,Q)},p.prototype.fillRect=function(W,Q,Z,re){if(isNaN(W)||isNaN(Q)||isNaN(Z)||isNaN(re))throw Li.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!x.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(W,Q,Z,re),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},p.prototype.strokeRect=function(W,Q,Z,re){if(isNaN(W)||isNaN(Q)||isNaN(Z)||isNaN(re))throw Li.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(W,Q,Z,re),this.stroke())},p.prototype.clearRect=function(W,Q,Z,re){if(isNaN(W)||isNaN(Q)||isNaN(Z)||isNaN(re))throw Li.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(W,Q,Z,re))},p.prototype.save=function(W){W=typeof W!="boolean"||W;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(Q),W){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},p.prototype.restore=function(W){W=typeof W!="boolean"||W;for(var Q=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(Q),W&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(W){var Q,Z,re,le;if(W.isCanvasGradient===!0&&(W=W.getColor()),!W)return{r:0,g:0,b:0,a:0,style:W};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(W))Q=0,Z=0,re=0,le=0;else{var Ne=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(W);if(Ne!==null)Q=parseInt(Ne[1]),Z=parseInt(Ne[2]),re=parseInt(Ne[3]),le=1;else if((Ne=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(W))!==null)Q=parseInt(Ne[1]),Z=parseInt(Ne[2]),re=parseInt(Ne[3]),le=parseFloat(Ne[4]);else{if(le=1,typeof W=="string"&&W.charAt(0)!=="#"){var Ae=new ZY(W);W=Ae.ok?Ae.toHex():"#000000"}W.length===4?(Q=W.substring(1,2),Q+=Q,Z=W.substring(2,3),Z+=Z,re=W.substring(3,4),re+=re):(Q=W.substring(1,3),Z=W.substring(3,5),re=W.substring(5,7)),Q=parseInt(Q,16),Z=parseInt(Z,16),re=parseInt(re,16)}}return{r:Q,g:Z,b:re,a:le,style:W}},x=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(W,Q,Z,re){if(isNaN(Q)||isNaN(Z)||typeof W!="string")throw Li.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!x.call(this)){var le=J(this.ctx.transform.rotation),Ne=this.ctx.transform.scaleX;U.call(this,{text:W,x:Q,y:Z,scale:Ne,angle:le,align:this.textAlign,maxWidth:re})}},p.prototype.strokeText=function(W,Q,Z,re){if(isNaN(Q)||isNaN(Z)||typeof W!="string")throw Li.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){re=isNaN(re)?void 0:re;var le=J(this.ctx.transform.rotation),Ne=this.ctx.transform.scaleX;U.call(this,{text:W,x:Q,y:Z,scale:Ne,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:re})}},p.prototype.measureText=function(W){if(typeof W!="string")throw Li.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Q=this.pdf,Z=this.pdf.internal.scaleFactor,re=Q.internal.getFontSize(),le=Q.getStringUnitWidth(W)*re/Q.internal.scaleFactor,Ne=function(Ae){var ve=(Ae=Ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this};return new Ne({width:le*=Math.round(96*Z/72*1e4)/1e4})},p.prototype.scale=function(W,Q){if(isNaN(W)||isNaN(Q))throw Li.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(W,0,0,Q,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},p.prototype.rotate=function(W){if(isNaN(W))throw Li.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Q=new c(Math.cos(W),Math.sin(W),-Math.sin(W),Math.cos(W),0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},p.prototype.translate=function(W,Q){if(isNaN(W)||isNaN(Q))throw Li.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,W,Q);this.ctx.transform=this.ctx.transform.multiply(Z)},p.prototype.transform=function(W,Q,Z,re,le,Ne){if(isNaN(W)||isNaN(Q)||isNaN(Z)||isNaN(re)||isNaN(le)||isNaN(Ne))throw Li.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ae=new c(W,Q,Z,re,le,Ne);this.ctx.transform=this.ctx.transform.multiply(Ae)},p.prototype.setTransform=function(W,Q,Z,re,le,Ne){W=isNaN(W)?1:W,Q=isNaN(Q)?0:Q,Z=isNaN(Z)?0:Z,re=isNaN(re)?1:re,le=isNaN(le)?0:le,Ne=isNaN(Ne)?0:Ne,this.ctx.transform=new c(W,Q,Z,re,le,Ne)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(W,Q,Z,re,le,Ne,Ae,ve,xe){var Le=this.pdf.getImageProperties(W),Se=1,ye=1,We=1,Ye=1;re!==void 0&&ve!==void 0&&(We=ve/re,Ye=xe/le,Se=Le.width/re*ve/re,ye=Le.height/le*xe/le),Ne===void 0&&(Ne=Q,Ae=Z,Q=0,Z=0),re!==void 0&&ve===void 0&&(ve=re,xe=le),re===void 0&&ve===void 0&&(ve=Le.width,xe=Le.height);for(var we,Pe=this.ctx.transform.decompose(),ce=J(Pe.rotate.shx),Ce=new c,fe=(Ce=(Ce=(Ce=Ce.multiply(Pe.translate)).multiply(Pe.skew)).multiply(Pe.scale)).applyToRectangle(new l(Ne-Q*We,Ae-Z*Ye,re*Se,le*ye)),ke=_.call(this,fe),He=[],nt=0;nt<ke.length;nt+=1)He.indexOf(ke[nt])===-1&&He.push(ke[nt]);if(C(He),this.autoPaging)for(var mt=He[0],At=He[He.length-1],qt=mt;qt<At+1;qt++){this.pdf.setPage(qt);var mr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ar=qt===1?this.posY+this.margin[0]:this.margin[0],ze=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=qt===1?0:ze+(qt-2)*tt;if(this.ctx.clip_path.length!==0){var Zt=this.path;we=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(we,this.posX+this.margin[3],-dt+ar+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Zt}var ne=JSON.parse(JSON.stringify(fe));ne=E([ne],this.posX+this.margin[3],-dt+ar+this.ctx.prevPageLastElemOffset)[0];var De=(qt>mt||qt<At)&&y.call(this);De&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mr,tt,null).clip().discardPath()),this.pdf.addImage(W,"JPEG",ne.x,ne.y,ne.w,ne.h,null,null,ce),De&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(W,"JPEG",fe.x,fe.y,fe.w,fe.h,null,null,ce)};var _=function(W,Q,Z){var re=[];Q=Q||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(W.type){default:case"mt":case"lt":re.push(Math.floor((W.y+le)/Z)+1);break;case"arc":re.push(Math.floor((W.y+le-W.radius)/Z)+1),re.push(Math.floor((W.y+le+W.radius)/Z)+1);break;case"qct":var Ne=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,W.x1,W.y1,W.x,W.y);re.push(Math.floor((Ne.y+le)/Z)+1),re.push(Math.floor((Ne.y+Ne.h+le)/Z)+1);break;case"bct":var Ae=Ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,W.x1,W.y1,W.x2,W.y2,W.x,W.y);re.push(Math.floor((Ae.y+le)/Z)+1),re.push(Math.floor((Ae.y+Ae.h+le)/Z)+1);break;case"rect":re.push(Math.floor((W.y+le)/Z)+1),re.push(Math.floor((W.y+W.h+le)/Z)+1)}for(var ve=0;ve<re.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<re[ve];)N.call(this);return re},N=function(){var W=this.fillStyle,Q=this.strokeStyle,Z=this.font,re=this.lineCap,le=this.lineWidth,Ne=this.lineJoin;this.pdf.addPage(),this.fillStyle=W,this.strokeStyle=Q,this.font=Z,this.lineCap=re,this.lineWidth=le,this.lineJoin=Ne},E=function(W,Q,Z){for(var re=0;re<W.length;re++)switch(W[re].type){case"bct":W[re].x2+=Q,W[re].y2+=Z;case"qct":W[re].x1+=Q,W[re].y1+=Z;case"mt":case"lt":case"arc":default:W[re].x+=Q,W[re].y+=Z}return W},C=function(W){return W.sort(function(Q,Z){return Q-Z})},I=function(W,Q){for(var Z,re,le=this.fillStyle,Ne=this.strokeStyle,Ae=this.lineCap,ve=this.lineWidth,xe=Math.abs(ve*this.ctx.transform.scaleX),Le=this.lineJoin,Se=JSON.parse(JSON.stringify(this.path)),ye=JSON.parse(JSON.stringify(this.path)),We=[],Ye=0;Ye<ye.length;Ye++)if(ye[Ye].x!==void 0)for(var we=_.call(this,ye[Ye]),Pe=0;Pe<we.length;Pe+=1)We.indexOf(we[Pe])===-1&&We.push(we[Pe]);for(var ce=0;ce<We.length;ce++)for(;this.pdf.internal.getNumberOfPages()<We[ce];)N.call(this);if(C(We),this.autoPaging)for(var Ce=We[0],fe=We[We.length-1],ke=Ce;ke<fe+1;ke++){this.pdf.setPage(ke),this.fillStyle=le,this.strokeStyle=Ne,this.lineCap=Ae,this.lineWidth=xe,this.lineJoin=Le;var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nt=ke===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qt=ke===1?0:mt+(ke-2)*At;if(this.ctx.clip_path.length!==0){var mr=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Z,this.posX+this.margin[3],-qt+nt+this.ctx.prevPageLastElemOffset),P.call(this,W,!0),this.path=mr}if(re=JSON.parse(JSON.stringify(Se)),this.path=E(re,this.posX+this.margin[3],-qt+nt+this.ctx.prevPageLastElemOffset),Q===!1||ke===0){var ar=(ke>Ce||ke<fe)&&y.call(this);ar&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,At,null).clip().discardPath()),P.call(this,W,Q),ar&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}else this.lineWidth=xe,P.call(this,W,Q),this.lineWidth=ve;this.path=Se},P=function(W,Q){if((W!=="stroke"||Q||!b.call(this))&&(W==="stroke"||Q||!x.call(this))){for(var Z,re,le=[],Ne=this.path,Ae=0;Ae<Ne.length;Ae++){var ve=Ne[Ae];switch(ve.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:ve,deltas:[],abs:[]});break;case"lt":var xe=le.length;if(Ne[Ae-1]&&!isNaN(Ne[Ae-1].x)&&(Z=[ve.x-Ne[Ae-1].x,ve.y-Ne[Ae-1].y],xe>0)){for(;xe>=0;xe--)if(le[xe-1].close!==!0&&le[xe-1].begin!==!0){le[xe-1].deltas.push(Z),le[xe-1].abs.push(ve);break}}break;case"bct":Z=[ve.x1-Ne[Ae-1].x,ve.y1-Ne[Ae-1].y,ve.x2-Ne[Ae-1].x,ve.y2-Ne[Ae-1].y,ve.x-Ne[Ae-1].x,ve.y-Ne[Ae-1].y],le[le.length-1].deltas.push(Z);break;case"qct":var Le=Ne[Ae-1].x+2/3*(ve.x1-Ne[Ae-1].x),Se=Ne[Ae-1].y+2/3*(ve.y1-Ne[Ae-1].y),ye=ve.x+2/3*(ve.x1-ve.x),We=ve.y+2/3*(ve.y1-ve.y),Ye=ve.x,we=ve.y;Z=[Le-Ne[Ae-1].x,Se-Ne[Ae-1].y,ye-Ne[Ae-1].x,We-Ne[Ae-1].y,Ye-Ne[Ae-1].x,we-Ne[Ae-1].y],le[le.length-1].deltas.push(Z);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(ve)}}re=Q?null:W==="stroke"?"stroke":"fill";for(var Pe=!1,ce=0;ce<le.length;ce++)if(le[ce].arc)for(var Ce=le[ce].abs,fe=0;fe<Ce.length;fe++){var ke=Ce[fe];ke.type==="arc"?L.call(this,ke.x,ke.y,ke.radius,ke.startAngle,ke.endAngle,ke.counterclockwise,void 0,Q,!Pe):q.call(this,ke.x,ke.y),Pe=!0}else if(le[ce].close===!0)this.pdf.internal.out("h"),Pe=!1;else if(le[ce].begin!==!0){var He=le[ce].start.x,nt=le[ce].start.y;K.call(this,le[ce].deltas,He,nt),Pe=!0}re&&B.call(this,re),Q&&G.call(this)}},D=function(W){var Q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=Q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return W-Z;case"top":return W+Q-Z;case"hanging":return W+Q-2*Z;case"middle":return W+Q/2-Z;case"ideographic":return W;case"alphabetic":default:return W}},k=function(W){return W+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var W=function(){};return W.colorStops=[],W.addColorStop=function(Q,Z){this.colorStops.push([Q,Z])},W.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},W.isCanvasGradient=!0,W},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(W,Q,Z,re,le,Ne,Ae,ve,xe){for(var Le=ee.call(this,Z,re,le,Ne),Se=0;Se<Le.length;Se++){var ye=Le[Se];Se===0&&(xe?F.call(this,ye.x1+W,ye.y1+Q):q.call(this,ye.x1+W,ye.y1+Q)),V.call(this,W,Q,ye.x2,ye.y2,ye.x3,ye.y3,ye.x4,ye.y4)}ve?G.call(this):B.call(this,Ae)},B=function(W){switch(W){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},F=function(W,Q){this.pdf.internal.out(r(W)+" "+n(Q)+" m")},U=function(W){var Q;switch(W.align){case"right":case"end":Q="right";break;case"center":Q="center";break;case"left":case"start":default:Q="left"}var Z=this.pdf.getTextDimensions(W.text),re=D.call(this,W.y),le=k.call(this,re)-Z.h,Ne=this.ctx.transform.applyToPoint(new o(W.x,re)),Ae=this.ctx.transform.decompose(),ve=new c;ve=(ve=(ve=ve.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var xe,Le,Se,ye=this.ctx.transform.applyToRectangle(new l(W.x,re,Z.w,Z.h)),We=ve.applyToRectangle(new l(W.x,le,Z.w,Z.h)),Ye=_.call(this,We),we=[],Pe=0;Pe<Ye.length;Pe+=1)we.indexOf(Ye[Pe])===-1&&we.push(Ye[Pe]);if(C(we),this.autoPaging)for(var ce=we[0],Ce=we[we.length-1],fe=ce;fe<Ce+1;fe++){this.pdf.setPage(fe);var ke=fe===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[2],mt=nt-this.margin[0],At=this.pdf.internal.pageSize.width-this.margin[1],qt=At-this.margin[3],mr=fe===1?0:He+(fe-2)*mt;if(this.ctx.clip_path.length!==0){var ar=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(xe,this.posX+this.margin[3],-1*mr+ke),P.call(this,"fill",!0),this.path=ar}var ze=E([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-mr+ke+this.ctx.prevPageLastElemOffset)[0];W.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*W.scale),Se=this.lineWidth,this.lineWidth=Se*W.scale);var tt=this.autoPaging!=="text";if(tt||ze.y+ze.h<=nt){if(tt||ze.y>=ke&&ze.x<=At){var dt=tt?W.text:this.pdf.splitTextToSize(W.text,W.maxWidth||At-ze.x)[0],Zt=E([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-mr+ke+this.ctx.prevPageLastElemOffset)[0],ne=tt&&(fe>ce||fe<Ce)&&y.call(this);ne&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,mt,null).clip().discardPath()),this.pdf.text(dt,Zt.x,Zt.y,{angle:W.angle,align:Q,renderingMode:W.renderingMode}),ne&&this.pdf.restoreGraphicsState()}}else ze.y<nt&&(this.ctx.prevPageLastElemOffset+=nt-ze.y);W.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=Se)}else W.scale>=.01&&(Le=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Le*W.scale),Se=this.lineWidth,this.lineWidth=Se*W.scale),this.pdf.text(W.text,Ne.x+this.posX,Ne.y+this.posY,{angle:W.angle,align:Q,renderingMode:W.renderingMode,maxWidth:W.maxWidth}),W.scale>=.01&&(this.pdf.setFontSize(Le),this.lineWidth=Se)},q=function(W,Q,Z,re){Z=Z||0,re=re||0,this.pdf.internal.out(r(W+Z)+" "+n(Q+re)+" l")},K=function(W,Q,Z){return this.pdf.lines(W,Q,Z,null,null)},V=function(W,Q,Z,re,le,Ne,Ae,ve){this.pdf.internal.out([t(i(Z+W)),t(a(re+Q)),t(i(le+W)),t(a(Ne+Q)),t(i(Ae+W)),t(a(ve+Q)),"c"].join(" "))},ee=function(W,Q,Z,re){for(var le=2*Math.PI,Ne=Math.PI/2;Q>Z;)Q-=le;var Ae=Math.abs(Z-Q);Ae<le&&re&&(Ae=le-Ae);for(var ve=[],xe=re?-1:1,Le=Q;Ae>1e-5;){var Se=Le+xe*Math.min(Ae,Ne);ve.push(te.call(this,W,Le,Se)),Ae-=Math.abs(Se-Le),Le=Se}return ve},te=function(W,Q,Z){var re=(Z-Q)/2,le=W*Math.cos(re),Ne=W*Math.sin(re),Ae=le,ve=-Ne,xe=Ae*Ae+ve*ve,Le=xe+Ae*le+ve*Ne,Se=4/3*(Math.sqrt(2*xe*Le)-Le)/(Ae*Ne-ve*le),ye=Ae-Se*ve,We=ve+Se*Ae,Ye=ye,we=-We,Pe=re+Q,ce=Math.cos(Pe),Ce=Math.sin(Pe);return{x1:W*Math.cos(Q),y1:W*Math.sin(Q),x2:ye*ce-We*Ce,y2:ye*Ce+We*ce,x3:Ye*ce-we*Ce,y3:Ye*Ce+we*ce,x4:W*Math.cos(Z),y4:W*Math.sin(Z)}},J=function(W){return 180*W/Math.PI},ge=function(W,Q,Z,re,le,Ne){var Ae=W+.5*(Z-W),ve=Q+.5*(re-Q),xe=le+.5*(Z-le),Le=Ne+.5*(re-Ne),Se=Math.min(W,le,Ae,xe),ye=Math.max(W,le,Ae,xe),We=Math.min(Q,Ne,ve,Le),Ye=Math.max(Q,Ne,ve,Le);return new l(Se,We,ye-Se,Ye-We)},Ie=function(W,Q,Z,re,le,Ne,Ae,ve){var xe,Le,Se,ye,We,Ye,we,Pe,ce,Ce,fe,ke,He,nt,mt=Z-W,At=re-Q,qt=le-Z,mr=Ne-re,ar=Ae-le,ze=ve-Ne;for(Le=0;Le<41;Le++)ce=(we=(Se=W+(xe=Le/40)*mt)+xe*((We=Z+xe*qt)-Se))+xe*(We+xe*(le+xe*ar-We)-we),Ce=(Pe=(ye=Q+xe*At)+xe*((Ye=re+xe*mr)-ye))+xe*(Ye+xe*(Ne+xe*ze-Ye)-Pe),Le==0?(fe=ce,ke=Ce,He=ce,nt=Ce):(fe=Math.min(fe,ce),ke=Math.min(ke,Ce),He=Math.max(He,ce),nt=Math.max(nt,Ce));return new l(Math.round(fe),Math.round(ke),Math.round(He-fe),Math.round(nt-ke))},Ge=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var W,Q,Z=(W=this.ctx.lineDash,Q=this.ctx.lineDashOffset,JSON.stringify({lineDash:W,lineDashOffset:Q}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(tn.API),function(e){var t=function(a){var o,l,c,u,f,p,g,x,b,y;for(l=[],c=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(f=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(p=(f=((f=((f=((f=(f-(y=f%85))/85)-(b=f%85))/85)-(x=f%85))/85)-(g=f%85))/85)%85,l.push(p+33,g+33,x+33,b+33,y+33)):l.push(122);return function(_,N){for(var E=N;E>0;E--)_.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(a){var o,l,c,u,f,p=String,g="length",x=255,b="charCodeAt",y="slice",_="replace";for(a[y](-2),a=a[y](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),c=[],u=0,f=(a+=o="uuuuu"[y](a[g]%5||5))[g];f>u;u+=5)l=52200625*(a[b](u)-33)+614125*(a[b](u+1)-33)+7225*(a[b](u+2)-33)+85*(a[b](u+3)-33)+(a[b](u+4)-33),c.push(x&l>>24,x&l>>16,x&l>>8,x&l);return function(N,E){for(var C=E;C>0;C--)N.pop()}(c,o[g]),p.fromCharCode.apply(p,c)},n=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},i=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return a=(o=Gj(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(a,o){var l=0,c=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(tn.API),function(e){e.loadFile=function(t,r,n){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,f){var p=new XMLHttpRequest,g=0,x=function(b){var y=b.length,_=[],N=String.fromCharCode;for(g=0;g<y;g+=1)_.push(N(255&b.charCodeAt(g)));return _.join("")};if(p.open("GET",c,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?f(x(this.responseText)):f(void 0)}),p.send(null),u&&p.status===200)return x(p.responseText)}(i,a,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(tn.API),function(e){function t(){return(rn.html2canvas?Promise.resolve(rn.html2canvas):zj(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(rn.DOMPurify?Promise.resolve(rn.DOMPurify):zj(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=_i(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,f){for(var p=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),g=u.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||p.appendChild(c(g,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(p.width=u.width,p.height=u.height,p.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(p.value=u.value),p.addEventListener("load",function(){p.scrollTop=u.scrollTop,p.scrollLeft=u.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var g=0;g<u.length;++g){var x=u[g],b=x.src.find(function(y){return y.format==="truetype"});b&&c.addFont(b.url,x.ref.name,x.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,c.context2d.save(!0),l(this.prop.container,p)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||tn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return c.updateProgress(null,u),p}).then(u,f).then(function(p){return c.updateProgress(1),p})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),f=c.call(u,o,l);return a.convert(f,this.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,tn.getPageSize=function(o,l,c){if(_i(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,p=(""+c).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var x,b=0,y=0;if(g.hasOwnProperty(p))b=g[p][1]/f,y=g[p][0]/f;else try{b=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",y>b&&(x=y,y=b,b=x);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",b>y&&(x=y,y=b,b=x)}return{width:y,height:b,unit:l,k:f,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(Jj):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(tn.API),tn.API.addJS=function(e){return aF=e,this.internal.events.subscribe("postPutResources",function(){bb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bb+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),iF=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+aF+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){bb!==void 0&&iF!==void 0&&this.internal.out("/Names <</JavaScript "+bb+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(a=0;a<u;a++){var p=r.internal.newObject();f.push(p);var g=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var x=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<f.length;a++)r.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+x+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var o={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var o=n.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(tn.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,o,l){var c,u=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(p){for(var g,x=256*p.charCodeAt(4)+p.charCodeAt(5),b=p.length,y={width:0,height:0,numcomponents:1},_=4;_<b;_+=2){if(_+=x,t.indexOf(p.charCodeAt(_+1))!==-1){g=256*p.charCodeAt(_+5)+p.charCodeAt(_+6),y={width:256*p.charCodeAt(_+7)+p.charCodeAt(_+8),height:g,numcomponents:p.charCodeAt(_+9)};break}x=256*p.charCodeAt(_+2)+p.charCodeAt(_+3)}return y}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:i}}return f}}(tn.API);var j1,Sb,sF,oF,lF,lDe=function(){var e,t,r;function n(a){var o,l,c,u,f,p,g,x,b,y,_,N,E,C;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(o=this.readUInt32(),b=(function(){var I,P;for(P=[],I=0;I<4;++I)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),u=this.readUInt16()||100,p.delay=1e3*f/u,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,o-=4),a=(p!=null?p.data:void 0)||this.imgData,N=0;0<=o?N<o:N>o;0<=o?++N:--N)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((y=c-this.transparency.indexed.length)>0)for(E=0;0<=y?E<y:E>y;0<=y?++E:--E)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(_=this.read(o)).indexOf(0),x=String.fromCharCode.apply(String,_.slice(0,g)),this.text[x]=String.fromCharCode.apply(String,_.slice(g+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(C=this.colorType)===4||C===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(a){var o,l;for(l=[],o=0;0<=a?o<a:o>a;0<=a?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(a){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function f(p,g,x,b){var y,_,N,E,C,I,P,D,k,L,B,G,F,U,q,K,V,ee,te,J,ge,Ie=Math.ceil((u.width-p)/x),Ge=Math.ceil((u.height-g)/b),W=u.width==Ie&&u.height==Ge;for(U=o*Ie,G=W?l:new Uint8Array(U*Ge),I=a.length,F=0,_=0;F<Ge&&c<I;){switch(a[c++]){case 0:for(E=V=0;V<U;E=V+=1)G[_++]=a[c++];break;case 1:for(E=ee=0;ee<U;E=ee+=1)y=a[c++],C=E<o?0:G[_-o],G[_++]=(y+C)%256;break;case 2:for(E=te=0;te<U;E=te+=1)y=a[c++],N=(E-E%o)/o,q=F&&G[(F-1)*U+N*o+E%o],G[_++]=(q+y)%256;break;case 3:for(E=J=0;J<U;E=J+=1)y=a[c++],N=(E-E%o)/o,C=E<o?0:G[_-o],q=F&&G[(F-1)*U+N*o+E%o],G[_++]=(y+Math.floor((C+q)/2))%256;break;case 4:for(E=ge=0;ge<U;E=ge+=1)y=a[c++],N=(E-E%o)/o,C=E<o?0:G[_-o],F===0?q=K=0:(q=G[(F-1)*U+N*o+E%o],K=N&&G[(F-1)*U+(N-1)*o+E%o]),P=C+q-K,D=Math.abs(P-C),L=Math.abs(P-q),B=Math.abs(P-K),k=D<=L&&D<=B?C:L<=B?q:K,G[_++]=(y+k)%256;break;default:throw new Error("Invalid filter algorithm: "+a[c-1])}if(!W){var Q=((g+F*b)*u.width+p)*o,Z=F*U;for(E=0;E<Ie;E+=1){for(var re=0;re<o;re+=1)l[Q++]=G[Z++];Q+=(x-1)*o}}F++}}return a=$Me(a),u.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),l},n.prototype.decodePalette=function(){var a,o,l,c,u,f,p,g,x;for(l=this.palette,f=this.transparency.indexed||[],u=new Uint8Array((f.length||0)+l.length),c=0,a=0,o=p=0,g=l.length;p<g;o=p+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(x=f[a++])!=null?x:255;return u},n.prototype.copyToImageData=function(a,o){var l,c,u,f,p,g,x,b,y,_,N;if(c=this.colors,y=null,l=this.hasAlphaChannel,this.palette.length&&(y=(N=this._decodedPalette)!=null?N:this._decodedPalette=this.decodePalette(),c=4,l=!0),b=(u=a.data||a).length,p=y||o,f=g=0,c===1)for(;f<b;)x=y?4*o[f/4]:g,_=p[x++],u[f++]=_,u[f++]=_,u[f++]=_,u[f++]=l?p[x++]:255,g=x;else for(;f<b;)x=y?4*o[f/4]:g,u[f++]=p[x++],u[f++]=p[x++],u[f++]=p[x++],u[f++]=l?p[x++]:255,g=x},n.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(rn)==="[object Window]"){try{t=rn.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(a){var o;if(i()===!0)return r.width=a.width,r.height=a.height,r.clearRect(0,0,a.width,a.height),r.putImageData(a,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(a){var o,l,c,u,f,p,g,x;if(this.animation){for(x=[],l=f=0,p=(g=this.animation.frames).length;f<p;l=++f)o=g[l],c=a.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,x.push(o.image=e(c));return x}},n.prototype.renderFrame=function(a,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&a.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?a.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&a.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&a.clearRect(l.xOffset,l.yOffset,l.width,l.height),a.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(a){var o,l,c,u,f,p,g=this;return l=0,p=this.animation,u=p.numFrames,c=p.frames,f=p.numPlays,(o=function(){var x,b;if(x=l++%u,b=c[x],g.renderFrame(a,x),u>1&&l/u<f)return g.animation._timeout=setTimeout(o,b.delay)})()},n.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},n.prototype.render=function(a){var o,l;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,o=a.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function cDe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var l=null,c=null;a&&(l=t,c=o,t+=3*o);var u=!0,f=[],p=0,g=null,x=0,b=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,b=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];p=e[t++]|e[t++]<<8,g=e[t++],!(1&y)&&(g=null),x=y>>2&7,t++;break;case 254:for(;;){if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var _=e[t++]|e[t++]<<8,N=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,I=e[t++],P=I>>6&1,D=1<<(7&I)+1,k=l,L=c,B=!1;I>>7&&(B=!0,k=t,L=D,t+=3*D);var G=t;for(t++;;){var F;if(!((F=e[t++])>=0))throw Error("Invalid block size");if(F===0)break;t+=F}f.push({x:_,y:N,width:E,height:C,has_local_palette:B,palette_offset:k,palette_size:L,data_offset:G,data_length:t-G,transparent_index:g,interlaced:!!P,delay:p,disposal:x});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return b},this.frameInfo=function(U){if(U<0||U>=f.length)throw new Error("Frame index out of range.");return f[U]},this.decodeAndBlitFrameBGRA=function(U,q){var K=this.frameInfo(U),V=K.width*K.height,ee=new Uint8Array(V);cF(e,K.data_offset,ee,V);var te=K.palette_offset,J=K.transparent_index;J===null&&(J=256);var ge=K.width,Ie=r-ge,Ge=ge,W=4*(K.y*r+K.x),Q=4*((K.y+K.height)*r+K.x),Z=W,re=4*Ie;K.interlaced===!0&&(re+=4*r*7);for(var le=8,Ne=0,Ae=ee.length;Ne<Ae;++Ne){var ve=ee[Ne];if(Ge===0&&(Ge=ge,(Z+=re)>=Q&&(re=4*Ie+4*r*(le-1),Z=W+(ge+Ie)*(le<<1),le>>=1)),ve===J)Z+=4;else{var xe=e[te+3*ve],Le=e[te+3*ve+1],Se=e[te+3*ve+2];q[Z++]=Se,q[Z++]=Le,q[Z++]=xe,q[Z++]=255}--Ge}},this.decodeAndBlitFrameRGBA=function(U,q){var K=this.frameInfo(U),V=K.width*K.height,ee=new Uint8Array(V);cF(e,K.data_offset,ee,V);var te=K.palette_offset,J=K.transparent_index;J===null&&(J=256);var ge=K.width,Ie=r-ge,Ge=ge,W=4*(K.y*r+K.x),Q=4*((K.y+K.height)*r+K.x),Z=W,re=4*Ie;K.interlaced===!0&&(re+=4*r*7);for(var le=8,Ne=0,Ae=ee.length;Ne<Ae;++Ne){var ve=ee[Ne];if(Ge===0&&(Ge=ge,(Z+=re)>=Q&&(re=4*Ie+4*r*(le-1),Z=W+(ge+Ie)*(le<<1),le>>=1)),ve===J)Z+=4;else{var xe=e[te+3*ve],Le=e[te+3*ve+1],Se=e[te+3*ve+2];q[Z++]=xe,q[Z++]=Le,q[Z++]=Se,q[Z++]=255}--Ge}}}function cF(e,t,r,n){for(var i=e[t++],a=1<<i,o=a+1,l=o+1,c=i+1,u=(1<<c)-1,f=0,p=0,g=0,x=e[t++],b=new Int32Array(4096),y=null;;){for(;f<16&&x!==0;)p|=e[t++]<<f,f+=8,x===1?x=e[t++]:--x;if(f<c)break;var _=p&u;if(p>>=c,f-=c,_!==a){if(_===o)break;for(var N=_<l?_:y,E=0,C=N;C>a;)C=b[C]>>8,++E;var I=C;if(g+E+(N!==_?1:0)>n)return void Li.log("Warning, gif stream longer than expected.");r[g++]=I;var P=g+=E;for(N!==_&&(r[g++]=I),C=N;E--;)C=b[C],r[--P]=255&C,C>>=8;y!==null&&l<4096&&(b[l++]=y<<8|I,l>=u+1&&c<12&&(++c,u=u<<1|1)),y=_}else l=o+1,u=(1<<(c=i+1))-1,y=null}return g!==n&&Li.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function NA(e){var t,r,n,i,a,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(64),p=new Array(65535),g=new Array(65535),x=new Array(64),b=new Array(64),y=[],_=0,N=7,E=new Array(64),C=new Array(64),I=new Array(64),P=new Array(256),D=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],F=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],q=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(W,Q){for(var Z=0,re=0,le=new Array,Ne=1;Ne<=16;Ne++){for(var Ae=1;Ae<=W[Ne];Ae++)le[Q[re]]=[],le[Q[re]][0]=Z,le[Q[re]][1]=Ne,re++,Z++;Z*=2}return le}function te(W){for(var Q=W[0],Z=W[1]-1;Z>=0;)Q&1<<Z&&(_|=1<<N),Z--,--N<0&&(_==255?(J(255),J(0)):J(_),N=7,_=0)}function J(W){y.push(W)}function ge(W){J(W>>8&255),J(255&W)}function Ie(W,Q,Z,re,le){for(var Ne,Ae=le[0],ve=le[240],xe=function(Ce,fe){var ke,He,nt,mt,At,qt,mr,ar,ze,tt,dt=0;for(ze=0;ze<8;++ze){ke=Ce[dt],He=Ce[dt+1],nt=Ce[dt+2],mt=Ce[dt+3],At=Ce[dt+4],qt=Ce[dt+5],mr=Ce[dt+6];var Zt=ke+(ar=Ce[dt+7]),ne=ke-ar,De=He+mr,gt=He-mr,Nt=nt+qt,Pr=nt-qt,Jr=mt+At,fa=mt-At,Ln=Zt+Jr,Te=Zt-Jr,it=De+Nt,jt=De-Nt;Ce[dt]=Ln+it,Ce[dt+4]=Ln-it;var lr=.707106781*(jt+Te);Ce[dt+2]=Te+lr,Ce[dt+6]=Te-lr;var xr=.382683433*((Ln=fa+Pr)-(jt=gt+ne)),Sa=.5411961*Ln+xr,dn=1.306562965*jt+xr,ha=.707106781*(it=Pr+gt),li=ne+ha,dr=ne-ha;Ce[dt+5]=dr+Sa,Ce[dt+3]=dr-Sa,Ce[dt+1]=li+dn,Ce[dt+7]=li-dn,dt+=8}for(dt=0,ze=0;ze<8;++ze){ke=Ce[dt],He=Ce[dt+8],nt=Ce[dt+16],mt=Ce[dt+24],At=Ce[dt+32],qt=Ce[dt+40],mr=Ce[dt+48];var qa=ke+(ar=Ce[dt+56]),Fi=ke-ar,_a=He+mr,On=He-mr,Gn=nt+qt,ue=nt-qt,_e=mt+At,Oe=mt-At,Me=qa+_e,Fe=qa-_e,Ve=_a+Gn,ft=_a-Gn;Ce[dt]=Me+Ve,Ce[dt+32]=Me-Ve;var _t=.707106781*(ft+Fe);Ce[dt+16]=Fe+_t,Ce[dt+48]=Fe-_t;var ct=.382683433*((Me=Oe+ue)-(ft=On+Fi)),xt=.5411961*Me+ct,wt=1.306562965*ft+ct,kt=.707106781*(Ve=ue+On),Vt=Fi+kt,de=Fi-kt;Ce[dt+40]=de+xt,Ce[dt+24]=de-xt,Ce[dt+8]=Vt+wt,Ce[dt+56]=Vt-wt,dt++}for(ze=0;ze<64;++ze)tt=Ce[ze]*fe[ze],x[ze]=tt>0?tt+.5|0:tt-.5|0;return x}(W,Q),Le=0;Le<64;++Le)b[k[Le]]=xe[Le];var Se=b[0]-Z;Z=b[0],Se==0?te(re[0]):(te(re[g[Ne=32767+Se]]),te(p[Ne]));for(var ye=63;ye>0&&b[ye]==0;)ye--;if(ye==0)return te(Ae),Z;for(var We,Ye=1;Ye<=ye;){for(var we=Ye;b[Ye]==0&&Ye<=ye;)++Ye;var Pe=Ye-we;if(Pe>=16){We=Pe>>4;for(var ce=1;ce<=We;++ce)te(ve);Pe&=15}Ne=32767+b[Ye],te(le[(Pe<<4)+g[Ne]]),te(p[Ne]),Ye++}return ye!=63&&te(Ae),Z}function Ge(W){W=Math.min(Math.max(W,1),100),a!=W&&(function(Q){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var le=o((Z[re]*Q+50)/100);le=Math.min(Math.max(le,1),255),l[k[re]]=le}for(var Ne=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ae=0;Ae<64;Ae++){var ve=o((Ne[Ae]*Q+50)/100);ve=Math.min(Math.max(ve,1),255),c[k[Ae]]=ve}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,Se=0;Se<8;Se++)for(var ye=0;ye<8;ye++)u[Le]=1/(l[k[Le]]*xe[Se]*xe[ye]*8),f[Le]=1/(c[k[Le]]*xe[Se]*xe[ye]*8),Le++}(W<50?Math.floor(5e3/W):Math.floor(200-2*W)),a=W)}this.encode=function(W,Q){Q&&Ge(Q),y=new Array,_=0,N=7,ge(65496),ge(65504),ge(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),ge(1),ge(1),J(0),J(0),function(){ge(65499),ge(132),J(0);for(var He=0;He<64;He++)J(l[He]);J(1);for(var nt=0;nt<64;nt++)J(c[nt])}(),function(He,nt){ge(65472),ge(17),J(8),ge(nt),ge(He),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(W.width,W.height),function(){ge(65476),ge(418),J(0);for(var He=0;He<16;He++)J(L[He+1]);for(var nt=0;nt<=11;nt++)J(B[nt]);J(16);for(var mt=0;mt<16;mt++)J(G[mt+1]);for(var At=0;At<=161;At++)J(F[At]);J(1);for(var qt=0;qt<16;qt++)J(U[qt+1]);for(var mr=0;mr<=11;mr++)J(q[mr]);J(17);for(var ar=0;ar<16;ar++)J(K[ar+1]);for(var ze=0;ze<=161;ze++)J(V[ze])}(),ge(65498),ge(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var Z=0,re=0,le=0;_=0,N=7,this.encode.displayName="_encode_";for(var Ne,Ae,ve,xe,Le,Se,ye,We,Ye,we=W.data,Pe=W.width,ce=W.height,Ce=4*Pe,fe=0;fe<ce;){for(Ne=0;Ne<Ce;){for(Le=Ce*fe+Ne,ye=-1,We=0,Ye=0;Ye<64;Ye++)Se=Le+(We=Ye>>3)*Ce+(ye=4*(7&Ye)),fe+We>=ce&&(Se-=Ce*(fe+1+We-ce)),Ne+ye>=Ce&&(Se-=Ne+ye-Ce+4),Ae=we[Se++],ve=we[Se++],xe=we[Se++],E[Ye]=(D[Ae]+D[ve+256>>0]+D[xe+512>>0]>>16)-128,C[Ye]=(D[Ae+768>>0]+D[ve+1024>>0]+D[xe+1280>>0]>>16)-128,I[Ye]=(D[Ae+1280>>0]+D[ve+1536>>0]+D[xe+1792>>0]>>16)-128;Z=Ie(E,u,Z,t,n),re=Ie(C,f,re,r,i),le=Ie(I,f,le,r,i),Ne+=32}fe+=8}if(N>=0){var ke=[];ke[1]=N+1,ke[0]=(1<<N+1)-1,te(ke)}return ge(65497),new Uint8Array(y)},e=e||50,function(){for(var W=String.fromCharCode,Q=0;Q<256;Q++)P[Q]=W(Q)}(),t=ee(L,B),r=ee(U,q),n=ee(G,F),i=ee(K,V),function(){for(var W=1,Q=2,Z=1;Z<=15;Z++){for(var re=W;re<Q;re++)g[32767+re]=Z,p[32767+re]=[],p[32767+re][1]=Z,p[32767+re][0]=re;for(var le=-(Q-1);le<=-W;le++)g[32767+le]=Z,p[32767+le]=[],p[32767+le][1]=Z,p[32767+le][0]=Q-1+le;W<<=1,Q<<=1}}(),function(){for(var W=0;W<256;W++)D[W]=19595*W,D[W+256>>0]=38470*W,D[W+512>>0]=7471*W+32768,D[W+768>>0]=-11059*W,D[W+1024>>0]=-21709*W,D[W+1280>>0]=32768*W+8421375,D[W+1536>>0]=-27439*W,D[W+1792>>0]=-5329*W}(),Ge(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Mc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function uF(e){function t(L){if(!L)throw Error("assert :P")}function r(L,B,G){for(var F=0;4>F;F++)if(L[B+F]!=G.charCodeAt(F))return!0;return!1}function n(L,B,G,F,U){for(var q=0;q<U;q++)L[B+q]=G[F+q]}function i(L,B,G,F){for(var U=0;U<F;U++)L[B+U]=G}function a(L){return new Int32Array(L)}function o(L,B){for(var G=[],F=0;F<L;F++)G.push(new B);return G}function l(L,B){var G=[];return function F(U,q,K){for(var V=K[q],ee=0;ee<V&&(U.push(K.length>q+1?[]:new B),!(K.length<q+1));ee++)F(U[ee],q+1,K)}(G,0,L),G}var c=function(){var L=this;function B(A,T){for(var H=1<<T-1>>>0;A&H;)H>>>=1;return H?(A&H-1)+H:A}function G(A,T,H,Y,se){t(!(Y%H));do A[T+(Y-=H)]=se;while(0<Y)}function F(A,T,H,Y,se){if(t(2328>=se),512>=se)var he=a(512);else if((he=a(se))==null)return 0;return function(me,be,je,Ue,Je,vt){var yt,lt,Dt=be,Et=1<<je,et=a(16),rt=a(16);for(t(Je!=0),t(Ue!=null),t(me!=null),t(0<je),lt=0;lt<Je;++lt){if(15<Ue[lt])return 0;++et[Ue[lt]]}if(et[0]==Je)return 0;for(rt[1]=0,yt=1;15>yt;++yt){if(et[yt]>1<<yt)return 0;rt[yt+1]=rt[yt]+et[yt]}for(lt=0;lt<Je;++lt)yt=Ue[lt],0<Ue[lt]&&(vt[rt[yt]++]=lt);if(rt[15]==1)return(Ue=new U).g=0,Ue.value=vt[0],G(me,Dt,1,Et,Ue),Et;var It,Ut=-1,Mt=Et-1,vr=0,sr=1,Hr=1,fr=1<<je;for(lt=0,yt=1,Je=2;yt<=je;++yt,Je<<=1){if(sr+=Hr<<=1,0>(Hr-=et[yt]))return 0;for(;0<et[yt];--et[yt])(Ue=new U).g=yt,Ue.value=vt[lt++],G(me,Dt+vr,Je,fr,Ue),vr=B(vr,yt)}for(yt=je+1,Je=2;15>=yt;++yt,Je<<=1){if(sr+=Hr<<=1,0>(Hr-=et[yt]))return 0;for(;0<et[yt];--et[yt]){if(Ue=new U,(vr&Mt)!=Ut){for(Dt+=fr,It=1<<(Ut=yt)-je;15>Ut&&!(0>=(It-=et[Ut]));)++Ut,It<<=1;Et+=fr=1<<(It=Ut-je),me[be+(Ut=vr&Mt)].g=It+je,me[be+Ut].value=Dt-be-Ut}Ue.g=yt-je,Ue.value=vt[lt++],G(me,Dt+(vr>>je),Je,fr,Ue),vr=B(vr,yt)}}return sr!=2*rt[15]-1?0:Et}(A,T,H,Y,se,he)}function U(){this.value=this.g=0}function q(){this.value=this.g=0}function K(){this.G=o(5,U),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Oi,q)}function V(A,T,H,Y){t(A!=null),t(T!=null),t(2147483648>Y),A.Ca=254,A.I=0,A.b=-8,A.Ka=0,A.oa=T,A.pa=H,A.Jd=T,A.Yc=H+Y,A.Zc=4<=Y?H+Y-4+1:H,Ne(A)}function ee(A,T){for(var H=0;0<T--;)H|=ve(A,128)<<T;return H}function te(A,T){var H=ee(A,T);return Ae(A)?-H:H}function J(A,T,H,Y){var se,he=0;for(t(A!=null),t(T!=null),t(4294967288>Y),A.Sb=Y,A.Ra=0,A.u=0,A.h=0,4<Y&&(Y=4),se=0;se<Y;++se)he+=T[H+se]<<8*se;A.Ra=he,A.bb=Y,A.oa=T,A.pa=H}function ge(A){for(;8<=A.u&&A.bb<A.Sb;)A.Ra>>>=8,A.Ra+=A.oa[A.pa+A.bb]<<ql-8>>>0,++A.bb,A.u-=8;Z(A)&&(A.h=1,A.u=0)}function Ie(A,T){if(t(0<=T),!A.h&&T<=Nu){var H=Q(A)&Lf[T];return A.u+=T,ge(A),H}return A.h=1,A.u=0}function Ge(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(A){return A.Ra>>>(A.u&ql-1)>>>0}function Z(A){return t(A.bb<=A.Sb),A.h||A.bb==A.Sb&&A.u>ql}function re(A,T){A.u=T,A.h=Z(A)}function le(A){A.u>=In&&(t(A.u>=In),ge(A))}function Ne(A){t(A!=null&&A.oa!=null),A.pa<A.Zc?(A.I=(A.oa[A.pa++]|A.I<<8)>>>0,A.b+=8):(t(A!=null&&A.oa!=null),A.pa<A.Yc?(A.b+=8,A.I=A.oa[A.pa++]|A.I<<8):A.Ka?A.b=0:(A.I<<=8,A.b+=8,A.Ka=1))}function Ae(A){return ee(A,1)}function ve(A,T){var H=A.Ca;0>A.b&&Ne(A);var Y=A.b,se=H*T>>>8,he=(A.I>>>Y>se)+0;for(he?(H-=se,A.I-=se+1<<Y>>>0):H=se+1,Y=H,se=0;256<=Y;)se+=8,Y>>=8;return Y=7^se+is[Y],A.b-=Y,A.Ca=(H<<Y)-1,he}function xe(A,T,H){A[T+0]=H>>24&255,A[T+1]=H>>16&255,A[T+2]=H>>8&255,A[T+3]=H>>0&255}function Le(A,T){return A[T+0]<<0|A[T+1]<<8}function Se(A,T){return Le(A,T)|A[T+2]<<16}function ye(A,T){return Le(A,T)|Le(A,T+2)<<16}function We(A,T){var H=1<<T;return t(A!=null),t(0<T),A.X=a(H),A.X==null?0:(A.Mb=32-T,A.Xa=T,1)}function Ye(A,T){t(A!=null),t(T!=null),t(A.Xa==T.Xa),n(T.X,0,A.X,0,1<<T.Xa)}function we(){this.X=[],this.Xa=this.Mb=0}function Pe(A,T,H,Y){t(H!=null),t(Y!=null);var se=H[0],he=Y[0];return se==0&&(se=(A*he+T/2)/T),he==0&&(he=(T*se+A/2)/A),0>=se||0>=he?0:(H[0]=se,Y[0]=he,1)}function ce(A,T){return A+(1<<T)-1>>>T}function Ce(A,T){return((4278255360&A)+(4278255360&T)>>>0&4278255360)+((16711935&A)+(16711935&T)>>>0&16711935)>>>0}function fe(A,T){L[T]=function(H,Y,se,he,me,be,je){var Ue;for(Ue=0;Ue<me;++Ue){var Je=L[A](be[je+Ue-1],se,he+Ue);be[je+Ue]=Ce(H[Y+Ue],Je)}}}function ke(){this.ud=this.hd=this.jd=0}function He(A,T){return((4278124286&(A^T))>>>1)+(A&T)>>>0}function nt(A){return 0<=A&&256>A?A:0>A?0:255<A?255:void 0}function mt(A,T){return nt(A+(A-T+.5>>1))}function At(A,T,H){return Math.abs(T-H)-Math.abs(A-H)}function qt(A,T,H,Y,se,he,me){for(Y=he[me-1],H=0;H<se;++H)he[me+H]=Y=Ce(A[T+H],Y)}function mr(A,T,H,Y,se){var he;for(he=0;he<H;++he){var me=A[T+he],be=me>>8&255,je=16711935&(je=(je=16711935&me)+((be<<16)+be));Y[se+he]=(4278255360&me)+je>>>0}}function ar(A,T){T.jd=A>>0&255,T.hd=A>>8&255,T.ud=A>>16&255}function ze(A,T,H,Y,se,he){var me;for(me=0;me<Y;++me){var be=T[H+me],je=be>>>8,Ue=be,Je=255&(Je=(Je=be>>>16)+((A.jd<<24>>24)*(je<<24>>24)>>>5));Ue=255&(Ue=(Ue=Ue+((A.hd<<24>>24)*(je<<24>>24)>>>5))+((A.ud<<24>>24)*(Je<<24>>24)>>>5)),se[he+me]=(4278255360&be)+(Je<<16)+Ue}}function tt(A,T,H,Y,se){L[T]=function(he,me,be,je,Ue,Je,vt,yt,lt){for(je=vt;je<yt;++je)for(vt=0;vt<lt;++vt)Ue[Je++]=se(be[Y(he[me++])])},L[A]=function(he,me,be,je,Ue,Je,vt){var yt=8>>he.b,lt=he.Ea,Dt=he.K[0],Et=he.w;if(8>yt)for(he=(1<<he.b)-1,Et=(1<<yt)-1;me<be;++me){var et,rt=0;for(et=0;et<lt;++et)et&he||(rt=Y(je[Ue++])),Je[vt++]=se(Dt[rt&Et]),rt>>=yt}else L["VP8LMapColor"+H](je,Ue,Dt,Et,Je,vt,me,be,lt)}}function dt(A,T,H,Y,se){for(H=T+H;T<H;){var he=A[T++];Y[se++]=he>>16&255,Y[se++]=he>>8&255,Y[se++]=he>>0&255}}function Zt(A,T,H,Y,se){for(H=T+H;T<H;){var he=A[T++];Y[se++]=he>>16&255,Y[se++]=he>>8&255,Y[se++]=he>>0&255,Y[se++]=he>>24&255}}function ne(A,T,H,Y,se){for(H=T+H;T<H;){var he=(me=A[T++])>>16&240|me>>12&15,me=me>>0&240|me>>28&15;Y[se++]=he,Y[se++]=me}}function De(A,T,H,Y,se){for(H=T+H;T<H;){var he=(me=A[T++])>>16&248|me>>13&7,me=me>>5&224|me>>3&31;Y[se++]=he,Y[se++]=me}}function gt(A,T,H,Y,se){for(H=T+H;T<H;){var he=A[T++];Y[se++]=he>>0&255,Y[se++]=he>>8&255,Y[se++]=he>>16&255}}function Nt(A,T,H,Y,se,he){if(he==0)for(H=T+H;T<H;)xe(Y,((he=A[T++])[0]>>24|he[1]>>8&65280|he[2]<<8&16711680|he[3]<<24)>>>0),se+=32;else n(Y,se,A,T,H)}function Pr(A,T){L[T][0]=L[A+"0"],L[T][1]=L[A+"1"],L[T][2]=L[A+"2"],L[T][3]=L[A+"3"],L[T][4]=L[A+"4"],L[T][5]=L[A+"5"],L[T][6]=L[A+"6"],L[T][7]=L[A+"7"],L[T][8]=L[A+"8"],L[T][9]=L[A+"9"],L[T][10]=L[A+"10"],L[T][11]=L[A+"11"],L[T][12]=L[A+"12"],L[T][13]=L[A+"13"],L[T][14]=L[A+"0"],L[T][15]=L[A+"0"]}function Jr(A){return A==ON||A==IN||A==fw||A==PN}function fa(){this.eb=[],this.size=this.A=this.fb=0}function Ln(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Te(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new fa,this.f.kb=new Ln,this.sd=null}function it(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function jt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function lr(A){return alert("todo:WebPSamplerProcessPlane"),A.T}function xr(A,T){var H=A.T,Y=T.ba.f.RGBA,se=Y.eb,he=Y.fb+A.ka*Y.A,me=Xl[T.ba.S],be=A.y,je=A.O,Ue=A.f,Je=A.N,vt=A.ea,yt=A.W,lt=T.cc,Dt=T.dc,Et=T.Mc,et=T.Nc,rt=A.ka,It=A.ka+A.T,Ut=A.U,Mt=Ut+1>>1;for(rt==0?me(be,je,null,null,Ue,Je,vt,yt,Ue,Je,vt,yt,se,he,null,null,Ut):(me(T.ec,T.fc,be,je,lt,Dt,Et,et,Ue,Je,vt,yt,se,he-Y.A,se,he,Ut),++H);rt+2<It;rt+=2)lt=Ue,Dt=Je,Et=vt,et=yt,Je+=A.Rc,yt+=A.Rc,he+=2*Y.A,me(be,(je+=2*A.fa)-A.fa,be,je,lt,Dt,Et,et,Ue,Je,vt,yt,se,he-Y.A,se,he,Ut);return je+=A.fa,A.j+It<A.o?(n(T.ec,T.fc,be,je,Ut),n(T.cc,T.dc,Ue,Je,Mt),n(T.Mc,T.Nc,vt,yt,Mt),H--):1&It||me(be,je,null,null,Ue,Je,vt,yt,Ue,Je,vt,yt,se,he+Y.A,null,null,Ut),H}function Sa(A,T,H){var Y=A.F,se=[A.J];if(Y!=null){var he=A.U,me=T.ba.S,be=me==dw||me==fw;T=T.ba.f.RGBA;var je=[0],Ue=A.ka;je[0]=A.T,A.Kb&&(Ue==0?--je[0]:(--Ue,se[0]-=A.width),A.j+A.ka+A.T==A.o&&(je[0]=A.o-A.j-Ue));var Je=T.eb;Ue=T.fb+Ue*T.A,A=$i(Y,se[0],A.width,he,je,Je,Ue+(be?0:3),T.A),t(H==je),A&&Jr(me)&&$o(Je,Ue,be,he,je,T.A)}return 0}function dn(A){var T=A.ma,H=T.ba.S,Y=11>H,se=H==cw||H==uw||H==dw||H==TN||H==12||Jr(H);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!vd(T.Oa,A,se?11:12))return 0;if(se&&Jr(H)&&Lt(),A.da)alert("todo:use_scaling");else{if(Y){if(T.Ib=lr,A.Kb){if(H=A.U+1>>1,T.memory=a(A.U+2*H),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+A.U,T.Mc=T.cc,T.Nc=T.dc+H,T.Ib=xr,Lt()}}else alert("todo:EmitYUV");se&&(T.Jb=Sa,Y&&ut())}if(Y&&!hP){for(A=0;256>A;++A)eee[A]=89858*(A-128)+pw>>hw,nee[A]=-22014*(A-128)+pw,ree[A]=-45773*(A-128),tee[A]=113618*(A-128)+pw>>hw;for(A=Sx;A<DN;++A)T=76283*(A-16)+pw>>hw,iee[A-Sx]=Na(T,255),aee[A-Sx]=Na(T+8>>4,15);hP=1}return 1}function ha(A){var T=A.ma,H=A.U,Y=A.T;return t(!(1&A.ka)),0>=H||0>=Y?0:(H=T.Ib(A,T),T.Jb!=null&&T.Jb(A,T,H),T.Dc+=H,1)}function li(A){A.ma.memory=null}function dr(A,T,H,Y){return Ie(A,8)!=47?0:(T[0]=Ie(A,14)+1,H[0]=Ie(A,14)+1,Y[0]=Ie(A,1),Ie(A,3)!=0?0:!A.h)}function qa(A,T){if(4>A)return A+1;var H=A-2>>1;return(2+(1&A)<<H)+Ie(T,H)+1}function Fi(A,T){return 120<T?T-120:1<=(H=((H=$J[T-1])>>4)*A+(8-(15&H)))?H:1;var H}function _a(A,T,H){var Y=Q(H),se=A[T+=255&Y].g-8;return 0<se&&(re(H,H.u+8),Y=Q(H),T+=A[T].value,T+=Y&(1<<se)-1),re(H,H.u+A[T].g),A[T].value}function On(A,T,H){return H.g+=A.g,H.value+=A.value<<T>>>0,t(8>=H.g),A.g}function Gn(A,T,H){var Y=A.xc;return t((T=Y==0?0:A.vc[A.md*(H>>Y)+(T>>Y)])<A.Wb),A.Ya[T]}function ue(A,T,H,Y){var se=A.ab,he=A.c*T,me=A.C;T=me+T;var be=H,je=Y;for(Y=A.Ta,H=A.Ua;0<se--;){var Ue=A.gc[se],Je=me,vt=T,yt=be,lt=je,Dt=(je=Y,be=H,Ue.Ea);switch(t(Je<vt),t(vt<=Ue.nc),Ue.hc){case 2:h(yt,lt,(vt-Je)*Dt,je,be);break;case 0:var Et=Je,et=vt,rt=je,It=be,Ut=(fr=Ue).Ea;Et==0&&(ae(yt,lt,null,null,1,rt,It),qt(yt,lt+1,0,0,Ut-1,rt,It+1),lt+=Ut,It+=Ut,++Et);for(var Mt=1<<fr.b,vr=Mt-1,sr=ce(Ut,fr.b),Hr=fr.K,fr=fr.w+(Et>>fr.b)*sr;Et<et;){var ii=Hr,pi=fr,Kn=1;for(d(yt,lt,rt,It-Ut,1,rt,It);Kn<Ut;){var zn=(Kn&~vr)+Mt;zn>Ut&&(zn=Ut),(0,j[ii[pi++]>>8&15])(yt,lt+ +Kn,rt,It+Kn-Ut,zn-Kn,rt,It+Kn),Kn=zn}lt+=Ut,It+=Ut,++Et&vr||(fr+=sr)}vt!=Ue.nc&&n(je,be-Dt,je,be+(vt-Je-1)*Dt,Dt);break;case 1:for(Dt=yt,et=lt,Ut=(yt=Ue.Ea)-(It=yt&~(rt=(lt=1<<Ue.b)-1)),Et=ce(yt,Ue.b),Mt=Ue.K,Ue=Ue.w+(Je>>Ue.b)*Et;Je<vt;){for(vr=Mt,sr=Ue,Hr=new ke,fr=et+It,ii=et+yt;et<fr;)ar(vr[sr++],Hr),M(Hr,Dt,et,lt,je,be),et+=lt,be+=lt;et<ii&&(ar(vr[sr++],Hr),M(Hr,Dt,et,Ut,je,be),et+=Ut,be+=Ut),++Je&rt||(Ue+=Et)}break;case 3:if(yt==je&&lt==be&&0<Ue.b){for(et=je,yt=Dt=be+(vt-Je)*Dt-(It=(vt-Je)*ce(Ue.Ea,Ue.b)),lt=je,rt=be,Et=[],It=(Ut=It)-1;0<=It;--It)Et[It]=lt[rt+It];for(It=Ut-1;0<=It;--It)et[yt+It]=Et[It];m(Ue,Je,vt,je,Dt,je,be)}else m(Ue,Je,vt,yt,lt,je,be)}be=Y,je=H}je!=H&&n(Y,H,be,je,he)}function _e(A,T){var H=A.V,Y=A.Ba+A.c*A.C,se=T-A.C;if(t(T<=A.l.o),t(16>=se),0<se){var he=A.l,me=A.Ta,be=A.Ua,je=he.width;if(ue(A,se,H,Y),se=be=[be],t((H=A.C)<(Y=T)),t(he.v<he.va),Y>he.o&&(Y=he.o),H<he.j){var Ue=he.j-H;H=he.j,se[0]+=Ue*je}if(H>=Y?H=0:(se[0]+=4*he.v,he.ka=H-he.j,he.U=he.va-he.v,he.T=Y-H,H=1),H){if(be=be[0],11>(H=A.ca).S){var Je=H.f.RGBA,vt=(Y=H.S,se=he.U,he=he.T,Ue=Je.eb,Je.A),yt=he;for(Je=Je.fb+A.Ma*Je.A;0<yt--;){var lt=me,Dt=be,Et=se,et=Ue,rt=Je;switch(Y){case lw:z(lt,Dt,Et,et,rt);break;case cw:X(lt,Dt,Et,et,rt);break;case ON:X(lt,Dt,Et,et,rt),$o(et,rt,0,Et,1,0);break;case nP:$e(lt,Dt,Et,et,rt);break;case uw:Nt(lt,Dt,Et,et,rt,1);break;case IN:Nt(lt,Dt,Et,et,rt,1),$o(et,rt,0,Et,1,0);break;case dw:Nt(lt,Dt,Et,et,rt,0);break;case fw:Nt(lt,Dt,Et,et,rt,0),$o(et,rt,1,Et,1,0);break;case TN:ie(lt,Dt,Et,et,rt);break;case PN:ie(lt,Dt,Et,et,rt),Bi(et,rt,Et,1,0);break;case iP:pe(lt,Dt,Et,et,rt);break;default:t(0)}be+=je,Je+=vt}A.Ma+=he}else alert("todo:EmitRescaledRowsYUVA");t(A.Ma<=H.height)}}A.C=T,t(A.C<=A.i)}function Oe(A){var T;if(0<A.ua)return 0;for(T=0;T<A.Wb;++T){var H=A.Ya[T].G,Y=A.Ya[T].H;if(0<H[1][Y[1]+0].g||0<H[2][Y[2]+0].g||0<H[3][Y[3]+0].g)return 0}return 1}function Me(A,T,H,Y,se,he){if(A.Z!=0){var me=A.qd,be=A.rd;for(t(Ff[A.Z]!=null);T<H;++T)Ff[A.Z](me,be,Y,se,Y,se,he),me=Y,be=se,se+=he;A.qd=me,A.rd=be}}function Fe(A,T){var H=A.l.ma,Y=H.Z==0||H.Z==1?A.l.j:A.C;if(Y=A.C<Y?Y:A.C,t(T<=A.l.o),T>Y){var se=A.l.width,he=H.ca,me=H.tb+se*Y,be=A.V,je=A.Ba+A.c*Y,Ue=A.gc;t(A.ab==1),t(Ue[0].hc==3),w(Ue[0],Y,T,be,je,he,me),Me(H,Y,T,he,me,se)}A.C=A.Ma=T}function Ve(A,T,H,Y,se,he,me){var be=A.$/Y,je=A.$%Y,Ue=A.m,Je=A.s,vt=H+A.$,yt=vt;se=H+Y*se;var lt=H+Y*he,Dt=280+Je.ua,Et=A.Pb?be:16777216,et=0<Je.ua?Je.Wa:null,rt=Je.wc,It=vt<lt?Gn(Je,je,be):null;t(A.C<he),t(lt<=se);var Ut=!1;e:for(;;){for(;Ut||vt<lt;){var Mt=0;if(be>=Et){var vr=vt-H;t((Et=A).Pb),Et.wd=Et.m,Et.xd=vr,0<Et.s.ua&&Ye(Et.s.Wa,Et.s.vb),Et=be+zJ}if(je&rt||(It=Gn(Je,je,be)),t(It!=null),It.Qb&&(T[vt]=It.qb,Ut=!0),!Ut)if(le(Ue),It.jc){Mt=Ue,vr=T;var sr=vt,Hr=It.pd[Q(Mt)&Oi-1];t(It.jc),256>Hr.g?(re(Mt,Mt.u+Hr.g),vr[sr]=Hr.value,Mt=0):(re(Mt,Mt.u+Hr.g-256),t(256<=Hr.value),Mt=Hr.value),Mt==0&&(Ut=!0)}else Mt=_a(It.G[0],It.H[0],Ue);if(Ue.h)break;if(Ut||256>Mt){if(!Ut)if(It.nd)T[vt]=(It.qb|Mt<<8)>>>0;else{if(le(Ue),Ut=_a(It.G[1],It.H[1],Ue),le(Ue),vr=_a(It.G[2],It.H[2],Ue),sr=_a(It.G[3],It.H[3],Ue),Ue.h)break;T[vt]=(sr<<24|Ut<<16|Mt<<8|vr)>>>0}if(Ut=!1,++vt,++je>=Y&&(je=0,++be,me!=null&&be<=he&&!(be%16)&&me(A,be),et!=null))for(;yt<vt;)Mt=T[yt++],et.X[(506832829*Mt&4294967295)>>>et.Mb]=Mt}else if(280>Mt){if(Mt=qa(Mt-256,Ue),vr=_a(It.G[4],It.H[4],Ue),le(Ue),vr=Fi(Y,vr=qa(vr,Ue)),Ue.h)break;if(vt-H<vr||se-vt<Mt)break e;for(sr=0;sr<Mt;++sr)T[vt+sr]=T[vt+sr-vr];for(vt+=Mt,je+=Mt;je>=Y;)je-=Y,++be,me!=null&&be<=he&&!(be%16)&&me(A,be);if(t(vt<=se),je&rt&&(It=Gn(Je,je,be)),et!=null)for(;yt<vt;)Mt=T[yt++],et.X[(506832829*Mt&4294967295)>>>et.Mb]=Mt}else{if(!(Mt<Dt))break e;for(Ut=Mt-280,t(et!=null);yt<vt;)Mt=T[yt++],et.X[(506832829*Mt&4294967295)>>>et.Mb]=Mt;Mt=vt,t(!(Ut>>>(vr=et).Xa)),T[Mt]=vr.X[Ut],Ut=!0}Ut||t(Ue.h==Z(Ue))}if(A.Pb&&Ue.h&&vt<se)t(A.m.h),A.a=5,A.m=A.wd,A.$=A.xd,0<A.s.ua&&Ye(A.s.vb,A.s.Wa);else{if(Ue.h)break e;me!=null&&me(A,be>he?he:be),A.a=0,A.$=vt-H}return 1}return A.a=3,0}function ft(A){t(A!=null),A.vc=null,A.yc=null,A.Ya=null;var T=A.Wa;T!=null&&(T.X=null),A.vb=null,t(A!=null)}function _t(){var A=new ga;return A==null?null:(A.a=0,A.xb=oP,Pr("Predictor","VP8LPredictors"),Pr("Predictor","VP8LPredictors_C"),Pr("PredictorAdd","VP8LPredictorsAdd"),Pr("PredictorAdd","VP8LPredictorsAdd_C"),h=mr,M=ze,z=dt,X=Zt,ie=ne,pe=De,$e=gt,L.VP8LMapColor32b=v,L.VP8LMapColor8b=S,A)}function ct(A,T,H,Y,se){var he=1,me=[A],be=[T],je=Y.m,Ue=Y.s,Je=null,vt=0;e:for(;;){if(H)for(;he&&Ie(je,1);){var yt=me,lt=be,Dt=Y,Et=1,et=Dt.m,rt=Dt.gc[Dt.ab],It=Ie(et,2);if(Dt.Oc&1<<It)he=0;else{switch(Dt.Oc|=1<<It,rt.hc=It,rt.Ea=yt[0],rt.nc=lt[0],rt.K=[null],++Dt.ab,t(4>=Dt.ab),It){case 0:case 1:rt.b=Ie(et,3)+2,Et=ct(ce(rt.Ea,rt.b),ce(rt.nc,rt.b),0,Dt,rt.K),rt.K=rt.K[0];break;case 3:var Ut,Mt=Ie(et,8)+1,vr=16<Mt?0:4<Mt?1:2<Mt?2:3;if(yt[0]=ce(rt.Ea,vr),rt.b=vr,Ut=Et=ct(Mt,1,0,Dt,rt.K)){var sr,Hr=Mt,fr=rt,ii=1<<(8>>fr.b),pi=a(ii);if(pi==null)Ut=0;else{var Kn=fr.K[0],zn=fr.w;for(pi[0]=fr.K[0][0],sr=1;sr<1*Hr;++sr)pi[sr]=Ce(Kn[zn+sr],pi[sr-1]);for(;sr<4*ii;++sr)pi[sr]=0;fr.K[0]=null,fr.K[0]=pi,Ut=1}}Et=Ut;break;case 2:break;default:t(0)}he=Et}}if(me=me[0],be=be[0],he&&Ie(je,1)&&!(he=1<=(vt=Ie(je,4))&&11>=vt)){Y.a=3;break e}var Di;if(Di=he)t:{var Ii,_n,Xa,Uo=Y,Ka=me,zo=be,mi=vt,hl=H,pl=Uo.m,gs=Uo.s,Ps=[null],xo=1,Kl=0,Eu=UJ[mi];r:for(;;){if(hl&&Ie(pl,1)){var xs=Ie(pl,3)+2,Sd=ce(Ka,xs),O0=ce(zo,xs),f1=Sd*O0;if(!ct(Sd,O0,0,Uo,Ps))break r;for(Ps=Ps[0],gs.xc=xs,Ii=0;Ii<f1;++Ii){var Bf=Ps[Ii]>>8&65535;Ps[Ii]=Bf,Bf>=xo&&(xo=Bf+1)}}if(pl.h)break r;for(_n=0;5>_n;++_n){var Aa=aP[_n];!_n&&0<mi&&(Aa+=1<<mi),Kl<Aa&&(Kl=Aa)}var LN=o(xo*Eu,U),gP=xo,xP=o(gP,K);if(xP==null)var gw=null;else t(65536>=gP),gw=xP;var _x=a(Kl);if(gw==null||_x==null||LN==null){Uo.a=1;break r}var xw=LN;for(Ii=Xa=0;Ii<xo;++Ii){var Oc=gw[Ii],h1=Oc.G,p1=Oc.H,vP=0,vw=1,yP=0;for(_n=0;5>_n;++_n){Aa=aP[_n],h1[_n]=xw,p1[_n]=Xa,!_n&&0<mi&&(Aa+=1<<mi);i:{var yw,RN=Aa,ww=Uo,Nx=_x,lee=xw,cee=Xa,FN=0,$f=ww.m,uee=Ie($f,1);if(i(Nx,0,0,RN),uee){var dee=Ie($f,1)+1,fee=Ie($f,1),wP=Ie($f,fee==0?1:8);Nx[wP]=1,dee==2&&(Nx[wP=Ie($f,8)]=1);var bw=1}else{var bP=a(19),SP=Ie($f,4)+4;if(19<SP){ww.a=3;var Sw=0;break i}for(yw=0;yw<SP;++yw)bP[BJ[yw]]=Ie($f,3);var BN=void 0,Ex=void 0,_P=ww,hee=bP,_w=RN,NP=Nx,$N=0,Uf=_P.m,EP=8,AP=o(128,U);n:for(;F(AP,0,7,hee,19);){if(Ie(Uf,1)){var pee=2+2*Ie(Uf,3);if((BN=2+Ie(Uf,pee))>_w)break n}else BN=_w;for(Ex=0;Ex<_w&&BN--;){le(Uf);var CP=AP[0+(127&Q(Uf))];re(Uf,Uf.u+CP.g);var m1=CP.value;if(16>m1)NP[Ex++]=m1,m1!=0&&(EP=m1);else{var mee=m1==16,jP=m1-16,gee=RJ[jP],TP=Ie(Uf,LJ[jP])+gee;if(Ex+TP>_w)break n;for(var xee=mee?EP:0;0<TP--;)NP[Ex++]=xee}}$N=1;break n}$N||(_P.a=3),bw=$N}(bw=bw&&!$f.h)&&(FN=F(lee,cee,8,Nx,RN)),bw&&FN!=0?Sw=FN:(ww.a=3,Sw=0)}if(Sw==0)break r;if(vw&&FJ[_n]==1&&(vw=xw[Xa].g==0),vP+=xw[Xa].g,Xa+=Sw,3>=_n){var Ax,UN=_x[0];for(Ax=1;Ax<Aa;++Ax)_x[Ax]>UN&&(UN=_x[Ax]);yP+=UN}}if(Oc.nd=vw,Oc.Qb=0,vw&&(Oc.qb=(h1[3][p1[3]+0].value<<24|h1[1][p1[1]+0].value<<16|h1[2][p1[2]+0].value)>>>0,vP==0&&256>h1[0][p1[0]+0].value&&(Oc.Qb=1,Oc.qb+=h1[0][p1[0]+0].value<<8)),Oc.jc=!Oc.Qb&&6>yP,Oc.jc){var Nw,_d=Oc;for(Nw=0;Nw<Oi;++Nw){var zf=Nw,Vf=_d.pd[zf],Ew=_d.G[0][_d.H[0]+zf];256<=Ew.value?(Vf.g=Ew.g+256,Vf.value=Ew.value):(Vf.g=0,Vf.value=0,zf>>=On(Ew,8,Vf),zf>>=On(_d.G[1][_d.H[1]+zf],16,Vf),zf>>=On(_d.G[2][_d.H[2]+zf],0,Vf),On(_d.G[3][_d.H[3]+zf],24,Vf))}}}gs.vc=Ps,gs.Wb=xo,gs.Ya=gw,gs.yc=LN,Di=1;break t}Di=0}if(!(he=Di)){Y.a=3;break e}if(0<vt){if(Ue.ua=1<<vt,!We(Ue.Wa,vt)){Y.a=1,he=0;break e}}else Ue.ua=0;var zN=Y,OP=me,vee=be,VN=zN.s,WN=VN.xc;if(zN.c=OP,zN.i=vee,VN.md=ce(OP,WN),VN.wc=WN==0?-1:(1<<WN)-1,H){Y.xb=XJ;break e}if((Je=a(me*be))==null){Y.a=1,he=0;break e}he=(he=Ve(Y,Je,0,me,be,be,null))&&!je.h;break e}return he?(se!=null?se[0]=Je:(t(Je==null),t(H)),Y.$=0,H||ft(Ue)):ft(Ue),he}function xt(A,T){var H=A.c*A.i,Y=H+T+16*T;return t(A.c<=T),A.V=a(Y),A.V==null?(A.Ta=null,A.Ua=0,A.a=1,0):(A.Ta=A.V,A.Ua=A.Ba+H+T,1)}function wt(A,T){var H=A.C,Y=T-H,se=A.V,he=A.Ba+A.c*H;for(t(T<=A.l.o);0<Y;){var me=16<Y?16:Y,be=A.l.ma,je=A.l.width,Ue=je*me,Je=be.ca,vt=be.tb+je*H,yt=A.Ta,lt=A.Ua;ue(A,me,se,he),Ba(yt,lt,Je,vt,Ue),Me(be,H,H+me,Je,vt,je),Y-=me,se+=me*A.c,H+=me}t(H==T),A.C=A.Ma=T}function kt(){this.ub=this.yd=this.td=this.Rb=0}function Vt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function de(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function at(){this.Yb=function(){var A=[];return function T(H,Y,se){for(var he=se[Y],me=0;me<he&&(H.push(se.length>Y+1?[]:0),!(se.length<Y+1));me++)T(H[me],Y+1,se)}(A,0,[3,11]),A}()}function ht(){this.jb=a(3),this.Wc=l([4,8],at),this.Xc=l([4,17],at)}function Xt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function st(){this.ld=this.La=this.dd=this.tc=0}function Fr(){this.Na=this.la=0}function Rr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ji(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function cl(){this.uc=this.M=this.Nb=0,this.wa=Array(new st),this.Y=0,this.ya=Array(new ji),this.aa=0,this.l=new en}function yn(){this.y=a(16),this.f=a(8),this.ea=a(8)}function pn(){this.cb=this.a=0,this.sc="",this.m=new Ge,this.Od=new kt,this.Kc=new Vt,this.ed=new Xt,this.Qa=new de,this.Ic=this.$c=this.Aa=0,this.D=new cl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Ge),this.ia=0,this.pb=o(4,Rr),this.Pa=new ht,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new yn),this.Hd=0,this.rb=Array(new Fr),this.sb=0,this.wa=Array(new st),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ji),this.L=this.aa=0,this.gd=l([4,2],st),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function en(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ga(){var A=new pn;return A!=null&&(A.a=0,A.sc="OK",A.cb=0,A.Xb=0,bx||(bx=qs)),A}function Ti(A,T,H){return A.a==0&&(A.a=T,A.sc=H,A.cb=0),0}function Ec(A,T,H){return 3<=H&&A[T+0]==157&&A[T+1]==1&&A[T+2]==42}function Mi(A,T){if(A==null)return 0;if(A.a=0,A.sc="OK",T==null)return Ti(A,2,"null VP8Io passed to VP8GetHeaders()");var H=T.data,Y=T.w,se=T.ha;if(4>se)return Ti(A,7,"Truncated header.");var he=H[Y+0]|H[Y+1]<<8|H[Y+2]<<16,me=A.Od;if(me.Rb=!(1&he),me.td=he>>1&7,me.yd=he>>4&1,me.ub=he>>5,3<me.td)return Ti(A,3,"Incorrect keyframe parameters.");if(!me.yd)return Ti(A,4,"Frame not displayable.");Y+=3,se-=3;var be=A.Kc;if(me.Rb){if(7>se)return Ti(A,7,"cannot parse picture header");if(!Ec(H,Y,se))return Ti(A,3,"Bad code word");be.c=16383&(H[Y+4]<<8|H[Y+3]),be.Td=H[Y+4]>>6,be.i=16383&(H[Y+6]<<8|H[Y+5]),be.Ud=H[Y+6]>>6,Y+=7,se-=7,A.za=be.c+15>>4,A.Ub=be.i+15>>4,T.width=be.c,T.height=be.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((he=A.Pa).jb,0,255,he.jb.length),t((he=A.Qa)!=null),he.Cb=0,he.Bb=0,he.Fb=1,i(he.Zb,0,0,he.Zb.length),i(he.Lb,0,0,he.Lb)}if(me.ub>se)return Ti(A,7,"bad partition length");V(he=A.m,H,Y,me.ub),Y+=me.ub,se-=me.ub,me.Rb&&(be.Ld=Ae(he),be.Kd=Ae(he)),be=A.Qa;var je,Ue=A.Pa;if(t(he!=null),t(be!=null),be.Cb=Ae(he),be.Cb){if(be.Bb=Ae(he),Ae(he)){for(be.Fb=Ae(he),je=0;4>je;++je)be.Zb[je]=Ae(he)?te(he,7):0;for(je=0;4>je;++je)be.Lb[je]=Ae(he)?te(he,6):0}if(be.Bb)for(je=0;3>je;++je)Ue.jb[je]=Ae(he)?ee(he,8):255}else be.Bb=0;if(he.Ka)return Ti(A,3,"cannot parse segment header");if((be=A.ed).zd=Ae(he),be.Tb=ee(he,6),be.wb=ee(he,3),be.Pc=Ae(he),be.Pc&&Ae(he)){for(Ue=0;4>Ue;++Ue)Ae(he)&&(be.vd[Ue]=te(he,6));for(Ue=0;4>Ue;++Ue)Ae(he)&&(be.od[Ue]=te(he,6))}if(A.L=be.Tb==0?0:be.zd?1:2,he.Ka)return Ti(A,3,"cannot parse filter header");var Je=se;if(se=je=Y,Y=je+Je,be=Je,A.Xb=(1<<ee(A.m,2))-1,Je<3*(Ue=A.Xb))H=7;else{for(je+=3*Ue,be-=3*Ue,Je=0;Je<Ue;++Je){var vt=H[se+0]|H[se+1]<<8|H[se+2]<<16;vt>be&&(vt=be),V(A.Jc[+Je],H,je,vt),je+=vt,be-=vt,se+=3}V(A.Jc[+Ue],H,je,be),H=je<Y?0:5}if(H!=0)return Ti(A,H,"cannot parse partitions");for(H=ee(je=A.m,7),se=Ae(je)?te(je,4):0,Y=Ae(je)?te(je,4):0,be=Ae(je)?te(je,4):0,Ue=Ae(je)?te(je,4):0,je=Ae(je)?te(je,4):0,Je=A.Qa,vt=0;4>vt;++vt){if(Je.Cb){var yt=Je.Zb[vt];Je.Fb||(yt+=H)}else{if(0<vt){A.pb[vt]=A.pb[0];continue}yt=H}var lt=A.pb[vt];lt.Sc[0]=kN[Na(yt+se,127)],lt.Sc[1]=MN[Na(yt+0,127)],lt.Eb[0]=2*kN[Na(yt+Y,127)],lt.Eb[1]=101581*MN[Na(yt+be,127)]>>16,8>lt.Eb[1]&&(lt.Eb[1]=8),lt.Qc[0]=kN[Na(yt+Ue,117)],lt.Qc[1]=MN[Na(yt+je,127)],lt.lc=yt+je}if(!me.Rb)return Ti(A,4,"Not a key frame.");for(Ae(he),me=A.Pa,H=0;4>H;++H){for(se=0;8>se;++se)for(Y=0;3>Y;++Y)for(be=0;11>be;++be)Ue=ve(he,GJ[H][se][Y][be])?ee(he,8):HJ[H][se][Y][be],me.Wc[H][se].Yb[Y][be]=Ue;for(se=0;17>se;++se)me.Xc[H][se]=me.Wc[H][YJ[se]]}return A.kc=Ae(he),A.kc&&(A.Bd=ee(he,8)),A.cb=1}function qs(A,T,H,Y,se,he,me){var be=T[se].Yb[H];for(H=0;16>se;++se){if(!ve(A,be[H+0]))return se;for(;!ve(A,be[H+1]);)if(be=T[++se].Yb[0],H=0,se==16)return 16;var je=T[se+1].Yb;if(ve(A,be[H+2])){var Ue=A,Je=0;if(ve(Ue,(yt=be)[(vt=H)+3]))if(ve(Ue,yt[vt+6])){for(be=0,vt=2*(Je=ve(Ue,yt[vt+8]))+(yt=ve(Ue,yt[vt+9+Je])),Je=0,yt=VJ[vt];yt[be];++be)Je+=Je+ve(Ue,yt[be]);Je+=3+(8<<vt)}else ve(Ue,yt[vt+7])?(Je=7+2*ve(Ue,165),Je+=ve(Ue,145)):Je=5+ve(Ue,159);else Je=ve(Ue,yt[vt+4])?3+ve(Ue,yt[vt+5]):2;be=je[2]}else Je=1,be=je[1];je=me+WJ[se],0>(Ue=A).b&&Ne(Ue);var vt,yt=Ue.b,lt=(vt=Ue.Ca>>1)-(Ue.I>>yt)>>31;--Ue.b,Ue.Ca+=lt,Ue.Ca|=1,Ue.I-=(vt+1&lt)<<yt,he[je]=((Je^lt)-lt)*Y[(0<se)+0]}return 16}function g0(A){var T=A.rb[A.sb-1];T.la=0,T.Na=0,i(A.zc,0,0,A.zc.length),A.ja=0}function Wi(A,T){if(A==null)return 0;if(T==null)return Ti(A,2,"NULL VP8Io parameter in VP8Decode().");if(!A.cb&&!Mi(A,T))return 0;if(t(A.cb),T.ac==null||T.ac(T)){T.ob&&(A.L=0);var H=mw[A.L];if(A.L==2?(A.yb=0,A.zb=0):(A.yb=T.v-H>>4,A.zb=T.j-H>>4,0>A.yb&&(A.yb=0),0>A.zb&&(A.zb=0)),A.Va=T.o+15+H>>4,A.Hb=T.va+15+H>>4,A.Hb>A.za&&(A.Hb=A.za),A.Va>A.Ub&&(A.Va=A.Ub),0<A.L){var Y=A.ed;for(H=0;4>H;++H){var se;if(A.Qa.Cb){var he=A.Qa.Lb[H];A.Qa.Fb||(he+=Y.Tb)}else he=Y.Tb;for(se=0;1>=se;++se){var me=A.gd[H][se],be=he;if(Y.Pc&&(be+=Y.vd[0],se&&(be+=Y.od[0])),0<(be=0>be?0:63<be?63:be)){var je=be;0<Y.wb&&(je=4<Y.wb?je>>2:je>>1)>9-Y.wb&&(je=9-Y.wb),1>je&&(je=1),me.dd=je,me.tc=2*be+je,me.ld=40<=be?2:15<=be?1:0}else me.tc=0;me.La=se}}}H=0}else Ti(A,6,"Frame setup failed"),H=A.a;if(H=H==0){if(H){A.$c=0,0<A.Aa||(A.Ic=oee);e:{H=A.Ic,Y=4*(je=A.za);var Ue=32*je,Je=je+1,vt=0<A.L?je*(0<A.Aa?2:1):0,yt=(A.Aa==2?2:1)*je;if((me=Y+832+(se=3*(16*H+mw[A.L])/2*Ue)+(he=A.Fa!=null&&0<A.Fa.length?A.Kc.c*A.Kc.i:0))!=me)H=0;else{if(me>A.Vb){if(A.Vb=0,A.Ec=a(me),A.Fc=0,A.Ec==null){H=Ti(A,1,"no memory during frame initialization.");break e}A.Vb=me}me=A.Ec,be=A.Fc,A.Ac=me,A.Bc=be,be+=Y,A.Gd=o(Ue,yn),A.Hd=0,A.rb=o(Je+1,Fr),A.sb=1,A.wa=vt?o(vt,st):null,A.Y=0,A.D.Nb=0,A.D.wa=A.wa,A.D.Y=A.Y,0<A.Aa&&(A.D.Y+=je),t(!0),A.oc=me,A.pc=be,be+=832,A.ya=o(yt,ji),A.aa=0,A.D.ya=A.ya,A.D.aa=A.aa,A.Aa==2&&(A.D.aa+=je),A.R=16*je,A.B=8*je,je=(Ue=mw[A.L])*A.R,Ue=Ue/2*A.B,A.sa=me,A.ta=be+je,A.qa=A.sa,A.ra=A.ta+16*H*A.R+Ue,A.Ha=A.qa,A.Ia=A.ra+8*H*A.B+Ue,A.$c=0,be+=se,A.mb=he?me:null,A.nb=he?be:null,t(be+he<=A.Fc+A.Vb),g0(A),i(A.Ac,A.Bc,0,Y),H=1}}if(H){if(T.ka=0,T.y=A.sa,T.O=A.ta,T.f=A.qa,T.N=A.ra,T.ea=A.Ha,T.Vd=A.Ia,T.fa=A.R,T.Rc=A.B,T.F=null,T.J=0,!sw){for(H=-255;255>=H;++H)ss[255+H]=0>H?-H:H;for(H=-1020;1020>=H;++H)wd[1020+H]=-128>H?-128:127<H?127:H;for(H=-112;112>=H;++H)wx[112+H]=-16>H?-16:15<H?15:H;for(H=-255;510>=H;++H)d1[255+H]=0>H?0:255<H?255:H;sw=1}Xe=Gs,Qe=pt,St=Re,Ft=Br,Wt=pa,ot=La,$t=wu,En=Xs,sn=bn,Ea=ma,as=yx,xa=bt,Wn=bu,aa=A0,Fa=E0,go=Hl,Gl=jc,Bo=vx,Tc[0]=$r,Tc[1]=v0,Tc[2]=gd,Tc[3]=Vl,Tc[4]=c1,Tc[5]=ra,Tc[6]=vn,Tc[7]=w0,Tc[8]=u1,Tc[9]=b0,Rf[0]=If,Rf[1]=zr,Rf[2]=Yn,Rf[3]=md,Rf[4]=Ra,Rf[5]=y0,Rf[6]=l1,bd[0]=Ro,bd[1]=Ys,bd[2]=Ac,bd[3]=S0,bd[4]=yu,bd[5]=xd,bd[6]=Cc,H=1}else H=0}H&&(H=function(lt,Dt){for(lt.M=0;lt.M<lt.Va;++lt.M){var Et,et=lt.Jc[lt.M&lt.Xb],rt=lt.m,It=lt;for(Et=0;Et<It.za;++Et){var Ut=rt,Mt=It,vr=Mt.Ac,sr=Mt.Bc+4*Et,Hr=Mt.zc,fr=Mt.ya[Mt.aa+Et];if(Mt.Qa.Bb?fr.$b=ve(Ut,Mt.Pa.jb[0])?2+ve(Ut,Mt.Pa.jb[2]):ve(Ut,Mt.Pa.jb[1]):fr.$b=0,Mt.kc&&(fr.Ad=ve(Ut,Mt.Bd)),fr.Za=!ve(Ut,145)+0,fr.Za){var ii=fr.Ob,pi=0;for(Mt=0;4>Mt;++Mt){var Kn,zn=Hr[0+Mt];for(Kn=0;4>Kn;++Kn){zn=qJ[vr[sr+Kn]][zn];for(var Di=sP[ve(Ut,zn[0])];0<Di;)Di=sP[2*Di+ve(Ut,zn[Di])];zn=-Di,vr[sr+Kn]=zn}n(ii,pi,vr,sr,4),pi+=4,Hr[0+Mt]=zn}}else zn=ve(Ut,156)?ve(Ut,128)?1:3:ve(Ut,163)?2:0,fr.Ob[0]=zn,i(vr,sr,zn,4),i(Hr,0,zn,4);fr.Dd=ve(Ut,142)?ve(Ut,114)?ve(Ut,183)?1:3:2:0}if(It.m.Ka)return Ti(lt,7,"Premature end-of-partition0 encountered.");for(;lt.ja<lt.za;++lt.ja){if(It=et,Ut=(rt=lt).rb[rt.sb-1],vr=rt.rb[rt.sb+rt.ja],Et=rt.ya[rt.aa+rt.ja],sr=rt.kc?Et.Ad:0)Ut.la=vr.la=0,Et.Za||(Ut.Na=vr.Na=0),Et.Hc=0,Et.Gc=0,Et.ia=0;else{var Ii,_n;if(Ut=vr,vr=It,sr=rt.Pa.Xc,Hr=rt.ya[rt.aa+rt.ja],fr=rt.pb[Hr.$b],Mt=Hr.ad,ii=0,pi=rt.rb[rt.sb-1],zn=Kn=0,i(Mt,ii,0,384),Hr.Za)var Xa=0,Uo=sr[3];else{Di=a(16);var Ka=Ut.Na+pi.Na;if(Ka=bx(vr,sr[1],Ka,fr.Eb,0,Di,0),Ut.Na=pi.Na=(0<Ka)+0,1<Ka)Xe(Di,0,Mt,ii);else{var zo=Di[0]+3>>3;for(Di=0;256>Di;Di+=16)Mt[ii+Di]=zo}Xa=1,Uo=sr[0]}var mi=15&Ut.la,hl=15&pi.la;for(Di=0;4>Di;++Di){var pl=1&hl;for(zo=_n=0;4>zo;++zo)mi=mi>>1|(pl=(Ka=bx(vr,Uo,Ka=pl+(1&mi),fr.Sc,Xa,Mt,ii))>Xa)<<7,_n=_n<<2|(3<Ka?3:1<Ka?2:Mt[ii+0]!=0),ii+=16;mi>>=4,hl=hl>>1|pl<<7,Kn=(Kn<<8|_n)>>>0}for(Uo=mi,Xa=hl>>4,Ii=0;4>Ii;Ii+=2){for(_n=0,mi=Ut.la>>4+Ii,hl=pi.la>>4+Ii,Di=0;2>Di;++Di){for(pl=1&hl,zo=0;2>zo;++zo)Ka=pl+(1&mi),mi=mi>>1|(pl=0<(Ka=bx(vr,sr[2],Ka,fr.Qc,0,Mt,ii)))<<3,_n=_n<<2|(3<Ka?3:1<Ka?2:Mt[ii+0]!=0),ii+=16;mi>>=2,hl=hl>>1|pl<<5}zn|=_n<<4*Ii,Uo|=mi<<4<<Ii,Xa|=(240&hl)<<Ii}Ut.la=Uo,pi.la=Xa,Hr.Hc=Kn,Hr.Gc=zn,Hr.ia=43690&zn?0:fr.ia,sr=!(Kn|zn)}if(0<rt.L&&(rt.wa[rt.Y+rt.ja]=rt.gd[Et.$b][Et.Za],rt.wa[rt.Y+rt.ja].La|=!sr),It.Ka)return Ti(lt,7,"Premature end-of-file encountered.")}if(g0(lt),rt=Dt,It=1,Et=(et=lt).D,Ut=0<et.L&&et.M>=et.zb&&et.M<=et.Va,et.Aa==0)e:{if(Et.M=et.M,Et.uc=Ut,Qs(et,Et),It=1,Et=(_n=et.D).Nb,Ut=(zn=mw[et.L])*et.R,vr=zn/2*et.B,Di=16*Et*et.R,zo=8*Et*et.B,sr=et.sa,Hr=et.ta-Ut+Di,fr=et.qa,Mt=et.ra-vr+zo,ii=et.Ha,pi=et.Ia-vr+zo,hl=(mi=_n.M)==0,Kn=mi>=et.Va-1,et.Aa==2&&Qs(et,_n),_n.uc)for(pl=(Ka=et).D.M,t(Ka.D.uc),_n=Ka.yb;_n<Ka.Hb;++_n){Xa=_n,Uo=pl;var gs=(Ps=(Aa=Ka).D).Nb;Ii=Aa.R;var Ps=Ps.wa[Ps.Y+Xa],xo=Aa.sa,Kl=Aa.ta+16*gs*Ii+16*Xa,Eu=Ps.dd,xs=Ps.tc;if(xs!=0)if(t(3<=xs),Aa.L==1)0<Xa&&go(xo,Kl,Ii,xs+4),Ps.La&&Bo(xo,Kl,Ii,xs),0<Uo&&Fa(xo,Kl,Ii,xs+4),Ps.La&&Gl(xo,Kl,Ii,xs);else{var Sd=Aa.B,O0=Aa.qa,f1=Aa.ra+8*gs*Sd+8*Xa,Bf=Aa.Ha,Aa=Aa.Ia+8*gs*Sd+8*Xa;gs=Ps.ld,0<Xa&&(En(xo,Kl,Ii,xs+4,Eu,gs),Ea(O0,f1,Bf,Aa,Sd,xs+4,Eu,gs)),Ps.La&&(xa(xo,Kl,Ii,xs,Eu,gs),aa(O0,f1,Bf,Aa,Sd,xs,Eu,gs)),0<Uo&&($t(xo,Kl,Ii,xs+4,Eu,gs),sn(O0,f1,Bf,Aa,Sd,xs+4,Eu,gs)),Ps.La&&(as(xo,Kl,Ii,xs,Eu,gs),Wn(O0,f1,Bf,Aa,Sd,xs,Eu,gs))}}if(et.ia&&alert("todo:DitherRow"),rt.put!=null){if(_n=16*mi,mi=16*(mi+1),hl?(rt.y=et.sa,rt.O=et.ta+Di,rt.f=et.qa,rt.N=et.ra+zo,rt.ea=et.Ha,rt.W=et.Ia+zo):(_n-=zn,rt.y=sr,rt.O=Hr,rt.f=fr,rt.N=Mt,rt.ea=ii,rt.W=pi),Kn||(mi-=zn),mi>rt.o&&(mi=rt.o),rt.F=null,rt.J=null,et.Fa!=null&&0<et.Fa.length&&_n<mi&&(rt.J=Xn(et,rt,_n,mi-_n),rt.F=et.mb,rt.F==null&&rt.F.length==0)){It=Ti(et,3,"Could not decode alpha data.");break e}_n<rt.j&&(zn=rt.j-_n,_n=rt.j,t(!(1&zn)),rt.O+=et.R*zn,rt.N+=et.B*(zn>>1),rt.W+=et.B*(zn>>1),rt.F!=null&&(rt.J+=rt.width*zn)),_n<mi&&(rt.O+=rt.v,rt.N+=rt.v>>1,rt.W+=rt.v>>1,rt.F!=null&&(rt.J+=rt.v),rt.ka=_n-rt.j,rt.U=rt.va-rt.v,rt.T=mi-_n,It=rt.put(rt))}Et+1!=et.Ic||Kn||(n(et.sa,et.ta-Ut,sr,Hr+16*et.R,Ut),n(et.qa,et.ra-vr,fr,Mt+8*et.B,vr),n(et.Ha,et.Ia-vr,ii,pi+8*et.B,vr))}if(!It)return Ti(lt,6,"Output aborted.")}return 1}(A,T)),T.bc!=null&&T.bc(T),H&=1}return H?(A.cb=0,H):0}function Ya(A,T,H,Y,se){se=A[T+H+32*Y]+(se>>3),A[T+H+32*Y]=-256&se?0>se?0:255:se}function Tf(A,T,H,Y,se,he){Ya(A,T,0,H,Y+se),Ya(A,T,1,H,Y+he),Ya(A,T,2,H,Y-he),Ya(A,T,3,H,Y-se)}function Da(A){return(20091*A>>16)+A}function Jn(A,T,H,Y){var se,he=0,me=a(16);for(se=0;4>se;++se){var be=A[T+0]+A[T+8],je=A[T+0]-A[T+8],Ue=(35468*A[T+4]>>16)-Da(A[T+12]),Je=Da(A[T+4])+(35468*A[T+12]>>16);me[he+0]=be+Je,me[he+1]=je+Ue,me[he+2]=je-Ue,me[he+3]=be-Je,he+=4,T++}for(se=he=0;4>se;++se)be=(A=me[he+0]+4)+me[he+8],je=A-me[he+8],Ue=(35468*me[he+4]>>16)-Da(me[he+12]),Ya(H,Y,0,0,be+(Je=Da(me[he+4])+(35468*me[he+12]>>16))),Ya(H,Y,1,0,je+Ue),Ya(H,Y,2,0,je-Ue),Ya(H,Y,3,0,be-Je),he++,Y+=32}function La(A,T,H,Y){var se=A[T+0]+4,he=35468*A[T+4]>>16,me=Da(A[T+4]),be=35468*A[T+1]>>16;Tf(H,Y,0,se+me,A=Da(A[T+1]),be),Tf(H,Y,1,se+he,A,be),Tf(H,Y,2,se-he,A,be),Tf(H,Y,3,se-me,A,be)}function pt(A,T,H,Y,se){Jn(A,T,H,Y),se&&Jn(A,T+16,H,Y+4)}function Re(A,T,H,Y){Qe(A,T+0,H,Y,1),Qe(A,T+32,H,Y+128,1)}function Br(A,T,H,Y){var se;for(A=A[T+0]+4,se=0;4>se;++se)for(T=0;4>T;++T)Ya(H,Y,T,se,A)}function pa(A,T,H,Y){A[T+0]&&Ft(A,T+0,H,Y),A[T+16]&&Ft(A,T+16,H,Y+4),A[T+32]&&Ft(A,T+32,H,Y+128),A[T+48]&&Ft(A,T+48,H,Y+128+4)}function Gs(A,T,H,Y){var se,he=a(16);for(se=0;4>se;++se){var me=A[T+0+se]+A[T+12+se],be=A[T+4+se]+A[T+8+se],je=A[T+4+se]-A[T+8+se],Ue=A[T+0+se]-A[T+12+se];he[0+se]=me+be,he[8+se]=me-be,he[4+se]=Ue+je,he[12+se]=Ue-je}for(se=0;4>se;++se)me=(A=he[0+4*se]+3)+he[3+4*se],be=he[1+4*se]+he[2+4*se],je=he[1+4*se]-he[2+4*se],Ue=A-he[3+4*se],H[Y+0]=me+be>>3,H[Y+16]=Ue+je>>3,H[Y+32]=me-be>>3,H[Y+48]=Ue-je>>3,Y+=64}function x0(A,T,H){var Y,se=T-32,he=fl,me=255-A[se-1];for(Y=0;Y<H;++Y){var be,je=he,Ue=me+A[T-1];for(be=0;be<H;++be)A[T+be]=je[Ue+A[se+be]];T+=32}}function v0(A,T){x0(A,T,4)}function Ys(A,T){x0(A,T,8)}function zr(A,T){x0(A,T,16)}function Yn(A,T){var H;for(H=0;16>H;++H)n(A,T+32*H,A,T-32,16)}function md(A,T){var H;for(H=16;0<H;--H)i(A,T,A[T-1],16),T+=32}function Of(A,T,H){var Y;for(Y=0;16>Y;++Y)i(T,H+32*Y,A,16)}function If(A,T){var H,Y=16;for(H=0;16>H;++H)Y+=A[T-1+32*H]+A[T+H-32];Of(Y>>5,A,T)}function Ra(A,T){var H,Y=8;for(H=0;16>H;++H)Y+=A[T-1+32*H];Of(Y>>4,A,T)}function y0(A,T){var H,Y=8;for(H=0;16>H;++H)Y+=A[T+H-32];Of(Y>>4,A,T)}function l1(A,T){Of(128,A,T)}function kr(A,T,H){return A+2*T+H+2>>2}function gd(A,T){var H,Y=T-32;for(Y=new Uint8Array([kr(A[Y-1],A[Y+0],A[Y+1]),kr(A[Y+0],A[Y+1],A[Y+2]),kr(A[Y+1],A[Y+2],A[Y+3]),kr(A[Y+2],A[Y+3],A[Y+4])]),H=0;4>H;++H)n(A,T+32*H,Y,0,Y.length)}function Vl(A,T){var H=A[T-1],Y=A[T-1+32],se=A[T-1+64],he=A[T-1+96];xe(A,T+0,16843009*kr(A[T-1-32],H,Y)),xe(A,T+32,16843009*kr(H,Y,se)),xe(A,T+64,16843009*kr(Y,se,he)),xe(A,T+96,16843009*kr(se,he,he))}function $r(A,T){var H,Y=4;for(H=0;4>H;++H)Y+=A[T+H-32]+A[T-1+32*H];for(Y>>=3,H=0;4>H;++H)i(A,T+32*H,Y,4)}function c1(A,T){var H=A[T-1+0],Y=A[T-1+32],se=A[T-1+64],he=A[T-1-32],me=A[T+0-32],be=A[T+1-32],je=A[T+2-32],Ue=A[T+3-32];A[T+0+96]=kr(Y,se,A[T-1+96]),A[T+1+96]=A[T+0+64]=kr(H,Y,se),A[T+2+96]=A[T+1+64]=A[T+0+32]=kr(he,H,Y),A[T+3+96]=A[T+2+64]=A[T+1+32]=A[T+0+0]=kr(me,he,H),A[T+3+64]=A[T+2+32]=A[T+1+0]=kr(be,me,he),A[T+3+32]=A[T+2+0]=kr(je,be,me),A[T+3+0]=kr(Ue,je,be)}function vn(A,T){var H=A[T+1-32],Y=A[T+2-32],se=A[T+3-32],he=A[T+4-32],me=A[T+5-32],be=A[T+6-32],je=A[T+7-32];A[T+0+0]=kr(A[T+0-32],H,Y),A[T+1+0]=A[T+0+32]=kr(H,Y,se),A[T+2+0]=A[T+1+32]=A[T+0+64]=kr(Y,se,he),A[T+3+0]=A[T+2+32]=A[T+1+64]=A[T+0+96]=kr(se,he,me),A[T+3+32]=A[T+2+64]=A[T+1+96]=kr(he,me,be),A[T+3+64]=A[T+2+96]=kr(me,be,je),A[T+3+96]=kr(be,je,je)}function ra(A,T){var H=A[T-1+0],Y=A[T-1+32],se=A[T-1+64],he=A[T-1-32],me=A[T+0-32],be=A[T+1-32],je=A[T+2-32],Ue=A[T+3-32];A[T+0+0]=A[T+1+64]=he+me+1>>1,A[T+1+0]=A[T+2+64]=me+be+1>>1,A[T+2+0]=A[T+3+64]=be+je+1>>1,A[T+3+0]=je+Ue+1>>1,A[T+0+96]=kr(se,Y,H),A[T+0+64]=kr(Y,H,he),A[T+0+32]=A[T+1+96]=kr(H,he,me),A[T+1+32]=A[T+2+96]=kr(he,me,be),A[T+2+32]=A[T+3+96]=kr(me,be,je),A[T+3+32]=kr(be,je,Ue)}function w0(A,T){var H=A[T+0-32],Y=A[T+1-32],se=A[T+2-32],he=A[T+3-32],me=A[T+4-32],be=A[T+5-32],je=A[T+6-32],Ue=A[T+7-32];A[T+0+0]=H+Y+1>>1,A[T+1+0]=A[T+0+64]=Y+se+1>>1,A[T+2+0]=A[T+1+64]=se+he+1>>1,A[T+3+0]=A[T+2+64]=he+me+1>>1,A[T+0+32]=kr(H,Y,se),A[T+1+32]=A[T+0+96]=kr(Y,se,he),A[T+2+32]=A[T+1+96]=kr(se,he,me),A[T+3+32]=A[T+2+96]=kr(he,me,be),A[T+3+64]=kr(me,be,je),A[T+3+96]=kr(be,je,Ue)}function b0(A,T){var H=A[T-1+0],Y=A[T-1+32],se=A[T-1+64],he=A[T-1+96];A[T+0+0]=H+Y+1>>1,A[T+2+0]=A[T+0+32]=Y+se+1>>1,A[T+2+32]=A[T+0+64]=se+he+1>>1,A[T+1+0]=kr(H,Y,se),A[T+3+0]=A[T+1+32]=kr(Y,se,he),A[T+3+32]=A[T+1+64]=kr(se,he,he),A[T+3+64]=A[T+2+64]=A[T+0+96]=A[T+1+96]=A[T+2+96]=A[T+3+96]=he}function u1(A,T){var H=A[T-1+0],Y=A[T-1+32],se=A[T-1+64],he=A[T-1+96],me=A[T-1-32],be=A[T+0-32],je=A[T+1-32],Ue=A[T+2-32];A[T+0+0]=A[T+2+32]=H+me+1>>1,A[T+0+32]=A[T+2+64]=Y+H+1>>1,A[T+0+64]=A[T+2+96]=se+Y+1>>1,A[T+0+96]=he+se+1>>1,A[T+3+0]=kr(be,je,Ue),A[T+2+0]=kr(me,be,je),A[T+1+0]=A[T+3+32]=kr(H,me,be),A[T+1+32]=A[T+3+64]=kr(Y,H,me),A[T+1+64]=A[T+3+96]=kr(se,Y,H),A[T+1+96]=kr(he,se,Y)}function Ac(A,T){var H;for(H=0;8>H;++H)n(A,T+32*H,A,T-32,8)}function S0(A,T){var H;for(H=0;8>H;++H)i(A,T,A[T-1],8),T+=32}function ul(A,T,H){var Y;for(Y=0;8>Y;++Y)i(T,H+32*Y,A,8)}function Ro(A,T){var H,Y=8;for(H=0;8>H;++H)Y+=A[T+H-32]+A[T-1+32*H];ul(Y>>4,A,T)}function xd(A,T){var H,Y=4;for(H=0;8>H;++H)Y+=A[T+H-32];ul(Y>>3,A,T)}function yu(A,T){var H,Y=4;for(H=0;8>H;++H)Y+=A[T-1+32*H];ul(Y>>3,A,T)}function Cc(A,T){ul(128,A,T)}function Wl(A,T,H){var Y=A[T-H],se=A[T+0],he=3*(se-Y)+jN[1020+A[T-2*H]-A[T+H]],me=ow[112+(he+4>>3)];A[T-H]=fl[255+Y+ow[112+(he+3>>3)]],A[T+0]=fl[255+se-me]}function ns(A,T,H,Y){var se=A[T+0],he=A[T+H];return Yl[255+A[T-2*H]-A[T-H]]>Y||Yl[255+he-se]>Y}function _0(A,T,H,Y){return 4*Yl[255+A[T-H]-A[T+0]]+Yl[255+A[T-2*H]-A[T+H]]<=Y}function N0(A,T,H,Y,se){var he=A[T-3*H],me=A[T-2*H],be=A[T-H],je=A[T+0],Ue=A[T+H],Je=A[T+2*H],vt=A[T+3*H];return 4*Yl[255+be-je]+Yl[255+me-Ue]>Y?0:Yl[255+A[T-4*H]-he]<=se&&Yl[255+he-me]<=se&&Yl[255+me-be]<=se&&Yl[255+vt-Je]<=se&&Yl[255+Je-Ue]<=se&&Yl[255+Ue-je]<=se}function E0(A,T,H,Y){var se=2*Y+1;for(Y=0;16>Y;++Y)_0(A,T+Y,H,se)&&Wl(A,T+Y,H)}function Hl(A,T,H,Y){var se=2*Y+1;for(Y=0;16>Y;++Y)_0(A,T+Y*H,1,se)&&Wl(A,T+Y*H,1)}function jc(A,T,H,Y){var se;for(se=3;0<se;--se)E0(A,T+=4*H,H,Y)}function vx(A,T,H,Y){var se;for(se=3;0<se;--se)Hl(A,T+=4,H,Y)}function Rn(A,T,H,Y,se,he,me,be){for(he=2*he+1;0<se--;){if(N0(A,T,H,he,me))if(ns(A,T,H,be))Wl(A,T,H);else{var je=A,Ue=T,Je=H,vt=je[Ue-2*Je],yt=je[Ue-Je],lt=je[Ue+0],Dt=je[Ue+Je],Et=je[Ue+2*Je],et=27*(It=jN[1020+3*(lt-yt)+jN[1020+vt-Dt]])+63>>7,rt=18*It+63>>7,It=9*It+63>>7;je[Ue-3*Je]=fl[255+je[Ue-3*Je]+It],je[Ue-2*Je]=fl[255+vt+rt],je[Ue-Je]=fl[255+yt+et],je[Ue+0]=fl[255+lt-et],je[Ue+Je]=fl[255+Dt-rt],je[Ue+2*Je]=fl[255+Et-It]}T+=Y}}function Fo(A,T,H,Y,se,he,me,be){for(he=2*he+1;0<se--;){if(N0(A,T,H,he,me))if(ns(A,T,H,be))Wl(A,T,H);else{var je=A,Ue=T,Je=H,vt=je[Ue-Je],yt=je[Ue+0],lt=je[Ue+Je],Dt=ow[112+((Et=3*(yt-vt))+4>>3)],Et=ow[112+(Et+3>>3)],et=Dt+1>>1;je[Ue-2*Je]=fl[255+je[Ue-2*Je]+et],je[Ue-Je]=fl[255+vt+Et],je[Ue+0]=fl[255+yt-Dt],je[Ue+Je]=fl[255+lt-et]}T+=Y}}function wu(A,T,H,Y,se,he){Rn(A,T,H,1,16,Y,se,he)}function Xs(A,T,H,Y,se,he){Rn(A,T,1,H,16,Y,se,he)}function yx(A,T,H,Y,se,he){var me;for(me=3;0<me;--me)Fo(A,T+=4*H,H,1,16,Y,se,he)}function bt(A,T,H,Y,se,he){var me;for(me=3;0<me;--me)Fo(A,T+=4,1,H,16,Y,se,he)}function bn(A,T,H,Y,se,he,me,be){Rn(A,T,se,1,8,he,me,be),Rn(H,Y,se,1,8,he,me,be)}function ma(A,T,H,Y,se,he,me,be){Rn(A,T,1,se,8,he,me,be),Rn(H,Y,1,se,8,he,me,be)}function bu(A,T,H,Y,se,he,me,be){Fo(A,T+4*se,se,1,8,he,me,be),Fo(H,Y+4*se,se,1,8,he,me,be)}function A0(A,T,H,Y,se,he,me,be){Fo(A,T+4,1,se,8,he,me,be),Fo(H,Y+4,1,se,8,he,me,be)}function Pf(){this.ba=new Te,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new jt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function C0(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function j0(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function kf(){this.ua=0,this.Wa=new we,this.vb=new we,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new U}function ga(){this.xb=this.a=0,this.l=new en,this.ca=new Te,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new kf,this.ab=0,this.gc=o(4,j0),this.Oc=0}function Su(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new en,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ci(A,T,H,Y,se,he,me){for(A=A==null?0:A[T+0],T=0;T<me;++T)se[he+T]=A+H[Y+T]&255,A=se[he+T]}function _u(A,T,H,Y,se,he,me){var be;if(A==null)ci(null,null,H,Y,se,he,me);else for(be=0;be<me;++be)se[he+be]=A[T+be]+H[Y+be]&255}function Ks(A,T,H,Y,se,he,me){if(A==null)ci(null,null,H,Y,se,he,me);else{var be,je=A[T+0],Ue=je,Je=je;for(be=0;be<me;++be)Ue=Je+(je=A[T+be])-Ue,Je=H[Y+be]+(-256&Ue?0>Ue?0:255:Ue)&255,Ue=je,se[he+be]=Je}}function Xn(A,T,H,Y){var se=T.width,he=T.o;if(t(A!=null&&T!=null),0>H||0>=Y||H+Y>he)return null;if(!A.Cc){if(A.ga==null){var me;if(A.ga=new Su,(me=A.ga==null)||(me=T.width*T.o,t(A.Gb.length==0),A.Gb=a(me),A.Uc=0,A.Gb==null?me=0:(A.mb=A.Gb,A.nb=A.Uc,A.rc=null,me=1),me=!me),!me){me=A.ga;var be=A.Fa,je=A.P,Ue=A.qc,Je=A.mb,vt=A.nb,yt=je+1,lt=Ue-1,Dt=me.l;if(t(be!=null&&Je!=null&&T!=null),Ff[0]=null,Ff[1]=ci,Ff[2]=_u,Ff[3]=Ks,me.ca=Je,me.tb=vt,me.c=T.width,me.i=T.height,t(0<me.c&&0<me.i),1>=Ue)T=0;else if(me.$a=be[je+0]>>0&3,me.Z=be[je+0]>>2&3,me.Lc=be[je+0]>>4&3,je=be[je+0]>>6&3,0>me.$a||1<me.$a||4<=me.Z||1<me.Lc||je)T=0;else if(Dt.put=ha,Dt.ac=dn,Dt.bc=li,Dt.ma=me,Dt.width=T.width,Dt.height=T.height,Dt.Da=T.Da,Dt.v=T.v,Dt.va=T.va,Dt.j=T.j,Dt.o=T.o,me.$a)e:{t(me.$a==1),T=_t();t:for(;;){if(T==null){T=0;break e}if(t(me!=null),me.mc=T,T.c=me.c,T.i=me.i,T.l=me.l,T.l.ma=me,T.l.width=me.c,T.l.height=me.i,T.a=0,J(T.m,be,yt,lt),!ct(me.c,me.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&Oe(T.s)?(me.ic=1,be=T.c*T.i,T.Ta=null,T.Ua=0,T.V=a(be),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(me.ic=0,T=xt(T,me.c)),!T))break t;T=1;break e}me.mc=null,T=0}else T=lt>=me.c*me.i;me=!T}if(me)return null;A.ga.Lc!=1?A.Ga=0:Y=he-H}t(A.ga!=null),t(H+Y<=he);e:{if(T=(be=A.ga).c,he=be.l.o,be.$a==0){if(yt=A.rc,lt=A.Vc,Dt=A.Fa,je=A.P+1+H*T,Ue=A.mb,Je=A.nb+H*T,t(je<=A.P+A.qc),be.Z!=0)for(t(Ff[be.Z]!=null),me=0;me<Y;++me)Ff[be.Z](yt,lt,Dt,je,Ue,Je,T),yt=Ue,lt=Je,Je+=T,je+=T;else for(me=0;me<Y;++me)n(Ue,Je,Dt,je,T),yt=Ue,lt=Je,Je+=T,je+=T;A.rc=yt,A.Vc=lt}else{if(t(be.mc!=null),T=H+Y,t((me=be.mc)!=null),t(T<=me.i),me.C>=T)T=1;else if(be.ic||ut(),be.ic){be=me.V,yt=me.Ba,lt=me.c;var Et=me.i,et=(Dt=1,je=me.$/lt,Ue=me.$%lt,Je=me.m,vt=me.s,me.$),rt=lt*Et,It=lt*T,Ut=vt.wc,Mt=et<It?Gn(vt,Ue,je):null;t(et<=rt),t(T<=Et),t(Oe(vt));t:for(;;){for(;!Je.h&&et<It;){if(Ue&Ut||(Mt=Gn(vt,Ue,je)),t(Mt!=null),le(Je),256>(Et=_a(Mt.G[0],Mt.H[0],Je)))be[yt+et]=Et,++et,++Ue>=lt&&(Ue=0,++je<=T&&!(je%16)&&Fe(me,je));else{if(!(280>Et)){Dt=0;break t}Et=qa(Et-256,Je);var vr,sr=_a(Mt.G[4],Mt.H[4],Je);if(le(Je),!(et>=(sr=Fi(lt,sr=qa(sr,Je)))&&rt-et>=Et)){Dt=0;break t}for(vr=0;vr<Et;++vr)be[yt+et+vr]=be[yt+et+vr-sr];for(et+=Et,Ue+=Et;Ue>=lt;)Ue-=lt,++je<=T&&!(je%16)&&Fe(me,je);et<It&&Ue&Ut&&(Mt=Gn(vt,Ue,je))}t(Je.h==Z(Je))}Fe(me,je>T?T:je);break t}!Dt||Je.h&&et<rt?(Dt=0,me.a=Je.h?5:3):me.$=et,T=Dt}else T=Ve(me,me.V,me.Ba,me.c,me.i,T,wt);if(!T){Y=0;break e}}H+Y>=he&&(A.Cc=1),Y=1}if(!Y)return null;if(A.Cc&&((Y=A.ga)!=null&&(Y.mc=null),A.ga=null,0<A.Ga))return alert("todo:WebPDequantizeLevels"),null}return A.nb+H*se}function R(A,T,H,Y,se,he){for(;0<se--;){var me,be=A,je=T+(H?1:0),Ue=A,Je=T+(H?0:3);for(me=0;me<Y;++me){var vt=Ue[Je+4*me];vt!=255&&(vt*=32897,be[je+4*me+0]=be[je+4*me+0]*vt>>23,be[je+4*me+1]=be[je+4*me+1]*vt>>23,be[je+4*me+2]=be[je+4*me+2]*vt>>23)}T+=he}}function oe(A,T,H,Y,se){for(;0<Y--;){var he;for(he=0;he<H;++he){var me=A[T+2*he+0],be=15&(Ue=A[T+2*he+1]),je=4369*be,Ue=(240&Ue|Ue>>4)*je>>16;A[T+2*he+0]=(240&me|me>>4)*je>>16&240|(15&me|me<<4)*je>>16>>4&15,A[T+2*he+1]=240&Ue|be}T+=se}}function Be(A,T,H,Y,se,he,me,be){var je,Ue,Je=255;for(Ue=0;Ue<se;++Ue){for(je=0;je<Y;++je){var vt=A[T+je];he[me+4*je]=vt,Je&=vt}T+=H,me+=be}return Je!=255}function Ke(A,T,H,Y,se){var he;for(he=0;he<se;++he)H[Y+he]=A[T+he]>>8}function ut(){$o=R,Bi=oe,$i=Be,Ba=Ke}function Ct(A,T,H){L[A]=function(Y,se,he,me,be,je,Ue,Je,vt,yt,lt,Dt,Et,et,rt,It,Ut){var Mt,vr=Ut-1>>1,sr=be[je+0]|Ue[Je+0]<<16,Hr=vt[yt+0]|lt[Dt+0]<<16;t(Y!=null);var fr=3*sr+Hr+131074>>2;for(T(Y[se+0],255&fr,fr>>16,Et,et),he!=null&&(fr=3*Hr+sr+131074>>2,T(he[me+0],255&fr,fr>>16,rt,It)),Mt=1;Mt<=vr;++Mt){var ii=be[je+Mt]|Ue[Je+Mt]<<16,pi=vt[yt+Mt]|lt[Dt+Mt]<<16,Kn=sr+ii+Hr+pi+524296,zn=Kn+2*(ii+Hr)>>3;fr=zn+sr>>1,sr=(Kn=Kn+2*(sr+pi)>>3)+ii>>1,T(Y[se+2*Mt-1],255&fr,fr>>16,Et,et+(2*Mt-1)*H),T(Y[se+2*Mt-0],255&sr,sr>>16,Et,et+(2*Mt-0)*H),he!=null&&(fr=Kn+Hr>>1,sr=zn+pi>>1,T(he[me+2*Mt-1],255&fr,fr>>16,rt,It+(2*Mt-1)*H),T(he[me+2*Mt+0],255&sr,sr>>16,rt,It+(2*Mt+0)*H)),sr=ii,Hr=pi}1&Ut||(fr=3*sr+Hr+131074>>2,T(Y[se+Ut-1],255&fr,fr>>16,Et,et+(Ut-1)*H),he!=null&&(fr=3*Hr+sr+131074>>2,T(he[me+Ut-1],255&fr,fr>>16,rt,It+(Ut-1)*H)))}}function Lt(){Xl[lw]=KJ,Xl[cw]=lP,Xl[nP]=QJ,Xl[uw]=cP,Xl[dw]=uP,Xl[TN]=dP,Xl[iP]=ZJ,Xl[ON]=lP,Xl[IN]=cP,Xl[fw]=uP,Xl[PN]=dP}function pr(A){return A&~JJ?0>A?0:255:A>>fP}function Ur(A,T){return pr((19077*A>>8)+(26149*T>>8)-14234)}function fn(A,T,H){return pr((19077*A>>8)-(6419*T>>8)-(13320*H>>8)+8708)}function hn(A,T){return pr((19077*A>>8)+(33050*T>>8)-17685)}function Fn(A,T,H,Y,se){Y[se+0]=Ur(A,H),Y[se+1]=fn(A,T,H),Y[se+2]=hn(A,T)}function Hi(A,T,H,Y,se){Y[se+0]=hn(A,T),Y[se+1]=fn(A,T,H),Y[se+2]=Ur(A,H)}function hi(A,T,H,Y,se){var he=fn(A,T,H);T=he<<3&224|hn(A,T)>>3,Y[se+0]=248&Ur(A,H)|he>>5,Y[se+1]=T}function na(A,T,H,Y,se){var he=240&hn(A,T)|15;Y[se+0]=240&Ur(A,H)|fn(A,T,H)>>4,Y[se+1]=he}function ms(A,T,H,Y,se){Y[se+0]=255,Fn(A,T,H,Y,se+1)}function ia(A,T,H,Y,se){Hi(A,T,H,Y,se),Y[se+3]=255}function dl(A,T,H,Y,se){Fn(A,T,H,Y,se),Y[se+3]=255}function Na(A,T){return 0>A?0:A>T?T:A}function mo(A,T,H){L[A]=function(Y,se,he,me,be,je,Ue,Je,vt){for(var yt=Je+(-2&vt)*H;Je!=yt;)T(Y[se+0],he[me+0],be[je+0],Ue,Je),T(Y[se+1],he[me+0],be[je+0],Ue,Je+H),se+=2,++me,++je,Je+=2*H;1&vt&&T(Y[se+0],he[me+0],be[je+0],Ue,Je)}}function Is(A,T,H){return H==0?A==0?T==0?6:5:T==0?4:0:H}function Mf(A,T,H,Y,se){switch(A>>>30){case 3:Qe(T,H,Y,se,0);break;case 2:ot(T,H,Y,se);break;case 1:Ft(T,H,Y,se)}}function Qs(A,T){var H,Y,se=T.M,he=T.Nb,me=A.oc,be=A.pc+40,je=A.oc,Ue=A.pc+584,Je=A.oc,vt=A.pc+600;for(H=0;16>H;++H)me[be+32*H-1]=129;for(H=0;8>H;++H)je[Ue+32*H-1]=129,Je[vt+32*H-1]=129;for(0<se?me[be-1-32]=je[Ue-1-32]=Je[vt-1-32]=129:(i(me,be-32-1,127,21),i(je,Ue-32-1,127,9),i(Je,vt-32-1,127,9)),Y=0;Y<A.za;++Y){var yt=T.ya[T.aa+Y];if(0<Y){for(H=-1;16>H;++H)n(me,be+32*H-4,me,be+32*H+12,4);for(H=-1;8>H;++H)n(je,Ue+32*H-4,je,Ue+32*H+4,4),n(Je,vt+32*H-4,Je,vt+32*H+4,4)}var lt=A.Gd,Dt=A.Hd+Y,Et=yt.ad,et=yt.Hc;if(0<se&&(n(me,be-32,lt[Dt].y,0,16),n(je,Ue-32,lt[Dt].f,0,8),n(Je,vt-32,lt[Dt].ea,0,8)),yt.Za){var rt=me,It=be-32+16;for(0<se&&(Y>=A.za-1?i(rt,It,lt[Dt].y[15],4):n(rt,It,lt[Dt+1].y,0,4)),H=0;4>H;H++)rt[It+128+H]=rt[It+256+H]=rt[It+384+H]=rt[It+0+H];for(H=0;16>H;++H,et<<=2)rt=me,It=be+pP[H],Tc[yt.Ob[H]](rt,It),Mf(et,Et,16*+H,rt,It)}else if(rt=Is(Y,se,yt.Ob[0]),Rf[rt](me,be),et!=0)for(H=0;16>H;++H,et<<=2)Mf(et,Et,16*+H,me,be+pP[H]);for(H=yt.Gc,rt=Is(Y,se,yt.Dd),bd[rt](je,Ue),bd[rt](Je,vt),et=Et,rt=je,It=Ue,255&(yt=H>>0)&&(170&yt?St(et,256,rt,It):Wt(et,256,rt,It)),yt=Je,et=vt,255&(H>>=8)&&(170&H?St(Et,320,yt,et):Wt(Et,320,yt,et)),se<A.Ub-1&&(n(lt[Dt].y,0,me,be+480,16),n(lt[Dt].f,0,je,Ue+224,8),n(lt[Dt].ea,0,Je,vt+224,8)),H=8*he*A.B,lt=A.sa,Dt=A.ta+16*Y+16*he*A.R,Et=A.qa,yt=A.ra+8*Y+H,et=A.Ha,rt=A.Ia+8*Y+H,H=0;16>H;++H)n(lt,Dt+H*A.R,me,be+32*H,16);for(H=0;8>H;++H)n(Et,yt+H*A.B,je,Ue+32*H,8),n(et,rt+H*A.B,Je,vt+32*H,8)}}function Df(A,T,H,Y,se,he,me,be,je){var Ue=[0],Je=[0],vt=0,yt=je!=null?je.kd:0,lt=je??new C0;if(A==null||12>H)return 7;lt.data=A,lt.w=T,lt.ha=H,T=[T],H=[H],lt.gb=[lt.gb];e:{var Dt=T,Et=H,et=lt.gb;if(t(A!=null),t(Et!=null),t(et!=null),et[0]=0,12<=Et[0]&&!r(A,Dt[0],"RIFF")){if(r(A,Dt[0]+8,"WEBP")){et=3;break e}var rt=ye(A,Dt[0]+4);if(12>rt||4294967286<rt){et=3;break e}if(yt&&rt>Et[0]-8){et=7;break e}et[0]=rt,Dt[0]+=12,Et[0]-=12}et=0}if(et!=0)return et;for(rt=0<lt.gb[0],H=H[0];;){e:{var It=A;Et=T,et=H;var Ut=Ue,Mt=Je,vr=Dt=[0];if((fr=vt=[vt])[0]=0,8>et[0])et=7;else{if(!r(It,Et[0],"VP8X")){if(ye(It,Et[0]+4)!=10){et=3;break e}if(18>et[0]){et=7;break e}var sr=ye(It,Et[0]+8),Hr=1+Se(It,Et[0]+12);if(2147483648<=Hr*(It=1+Se(It,Et[0]+15))){et=3;break e}vr!=null&&(vr[0]=sr),Ut!=null&&(Ut[0]=Hr),Mt!=null&&(Mt[0]=It),Et[0]+=18,et[0]-=18,fr[0]=1}et=0}}if(vt=vt[0],Dt=Dt[0],et!=0)return et;if(Et=!!(2&Dt),!rt&&vt)return 3;if(he!=null&&(he[0]=!!(16&Dt)),me!=null&&(me[0]=Et),be!=null&&(be[0]=0),me=Ue[0],Dt=Je[0],vt&&Et&&je==null){et=0;break}if(4>H){et=7;break}if(rt&&vt||!rt&&!vt&&!r(A,T[0],"ALPH")){H=[H],lt.na=[lt.na],lt.P=[lt.P],lt.Sa=[lt.Sa];e:{sr=A,et=T,rt=H;var fr=lt.gb;Ut=lt.na,Mt=lt.P,vr=lt.Sa,Hr=22,t(sr!=null),t(rt!=null),It=et[0];var ii=rt[0];for(t(Ut!=null),t(vr!=null),Ut[0]=null,Mt[0]=null,vr[0]=0;;){if(et[0]=It,rt[0]=ii,8>ii){et=7;break e}var pi=ye(sr,It+4);if(4294967286<pi){et=3;break e}var Kn=8+pi+1&-2;if(Hr+=Kn,0<fr&&Hr>fr){et=3;break e}if(!r(sr,It,"VP8 ")||!r(sr,It,"VP8L")){et=0;break e}if(ii[0]<Kn){et=7;break e}r(sr,It,"ALPH")||(Ut[0]=sr,Mt[0]=It+8,vr[0]=pi),It+=Kn,ii-=Kn}}if(H=H[0],lt.na=lt.na[0],lt.P=lt.P[0],lt.Sa=lt.Sa[0],et!=0)break}H=[H],lt.Ja=[lt.Ja],lt.xa=[lt.xa];e:if(fr=A,et=T,rt=H,Ut=lt.gb[0],Mt=lt.Ja,vr=lt.xa,sr=et[0],It=!r(fr,sr,"VP8 "),Hr=!r(fr,sr,"VP8L"),t(fr!=null),t(rt!=null),t(Mt!=null),t(vr!=null),8>rt[0])et=7;else{if(It||Hr){if(fr=ye(fr,sr+4),12<=Ut&&fr>Ut-12){et=3;break e}if(yt&&fr>rt[0]-8){et=7;break e}Mt[0]=fr,et[0]+=8,rt[0]-=8,vr[0]=Hr}else vr[0]=5<=rt[0]&&fr[sr+0]==47&&!(fr[sr+4]>>5),Mt[0]=rt[0];et=0}if(H=H[0],lt.Ja=lt.Ja[0],lt.xa=lt.xa[0],T=T[0],et!=0)break;if(4294967286<lt.Ja)return 3;if(be==null||Et||(be[0]=lt.xa?2:1),me=[me],Dt=[Dt],lt.xa){if(5>H){et=7;break}be=me,yt=Dt,Et=he,A==null||5>H?A=0:5<=H&&A[T+0]==47&&!(A[T+4]>>5)?(rt=[0],fr=[0],Ut=[0],J(Mt=new W,A,T,H),dr(Mt,rt,fr,Ut)?(be!=null&&(be[0]=rt[0]),yt!=null&&(yt[0]=fr[0]),Et!=null&&(Et[0]=Ut[0]),A=1):A=0):A=0}else{if(10>H){et=7;break}be=Dt,A==null||10>H||!Ec(A,T+3,H-3)?A=0:(yt=A[T+0]|A[T+1]<<8|A[T+2]<<16,Et=16383&(A[T+7]<<8|A[T+6]),A=16383&(A[T+9]<<8|A[T+8]),1&yt||3<(yt>>1&7)||!(yt>>4&1)||yt>>5>=lt.Ja||!Et||!A?A=0:(me&&(me[0]=Et),be&&(be[0]=A),A=1))}if(!A||(me=me[0],Dt=Dt[0],vt&&(Ue[0]!=me||Je[0]!=Dt)))return 3;je!=null&&(je[0]=lt,je.offset=T-je.w,t(4294967286>T-je.w),t(je.offset==je.ha-H));break}return et==0||et==7&&vt&&je==null?(he!=null&&(he[0]|=lt.na!=null&&0<lt.na.length),Y!=null&&(Y[0]=me),se!=null&&(se[0]=Dt),0):et}function vd(A,T,H){var Y=T.width,se=T.height,he=0,me=0,be=Y,je=se;if(T.Da=A!=null&&0<A.Da,T.Da&&(be=A.cd,je=A.bd,he=A.v,me=A.j,11>H||(he&=-2,me&=-2),0>he||0>me||0>=be||0>=je||he+be>Y||me+je>se))return 0;if(T.v=he,T.j=me,T.va=he+be,T.o=me+je,T.U=be,T.T=je,T.da=A!=null&&0<A.da,T.da){if(!Pe(be,je,H=[A.ib],he=[A.hb]))return 0;T.ib=H[0],T.hb=he[0]}return T.ob=A!=null&&A.ob,T.Kb=A==null||!A.Sd,T.da&&(T.ob=T.ib<3*Y/4&&T.hb<3*se/4,T.Kb=0),1}function T0(A){if(A==null)return 2;if(11>A.S){var T=A.f.RGBA;T.fb+=(A.height-1)*T.A,T.A=-T.A}else T=A.f.kb,A=A.height,T.O+=(A-1)*T.fa,T.fa=-T.fa,T.N+=(A-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(A-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(A-1)*T.lb,T.lb=-T.lb);return 0}function yd(A,T,H,Y){if(Y==null||0>=A||0>=T)return 2;if(H!=null){if(H.Da){var se=H.cd,he=H.bd,me=-2&H.v,be=-2&H.j;if(0>me||0>be||0>=se||0>=he||me+se>A||be+he>T)return 2;A=se,T=he}if(H.da){if(!Pe(A,T,se=[H.ib],he=[H.hb]))return 2;A=se[0],T=he[0]}}Y.width=A,Y.height=T;e:{var je=Y.width,Ue=Y.height;if(A=Y.S,0>=je||0>=Ue||!(A>=lw&&13>A))A=2;else{if(0>=Y.Rd&&Y.sd==null){me=he=se=T=0;var Je=(be=je*mP[A])*Ue;if(11>A||(he=(Ue+1)/2*(T=(je+1)/2),A==12&&(me=(se=je)*Ue)),(Ue=a(Je+2*he+me))==null){A=1;break e}Y.sd=Ue,11>A?((je=Y.f.RGBA).eb=Ue,je.fb=0,je.A=be,je.size=Je):((je=Y.f.kb).y=Ue,je.O=0,je.fa=be,je.Fd=Je,je.f=Ue,je.N=0+Je,je.Ab=T,je.Cd=he,je.ea=Ue,je.W=0+Je+he,je.Db=T,je.Ed=he,A==12&&(je.F=Ue,je.J=0+Je+2*he),je.Tc=me,je.lb=se)}if(T=1,se=Y.S,he=Y.width,me=Y.height,se>=lw&&13>se)if(11>se)A=Y.f.RGBA,T&=(be=Math.abs(A.A))*(me-1)+he<=A.size,T&=be>=he*mP[se],T&=A.eb!=null;else{A=Y.f.kb,be=(he+1)/2,Je=(me+1)/2,je=Math.abs(A.fa),Ue=Math.abs(A.Ab);var vt=Math.abs(A.Db),yt=Math.abs(A.lb),lt=yt*(me-1)+he;T&=je*(me-1)+he<=A.Fd,T&=Ue*(Je-1)+be<=A.Cd,T=(T&=vt*(Je-1)+be<=A.Ed)&je>=he&Ue>=be&vt>=be,T&=A.y!=null,T&=A.f!=null,T&=A.ea!=null,se==12&&(T&=yt>=he,T&=lt<=A.Tc,T&=A.F!=null)}else T=0;A=T?0:2}}return A!=0||H!=null&&H.fd&&(A=T0(Y)),A}var Oi=64,Lf=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Nu=24,ql=32,In=8,is=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];fe("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(A){return A},L.Predictor2=function(A,T,H){return T[H+0]},L.Predictor3=function(A,T,H){return T[H+1]},L.Predictor4=function(A,T,H){return T[H-1]},L.Predictor5=function(A,T,H){return He(He(A,T[H+1]),T[H+0])},L.Predictor6=function(A,T,H){return He(A,T[H-1])},L.Predictor7=function(A,T,H){return He(A,T[H+0])},L.Predictor8=function(A,T,H){return He(T[H-1],T[H+0])},L.Predictor9=function(A,T,H){return He(T[H+0],T[H+1])},L.Predictor10=function(A,T,H){return He(He(A,T[H-1]),He(T[H+0],T[H+1]))},L.Predictor11=function(A,T,H){var Y=T[H+0];return 0>=At(Y>>24&255,A>>24&255,(T=T[H-1])>>24&255)+At(Y>>16&255,A>>16&255,T>>16&255)+At(Y>>8&255,A>>8&255,T>>8&255)+At(255&Y,255&A,255&T)?Y:A},L.Predictor12=function(A,T,H){var Y=T[H+0];return(nt((A>>24&255)+(Y>>24&255)-((T=T[H-1])>>24&255))<<24|nt((A>>16&255)+(Y>>16&255)-(T>>16&255))<<16|nt((A>>8&255)+(Y>>8&255)-(T>>8&255))<<8|nt((255&A)+(255&Y)-(255&T)))>>>0},L.Predictor13=function(A,T,H){var Y=T[H-1];return(mt((A=He(A,T[H+0]))>>24&255,Y>>24&255)<<24|mt(A>>16&255,Y>>16&255)<<16|mt(A>>8&255,Y>>8&255)<<8|mt(A>>0&255,Y>>0&255))>>>0};var ae=L.PredictorAdd0;L.PredictorAdd1=qt,fe("Predictor2","PredictorAdd2"),fe("Predictor3","PredictorAdd3"),fe("Predictor4","PredictorAdd4"),fe("Predictor5","PredictorAdd5"),fe("Predictor6","PredictorAdd6"),fe("Predictor7","PredictorAdd7"),fe("Predictor8","PredictorAdd8"),fe("Predictor9","PredictorAdd9"),fe("Predictor10","PredictorAdd10"),fe("Predictor11","PredictorAdd11"),fe("Predictor12","PredictorAdd12"),fe("Predictor13","PredictorAdd13");var d=L.PredictorAdd2;tt("ColorIndexInverseTransform","MapARGB","32b",function(A){return A>>8&255},function(A){return A}),tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(A){return A},function(A){return A>>8&255});var h,m=L.ColorIndexInverseTransform,v=L.MapARGB,w=L.VP8LColorIndexInverseTransformAlpha,S=L.MapAlpha,j=L.VP8LPredictorsAdd=[];j.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var M,z,X,ie,pe,$e,Xe,Qe,ot,St,Ft,Wt,$t,En,sn,Ea,as,xa,Wn,aa,Fa,go,Gl,Bo,$o,Bi,$i,Ba,ss=a(511),wd=a(2041),wx=a(225),d1=a(767),sw=0,jN=wd,ow=wx,fl=d1,Yl=ss,lw=0,cw=1,nP=2,uw=3,dw=4,TN=5,iP=6,ON=7,IN=8,fw=9,PN=10,LJ=[2,3,7],RJ=[3,3,11],aP=[280,256,256,256,40],FJ=[0,1,1,1,0],BJ=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$J=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],UJ=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zJ=8,kN=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],MN=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],bx=null,VJ=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],WJ=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],sP=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],HJ=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],qJ=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],GJ=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],YJ=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Rf=[],Tc=[],bd=[],XJ=1,oP=2,Ff=[],Xl=[];Ct("UpsampleRgbLinePair",Fn,3),Ct("UpsampleBgrLinePair",Hi,3),Ct("UpsampleRgbaLinePair",dl,4),Ct("UpsampleBgraLinePair",ia,4),Ct("UpsampleArgbLinePair",ms,4),Ct("UpsampleRgba4444LinePair",na,2),Ct("UpsampleRgb565LinePair",hi,2);var KJ=L.UpsampleRgbLinePair,QJ=L.UpsampleBgrLinePair,lP=L.UpsampleRgbaLinePair,cP=L.UpsampleBgraLinePair,uP=L.UpsampleArgbLinePair,dP=L.UpsampleRgba4444LinePair,ZJ=L.UpsampleRgb565LinePair,hw=16,pw=1<<hw-1,Sx=-227,DN=482,fP=6,JJ=(256<<fP)-1,hP=0,eee=a(256),tee=a(256),ree=a(256),nee=a(256),iee=a(DN-Sx),aee=a(DN-Sx);mo("YuvToRgbRow",Fn,3),mo("YuvToBgrRow",Hi,3),mo("YuvToRgbaRow",dl,4),mo("YuvToBgraRow",ia,4),mo("YuvToArgbRow",ms,4),mo("YuvToRgba4444Row",na,2),mo("YuvToRgb565Row",hi,2);var pP=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],mw=[0,2,8],see=[8,7,6,4,4,2,2,2,1,1,1,1],oee=1;this.WebPDecodeRGBA=function(A,T,H,Y,se){var he=cw,me=new Pf,be=new Te;me.ba=be,be.S=he,be.width=[be.width],be.height=[be.height];var je=be.width,Ue=be.height,Je=new it;if(Je==null||A==null)var vt=2;else t(Je!=null),vt=Df(A,T,H,Je.width,Je.height,Je.Pd,Je.Qd,Je.format,null);if(vt!=0?je=0:(je!=null&&(je[0]=Je.width[0]),Ue!=null&&(Ue[0]=Je.height[0]),je=1),je){be.width=be.width[0],be.height=be.height[0],Y!=null&&(Y[0]=be.width),se!=null&&(se[0]=be.height);e:{if(Y=new en,(se=new C0).data=A,se.w=T,se.ha=H,se.kd=1,T=[0],t(se!=null),((A=Df(se.data,se.w,se.ha,null,null,null,T,null,se))==0||A==7)&&T[0]&&(A=4),(T=A)==0){if(t(me!=null),Y.data=se.data,Y.w=se.w+se.offset,Y.ha=se.ha-se.offset,Y.put=ha,Y.ac=dn,Y.bc=li,Y.ma=me,se.xa){if((A=_t())==null){me=1;break e}if(function(yt,lt){var Dt=[0],Et=[0],et=[0];t:for(;;){if(yt==null)return 0;if(lt==null)return yt.a=2,0;if(yt.l=lt,yt.a=0,J(yt.m,lt.data,lt.w,lt.ha),!dr(yt.m,Dt,Et,et)){yt.a=3;break t}if(yt.xb=oP,lt.width=Dt[0],lt.height=Et[0],!ct(Dt[0],Et[0],1,yt,null))break t;return 1}return t(yt.a!=0),0}(A,Y)){if(Y=(T=yd(Y.width,Y.height,me.Oa,me.ba))==0){t:{Y=A;r:for(;;){if(Y==null){Y=0;break t}if(t(Y.s.yc!=null),t(Y.s.Ya!=null),t(0<Y.s.Wb),t((H=Y.l)!=null),t((se=H.ma)!=null),Y.xb!=0){if(Y.ca=se.ba,Y.tb=se.tb,t(Y.ca!=null),!vd(se.Oa,H,uw)){Y.a=2;break r}if(!xt(Y,H.width)||H.da)break r;if((H.da||Jr(Y.ca.S))&&ut(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Y.ca.f.kb.F!=null&&ut()),Y.Pb&&0<Y.s.ua&&Y.s.vb.X==null&&!We(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break r}Y.xb=0}if(!Ve(Y,Y.V,Y.Ba,Y.c,Y.i,H.o,_e))break r;se.Dc=Y.Ma,Y=1;break t}t(Y.a!=0),Y=0}Y=!Y}Y&&(T=A.a)}else T=A.a}else{if((A=new Ga)==null){me=1;break e}if(A.Fa=se.na,A.P=se.P,A.qc=se.Sa,Mi(A,Y)){if((T=yd(Y.width,Y.height,me.Oa,me.ba))==0){if(A.Aa=0,H=me.Oa,t((se=A)!=null),H!=null){if(0<(je=0>(je=H.Md)?0:100<je?255:255*je/100)){for(Ue=Je=0;4>Ue;++Ue)12>(vt=se.pb[Ue]).lc&&(vt.ia=je*see[0>vt.lc?0:vt.lc]>>3),Je|=vt.ia;Je&&(alert("todo:VP8InitRandom"),se.ia=1)}se.Ga=H.Id,100<se.Ga?se.Ga=100:0>se.Ga&&(se.Ga=0)}Wi(A,Y)||(T=A.a)}}else T=A.a}T==0&&me.Oa!=null&&me.Oa.fd&&(T=T0(me.ba))}me=T}he=me!=0?null:11>he?be.f.RGBA.eb:be.f.kb.y}else he=null;return he};var mP=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(L,B){for(var G="",F=0;F<4;F++)G+=String.fromCharCode(L[B++]);return G}function f(L,B){return(L[B+0]<<0|L[B+1]<<8|L[B+2]<<16)>>>0}function p(L,B){return(L[B+0]<<0|L[B+1]<<8|L[B+2]<<16|L[B+3]<<24)>>>0}new c;var g=[0],x=[0],b=[],y=new c,_=e,N=function(L,B){var G={},F=0,U=!1,q=0,K=0;if(G.frames=[],!function(Q,Z,re,le){for(var Ne=0;Ne<le;Ne++)if(Q[Z+Ne]!=re.charCodeAt(Ne))return!0;return!1}(L,B,"RIFF",4)){for(p(L,B+=4),B+=8;B<L.length;){var V=u(L,B),ee=p(L,B+=4);B+=4;var te=ee+(1&ee);switch(V){case"VP8 ":case"VP8L":G.frames[F]===void 0&&(G.frames[F]={}),(Ie=G.frames[F]).src_off=U?K:B-8,Ie.src_size=q+ee+8,F++,U&&(U=!1,q=0,K=0);break;case"VP8X":(Ie=G.header={}).feature_flags=L[B];var J=B+4;Ie.canvas_width=1+f(L,J),J+=3,Ie.canvas_height=1+f(L,J),J+=3;break;case"ALPH":U=!0,q=te+8,K=B-8;break;case"ANIM":(Ie=G.header).bgcolor=p(L,B),J=B+4,Ie.loop_count=(Ge=L)[(W=J)+0]<<0|Ge[W+1]<<8,J+=2;break;case"ANMF":var ge,Ie;(Ie=G.frames[F]={}).offset_x=2*f(L,B),B+=3,Ie.offset_y=2*f(L,B),B+=3,Ie.width=1+f(L,B),B+=3,Ie.height=1+f(L,B),B+=3,Ie.duration=f(L,B),B+=3,ge=L[B++],Ie.dispose=1&ge,Ie.blend=ge>>1&1}V!="ANMF"&&(B+=te)}var Ge,W;return G}}(_,0);N.response=_,N.rgbaoutput=!0,N.dataurl=!1;var E=N.header?N.header:null,C=N.frames?N.frames:null;if(E){E.loop_counter=E.loop_count,g=[E.canvas_height],x=[E.canvas_width];for(var I=0;I<C.length&&C[I].blend!=0;I++);}var P=C[0],D=y.WebPDecodeRGBA(_,P.src_off,P.src_size,x,g);P.rgba=D,P.imgwidth=x[0],P.imgheight=g[0];for(var k=0;k<x[0]*g[0]*4;k++)b[k]=D[k];return this.width=x,this.height=g,this.data=b,this}(function(e){var t=function(){return typeof Gj=="function"},r=function(g,x,b,y){var _=4,N=o;switch(y){case e.image_compression.FAST:_=1,N=a;break;case e.image_compression.MEDIUM:_=6,N=l;break;case e.image_compression.SLOW:_=9,N=c}g=n(g,x,b,N);var E=Gj(g,{level:_});return e.__addimage__.arrayBufferToBinaryString(E)},n=function(g,x,b,y){for(var _,N,E,C=g.length/x,I=new Uint8Array(g.length+C),P=f(),D=0;D<C;D+=1){if(E=D*x,_=g.subarray(E,E+x),y)I.set(y(_,b,N),E+D);else{for(var k,L=P.length,B=[];k<L;k+=1)B[k]=P[k](_,b,N);var G=p(B.concat());I.set(B[G],E+D)}N=_}return I},i=function(g){var x=Array.apply([],g);return x.unshift(0),x},a=function(g,x){var b,y=[],_=g.length;y[0]=1;for(var N=0;N<_;N+=1)b=g[N-x]||0,y[N+1]=g[N]-b+256&255;return y},o=function(g,x,b){var y,_=[],N=g.length;_[0]=2;for(var E=0;E<N;E+=1)y=b&&b[E]||0,_[E+1]=g[E]-y+256&255;return _},l=function(g,x,b){var y,_,N=[],E=g.length;N[0]=3;for(var C=0;C<E;C+=1)y=g[C-x]||0,_=b&&b[C]||0,N[C+1]=g[C]+256-(y+_>>>1)&255;return N},c=function(g,x,b){var y,_,N,E,C=[],I=g.length;C[0]=4;for(var P=0;P<I;P+=1)y=g[P-x]||0,_=b&&b[P]||0,N=b&&b[P-x]||0,E=u(y,_,N),C[P+1]=g[P]-E+256&255;return C},u=function(g,x,b){if(g===x&&x===b)return g;var y=Math.abs(x-b),_=Math.abs(g-b),N=Math.abs(g+x-b-b);return y<=_&&y<=N?g:_<=N?x:b},f=function(){return[i,a,o,l,c]},p=function(g){var x=g.map(function(b){return b.reduce(function(y,_){return y+Math.abs(_)},0)});return x.indexOf(Math.min.apply(null,x))};e.processPNG=function(g,x,b,y){var _,N,E,C,I,P,D,k,L,B,G,F,U,q,K,V=this.decode.FLATE_DECODE,ee="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(E=new lDe(g)).imgData,N=E.bits,_=E.colorSpace,I=E.colors,[4,6].indexOf(E.colorType)!==-1){if(E.bits===8){L=(k=E.pixelBitlength==32?new Uint32Array(E.decodePixels().buffer):E.pixelBitlength==16?new Uint16Array(E.decodePixels().buffer):new Uint8Array(E.decodePixels().buffer)).length,G=new Uint8Array(L*E.colors),B=new Uint8Array(L);var te,J=E.pixelBitlength-E.bits;for(q=0,K=0;q<L;q++){for(U=k[q],te=0;te<J;)G[K++]=U>>>te&255,te+=E.bits;B[q]=U>>>te&255}}if(E.bits===16){L=(k=new Uint32Array(E.decodePixels().buffer)).length,G=new Uint8Array(L*(32/E.pixelBitlength)*E.colors),B=new Uint8Array(L*(32/E.pixelBitlength)),F=E.colors>1,q=0,K=0;for(var ge=0;q<L;)U=k[q++],G[K++]=U>>>0&255,F&&(G[K++]=U>>>16&255,U=k[q++],G[K++]=U>>>0&255),B[ge++]=U>>>16&255;N=8}y!==e.image_compression.NONE&&t()?(g=r(G,E.width*E.colors,E.colors,y),D=r(B,E.width,1,y)):(g=G,D=B,V=void 0)}if(E.colorType===3&&(_=this.color_spaces.INDEXED,P=E.palette,E.transparency.indexed)){var Ie=E.transparency.indexed,Ge=0;for(q=0,L=Ie.length;q<L;++q)Ge+=Ie[q];if((Ge/=255)===L-1&&Ie.indexOf(0)!==-1)C=[Ie.indexOf(0)];else if(Ge!==L){for(k=E.decodePixels(),B=new Uint8Array(k.length),q=0,L=k.length;q<L;q++)B[q]=Ie[k[q]];D=r(B,E.width,1)}}var W=function(Q){var Z;switch(Q){case e.image_compression.FAST:Z=11;break;case e.image_compression.MEDIUM:Z=13;break;case e.image_compression.SLOW:Z=14;break;default:Z=12}return Z}(y);return V===this.decode.FLATE_DECODE&&(ee="/Predictor "+W+" "),ee+="/Colors "+I+" /BitsPerComponent "+N+" /Columns "+E.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(D&&this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D))&&(D=this.__addimage__.arrayBufferToBinaryString(D)),{alias:b,data:g,index:x,filter:V,decodeParameters:ee,transparency:C,palette:P,sMask:D,predictor:W,width:E.width,height:E.height,bitsPerComponent:N,colorSpace:_}}}})(tn.API),function(e){e.processGIF89A=function(t,r,n,i){var a=new cDe(t),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},f=new NA(100).encode(u,100);return e.processJPEG.call(this,f,r,n,i)},e.processGIF87A=e.processGIF89A}(tn.API),Mc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Mc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Li.log("bit decode error:"+r)}},Mc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Mc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,l=a>>4,c=15&a,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Mc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Mc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,u=a>>15?255:0,f=n*this.width*4+4*i;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=u}this.pos+=e}},Mc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,f=i*this.width*4+4*a;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},Mc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Mc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=o}},Mc.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new Mc(t,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new NA(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(tn.API),uF.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new uF(t),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new NA(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)}}(tn.API),tn.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,u=0;u<i;u+=4){var f=n[u],p=n[u+1],g=n[u+2],x=n[u+3];a[l++]=f,a[l++]=p,a[l++]=g,o[c++]=x}var b=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},tn.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},j1=tn.API,Sb=j1.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,f=u.fof?u.fof:1,p=t.doKerning!==!1,g=0,x=e.length,b=0,y=l[0]||c,_=[];for(r=0;r<x;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/a)||0)/1e3):(g=p&&_i(u[n])==="object"&&!isNaN(parseInt(u[n][b],10))?u[n][b]/f:0,_.push((l[n]||y)/c+g)),b=n;return _},sF=j1.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return j1.processArabic&&(e=j1.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:Sb.apply(this,arguments).reduce(function(a,o){return a+o},0)},oF=function(e,t,r,n){for(var i=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<r;)l+=t[a],a++;i.push(e.slice(0,a));var c=a;for(l=0;a!==o;)l+t[a]>n&&(i.push(e.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},lF=function(e,t,r){r||(r={});var n,i,a,o,l,c,u,f=[],p=[f],g=r.textIndent||0,x=0,b=0,y=e.split(" "),_=Sb.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var N=Array(c).join(" "),E=[];y.map(function(I){(I=I.split(/\s*\n/)).length>1?E=E.concat(I.map(function(P,D){return(D&&P.length?`
`:"")+P})):E.push(I[0])}),y=E,c=sF.apply(this,[N,r])}for(a=0,o=y.length;a<o;a++){var C=0;if(n=y[a],c&&n[0]==`
`&&(n=n.substr(1),C=1),g+x+(b=(i=Sb.apply(this,[n,r])).reduce(function(I,P){return I+P},0))>t||C){if(b>t){for(l=oF.apply(this,[n,i,t-(g+x),t]),f.push(l.shift()),f=[l.pop()];l.length;)p.push([l.shift()]);b=i.slice(n.length-(f[0]?f[0].length:0)).reduce(function(I,P){return I+P},0)}else f=[n];p.push(f),g=b+c,x=_}else f.push(n),g+=x+b,x=_}return u=c?function(I,P){return(P?N:"")+I.join(" ")}:function(I){return I.join(" ")},p.map(u)},j1.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(lF.apply(this,[n[l],o,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},i=0;i<t.length;i++)r[t[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=t[i];var a=function(p){return"0x"+parseInt(p,10).toString(16)},o=e.__fontmetrics__.compress=function(p){var g,x,b,y,_=["{"];for(var N in p){if(g=p[N],isNaN(parseInt(N,10))?x="'"+N+"'":(N=parseInt(N,10),x=(x=a(N).slice(2)).slice(0,-1)+n[x.slice(-1)]),typeof g=="number")g<0?(b=a(g).slice(3),y="-"):(b=a(g).slice(2),y=""),b=y+b.slice(0,-1)+n[b.slice(-1)];else{if(_i(g)!=="object")throw new Error("Don't know what to do with value type "+_i(g)+".");b=o(g)}_.push(x+b)}return _.push("}"),_.join("")},l=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,x,b,y,_={},N=1,E=_,C=[],I="",P="",D=p.length-1,k=1;k<D;k+=1)(y=p[k])=="'"?g?(b=g.join(""),g=void 0):g=[]:g?g.push(y):y=="{"?(C.push([E,b]),E={},b=void 0):y=="}"?((x=C.pop())[0][x[1]]=E,b=void 0,E=x[0]):y=="-"?N=-1:b===void 0?r.hasOwnProperty(y)?(I+=r[y],b=parseInt(I,16)*N,N=1,I=""):I+=y:r.hasOwnProperty(y)?(P+=r[y],E[b]=parseInt(P,16)*N,N=1,b=void 0,P=""):P+=y;return _},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var g=p.font,x=f.Unicode[g.postScriptName];x&&(g.metadata.Unicode={},g.metadata.Unicode.widths=x.widths,g.metadata.Unicode.kerning=x.kerning);var b=u.Unicode[g.postScriptName];b&&(g.metadata.Unicode.encoding=b,g.encoding=b.codePages[0])}])}(tn.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(kv(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(tn),function(e){function t(){return(rn.canvg?Promise.resolve(rn.canvg):zj(()=>import("./index.es-BgVzk5fx.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}tn.API.addSvgAsImage=function(r,n,i,a,o,l,c,u){if(isNaN(n)||isNaN(i))throw Li.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(o))throw Li.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=a,f.height=o;var p=f.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return t().then(function(b){return b.fromString(p,r,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(g)}).then(function(){x.addImage(f.toDataURL("image/jpeg",1),n,i,a,o,c,u)})}}(),tn.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},tn.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,f=0,p=0;function g(b,y){var _,N=!1;for(_=0;_<b.length;_+=1)b[_]===y&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var x=l.length;for(p=0;p<x;p+=1)r[l[p]].value=r[l[p]].defaultValue,r[l[p]].explicitSet=!1}if(_i(e)==="object"){for(i in e)if(a=e[i],g(l,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&g(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(u=0;u<a.length;u+=1)if(n=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(f=0;f<a[u].length;f+=1)typeof a[u][f]!="number"&&(n=!1);n===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,y=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?y.push("/"+b+" /"+r[b].value):y.push("/"+b+" "+r[b].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(tn.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],p=0,g=a.length;p<g;++p){if(l=o.metadata.characterToGlyph(a.charCodeAt(p)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(p),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(u[4-l.length],l)}return f.join("")},n=function(a){var o,l,c,u,f,p,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],p=0,g=(l=Object.keys(a).sort(function(x,b){return x-b})).length;p<g;p++)o=l[p],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var p=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),x="",b=0;b<g.length;b++)x+=String.fromCharCode(g[b]);var y=u();f({data:x,addLength1:!0,objectId:y}),c("endobj");var _=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:_}),c("endobj");var N=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+L1(l.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var E=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+L1(l.fontName)),c("/FontDescriptor "+N+" 0 R"),c("/W "+e.API.PDFObject.convert(p)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+_+" 0 R"),c("/BaseFont /"+L1(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+E+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var p=l.metadata.rawData,g="",x=0;x<p.length;x++)g+=String.fromCharCode(p[x]);var b=u();f({data:g,addLength1:!0,objectId:b}),c("endobj");var y=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var _=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+b+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+L1(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var N=0;N<l.metadata.hmtx.widths.length;N++)l.metadata.hmtx.widths[N]=parseInt(l.metadata.hmtx.widths[N]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+L1(l.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,u=a.y,f=a.options||{},p=a.mutex||{},g=p.pdfEscape,x=p.activeFontKey,b=p.fonts,y=x,_="",N=0,E="",C=b[y].encoding;if(b[y].encoding!=="Identity-H")return{text:l,x:c,y:u,options:f,mutex:p};for(E=l,y=x,Array.isArray(l)&&(E=l[0]),N=0;N<E.length;N+=1)b[y].metadata.hasOwnProperty("cmap")&&(o=b[y].metadata.cmap.unicode.codeMap[E[N].charCodeAt(0)]),o||E[N].charCodeAt(0)<256&&b[y].metadata.hasOwnProperty("Unicode")?_+=E[N]:_+="";var I="";return parseInt(y.slice(1))<14||C==="WinAnsiEncoding"?I=g(_,y).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(I=r(_,b[y])),p.isHex=!0,{text:I,x:c,y:u,options:f,mutex:p}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(i(Object.assign({},c,{text:o[u]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])}(tn),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(tn.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,o,l,c,u,f,p=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,C=0;this.__bidiEngine__={};var I=function(F){var U=F.charCodeAt(),q=U>>8,K=y[q];return K!==void 0?p[256*K+(255&U)]:q===252||q===253?"AL":N.test(q)?"L":q===8?"R":"N"},P=function(F){for(var U,q=0;q<F.length;q++){if((U=I(F.charAt(q)))==="L")return!1;if(U==="R")return!0}return!1},D=function(F,U,q,K){var V,ee,te,J,ge=U[K];switch(ge){case"L":case"R":E=!1;break;case"N":case"AN":break;case"EN":E&&(ge="AN");break;case"AL":E=!0,ge="R";break;case"WS":ge="N";break;case"CS":K<1||K+1>=U.length||(V=q[K-1])!=="EN"&&V!=="AN"||(ee=U[K+1])!=="EN"&&ee!=="AN"?ge="N":E&&(ee="AN"),ge=ee===V?ee:"N";break;case"ES":ge=(V=K>0?q[K-1]:"B")==="EN"&&K+1<U.length&&U[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&q[K-1]==="EN"){ge="EN";break}if(E){ge="N";break}for(te=K+1,J=U.length;te<J&&U[te]==="ET";)te++;ge=te<J&&U[te]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(J=U.length,te=K+1;te<J&&U[te]==="NSM";)te++;if(te<J){var Ie=F[K],Ge=Ie>=1425&&Ie<=2303||Ie===64286;if(V=U[te],Ge&&(V==="R"||V==="AL")){ge="R";break}}}ge=K<1||(V=U[K-1])==="B"?"N":q[K-1];break;case"B":E=!1,i=!0,ge=C;break;case"S":a=!0,ge="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"BN":ge="N"}return ge},k=function(F,U,q){var K=F.split("");return q&&L(K,q,{hiLevel:C}),K.reverse(),U&&U.reverse(),K.join("")},L=function(F,U,q){var K,V,ee,te,J,ge=-1,Ie=F.length,Ge=0,W=[],Q=C?x:g,Z=[];for(E=!1,i=!1,a=!1,V=0;V<Ie;V++)Z[V]=I(F[V]);for(ee=0;ee<Ie;ee++){if(J=Ge,W[ee]=D(F,Z,W,ee),K=240&(Ge=Q[J][b[W[ee]]]),Ge&=15,U[ee]=te=Q[Ge][5],K>0)if(K===16){for(V=ge;V<ee;V++)U[V]=1;ge=-1}else ge=-1;if(Q[Ge][6])ge===-1&&(ge=ee);else if(ge>-1){for(V=ge;V<ee;V++)U[V]=te;ge=-1}Z[ee]==="B"&&(U[ee]=0),q.hiLevel|=te}a&&function(re,le,Ne){for(var Ae=0;Ae<Ne;Ae++)if(re[Ae]==="S"){le[Ae]=C;for(var ve=Ae-1;ve>=0&&re[ve]==="WS";ve--)le[ve]=C}}(Z,U,Ie)},B=function(F,U,q,K,V){if(!(V.hiLevel<F)){if(F===1&&C===1&&!i)return U.reverse(),void(q&&q.reverse());for(var ee,te,J,ge,Ie=U.length,Ge=0;Ge<Ie;){if(K[Ge]>=F){for(J=Ge+1;J<Ie&&K[J]>=F;)J++;for(ge=Ge,te=J-1;ge<te;ge++,te--)ee=U[ge],U[ge]=U[te],U[te]=ee,q&&(ee=q[ge],q[ge]=q[te],q[te]=ee);Ge=J}Ge++}}},G=function(F,U,q){var K=F.split(""),V={hiLevel:C};return q||(q=[]),L(K,q,V),function(ee,te,J){if(J.hiLevel!==0&&f)for(var ge,Ie=0;Ie<ee.length;Ie++)te[Ie]===1&&(ge=_.indexOf(ee[Ie]))>=0&&(ee[Ie]=_[ge+1])}(K,q,V),B(2,K,U,q,V),B(1,K,U,q,V),K.join("")};return this.__bidiEngine__.doBidiReorder=function(F,U,q){if(function(V,ee){if(ee)for(var te=0;te<V.length;te++)ee[te]=te;l===void 0&&(l=P(V)),u===void 0&&(u=P(V))}(F,U),o||!c||u)if(o&&c&&l^u)C=l?1:0,F=k(F,U,q);else if(!o&&c&&u)C=l?1:0,F=G(F,U,q),F=k(F,U);else if(!o||l||c||u){if(o&&!c&&l^u)F=k(F,U),l?(C=0,F=G(F,U,q)):(C=1,F=G(F,U,q),F=k(F,U));else if(o&&l&&!c&&u)C=1,F=G(F,U,q),F=k(F,U);else if(!o&&!c&&l^u){var K=f;l?(C=1,F=G(F,U,q),C=0,f=!1,F=G(F,U,q),f=K):(C=0,F=G(F,U,q),F=k(F,U),C=1,f=!1,F=G(F,U,q),f=K,F=k(F,U))}}else C=0,F=G(F,U,q);else C=l?1:0,F=G(F,U,q);return F},this.__bidiEngine__.setOptions=function(F){F&&(o=F.isInputVisual,c=F.isOutputVisual,l=F.isInputRtl,u=F.isOutputRtl,f=F.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([r.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([r.doBidiReorder(i[l])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(tn),tn.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new qh(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new NDe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new uDe(this.contents),this.head=new fDe(this),this.name=new xDe(this),this.cmap=new lX(this),this.toUnicode={},this.hhea=new hDe(this),this.maxp=new vDe(this),this.hmtx=new yDe(this),this.post=new mDe(this),this.os2=new pDe(this),this.loca=new _De(this),this.glyf=new wDe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var vu,qh=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),uDe=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,o,l,c,u,f,p,g,x,b,y;for(y in x=Object.keys(r).length,c=Math.log(2),p=16*Math.floor(Math.log(x)/c),o=Math.floor(p/c),f=16*x-p,(i=new qh).writeInt(this.scalarType),i.writeShort(x),i.writeShort(p),i.writeShort(o),i.writeShort(f),a=16*x,u=i.pos+a,l=null,b=[],r)for(g=r[y],i.writeString(y),i.writeInt(e(g)),i.writeInt(u),i.writeInt(g.length),b=b.concat(g),y==="head"&&(l=u),u+=g.length;u%4;)b.push(0),u++;return i.write(b),n=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,o;for(r=cX.call(r);r.length%4;)r.push(0);for(a=new qh(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),dDe={}.hasOwnProperty,fd=function(e,t){for(var r in t)dDe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};vu=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var fDe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fd(t,vu),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new qh).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),dF=function(){function e(t,r){var n,i,a,o,l,c,u,f,p,g,x,b,y,_,N,E,C;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(x=t.readUInt16(),g=x/2,t.pos+=6,a=function(){var I,P;for(P=[],c=I=0;0<=g?I<g:I>g;c=0<=g?++I:--I)P.push(t.readUInt16());return P}(),t.pos+=2,y=function(){var I,P;for(P=[],c=I=0;0<=g?I<g:I>g;c=0<=g?++I:--I)P.push(t.readUInt16());return P}(),u=function(){var I,P;for(P=[],c=I=0;0<=g?I<g:I>g;c=0<=g?++I:--I)P.push(t.readUInt16());return P}(),f=function(){var I,P;for(P=[],c=I=0;0<=g?I<g:I>g;c=0<=g?++I:--I)P.push(t.readUInt16());return P}(),i=(this.length-t.pos+this.offset)/2,l=function(){var I,P;for(P=[],c=I=0;0<=i?I<i:I>i;c=0<=i?++I:--I)P.push(t.readUInt16());return P}(),c=N=0,C=a.length;N<C;c=++N)for(_=a[c],n=E=b=y[c];b<=_?E<=_:E>=_;n=b<=_?++E:--E)f[c]===0?o=n+u[c]:(o=l[f[c]/2+(n-b)-(g-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=p}return e.encode=function(t,r){var n,i,a,o,l,c,u,f,p,g,x,b,y,_,N,E,C,I,P,D,k,L,B,G,F,U,q,K,V,ee,te,J,ge,Ie,Ge,W,Q,Z,re,le,Ne,Ae,ve,xe,Le,Se;switch(K=new qh,o=Object.keys(t).sort(function(ye,We){return ye-We}),r){case"macroman":for(y=0,_=function(){var ye=[];for(b=0;b<256;++b)ye.push(0);return ye}(),E={0:0},a={},V=0,ge=o.length;V<ge;V++)E[ve=t[i=o[V]]]==null&&(E[ve]=++y),a[i]={old:t[i],new:E[t[i]]},_[i]=E[t[i]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(_),{charMap:a,subtable:K.data,maxGlyphID:y+1};case"unicode":for(U=[],p=[],C=0,E={},n={},N=u=null,ee=0,Ie=o.length;ee<Ie;ee++)E[P=t[i=o[ee]]]==null&&(E[P]=++C),n[i]={old:P,new:E[P]},l=E[P]-i,N!=null&&l===u||(N&&p.push(N),U.push(i),u=l),N=i;for(N&&p.push(N),p.push(65535),U.push(65535),G=2*(B=U.length),L=2*Math.pow(Math.log(B)/Math.LN2,2),g=Math.log(L/2)/Math.LN2,k=2*B-L,c=[],D=[],x=[],b=te=0,Ge=U.length;te<Ge;b=++te){if(F=U[b],f=p[b],F===65535){c.push(0),D.push(0);break}if(F-(q=n[F].new)>=32768)for(c.push(0),D.push(2*(x.length+B-b)),i=J=F;F<=f?J<=f:J>=f;i=F<=f?++J:--J)x.push(n[i].new);else c.push(q-F),D.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*B+2*x.length),K.writeUInt16(0),K.writeUInt16(G),K.writeUInt16(L),K.writeUInt16(g),K.writeUInt16(k),Ne=0,W=p.length;Ne<W;Ne++)i=p[Ne],K.writeUInt16(i);for(K.writeUInt16(0),Ae=0,Q=U.length;Ae<Q;Ae++)i=U[Ae],K.writeUInt16(i);for(xe=0,Z=c.length;xe<Z;xe++)l=c[xe],K.writeUInt16(l);for(Le=0,re=D.length;Le<re;Le++)I=D[Le],K.writeUInt16(I);for(Se=0,le=x.length;Se<le;Se++)y=x[Se],K.writeUInt16(y);return{charMap:n,subtable:K.data,maxGlyphID:C+1}}},e}(),lX=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fd(t,vu),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,i,a;for(r.pos=this.offset,this.version=r.readUInt16(),a=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)n=new dF(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var i,a;return n==null&&(n="macroman"),i=dF.encode(r,n),(a=new qh).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},t}(),hDe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fd(t,vu),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),pDe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fd(t,vu),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),mDe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fd(t,vu),t.prototype.tag="post",t.prototype.parse=function(r){var n,i,a;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(i=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],a=[];r.pos<this.offset+this.length;)n=r.readByte(),a.push(this.names.push(r.readString(n)));return a;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},t}(),gDe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},xDe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fd(t,vu),t.prototype.tag="name",t.prototype.parse=function(r){var n,i,a,o,l,c,u,f,p,g,x;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),i=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=p=0,g=i.length;p<g;o=++p)a=i[o],r.pos=a.offset,f=r.readString(a.length),l=new gDe(f,a),u[x=a.nameID]==null&&(u[x]=[]),u[a.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),vDe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fd(t,vu),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),yDe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fd(t,vu),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,i,a,o,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,p;for(p=[],n=f=0;0<=a?f<a:f>a;n=0<=a?++f:--f)p.push(r.readInt16());return p}(),this.widths=(function(){var f,p,g,x;for(x=[],f=0,p=(g=this.metrics).length;f<p;f++)o=g[f],x.push(o.advance);return x}).call(this),i=this.widths[this.widths.length-1],u=[],n=l=0;0<=a?l<a:l>a;n=0<=a?++l:--l)u.push(this.widths.push(i));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),cX=[].slice,wDe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fd(t,vu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,i,a,o,l,c,u,f,p,g;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,i=o.indexOf(r),(a=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,l=(c=new qh(n.read(a))).readShort(),f=c.readShort(),g=c.readShort(),u=c.readShort(),p=c.readShort(),this.cache[r]=l===-1?new SDe(c,f,g,u,p):new bDe(c,l,f,g,u,p),this.cache[r]))},t.prototype.encode=function(r,n,i){var a,o,l,c,u;for(l=[],o=[],c=0,u=n.length;c<u;c++)a=r[n[c]],o.push(l.length),a&&(l=l.concat(a.encode(i)));return o.push(l.length),{table:l,offsets:o}},t}(),bDe=function(){function e(t,r,n,i,a,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),SDe=function(){function e(t,r,n,i,a){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new qh(cX.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),_De=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return fd(t,vu),t.prototype.tag="loca",t.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],i=0,a=this.length;i<a;i+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),a=0,o=0,l=0;l<i.length;++l)if(i[l]=a,o<n.length&&n[o]==l){++o,i[l]=a;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(a+=u)}for(var f=new Array(4*i.length),p=0;p<i.length;++p)f[4*p+3]=255&i[p],f[4*p+2]=(65280&i[p])>>8,f[4*p+1]=(16711680&i[p])>>16,f[4*p]=(4278190080&i[p])>>24;return f},t}(),NDe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,o,l,c;for(i={},o=0,l=t.length;o<l;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in c=this.glyphsFor(r))n=c[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,o,l,c,u,f,p,g,x,b,y,_,N;for(i in n=lX.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),x={0:0},N=n.charMap)x[(c=N[i]).old]=c.new;for(b in g=n.maxGlyphID,o)b in x||(x[b]=g++);return f=function(E){var C,I;for(C in I={},E)I[E[C]]=C;return I}(x),p=Object.keys(f).sort(function(E,C){return E-C}),y=function(){var E,C,I;for(I=[],E=0,C=p.length;E<C;E++)l=p[E],I.push(f[l]);return I}(),a=this.font.glyf.encode(o,y,x),u=this.font.loca.encode(a.offsets,y),_={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},e}();tn.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)o=r[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+r},t}();function EDe({open:e,onOpenChange:t}){const[r,n]=O.useState(""),[i,a]=O.useState("all"),[o,l]=O.useState("all"),[c,u]=O.useState(new Set),[f,p]=O.useState("avery5160"),[g,x]=O.useState(!1),[b,y]=O.useState(!0),[_,N]=O.useState(!1);O.useRef(null);const{data:E=[],isLoading:C}=Er({queryKey:["/api/parts"]}),{data:I=[]}=Er({queryKey:["/api/storage-locations"]}),P=E.filter(F=>{const U=r===""||F.name.toLowerCase().includes(r.toLowerCase())||F.partId.toLowerCase().includes(r.toLowerCase())||F.description&&F.description.toLowerCase().includes(r.toLowerCase()),q=i==="all"||F.locationId&&F.locationId.toString()===i||F.location&&F.location.toLowerCase().includes(i.toLowerCase()),K=o==="all"||F.category&&F.category===o;return U&&q&&K}),D=Array.from(new Set(E.map(F=>F.category).filter(F=>!!F))),k=()=>{const F=new Set(P.map(U=>U.id));u(F)},L=()=>{u(new Set)},B=F=>{const U=new Set(c);U.has(F)?U.delete(F):U.add(F),u(U)},G=()=>{const F=E.filter(Ne=>c.has(Ne.id));if(F.length===0)return;const U=new tn,q=U.internal.pageSize.width,K=U.internal.pageSize.height,V={avery5160:{width:66.675,height:25.4,labelsPerRow:3,labelsPerColumn:10,marginTop:12.7,marginLeft:4.7625,horizontalSpacing:3.175,verticalSpacing:0},small:{width:80,height:40},medium:{width:100,height:50},large:{width:120,height:60}};let ee,te,J,ge,Ie,Ge,W;if(f==="avery5160"){const Ne=V.avery5160;ee=Ne.width,te=Ne.height,J=Ne.labelsPerRow,ge=Ne.labelsPerColumn,Ie=Ne.marginTop,Ge=Ne.marginLeft,W=Ne.horizontalSpacing}else{const{width:Ne,height:Ae}=V[f];ee=Ne,te=Ae;const ve=10;Ie=ve,Ge=ve,W=0,J=Math.floor((q-2*ve)/ee),ge=Math.floor((K-2*ve)/te)}const Q=J*ge;let Z=0,re=0;F.forEach((Ne,Ae)=>{Ae%Q===0&&(Z>0&&U.addPage(),Z++,re=0);const ve=Math.floor(re/J),xe=re%J;let Le,Se;f==="avery5160"?(Le=Ge+xe*(ee+W),Se=Ie+ve*te):(Le=Ge+xe*ee,Se=Ie+ve*te),U.rect(Le,Se,ee,te);const ye=document.createElement("canvas");try{const He=f==="avery5160"?{format:"CODE128",width:1.2,height:20,displayValue:!1,margin:1,marginTop:0,marginBottom:0,marginLeft:2,marginRight:2}:{format:"CODE128",width:2,height:40,displayValue:!1,margin:10,marginTop:5,marginBottom:5,marginLeft:20,marginRight:20};H2(ye,Ne.partId,He);const nt=ye.toDataURL("image/png"),mt=f==="avery5160"?ee*.9:ee*.8,At=f==="avery5160"?5:8,qt=Le+(ee-mt)/2,mr=Se+(f==="avery5160"?1.5:3);U.addImage(nt,"PNG",qt,mr,mt,At),U.setFontSize(f==="avery5160"?6:8);const ar=U.getTextWidth(Ne.partId);U.text(Ne.partId,Le+(ee-ar)/2,mr+At+(f==="avery5160"?1.5:2))}catch(He){console.error("Barcode generation failed:",He),U.setFontSize(10);const nt=U.getTextWidth(Ne.partId);U.text(Ne.partId,Le+(ee-nt)/2,Se+10)}const We=f==="avery5160"?5:9,Ye=20;U.setFontSize(We);const we=Ne.name&&Ne.name.length>Ye?Ne.name.substring(0,Ye)+"...":Ne.name||"",Pe=U.getTextWidth(we),ce=f==="avery5160"?Se+12:Se+18;U.text(we,Le+(ee-Pe)/2,ce);let Ce=f==="avery5160"?Se+16:Se+22;const fe=f==="avery5160"?4:7,ke=f==="avery5160"?2:3;if(g&&Ne.description){U.setFontSize(fe);const He=f==="avery5160"?30:25,nt=Ne.description.length>He?Ne.description.substring(0,He)+"...":Ne.description,mt=U.getTextWidth(nt);U.text(nt,Le+(ee-mt)/2,Ce),Ce+=ke}if(b){U.setFontSize(fe);const He=Ne.location||"No Location",nt=f==="avery5160"?12:20,At=`Loc: ${(He&&He.length>nt?He.substring(0,nt)+"...":He)||"No Location"}`,qt=U.getTextWidth(At);U.text(At,Le+(ee-qt)/2,Ce),Ce+=ke}if(_){U.setFontSize(fe);const He=`Qty: ${Ne.quantity}`,nt=U.getTextWidth(He);U.text(He,Le+(ee-nt)/2,Ce)}re++});const le=new Date().toISOString().replace(/[:.]/g,"-");U.save(`barcode_labels_${le}.pdf`)};return s.jsx(Qr,{open:e,onOpenChange:t,children:s.jsxs(qr,{className:"max-w-6xl max-h-[90vh] overflow-hidden",children:[s.jsxs(Gr,{children:[s.jsxs(Yr,{className:"flex items-center gap-2",children:[s.jsx(Op,{className:"h-5 w-5"}),"Barcode Label Printer"]}),s.jsx(gn,{children:"Search and select parts to generate printable barcode labels"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[70vh]",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ht,{htmlFor:"search",children:"Search Parts"}),s.jsxs("div",{className:"relative",children:[s.jsx(Pl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(Rt,{id:"search",placeholder:"Part ID, name, or description...",value:r,onChange:F=>n(F.target.value),className:"pl-10"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ht,{children:"Filter by Location"}),s.jsxs(Bn,{value:i,onValueChange:a,children:[s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select location"})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"all",children:"All Locations"}),I.map(F=>s.jsx(er,{value:F.id.toString(),children:F.name},F.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ht,{children:"Filter by Category"}),s.jsxs(Bn,{value:o,onValueChange:l,children:[s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select category"})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"all",children:"All Categories"}),D.map(F=>s.jsx(er,{value:F,children:F},F))]})]})]}),s.jsx(Xy,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ht,{children:"Label Settings"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(Ht,{className:"text-sm",children:"Label Size"}),s.jsxs(Bn,{value:f,onValueChange:F=>p(F),children:[s.jsx(Mn,{children:s.jsx($n,{})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"avery5160",children:"Avery 5160 (30 labels/page)"}),s.jsx(er,{value:"small",children:"Small (80x40mm)"}),s.jsx(er,{value:"medium",children:"Medium (100x50mm)"}),s.jsx(er,{value:"large",children:"Large (120x60mm)"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vu,{id:"include-description",checked:g,onCheckedChange:F=>x(F===!0)}),s.jsx(Ht,{htmlFor:"include-description",className:"text-sm",children:"Include Description"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vu,{id:"include-location",checked:b,onCheckedChange:F=>y(F===!0)}),s.jsx(Ht,{htmlFor:"include-location",className:"text-sm",children:"Include Location"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vu,{id:"include-quantity",checked:_,onCheckedChange:F=>N(F===!0)}),s.jsx(Ht,{htmlFor:"include-quantity",className:"text-sm",children:"Include Quantity"})]})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ee,{onClick:k,variant:"outline",size:"sm",className:"flex-1",children:"Select All"}),s.jsx(Ee,{onClick:L,variant:"outline",size:"sm",className:"flex-1",children:"Clear All"})]}),s.jsxs(Ee,{onClick:G,disabled:c.size===0,className:"w-full",children:[s.jsx(Op,{className:"h-4 w-4 mr-2"}),"Generate Labels (",c.size,")"]})]}),s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"p-3 bg-gray-50 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"font-medium",children:["Parts (",P.length,")"]}),s.jsxs(ti,{variant:"secondary",children:[c.size," selected"]})]})}),s.jsx("div",{className:"overflow-y-auto h-[calc(100%-60px)]",children:C?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"Loading parts..."}):P.length===0?s.jsx("div",{className:"p-4 text-center text-gray-500",children:"No parts found"}):s.jsx("div",{className:"space-y-1",children:P.map(F=>s.jsx("div",{className:`p-3 border-b cursor-pointer hover:bg-gray-50 transition-colors ${c.has(F.id)?"bg-blue-50 border-blue-200":""}`,onClick:()=>B(F.id),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vu,{checked:c.has(F.id),onChange:()=>{}}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm truncate",children:F.name}),s.jsx("p",{className:"text-xs text-gray-500",children:F.partId}),F.location&&s.jsxs("p",{className:"text-xs text-gray-400",children:[" ",F.location]})]})]})}),s.jsxs("div",{className:"text-xs text-gray-400",children:["Qty: ",F.quantity]})]})},F.id))})})]}),s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsx("div",{className:"p-3 bg-gray-50 border-b",children:s.jsx("span",{className:"font-medium",children:"Label Preview"})}),s.jsx("div",{className:"p-4 overflow-y-auto h-[calc(100%-60px)]",children:c.size===0?s.jsx("div",{className:"text-center text-gray-500",children:"Select parts to see label preview"}):s.jsxs("div",{className:"space-y-4",children:[Array.from(c).slice(0,3).map(F=>{const U=E.find(q=>q.id===F);return U?s.jsx("div",{className:"border rounded p-3 bg-white",children:s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx(EMe,{value:U.partId,width:2,height:40,fontSize:8,margin:10,marginLeft:20,marginRight:20,marginTop:5,marginBottom:5}),s.jsxs("div",{className:"text-xs",children:[s.jsx("p",{className:"font-medium",children:U.name}),g&&U.description&&s.jsx("p",{className:"text-gray-500 truncate",children:U.description}),b&&U.location&&s.jsxs("p",{className:"text-gray-500",children:[" ",U.location]}),_&&s.jsxs("p",{className:"text-gray-500",children:["Qty: ",U.quantity]})]})]})},F):null}),c.size>3&&s.jsxs("div",{className:"text-center text-sm text-gray-500",children:["... and ",c.size-3," more parts"]})]})})]})]})]})})}function fF({partId:e,partNumber:t,showAllBarcodes:r=!1}){const[n,i]=O.useState(!1),[a,o]=O.useState(null),[l,c]=O.useState({barcode:"",supplier:"",isPrimary:!1}),{toast:u}=ea(),f=Yp(),{data:p,isLoading:g}=Er({queryKey:r?["barcodes"]:["part-barcodes",t],queryFn:()=>r?fetch("/api/barcodes").then(P=>P.json()):fetch(`/api/parts/${t}/barcodes`).then(P=>P.json()),enabled:r||!!t}),x=Sr({mutationFn:P=>nn("POST","/api/barcodes",P),onSuccess:()=>{f.invalidateQueries({queryKey:["barcodes"]}),f.invalidateQueries({queryKey:["part-barcodes"]}),c({barcode:"",supplier:"",isPrimary:!1}),i(!1),u({title:"Barcode Added",description:"Barcode has been successfully added to the part."})},onError:P=>{u({title:"Error",description:"Failed to add barcode. Please try again.",variant:"destructive"})}}),b=Sr({mutationFn:({id:P,data:D})=>nn("PUT",`/api/barcodes/${P}`,D),onSuccess:()=>{f.invalidateQueries({queryKey:["barcodes"]}),f.invalidateQueries({queryKey:["part-barcodes"]}),o(null),u({title:"Barcode Updated",description:"Barcode has been successfully updated."})}}),y=Sr({mutationFn:P=>nn("DELETE",`/api/barcodes/${P}`),onSuccess:()=>{f.invalidateQueries({queryKey:["barcodes"]}),f.invalidateQueries({queryKey:["part-barcodes"]}),u({title:"Barcode Deleted",description:"Barcode has been successfully removed."})}}),_=Sr({mutationFn:({barcodeId:P,partId:D})=>nn("PUT",`/api/barcodes/${P}/primary`,{partId:D}),onSuccess:()=>{f.invalidateQueries({queryKey:["barcodes"]}),f.invalidateQueries({queryKey:["part-barcodes"]}),u({title:"Primary Barcode Set",description:"Primary barcode has been updated."})}}),N=()=>{if(!e||!l.barcode.trim()){u({title:"Invalid Input",description:"Please enter a valid barcode.",variant:"destructive"});return}x.mutate({partId:e,barcode:l.barcode.trim(),supplier:l.supplier.trim()||void 0,isPrimary:l.isPrimary})},E=()=>{a&&b.mutate({id:a.id,data:a})},C=(P,D)=>{_.mutate({barcodeId:P,partId:D})},I=p;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Wd,{className:"h-5 w-5"}),r?"All Barcodes":"Part Barcodes"]}),!r&&e&&s.jsxs(Qr,{open:n,onOpenChange:i,children:[s.jsx(nd,{asChild:!0,children:s.jsxs(Ee,{size:"sm",children:[s.jsx(Si,{className:"h-4 w-4 mr-2"}),"Add Barcode"]})}),s.jsxs(qr,{children:[s.jsx(Gr,{children:s.jsx(Yr,{children:"Add New Barcode"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ht,{htmlFor:"barcode",children:"Barcode"}),s.jsx(Rt,{id:"barcode",value:l.barcode,onChange:P=>c(D=>({...D,barcode:P.target.value})),placeholder:"Enter barcode"})]}),s.jsxs("div",{children:[s.jsx(Ht,{htmlFor:"supplier",children:"Supplier (Optional)"}),s.jsx(Rt,{id:"supplier",value:l.supplier,onChange:P=>c(D=>({...D,supplier:P.target.value})),placeholder:"Enter supplier name"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{id:"isPrimary",type:"checkbox",checked:l.isPrimary,onChange:P=>c(D=>({...D,isPrimary:P.target.checked}))}),s.jsx(Ht,{htmlFor:"isPrimary",children:"Set as primary barcode"})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(Ee,{onClick:N,disabled:x.isPending,children:x.isPending?"Adding...":"Add Barcode"}),s.jsx(Ee,{variant:"outline",onClick:()=>i(!1),children:"Cancel"})]})]})]})]})]}),g?s.jsx("div",{className:"text-center py-4",children:"Loading barcodes..."}):!I||I.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No barcodes found for this part."}):s.jsx("div",{className:"grid gap-3",children:I.map(P=>s.jsx(Pt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm font-mono",children:P.barcode}),P.isPrimary&&s.jsxs(ti,{variant:"default",className:"flex items-center gap-1",children:[s.jsx(mM,{className:"h-3 w-3"}),"Primary"]})]}),P.supplier&&s.jsxs("div",{className:"text-sm text-gray-600",children:["Supplier: ",P.supplier]}),r&&"part"in P&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:P.part.partId})," - ",P.part.name]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!P.isPrimary&&s.jsx(Ee,{size:"sm",variant:"outline",onClick:()=>C(P.id,P.partId),disabled:_.isPending,children:s.jsx(mM,{className:"h-4 w-4"})}),s.jsx(Ee,{size:"sm",variant:"outline",onClick:()=>o(P),children:s.jsx(Ip,{className:"h-4 w-4"})}),s.jsx(Ee,{size:"sm",variant:"outline",onClick:()=>y.mutate(P.id),disabled:y.isPending,children:s.jsx(Oo,{className:"h-4 w-4"})})]})]})},P.id))}),a&&s.jsx(Qr,{open:!!a,onOpenChange:()=>o(null),children:s.jsxs(qr,{children:[s.jsx(Gr,{children:s.jsx(Yr,{children:"Edit Barcode"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ht,{htmlFor:"edit-barcode",children:"Barcode"}),s.jsx(Rt,{id:"edit-barcode",value:a.barcode,onChange:P=>o(D=>D?{...D,barcode:P.target.value}:null),placeholder:"Enter barcode"})]}),s.jsxs("div",{children:[s.jsx(Ht,{htmlFor:"edit-supplier",children:"Supplier"}),s.jsx(Rt,{id:"edit-supplier",value:a.supplier||"",onChange:P=>o(D=>D?{...D,supplier:P.target.value}:null),placeholder:"Enter supplier name"})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(Ee,{onClick:E,disabled:b.isPending,children:b.isPending?"Updating...":"Update Barcode"}),s.jsx(Ee,{variant:"outline",onClick:()=>o(null),children:"Cancel"})]})]})]})})]})}const ADe=a0("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),pp=O.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:ir(ADe({variant:t}),e),...r}));pp.displayName="Alert";const mp=O.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:ir("mb-1 font-medium leading-none tracking-tight",e),...t}));mp.displayName="AlertTitle";const gp=O.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:ir("text-sm [&_p]:leading-relaxed",e),...t}));gp.displayName="AlertDescription";var Y2=e=>e.type==="checkbox",X0=e=>e instanceof Date,So=e=>e==null;const uX=e=>typeof e=="object";var Ha=e=>!So(e)&&!Array.isArray(e)&&uX(e)&&!X0(e),dX=e=>Ha(e)&&e.target?Y2(e.target)?e.target.checked:e.target.value:e,CDe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,fX=(e,t)=>e.has(CDe(t)),jDe=e=>{const t=e.constructor&&e.constructor.prototype;return Ha(t)&&t.hasOwnProperty("isPrototypeOf")},Q6=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Wo(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Q6&&(e instanceof Blob||e instanceof FileList))&&(r||Ha(e)))if(t=r?[]:{},!r&&!jDe(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Wo(e[n]));else return e;return t}var sN=e=>Array.isArray(e)?e.filter(Boolean):[],Ia=e=>e===void 0,nr=(e,t,r)=>{if(!t||!Ha(e))return r;const n=sN(t.split(/[,[\].]+?/)).reduce((i,a)=>So(i)?i:i[a],e);return Ia(n)||n===e?Ia(e[t])?r:e[t]:n},ic=e=>typeof e=="boolean",Z6=e=>/^\w*$/.test(e),hX=e=>sN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ui=(e,t,r)=>{let n=-1;const i=Z6(t)?[t]:hX(t),a=i.length,o=a-1;for(;++n<a;){const l=i[n];let c=r;if(n!==o){const u=e[l];c=Ha(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(l==="__proto__")return;e[l]=c,e=e[l]}return e};const W5={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Yc={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Cd={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},pX=qe.createContext(null),oN=()=>qe.useContext(pX),TDe=e=>{const{children:t,...r}=e;return qe.createElement(pX.Provider,{value:r},t)};var mX=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Yc.all&&(t._proxyFormState[o]=!n||Yc.all),r&&(r[o]=!0),e[o]}});return i},Go=e=>Ha(e)&&!Object.keys(e).length,gX=(e,t,r,n)=>{r(e);const{name:i,...a}=e;return Go(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!n||Yc.all))},Mv=e=>Array.isArray(e)?e:[e],xX=(e,t,r)=>!e||!t||e===t||Mv(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n)));function J6(e){const t=qe.useRef(e);t.current=e,qe.useEffect(()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}},[e.disabled])}function ODe(e){const t=oN(),{control:r=t.control,disabled:n,name:i,exact:a}=e||{},[o,l]=qe.useState(r._formState),c=qe.useRef(!0),u=qe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=qe.useRef(i);return f.current=i,J6({disabled:n,next:p=>c.current&&xX(f.current,p.name,a)&&gX(p,u.current,r._updateFormState)&&l({...r._formState,...p}),subject:r._subjects.state}),qe.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),mX(o,r,u.current,!1)}var Hu=e=>typeof e=="string",vX=(e,t,r,n,i)=>Hu(e)?(n&&t.watch.add(e),nr(r,e,i)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),nr(r,a))):(n&&(t.watchAll=!0),r);function IDe(e){const t=oN(),{control:r=t.control,name:n,defaultValue:i,disabled:a,exact:o}=e||{},l=qe.useRef(n);l.current=n,J6({disabled:a,subject:r._subjects.values,next:f=>{xX(l.current,f.name,o)&&u(Wo(vX(l.current,r._names,f.values||r._formValues,!1,i)))}});const[c,u]=qe.useState(r._getWatch(n,i));return qe.useEffect(()=>r._removeUnmounted()),c}function PDe(e){const t=oN(),{name:r,disabled:n,control:i=t.control,shouldUnregister:a}=e,o=fX(i._names.array,r),l=IDe({control:i,name:r,defaultValue:nr(i._formValues,r,nr(i._defaultValues,r,e.defaultValue)),exact:!0}),c=ODe({control:i,name:r,exact:!0}),u=qe.useRef(i.register(r,{...e.rules,value:l,...ic(e.disabled)?{disabled:e.disabled}:{}}));return qe.useEffect(()=>{const f=i._options.shouldUnregister||a,p=(g,x)=>{const b=nr(i._fields,g);b&&b._f&&(b._f.mount=x)};if(p(r,!0),f){const g=Wo(nr(i._options.defaultValues,r));ui(i._defaultValues,r,g),Ia(nr(i._formValues,r))&&ui(i._formValues,r,g)}return()=>{(o?f&&!i._state.action:f)?i.unregister(r):p(r,!1)}},[r,i,o,a]),qe.useEffect(()=>{nr(i._fields,r)&&i._updateDisabledField({disabled:n,fields:i._fields,name:r,value:nr(i._fields,r)._f.value})},[n,r,i]),{field:{name:r,value:l,...ic(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:qe.useCallback(f=>u.current.onChange({target:{value:dX(f),name:r},type:W5.CHANGE}),[r]),onBlur:qe.useCallback(()=>u.current.onBlur({target:{value:nr(i._formValues,r),name:r},type:W5.BLUR}),[r,i]),ref:qe.useCallback(f=>{const p=nr(i._fields,r);p&&f&&(p._f.ref={focus:()=>f.focus(),select:()=>f.select(),setCustomValidity:g=>f.setCustomValidity(g),reportValidity:()=>f.reportValidity()})},[i._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!nr(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!nr(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!nr(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!nr(c.validatingFields,r)},error:{enumerable:!0,get:()=>nr(c.errors,r)}})}}const kDe=e=>e.render(PDe(e));var yX=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},hF=e=>({isOnSubmit:!e||e===Yc.onSubmit,isOnBlur:e===Yc.onBlur,isOnChange:e===Yc.onChange,isOnAll:e===Yc.all,isOnTouch:e===Yc.onTouched}),pF=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Dv=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const a=nr(e,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Dv(l,t))break}else if(Ha(l)&&Dv(l,t))break}}};var MDe=(e,t,r)=>{const n=Mv(nr(e,r));return ui(n,"root",t[r]),ui(e,r,n),e},e8=e=>e.type==="file",Ud=e=>typeof e=="function",H5=e=>{if(!Q6)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},tS=e=>Hu(e),t8=e=>e.type==="radio",q5=e=>e instanceof RegExp;const mF={value:!1,isValid:!1},gF={value:!0,isValid:!0};var wX=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ia(e[0].attributes.value)?Ia(e[0].value)||e[0].value===""?gF:{value:e[0].value,isValid:!0}:gF:mF}return mF};const xF={isValid:!1,value:null};var bX=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,xF):xF;function vF(e,t,r="validate"){if(tS(e)||Array.isArray(e)&&e.every(tS)||ic(e)&&!e)return{type:r,message:tS(e)?e:"",ref:t}}var T1=e=>Ha(e)&&!q5(e)?e:{value:e,message:""},yF=async(e,t,r,n,i)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:f,max:p,pattern:g,validate:x,name:b,valueAsNumber:y,mount:_,disabled:N}=e._f,E=nr(t,b);if(!_||N)return{};const C=o?o[0]:a,I=U=>{n&&C.reportValidity&&(C.setCustomValidity(ic(U)?"":U||""),C.reportValidity())},P={},D=t8(a),k=Y2(a),L=D||k,B=(y||e8(a))&&Ia(a.value)&&Ia(E)||H5(a)&&a.value===""||E===""||Array.isArray(E)&&!E.length,G=yX.bind(null,b,r,P),F=(U,q,K,V=Cd.maxLength,ee=Cd.minLength)=>{const te=U?q:K;P[b]={type:U?V:ee,message:te,ref:a,...G(U?V:ee,te)}};if(i?!Array.isArray(E)||!E.length:l&&(!L&&(B||So(E))||ic(E)&&!E||k&&!wX(o).isValid||D&&!bX(o).isValid)){const{value:U,message:q}=tS(l)?{value:!!l,message:l}:T1(l);if(U&&(P[b]={type:Cd.required,message:q,ref:C,...G(Cd.required,q)},!r))return I(q),P}if(!B&&(!So(f)||!So(p))){let U,q;const K=T1(p),V=T1(f);if(!So(E)&&!isNaN(E)){const ee=a.valueAsNumber||E&&+E;So(K.value)||(U=ee>K.value),So(V.value)||(q=ee<V.value)}else{const ee=a.valueAsDate||new Date(E),te=Ie=>new Date(new Date().toDateString()+" "+Ie),J=a.type=="time",ge=a.type=="week";Hu(K.value)&&E&&(U=J?te(E)>te(K.value):ge?E>K.value:ee>new Date(K.value)),Hu(V.value)&&E&&(q=J?te(E)<te(V.value):ge?E<V.value:ee<new Date(V.value))}if((U||q)&&(F(!!U,K.message,V.message,Cd.max,Cd.min),!r))return I(P[b].message),P}if((c||u)&&!B&&(Hu(E)||i&&Array.isArray(E))){const U=T1(c),q=T1(u),K=!So(U.value)&&E.length>+U.value,V=!So(q.value)&&E.length<+q.value;if((K||V)&&(F(K,U.message,q.message),!r))return I(P[b].message),P}if(g&&!B&&Hu(E)){const{value:U,message:q}=T1(g);if(q5(U)&&!E.match(U)&&(P[b]={type:Cd.pattern,message:q,ref:a,...G(Cd.pattern,q)},!r))return I(q),P}if(x){if(Ud(x)){const U=await x(E,t),q=vF(U,C);if(q&&(P[b]={...q,...G(Cd.validate,q.message)},!r))return I(q.message),P}else if(Ha(x)){let U={};for(const q in x){if(!Go(U)&&!r)break;const K=vF(await x[q](E,t),C,q);K&&(U={...K,...G(q,K.message)},I(K.message),r&&(P[b]=U))}if(!Go(U)&&(P[b]={ref:C,...U},!r))return P}}return I(!0),P};function DDe(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ia(e)?n++:e[t[n++]];return e}function LDe(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ia(e[t]))return!1;return!0}function ls(e,t){const r=Array.isArray(t)?t:Z6(t)?[t]:hX(t),n=r.length===1?e:DDe(e,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Ha(n)&&Go(n)||Array.isArray(n)&&LDe(n))&&ls(e,r.slice(0,-1)),e}var EA=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},eT=e=>So(e)||!uX(e);function oh(e,t){if(eT(e)||eT(t))return e===t;if(X0(e)&&X0(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const a=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(X0(a)&&X0(o)||Ha(a)&&Ha(o)||Array.isArray(a)&&Array.isArray(o)?!oh(a,o):a!==o)return!1}}return!0}var SX=e=>e.type==="select-multiple",RDe=e=>t8(e)||Y2(e),AA=e=>H5(e)&&e.isConnected,_X=e=>{for(const t in e)if(Ud(e[t]))return!0;return!1};function G5(e,t={}){const r=Array.isArray(e);if(Ha(e)||r)for(const n in e)Array.isArray(e[n])||Ha(e[n])&&!_X(e[n])?(t[n]=Array.isArray(e[n])?[]:{},G5(e[n],t[n])):So(e[n])||(t[n]=!0);return t}function NX(e,t,r){const n=Array.isArray(e);if(Ha(e)||n)for(const i in e)Array.isArray(e[i])||Ha(e[i])&&!_X(e[i])?Ia(t)||eT(r[i])?r[i]=Array.isArray(e[i])?G5(e[i],[]):{...G5(e[i])}:NX(e[i],So(t)?{}:t[i],r[i]):r[i]=!oh(e[i],t[i]);return r}var Zx=(e,t)=>NX(e,t,G5(t)),EX=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ia(e)?e:t?e===""?NaN:e&&+e:r&&Hu(e)?new Date(e):n?n(e):e;function CA(e){const t=e.ref;if(!(e.refs?e.refs.every(r=>r.disabled):t.disabled))return e8(t)?t.files:t8(t)?bX(e.refs).value:SX(t)?[...t.selectedOptions].map(({value:r})=>r):Y2(t)?wX(e.refs).value:EX(Ia(t.value)?e.ref.value:t.value,e)}var FDe=(e,t,r,n)=>{const i={};for(const a of e){const o=nr(t,a);o&&ui(i,a,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Jx=e=>Ia(e)?e:q5(e)?e.source:Ha(e)?q5(e.value)?e.value.source:e.value:e;const wF="AsyncFunction";var BDe=e=>(!e||!e.validate)&&!!(Ud(e.validate)&&e.validate.constructor.name===wF||Ha(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===wF)),$De=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function bF(e,t,r){const n=nr(e,r);if(n||Z6(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),o=nr(t,a),l=nr(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};i.pop()}return{name:r}}var UDe=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,zDe=(e,t)=>!sN(nr(e,t)).length&&ls(e,t);const VDe={mode:Yc.onSubmit,reValidateMode:Yc.onChange,shouldFocusError:!0};function WDe(e={}){let t={...VDe,...e},r={submitCount:0,isDirty:!1,isLoading:Ud(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=Ha(t.defaultValues)||Ha(t.values)?Wo(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Wo(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:EA(),array:EA(),state:EA()},g=hF(t.mode),x=hF(t.reValidateMode),b=t.criteriaMode===Yc.all,y=ce=>Ce=>{clearTimeout(u),u=setTimeout(ce,Ce)},_=async ce=>{if(!e.disabled&&(f.isValid||ce)){const Ce=t.resolver?Go((await L()).errors):await G(n,!0);Ce!==r.isValid&&p.state.next({isValid:Ce})}},N=(ce,Ce)=>{!e.disabled&&(f.isValidating||f.validatingFields)&&((ce||Array.from(l.mount)).forEach(fe=>{fe&&(Ce?ui(r.validatingFields,fe,Ce):ls(r.validatingFields,fe))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Go(r.validatingFields)}))},E=(ce,Ce=[],fe,ke,He=!0,nt=!0)=>{if(ke&&fe&&!e.disabled){if(o.action=!0,nt&&Array.isArray(nr(n,ce))){const mt=fe(nr(n,ce),ke.argA,ke.argB);He&&ui(n,ce,mt)}if(nt&&Array.isArray(nr(r.errors,ce))){const mt=fe(nr(r.errors,ce),ke.argA,ke.argB);He&&ui(r.errors,ce,mt),zDe(r.errors,ce)}if(f.touchedFields&&nt&&Array.isArray(nr(r.touchedFields,ce))){const mt=fe(nr(r.touchedFields,ce),ke.argA,ke.argB);He&&ui(r.touchedFields,ce,mt)}f.dirtyFields&&(r.dirtyFields=Zx(i,a)),p.state.next({name:ce,isDirty:U(ce,Ce),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ui(a,ce,Ce)},C=(ce,Ce)=>{ui(r.errors,ce,Ce),p.state.next({errors:r.errors})},I=ce=>{r.errors=ce,p.state.next({errors:r.errors,isValid:!1})},P=(ce,Ce,fe,ke)=>{const He=nr(n,ce);if(He){const nt=nr(a,ce,Ia(fe)?nr(i,ce):fe);Ia(nt)||ke&&ke.defaultChecked||Ce?ui(a,ce,Ce?nt:CA(He._f)):V(ce,nt),o.mount&&_()}},D=(ce,Ce,fe,ke,He)=>{let nt=!1,mt=!1;const At={name:ce};if(!e.disabled){const qt=!!(nr(n,ce)&&nr(n,ce)._f&&nr(n,ce)._f.disabled);if(!fe||ke){f.isDirty&&(mt=r.isDirty,r.isDirty=At.isDirty=U(),nt=mt!==At.isDirty);const mr=qt||oh(nr(i,ce),Ce);mt=!!(!qt&&nr(r.dirtyFields,ce)),mr||qt?ls(r.dirtyFields,ce):ui(r.dirtyFields,ce,!0),At.dirtyFields=r.dirtyFields,nt=nt||f.dirtyFields&&mt!==!mr}if(fe){const mr=nr(r.touchedFields,ce);mr||(ui(r.touchedFields,ce,fe),At.touchedFields=r.touchedFields,nt=nt||f.touchedFields&&mr!==fe)}nt&&He&&p.state.next(At)}return nt?At:{}},k=(ce,Ce,fe,ke)=>{const He=nr(r.errors,ce),nt=f.isValid&&ic(Ce)&&r.isValid!==Ce;if(e.delayError&&fe?(c=y(()=>C(ce,fe)),c(e.delayError)):(clearTimeout(u),c=null,fe?ui(r.errors,ce,fe):ls(r.errors,ce)),(fe?!oh(He,fe):He)||!Go(ke)||nt){const mt={...ke,...nt&&ic(Ce)?{isValid:Ce}:{},errors:r.errors,name:ce};r={...r,...mt},p.state.next(mt)}},L=async ce=>{N(ce,!0);const Ce=await t.resolver(a,t.context,FDe(ce||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return N(ce),Ce},B=async ce=>{const{errors:Ce}=await L(ce);if(ce)for(const fe of ce){const ke=nr(Ce,fe);ke?ui(r.errors,fe,ke):ls(r.errors,fe)}else r.errors=Ce;return Ce},G=async(ce,Ce,fe={valid:!0})=>{for(const ke in ce){const He=ce[ke];if(He){const{_f:nt,...mt}=He;if(nt){const At=l.array.has(nt.name),qt=He._f&&BDe(He._f);qt&&f.validatingFields&&N([ke],!0);const mr=await yF(He,a,b,t.shouldUseNativeValidation&&!Ce,At);if(qt&&f.validatingFields&&N([ke]),mr[nt.name]&&(fe.valid=!1,Ce))break;!Ce&&(nr(mr,nt.name)?At?MDe(r.errors,mr,nt.name):ui(r.errors,nt.name,mr[nt.name]):ls(r.errors,nt.name))}!Go(mt)&&await G(mt,Ce,fe)}}return fe.valid},F=()=>{for(const ce of l.unMount){const Ce=nr(n,ce);Ce&&(Ce._f.refs?Ce._f.refs.every(fe=>!AA(fe)):!AA(Ce._f.ref))&&le(ce)}l.unMount=new Set},U=(ce,Ce)=>!e.disabled&&(ce&&Ce&&ui(a,ce,Ce),!oh(Ge(),i)),q=(ce,Ce,fe)=>vX(ce,l,{...o.mount?a:Ia(Ce)?i:Hu(ce)?{[ce]:Ce}:Ce},fe,Ce),K=ce=>sN(nr(o.mount?a:i,ce,e.shouldUnregister?nr(i,ce,[]):[])),V=(ce,Ce,fe={})=>{const ke=nr(n,ce);let He=Ce;if(ke){const nt=ke._f;nt&&(!nt.disabled&&ui(a,ce,EX(Ce,nt)),He=H5(nt.ref)&&So(Ce)?"":Ce,SX(nt.ref)?[...nt.ref.options].forEach(mt=>mt.selected=He.includes(mt.value)):nt.refs?Y2(nt.ref)?nt.refs.length>1?nt.refs.forEach(mt=>(!mt.defaultChecked||!mt.disabled)&&(mt.checked=Array.isArray(He)?!!He.find(At=>At===mt.value):He===mt.value)):nt.refs[0]&&(nt.refs[0].checked=!!He):nt.refs.forEach(mt=>mt.checked=mt.value===He):e8(nt.ref)?nt.ref.value="":(nt.ref.value=He,nt.ref.type||p.values.next({name:ce,values:{...a}})))}(fe.shouldDirty||fe.shouldTouch)&&D(ce,He,fe.shouldTouch,fe.shouldDirty,!0),fe.shouldValidate&&Ie(ce)},ee=(ce,Ce,fe)=>{for(const ke in Ce){const He=Ce[ke],nt=`${ce}.${ke}`,mt=nr(n,nt);(l.array.has(ce)||Ha(He)||mt&&!mt._f)&&!X0(He)?ee(nt,He,fe):V(nt,He,fe)}},te=(ce,Ce,fe={})=>{const ke=nr(n,ce),He=l.array.has(ce),nt=Wo(Ce);ui(a,ce,nt),He?(p.array.next({name:ce,values:{...a}}),(f.isDirty||f.dirtyFields)&&fe.shouldDirty&&p.state.next({name:ce,dirtyFields:Zx(i,a),isDirty:U(ce,nt)})):ke&&!ke._f&&!So(nt)?ee(ce,nt,fe):V(ce,nt,fe),pF(ce,l)&&p.state.next({...r}),p.values.next({name:o.mount?ce:void 0,values:{...a}})},J=async ce=>{o.mount=!0;const Ce=ce.target;let fe=Ce.name,ke=!0;const He=nr(n,fe),nt=()=>Ce.type?CA(He._f):dX(ce),mt=At=>{ke=Number.isNaN(At)||X0(At)&&isNaN(At.getTime())||oh(At,nr(a,fe,At))};if(He){let At,qt;const mr=nt(),ar=ce.type===W5.BLUR||ce.type===W5.FOCUS_OUT,ze=!$De(He._f)&&!t.resolver&&!nr(r.errors,fe)&&!He._f.deps||UDe(ar,nr(r.touchedFields,fe),r.isSubmitted,x,g),tt=pF(fe,l,ar);ui(a,fe,mr),ar?(He._f.onBlur&&He._f.onBlur(ce),c&&c(0)):He._f.onChange&&He._f.onChange(ce);const dt=D(fe,mr,ar,!1),Zt=!Go(dt)||tt;if(!ar&&p.values.next({name:fe,type:ce.type,values:{...a}}),ze)return f.isValid&&(e.mode==="onBlur"?ar&&_():_()),Zt&&p.state.next({name:fe,...tt?{}:dt});if(!ar&&tt&&p.state.next({...r}),t.resolver){const{errors:ne}=await L([fe]);if(mt(mr),ke){const De=bF(r.errors,n,fe),gt=bF(ne,n,De.name||fe);At=gt.error,fe=gt.name,qt=Go(ne)}}else N([fe],!0),At=(await yF(He,a,b,t.shouldUseNativeValidation))[fe],N([fe]),mt(mr),ke&&(At?qt=!1:f.isValid&&(qt=await G(n,!0)));ke&&(He._f.deps&&Ie(He._f.deps),k(fe,qt,At,dt))}},ge=(ce,Ce)=>{if(nr(r.errors,Ce)&&ce.focus)return ce.focus(),1},Ie=async(ce,Ce={})=>{let fe,ke;const He=Mv(ce);if(t.resolver){const nt=await B(Ia(ce)?ce:He);fe=Go(nt),ke=ce?!He.some(mt=>nr(nt,mt)):fe}else ce?(ke=(await Promise.all(He.map(async nt=>{const mt=nr(n,nt);return await G(mt&&mt._f?{[nt]:mt}:mt)}))).every(Boolean),!(!ke&&!r.isValid)&&_()):ke=fe=await G(n);return p.state.next({...!Hu(ce)||f.isValid&&fe!==r.isValid?{}:{name:ce},...t.resolver||!ce?{isValid:fe}:{},errors:r.errors}),Ce.shouldFocus&&!ke&&Dv(n,ge,ce?He:l.mount),ke},Ge=ce=>{const Ce={...o.mount?a:i};return Ia(ce)?Ce:Hu(ce)?nr(Ce,ce):ce.map(fe=>nr(Ce,fe))},W=(ce,Ce)=>({invalid:!!nr((Ce||r).errors,ce),isDirty:!!nr((Ce||r).dirtyFields,ce),error:nr((Ce||r).errors,ce),isValidating:!!nr(r.validatingFields,ce),isTouched:!!nr((Ce||r).touchedFields,ce)}),Q=ce=>{ce&&Mv(ce).forEach(Ce=>ls(r.errors,Ce)),p.state.next({errors:ce?r.errors:{}})},Z=(ce,Ce,fe)=>{const ke=(nr(n,ce,{_f:{}})._f||{}).ref,He=nr(r.errors,ce)||{},{ref:nt,message:mt,type:At,...qt}=He;ui(r.errors,ce,{...qt,...Ce,ref:ke}),p.state.next({name:ce,errors:r.errors,isValid:!1}),fe&&fe.shouldFocus&&ke&&ke.focus&&ke.focus()},re=(ce,Ce)=>Ud(ce)?p.values.subscribe({next:fe=>ce(q(void 0,Ce),fe)}):q(ce,Ce,!0),le=(ce,Ce={})=>{for(const fe of ce?Mv(ce):l.mount)l.mount.delete(fe),l.array.delete(fe),Ce.keepValue||(ls(n,fe),ls(a,fe)),!Ce.keepError&&ls(r.errors,fe),!Ce.keepDirty&&ls(r.dirtyFields,fe),!Ce.keepTouched&&ls(r.touchedFields,fe),!Ce.keepIsValidating&&ls(r.validatingFields,fe),!t.shouldUnregister&&!Ce.keepDefaultValue&&ls(i,fe);p.values.next({values:{...a}}),p.state.next({...r,...Ce.keepDirty?{isDirty:U()}:{}}),!Ce.keepIsValid&&_()},Ne=({disabled:ce,name:Ce,field:fe,fields:ke,value:He})=>{if(ic(ce)&&o.mount||ce){const nt=ce?void 0:Ia(He)?CA(fe?fe._f:nr(ke,Ce)._f):He;ui(a,Ce,nt),D(Ce,nt,!1,!1,!0)}},Ae=(ce,Ce={})=>{let fe=nr(n,ce);const ke=ic(Ce.disabled)||ic(e.disabled);return ui(n,ce,{...fe||{},_f:{...fe&&fe._f?fe._f:{ref:{name:ce}},name:ce,mount:!0,...Ce}}),l.mount.add(ce),fe?Ne({field:fe,disabled:ic(Ce.disabled)?Ce.disabled:e.disabled,name:ce,value:Ce.value}):P(ce,!0,Ce.value),{...ke?{disabled:Ce.disabled||e.disabled}:{},...t.progressive?{required:!!Ce.required,min:Jx(Ce.min),max:Jx(Ce.max),minLength:Jx(Ce.minLength),maxLength:Jx(Ce.maxLength),pattern:Jx(Ce.pattern)}:{},name:ce,onChange:J,onBlur:J,ref:He=>{if(He){Ae(ce,Ce),fe=nr(n,ce);const nt=Ia(He.value)&&He.querySelectorAll&&He.querySelectorAll("input,select,textarea")[0]||He,mt=RDe(nt),At=fe._f.refs||[];if(mt?At.find(qt=>qt===nt):nt===fe._f.ref)return;ui(n,ce,{_f:{...fe._f,...mt?{refs:[...At.filter(AA),nt,...Array.isArray(nr(i,ce))?[{}]:[]],ref:{type:nt.type,name:ce}}:{ref:nt}}}),P(ce,!1,void 0,nt)}else fe=nr(n,ce,{}),fe._f&&(fe._f.mount=!1),(t.shouldUnregister||Ce.shouldUnregister)&&!(fX(l.array,ce)&&o.action)&&l.unMount.add(ce)}}},ve=()=>t.shouldFocusError&&Dv(n,ge,l.mount),xe=ce=>{ic(ce)&&(p.state.next({disabled:ce}),Dv(n,(Ce,fe)=>{const ke=nr(n,fe);ke&&(Ce.disabled=ke._f.disabled||ce,Array.isArray(ke._f.refs)&&ke._f.refs.forEach(He=>{He.disabled=ke._f.disabled||ce}))},0,!1))},Le=(ce,Ce)=>async fe=>{let ke;fe&&(fe.preventDefault&&fe.preventDefault(),fe.persist&&fe.persist());let He=Wo(a);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:nt,values:mt}=await L();r.errors=nt,He=mt}else await G(n);if(ls(r.errors,"root"),Go(r.errors)){p.state.next({errors:{}});try{await ce(He,fe)}catch(nt){ke=nt}}else Ce&&await Ce({...r.errors},fe),ve(),setTimeout(ve);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Go(r.errors)&&!ke,submitCount:r.submitCount+1,errors:r.errors}),ke)throw ke},Se=(ce,Ce={})=>{nr(n,ce)&&(Ia(Ce.defaultValue)?te(ce,Wo(nr(i,ce))):(te(ce,Ce.defaultValue),ui(i,ce,Wo(Ce.defaultValue))),Ce.keepTouched||ls(r.touchedFields,ce),Ce.keepDirty||(ls(r.dirtyFields,ce),r.isDirty=Ce.defaultValue?U(ce,Wo(nr(i,ce))):U()),Ce.keepError||(ls(r.errors,ce),f.isValid&&_()),p.state.next({...r}))},ye=(ce,Ce={})=>{const fe=ce?Wo(ce):i,ke=Wo(fe),He=Go(ce),nt=He?i:ke;if(Ce.keepDefaultValues||(i=fe),!Ce.keepValues){if(Ce.keepDirtyValues){const mt=new Set([...l.mount,...Object.keys(Zx(i,a))]);for(const At of Array.from(mt))nr(r.dirtyFields,At)?ui(nt,At,nr(a,At)):te(At,nr(nt,At))}else{if(Q6&&Ia(ce))for(const mt of l.mount){const At=nr(n,mt);if(At&&At._f){const qt=Array.isArray(At._f.refs)?At._f.refs[0]:At._f.ref;if(H5(qt)){const mr=qt.closest("form");if(mr){mr.reset();break}}}}n={}}a=e.shouldUnregister?Ce.keepDefaultValues?Wo(i):{}:Wo(nt),p.array.next({values:{...nt}}),p.values.next({values:{...nt}})}l={mount:Ce.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!Ce.keepIsValid||!!Ce.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:Ce.keepSubmitCount?r.submitCount:0,isDirty:He?!1:Ce.keepDirty?r.isDirty:!!(Ce.keepDefaultValues&&!oh(ce,i)),isSubmitted:Ce.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:He?{}:Ce.keepDirtyValues?Ce.keepDefaultValues&&a?Zx(i,a):r.dirtyFields:Ce.keepDefaultValues&&ce?Zx(i,ce):Ce.keepDirty?r.dirtyFields:{},touchedFields:Ce.keepTouched?r.touchedFields:{},errors:Ce.keepErrors?r.errors:{},isSubmitSuccessful:Ce.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},We=(ce,Ce)=>ye(Ud(ce)?ce(a):ce,Ce);return{control:{register:Ae,unregister:le,getFieldState:W,handleSubmit:Le,setError:Z,_executeSchema:L,_getWatch:q,_getDirty:U,_updateValid:_,_removeUnmounted:F,_updateFieldArray:E,_updateDisabledField:Ne,_getFieldArray:K,_reset:ye,_resetDefaultValues:()=>Ud(t.defaultValues)&&t.defaultValues().then(ce=>{We(ce,t.resetOptions),p.state.next({isLoading:!1})}),_updateFormState:ce=>{r={...r,...ce}},_disableForm:xe,_subjects:p,_proxyFormState:f,_setErrors:I,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(ce){o=ce},get _defaultValues(){return i},get _names(){return l},set _names(ce){l=ce},get _formState(){return r},set _formState(ce){r=ce},get _options(){return t},set _options(ce){t={...t,...ce}}},trigger:Ie,register:Ae,handleSubmit:Le,watch:re,setValue:te,getValues:Ge,reset:We,resetField:Se,clearErrors:Q,unregister:le,setError:Z,setFocus:(ce,Ce={})=>{const fe=nr(n,ce),ke=fe&&fe._f;if(ke){const He=ke.refs?ke.refs[0]:ke.ref;He.focus&&(He.focus(),Ce.shouldSelect&&He.select())}},getFieldState:W}}function _s(e={}){const t=qe.useRef(),r=qe.useRef(),[n,i]=qe.useState({isDirty:!1,isValidating:!1,isLoading:Ud(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Ud(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...WDe(e),formState:n});const a=t.current.control;return a._options=e,J6({subject:a._subjects.state,next:o=>{gX(o,a._proxyFormState,a._updateFormState,!0)&&i({...a._formState})}}),qe.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),qe.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),qe.useEffect(()=>{e.values&&!oh(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),qe.useEffect(()=>{e.errors&&a._setErrors(e.errors)},[e.errors,a]),qe.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),qe.useEffect(()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[e.shouldUnregister,a]),qe.useEffect(()=>{t.current&&(t.current.watch=t.current.watch.bind({}))},[n]),t.current.formState=mX(n,a),t.current}const Us=TDe,AX=O.createContext({}),Dr=({...e})=>s.jsx(AX.Provider,{value:{name:e.name},children:s.jsx(kDe,{...e})}),lN=()=>{const e=O.useContext(AX),t=O.useContext(CX),{getFieldState:r,formState:n}=oN(),i=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},CX=O.createContext({}),Tr=O.forwardRef(({className:e,...t},r)=>{const n=O.useId();return s.jsx(CX.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:ir("space-y-2",e),...t})})});Tr.displayName="FormItem";const Or=O.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:i}=lN();return s.jsx(Ht,{ref:r,className:ir(n&&"text-destructive",e),htmlFor:i,...t})});Or.displayName="FormLabel";const Ir=O.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=lN();return s.jsx(af,{ref:t,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...e})});Ir.displayName="FormControl";const Bu=O.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=lN();return s.jsx("p",{ref:r,id:n,className:ir("text-sm text-muted-foreground",e),...t})});Bu.displayName="FormDescription";const Lr=O.forwardRef(({className:e,children:t,...r},n)=>{const{error:i,formMessageId:a}=lN(),o=i?String(i==null?void 0:i.message):t;return o?s.jsx("p",{ref:n,id:a,className:ir("text-sm font-medium text-destructive",e),...r,children:o}):null});Lr.displayName="FormMessage";const SF=(e,t,r)=>{if(e&&"reportValidity"in e){const n=nr(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},jX=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?SF(n.ref,r,e):n.refs&&n.refs.forEach(i=>SF(i,r,e))}},HDe=(e,t)=>{t.shouldUseNativeValidation&&jX(e,t);const r={};for(const n in e){const i=nr(t.fields,n),a=Object.assign(e[n]||{},{ref:i&&i.ref});if(qDe(t.names||Object.keys(e),n)){const o=Object.assign({},nr(r,n));ui(o,"root",a),ui(r,n,o)}else ui(r,n,a)}return r},qDe=(e,t)=>e.some(r=>r.startsWith(t+"."));var GDe=function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(p){return e.push(p)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=yX(o,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r},Ns=function(e,t,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return a.shouldUseNativeValidation&&jX({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:HDe(GDe(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},qn;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},e.find=(i,a)=>{for(const o of i)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(qn||(qn={}));var tT;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(tT||(tT={}));const br=qn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),lh=e=>{switch(typeof e){case"undefined":return br.undefined;case"string":return br.string;case"number":return isNaN(e)?br.nan:br.number;case"boolean":return br.boolean;case"function":return br.function;case"bigint":return br.bigint;case"symbol":return br.symbol;case"object":return Array.isArray(e)?br.array:e===null?br.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?br.promise:typeof Map<"u"&&e instanceof Map?br.map:typeof Set<"u"&&e instanceof Set?br.set:typeof Date<"u"&&e instanceof Date?br.date:br.object;default:return br.unknown}},Qt=qn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),YDe=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Fl extends Error{constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),n}static assert(t){if(!(t instanceof Fl))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,qn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Fl.create=e=>new Fl(e);const jg=(e,t)=>{let r;switch(e.code){case Qt.invalid_type:e.received===br.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Qt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,qn.jsonStringifyReplacer)}`;break;case Qt.unrecognized_keys:r=`Unrecognized key(s) in object: ${qn.joinValues(e.keys,", ")}`;break;case Qt.invalid_union:r="Invalid input";break;case Qt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${qn.joinValues(e.options)}`;break;case Qt.invalid_enum_value:r=`Invalid enum value. Expected ${qn.joinValues(e.options)}, received '${e.received}'`;break;case Qt.invalid_arguments:r="Invalid function arguments";break;case Qt.invalid_return_type:r="Invalid function return type";break;case Qt.invalid_date:r="Invalid date";break;case Qt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:qn.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Qt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Qt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Qt.custom:r="Invalid input";break;case Qt.invalid_intersection_types:r="Intersection results could not be merged";break;case Qt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Qt.not_finite:r="Number must be finite";break;default:r=t.defaultError,qn.assertNever(e)}return{message:r}};let TX=jg;function XDe(e){TX=e}function Y5(){return TX}const X5=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...i,path:a,message:l}},KDe=[];function gr(e,t){const r=Y5(),n=X5({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===jg?void 0:jg].filter(i=>!!i)});e.common.issues.push(n)}class po{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return un;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const a=await i.key,o=await i.value;n.push({key:a,value:o})}return po.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return un;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:t.value,value:n}}}const un=Object.freeze({status:"aborted"}),nm=e=>({status:"dirty",value:e}),Po=e=>({status:"valid",value:e}),rT=e=>e.status==="aborted",nT=e=>e.status==="dirty",Qy=e=>e.status==="valid",Zy=e=>typeof Promise<"u"&&e instanceof Promise;function K5(e,t,r,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function OX(e,t,r,n,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Vr;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Vr||(Vr={}));var pv,mv;class ad{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _F=(e,t)=>{if(Qy(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Fl(e.common.issues);return this._error=r,this._error}}};function Nn(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,l)=>{var c,u;const{message:f}=e;return o.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=f??r)!==null&&u!==void 0?u:l.defaultError}},description:i}}class Tn{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return lh(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:lh(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new po,ctx:{common:t.parent.common,data:t.data,parsedType:lh(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Zy(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:lh(t)},a=this._parseSync({data:t,path:i.path,parent:i});return _F(i,a)}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:lh(t)},i=this._parse({data:t,path:n.path,parent:n}),a=await(Zy(i)?i:Promise.resolve(i));return _F(n,a)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const o=t(i),l=()=>a.addIssue({code:Qt.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new du({schema:this,typeName:an.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Ju.create(this,this._def)}nullable(){return Kh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return au.create(this,this._def)}promise(){return Og.create(this,this._def)}or(t){return r2.create([this,t],this._def)}and(t){return n2.create(this,t,this._def)}transform(t){return new du({...Nn(this._def),schema:this,typeName:an.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new l2({...Nn(this._def),innerType:this,defaultValue:r,typeName:an.ZodDefault})}brand(){return new r8({typeName:an.ZodBranded,type:this,...Nn(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new c2({...Nn(this._def),innerType:this,catchValue:r,typeName:an.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return X2.create(this,t)}readonly(){return u2.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const QDe=/^c[^\s-]{8,}$/i,ZDe=/^[0-9a-z]+$/,JDe=/^[0-9A-HJKMNP-TV-Z]{26}$/,eLe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tLe=/^[a-z0-9_-]{21}$/i,rLe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,nLe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,iLe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let jA;const aLe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sLe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,oLe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,IX="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",lLe=new RegExp(`^${IX}$`);function PX(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function cLe(e){return new RegExp(`^${PX(e)}$`)}function kX(e){let t=`${IX}T${PX(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function uLe(e,t){return!!((t==="v4"||!t)&&aLe.test(e)||(t==="v6"||!t)&&sLe.test(e))}class Zc extends Tn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==br.string){const a=this._getOrReturnCtx(t);return gr(a,{code:Qt.invalid_type,expected:br.string,received:a.parsedType}),un}const n=new po;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),gr(i,{code:Qt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),gr(i,{code:Qt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(t,i),o?gr(i,{code:Qt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&gr(i,{code:Qt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")nLe.test(t.data)||(i=this._getOrReturnCtx(t,i),gr(i,{validation:"email",code:Qt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")jA||(jA=new RegExp(iLe,"u")),jA.test(t.data)||(i=this._getOrReturnCtx(t,i),gr(i,{validation:"emoji",code:Qt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")eLe.test(t.data)||(i=this._getOrReturnCtx(t,i),gr(i,{validation:"uuid",code:Qt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")tLe.test(t.data)||(i=this._getOrReturnCtx(t,i),gr(i,{validation:"nanoid",code:Qt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")QDe.test(t.data)||(i=this._getOrReturnCtx(t,i),gr(i,{validation:"cuid",code:Qt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")ZDe.test(t.data)||(i=this._getOrReturnCtx(t,i),gr(i,{validation:"cuid2",code:Qt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")JDe.test(t.data)||(i=this._getOrReturnCtx(t,i),gr(i,{validation:"ulid",code:Qt.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),gr(i,{validation:"url",code:Qt.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),gr(i,{validation:"regex",code:Qt.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),gr(i,{code:Qt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),gr(i,{code:Qt.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),gr(i,{code:Qt.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?kX(a).test(t.data)||(i=this._getOrReturnCtx(t,i),gr(i,{code:Qt.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?lLe.test(t.data)||(i=this._getOrReturnCtx(t,i),gr(i,{code:Qt.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?cLe(a).test(t.data)||(i=this._getOrReturnCtx(t,i),gr(i,{code:Qt.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?rLe.test(t.data)||(i=this._getOrReturnCtx(t,i),gr(i,{validation:"duration",code:Qt.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?uLe(t.data,a.version)||(i=this._getOrReturnCtx(t,i),gr(i,{validation:"ip",code:Qt.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?oLe.test(t.data)||(i=this._getOrReturnCtx(t,i),gr(i,{validation:"base64",code:Qt.invalid_string,message:a.message}),n.dirty()):qn.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:Qt.invalid_string,...Vr.errToObj(n)})}_addCheck(t){return new Zc({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Vr.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Vr.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Vr.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Vr.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Vr.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Vr.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Vr.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Vr.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Vr.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Vr.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Vr.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Vr.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Vr.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Vr.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Vr.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Vr.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Vr.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Vr.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Vr.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Vr.errToObj(r)})}nonempty(t){return this.min(1,Vr.errToObj(t))}trim(){return new Zc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Zc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Zc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Zc.create=e=>{var t;return new Zc({checks:[],typeName:an.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Nn(e)})};function dLe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return a%o/Math.pow(10,i)}class Gh extends Tn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==br.number){const a=this._getOrReturnCtx(t);return gr(a,{code:Qt.invalid_type,expected:br.number,received:a.parsedType}),un}let n;const i=new po;for(const a of this._def.checks)a.kind==="int"?qn.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),gr(n,{code:Qt.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),gr(n,{code:Qt.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),gr(n,{code:Qt.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?dLe(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),gr(n,{code:Qt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),gr(n,{code:Qt.not_finite,message:a.message}),i.dirty()):qn.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Vr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Vr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Vr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Vr.toString(r))}setLimit(t,r,n,i){return new Gh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Vr.toString(i)}]})}_addCheck(t){return new Gh({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Vr.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Vr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Vr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Vr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Vr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Vr.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Vr.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Vr.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Vr.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&qn.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Gh.create=e=>new Gh({checks:[],typeName:an.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Nn(e)});class Yh extends Tn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==br.bigint){const a=this._getOrReturnCtx(t);return gr(a,{code:Qt.invalid_type,expected:br.bigint,received:a.parsedType}),un}let n;const i=new po;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),gr(n,{code:Qt.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),gr(n,{code:Qt.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),gr(n,{code:Qt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):qn.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Vr.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Vr.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Vr.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Vr.toString(r))}setLimit(t,r,n,i){return new Yh({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Vr.toString(i)}]})}_addCheck(t){return new Yh({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Vr.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Vr.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Vr.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Vr.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Vr.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Yh.create=e=>{var t;return new Yh({checks:[],typeName:an.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Nn(e)})};class Jy extends Tn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==br.boolean){const n=this._getOrReturnCtx(t);return gr(n,{code:Qt.invalid_type,expected:br.boolean,received:n.parsedType}),un}return Po(t.data)}}Jy.create=e=>new Jy({typeName:an.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Nn(e)});class Bp extends Tn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==br.date){const a=this._getOrReturnCtx(t);return gr(a,{code:Qt.invalid_type,expected:br.date,received:a.parsedType}),un}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return gr(a,{code:Qt.invalid_date}),un}const n=new po;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),gr(i,{code:Qt.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),gr(i,{code:Qt.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):qn.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Bp({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Vr.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Vr.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Bp.create=e=>new Bp({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:an.ZodDate,...Nn(e)});class Q5 extends Tn{_parse(t){if(this._getType(t)!==br.symbol){const n=this._getOrReturnCtx(t);return gr(n,{code:Qt.invalid_type,expected:br.symbol,received:n.parsedType}),un}return Po(t.data)}}Q5.create=e=>new Q5({typeName:an.ZodSymbol,...Nn(e)});class e2 extends Tn{_parse(t){if(this._getType(t)!==br.undefined){const n=this._getOrReturnCtx(t);return gr(n,{code:Qt.invalid_type,expected:br.undefined,received:n.parsedType}),un}return Po(t.data)}}e2.create=e=>new e2({typeName:an.ZodUndefined,...Nn(e)});class t2 extends Tn{_parse(t){if(this._getType(t)!==br.null){const n=this._getOrReturnCtx(t);return gr(n,{code:Qt.invalid_type,expected:br.null,received:n.parsedType}),un}return Po(t.data)}}t2.create=e=>new t2({typeName:an.ZodNull,...Nn(e)});class Tg extends Tn{constructor(){super(...arguments),this._any=!0}_parse(t){return Po(t.data)}}Tg.create=e=>new Tg({typeName:an.ZodAny,...Nn(e)});class xp extends Tn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Po(t.data)}}xp.create=e=>new xp({typeName:an.ZodUnknown,...Nn(e)});class ff extends Tn{_parse(t){const r=this._getOrReturnCtx(t);return gr(r,{code:Qt.invalid_type,expected:br.never,received:r.parsedType}),un}}ff.create=e=>new ff({typeName:an.ZodNever,...Nn(e)});class Z5 extends Tn{_parse(t){if(this._getType(t)!==br.undefined){const n=this._getOrReturnCtx(t);return gr(n,{code:Qt.invalid_type,expected:br.void,received:n.parsedType}),un}return Po(t.data)}}Z5.create=e=>new Z5({typeName:an.ZodVoid,...Nn(e)});class au extends Tn{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==br.array)return gr(r,{code:Qt.invalid_type,expected:br.array,received:r.parsedType}),un;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(gr(r,{code:o?Qt.too_big:Qt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(gr(r,{code:Qt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(gr(r,{code:Qt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new ad(r,o,r.path,l)))).then(o=>po.mergeArray(n,o));const a=[...r.data].map((o,l)=>i.type._parseSync(new ad(r,o,r.path,l)));return po.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new au({...this._def,minLength:{value:t,message:Vr.toString(r)}})}max(t,r){return new au({...this._def,maxLength:{value:t,message:Vr.toString(r)}})}length(t,r){return new au({...this._def,exactLength:{value:t,message:Vr.toString(r)}})}nonempty(t){return this.min(1,t)}}au.create=(e,t)=>new au({type:e,minLength:null,maxLength:null,exactLength:null,typeName:an.ZodArray,...Nn(t)});function R1(e){if(e instanceof va){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ju.create(R1(n))}return new va({...e._def,shape:()=>t})}else return e instanceof au?new au({...e._def,type:R1(e.element)}):e instanceof Ju?Ju.create(R1(e.unwrap())):e instanceof Kh?Kh.create(R1(e.unwrap())):e instanceof sd?sd.create(e.items.map(t=>R1(t))):e}class va extends Tn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=qn.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==br.object){const u=this._getOrReturnCtx(t);return gr(u,{code:Qt.invalid_type,expected:br.object,received:u.parsedType}),un}const{status:n,ctx:i}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ff&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const f=a[u],p=i.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new ad(i,p,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof ff){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(u==="strict")l.length>0&&(gr(i,{code:Qt.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of l){const p=i.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new ad(i,p,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const p=await f.key,g=await f.value;u.push({key:p,value:g,alwaysSet:f.alwaysSet})}return u}).then(u=>po.mergeObjectSync(n,u)):po.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Vr.errToObj,new va({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,a,o,l;const c=(o=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=Vr.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new va({...this._def,unknownKeys:"strip"})}passthrough(){return new va({...this._def,unknownKeys:"passthrough"})}extend(t){return new va({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new va({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:an.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new va({...this._def,catchall:t})}pick(t){const r={};return qn.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new va({...this._def,shape:()=>r})}omit(t){const r={};return qn.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new va({...this._def,shape:()=>r})}deepPartial(){return R1(this)}partial(t){const r={};return qn.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new va({...this._def,shape:()=>r})}required(t){const r={};return qn.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Ju;)a=a._def.innerType;r[n]=a}}),new va({...this._def,shape:()=>r})}keyof(){return MX(qn.objectKeys(this.shape))}}va.create=(e,t)=>new va({shape:()=>e,unknownKeys:"strip",catchall:ff.create(),typeName:an.ZodObject,...Nn(t)});va.strictCreate=(e,t)=>new va({shape:()=>e,unknownKeys:"strict",catchall:ff.create(),typeName:an.ZodObject,...Nn(t)});va.lazycreate=(e,t)=>new va({shape:e,unknownKeys:"strip",catchall:ff.create(),typeName:an.ZodObject,...Nn(t)});class r2 extends Tn{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Fl(l.ctx.common.issues));return gr(r,{code:Qt.invalid_union,unionErrors:o}),un}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Fl(c));return gr(r,{code:Qt.invalid_union,unionErrors:l}),un}}get options(){return this._def.options}}r2.create=(e,t)=>new r2({options:e,typeName:an.ZodUnion,...Nn(t)});const Id=e=>e instanceof a2?Id(e.schema):e instanceof du?Id(e.innerType()):e instanceof s2?[e.value]:e instanceof Xh?e.options:e instanceof o2?qn.objectValues(e.enum):e instanceof l2?Id(e._def.innerType):e instanceof e2?[void 0]:e instanceof t2?[null]:e instanceof Ju?[void 0,...Id(e.unwrap())]:e instanceof Kh?[null,...Id(e.unwrap())]:e instanceof r8||e instanceof u2?Id(e.unwrap()):e instanceof c2?Id(e._def.innerType):[];class cN extends Tn{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==br.object)return gr(r,{code:Qt.invalid_type,expected:br.object,received:r.parsedType}),un;const n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(gr(r,{code:Qt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),un)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const i=new Map;for(const a of r){const o=Id(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);i.set(l,a)}}return new cN({typeName:an.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...Nn(n)})}}function iT(e,t){const r=lh(e),n=lh(t);if(e===t)return{valid:!0,data:e};if(r===br.object&&n===br.object){const i=qn.objectKeys(t),a=qn.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=iT(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===br.array&&n===br.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=iT(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===br.date&&n===br.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class n2 extends Tn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(a,o)=>{if(rT(a)||rT(o))return un;const l=iT(a.value,o.value);return l.valid?((nT(a)||nT(o))&&r.dirty(),{status:r.value,value:l.data}):(gr(n,{code:Qt.invalid_intersection_types}),un)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}n2.create=(e,t,r)=>new n2({left:e,right:t,typeName:an.ZodIntersection,...Nn(r)});class sd extends Tn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==br.array)return gr(n,{code:Qt.invalid_type,expected:br.array,received:n.parsedType}),un;if(n.data.length<this._def.items.length)return gr(n,{code:Qt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),un;!this._def.rest&&n.data.length>this._def.items.length&&(gr(n,{code:Qt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ad(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>po.mergeArray(r,o)):po.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new sd({...this._def,rest:t})}}sd.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new sd({items:e,typeName:an.ZodTuple,rest:null,...Nn(t)})};class i2 extends Tn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==br.object)return gr(n,{code:Qt.invalid_type,expected:br.object,received:n.parsedType}),un;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in n.data)i.push({key:a._parse(new ad(n,l,n.path,l)),value:o._parse(new ad(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?po.mergeObjectAsync(r,i):po.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Tn?new i2({keyType:t,valueType:r,typeName:an.ZodRecord,...Nn(n)}):new i2({keyType:Zc.create(),valueType:t,typeName:an.ZodRecord,...Nn(r)})}}class J5 extends Tn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==br.map)return gr(n,{code:Qt.invalid_type,expected:br.map,received:n.parsedType}),un;const i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:i._parse(new ad(n,l,n.path,[u,"key"])),value:a._parse(new ad(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return un;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return un;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}}}}J5.create=(e,t,r)=>new J5({valueType:t,keyType:e,typeName:an.ZodMap,...Nn(r)});class $p extends Tn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==br.set)return gr(n,{code:Qt.invalid_type,expected:br.set,received:n.parsedType}),un;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(gr(n,{code:Qt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(gr(n,{code:Qt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const f of c){if(f.status==="aborted")return un;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new ad(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new $p({...this._def,minSize:{value:t,message:Vr.toString(r)}})}max(t,r){return new $p({...this._def,maxSize:{value:t,message:Vr.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}$p.create=(e,t)=>new $p({valueType:e,minSize:null,maxSize:null,typeName:an.ZodSet,...Nn(t)});class Am extends Tn{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==br.function)return gr(r,{code:Qt.invalid_type,expected:br.function,received:r.parsedType}),un;function n(l,c){return X5({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Y5(),jg].filter(u=>!!u),issueData:{code:Qt.invalid_arguments,argumentsError:c}})}function i(l,c){return X5({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Y5(),jg].filter(u=>!!u),issueData:{code:Qt.invalid_return_type,returnTypeError:c}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Og){const l=this;return Po(async function(...c){const u=new Fl([]),f=await l._def.args.parseAsync(c,a).catch(x=>{throw u.addIssue(n(c,x)),u}),p=await Reflect.apply(o,this,f);return await l._def.returns._def.type.parseAsync(p,a).catch(x=>{throw u.addIssue(i(p,x)),u})})}else{const l=this;return Po(function(...c){const u=l._def.args.safeParse(c,a);if(!u.success)throw new Fl([n(c,u.error)]);const f=Reflect.apply(o,this,u.data),p=l._def.returns.safeParse(f,a);if(!p.success)throw new Fl([i(f,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Am({...this._def,args:sd.create(t).rest(xp.create())})}returns(t){return new Am({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Am({args:t||sd.create([]).rest(xp.create()),returns:r||xp.create(),typeName:an.ZodFunction,...Nn(n)})}}class a2 extends Tn{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}a2.create=(e,t)=>new a2({getter:e,typeName:an.ZodLazy,...Nn(t)});class s2 extends Tn{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return gr(r,{received:r.data,code:Qt.invalid_literal,expected:this._def.value}),un}return{status:"valid",value:t.data}}get value(){return this._def.value}}s2.create=(e,t)=>new s2({value:e,typeName:an.ZodLiteral,...Nn(t)});function MX(e,t){return new Xh({values:e,typeName:an.ZodEnum,...Nn(t)})}class Xh extends Tn{constructor(){super(...arguments),pv.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return gr(r,{expected:qn.joinValues(n),received:r.parsedType,code:Qt.invalid_type}),un}if(K5(this,pv)||OX(this,pv,new Set(this._def.values)),!K5(this,pv).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return gr(r,{received:r.data,code:Qt.invalid_enum_value,options:n}),un}return Po(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Xh.create(t,{...this._def,...r})}exclude(t,r=this._def){return Xh.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}pv=new WeakMap;Xh.create=MX;class o2 extends Tn{constructor(){super(...arguments),mv.set(this,void 0)}_parse(t){const r=qn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==br.string&&n.parsedType!==br.number){const i=qn.objectValues(r);return gr(n,{expected:qn.joinValues(i),received:n.parsedType,code:Qt.invalid_type}),un}if(K5(this,mv)||OX(this,mv,new Set(qn.getValidEnumValues(this._def.values))),!K5(this,mv).has(t.data)){const i=qn.objectValues(r);return gr(n,{received:n.data,code:Qt.invalid_enum_value,options:i}),un}return Po(t.data)}get enum(){return this._def.values}}mv=new WeakMap;o2.create=(e,t)=>new o2({values:e,typeName:an.ZodNativeEnum,...Nn(t)});class Og extends Tn{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==br.promise&&r.common.async===!1)return gr(r,{code:Qt.invalid_type,expected:br.promise,received:r.parsedType}),un;const n=r.parsedType===br.promise?r.data:Promise.resolve(r.data);return Po(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Og.create=(e,t)=>new Og({type:e,typeName:an.ZodPromise,...Nn(t)});class du extends Tn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===an.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:o=>{gr(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return un;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?un:c.status==="dirty"||r.value==="dirty"?nm(c.value):c});{if(r.value==="aborted")return un;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?un:l.status==="dirty"||r.value==="dirty"?nm(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?un:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?un:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Qy(o))return o;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Qy(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:r.value,value:l})):o);qn.assertNever(i)}}du.create=(e,t,r)=>new du({schema:e,typeName:an.ZodEffects,effect:t,...Nn(r)});du.createWithPreprocess=(e,t,r)=>new du({schema:t,effect:{type:"preprocess",transform:e},typeName:an.ZodEffects,...Nn(r)});class Ju extends Tn{_parse(t){return this._getType(t)===br.undefined?Po(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ju.create=(e,t)=>new Ju({innerType:e,typeName:an.ZodOptional,...Nn(t)});class Kh extends Tn{_parse(t){return this._getType(t)===br.null?Po(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Kh.create=(e,t)=>new Kh({innerType:e,typeName:an.ZodNullable,...Nn(t)});class l2 extends Tn{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===br.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}l2.create=(e,t)=>new l2({innerType:e,typeName:an.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Nn(t)});class c2 extends Tn{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Zy(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Fl(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fl(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}c2.create=(e,t)=>new c2({innerType:e,typeName:an.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Nn(t)});class e4 extends Tn{_parse(t){if(this._getType(t)!==br.nan){const n=this._getOrReturnCtx(t);return gr(n,{code:Qt.invalid_type,expected:br.nan,received:n.parsedType}),un}return{status:"valid",value:t.data}}}e4.create=e=>new e4({typeName:an.ZodNaN,...Nn(e)});const fLe=Symbol("zod_brand");class r8 extends Tn{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class X2 extends Tn{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?un:a.status==="dirty"?(r.dirty(),nm(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?un:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new X2({in:t,out:r,typeName:an.ZodPipeline})}}class u2 extends Tn{_parse(t){const r=this._def.innerType._parse(t),n=i=>(Qy(i)&&(i.value=Object.freeze(i.value)),i);return Zy(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}u2.create=(e,t)=>new u2({innerType:e,typeName:an.ZodReadonly,...Nn(t)});function DX(e,t={},r){return e?Tg.create().superRefine((n,i)=>{var a,o;if(!e(n)){const l=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,c=(o=(a=l.fatal)!==null&&a!==void 0?a:r)!==null&&o!==void 0?o:!0,u=typeof l=="string"?{message:l}:l;i.addIssue({code:"custom",...u,fatal:c})}}):Tg.create()}const hLe={object:va.lazycreate};var an;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(an||(an={}));const pLe=(e,t={message:`Input not instance of ${e.name}`})=>DX(r=>r instanceof e,t),LX=Zc.create,RX=Gh.create,mLe=e4.create,gLe=Yh.create,FX=Jy.create,xLe=Bp.create,vLe=Q5.create,yLe=e2.create,wLe=t2.create,bLe=Tg.create,SLe=xp.create,_Le=ff.create,NLe=Z5.create,ELe=au.create,ALe=va.create,CLe=va.strictCreate,jLe=r2.create,TLe=cN.create,OLe=n2.create,ILe=sd.create,PLe=i2.create,kLe=J5.create,MLe=$p.create,DLe=Am.create,LLe=a2.create,RLe=s2.create,FLe=Xh.create,BLe=o2.create,$Le=Og.create,NF=du.create,ULe=Ju.create,zLe=Kh.create,VLe=du.createWithPreprocess,WLe=X2.create,HLe=()=>LX().optional(),qLe=()=>RX().optional(),GLe=()=>FX().optional(),YLe={string:e=>Zc.create({...e,coerce:!0}),number:e=>Gh.create({...e,coerce:!0}),boolean:e=>Jy.create({...e,coerce:!0}),bigint:e=>Yh.create({...e,coerce:!0}),date:e=>Bp.create({...e,coerce:!0})},XLe=un;var or=Object.freeze({__proto__:null,defaultErrorMap:jg,setErrorMap:XDe,getErrorMap:Y5,makeIssue:X5,EMPTY_PATH:KDe,addIssueToContext:gr,ParseStatus:po,INVALID:un,DIRTY:nm,OK:Po,isAborted:rT,isDirty:nT,isValid:Qy,isAsync:Zy,get util(){return qn},get objectUtil(){return tT},ZodParsedType:br,getParsedType:lh,ZodType:Tn,datetimeRegex:kX,ZodString:Zc,ZodNumber:Gh,ZodBigInt:Yh,ZodBoolean:Jy,ZodDate:Bp,ZodSymbol:Q5,ZodUndefined:e2,ZodNull:t2,ZodAny:Tg,ZodUnknown:xp,ZodNever:ff,ZodVoid:Z5,ZodArray:au,ZodObject:va,ZodUnion:r2,ZodDiscriminatedUnion:cN,ZodIntersection:n2,ZodTuple:sd,ZodRecord:i2,ZodMap:J5,ZodSet:$p,ZodFunction:Am,ZodLazy:a2,ZodLiteral:s2,ZodEnum:Xh,ZodNativeEnum:o2,ZodPromise:Og,ZodEffects:du,ZodTransformer:du,ZodOptional:Ju,ZodNullable:Kh,ZodDefault:l2,ZodCatch:c2,ZodNaN:e4,BRAND:fLe,ZodBranded:r8,ZodPipeline:X2,ZodReadonly:u2,custom:DX,Schema:Tn,ZodSchema:Tn,late:hLe,get ZodFirstPartyTypeKind(){return an},coerce:YLe,any:bLe,array:ELe,bigint:gLe,boolean:FX,date:xLe,discriminatedUnion:TLe,effect:NF,enum:FLe,function:DLe,instanceof:pLe,intersection:OLe,lazy:LLe,literal:RLe,map:kLe,nan:mLe,nativeEnum:BLe,never:_Le,null:wLe,nullable:zLe,number:RX,object:ALe,oboolean:GLe,onumber:qLe,optional:ULe,ostring:HLe,pipeline:WLe,preprocess:VLe,promise:$Le,record:PLe,set:MLe,strictObject:CLe,string:LX,symbol:vLe,transformer:NF,tuple:ILe,undefined:yLe,union:jLe,unknown:SLe,void:NLe,NEVER:XLe,ZodIssueCode:Qt,quotelessJson:YDe,ZodError:Fl});function KLe(e,t=[]){let r=[];function n(a,o){const l=O.createContext(o),c=r.length;r=[...r,o];function u(p){const{scope:g,children:x,...b}=p,y=(g==null?void 0:g[e][c])||l,_=O.useMemo(()=>b,Object.values(b));return s.jsx(y.Provider,{value:_,children:x})}function f(p,g){const x=(g==null?void 0:g[e][c])||l,b=O.useContext(x);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,f]}const i=()=>{const a=r.map(o=>O.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return O.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,QLe(i,...t)]}function QLe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const p=c(a)[`__scope${u}`];return{...l,...p}},{});return O.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var TA="rovingFocusGroup.onEntryFocus",ZLe={bubbles:!1,cancelable:!0},uN="RovingFocusGroup",[aT,BX,JLe]=CO(uN),[eRe,$X]=KLe(uN,[JLe]),[tRe,rRe]=eRe(uN),UX=O.forwardRef((e,t)=>s.jsx(aT.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(aT.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(nRe,{...e,ref:t})})}));UX.displayName=uN;var nRe=O.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...p}=e,g=O.useRef(null),x=kn(t,g),b=X_(a),[y=null,_]=lu({prop:o,defaultProp:l,onChange:c}),[N,E]=O.useState(!1),C=Wa(u),I=BX(r),P=O.useRef(!1),[D,k]=O.useState(0);return O.useEffect(()=>{const L=g.current;if(L)return L.addEventListener(TA,C),()=>L.removeEventListener(TA,C)},[C]),s.jsx(tRe,{scope:r,orientation:n,dir:b,loop:i,currentTabStopId:y,onItemFocus:O.useCallback(L=>_(L),[_]),onItemShiftTab:O.useCallback(()=>E(!0),[]),onFocusableItemAdd:O.useCallback(()=>k(L=>L+1),[]),onFocusableItemRemove:O.useCallback(()=>k(L=>L-1),[]),children:s.jsx(Wr.div,{tabIndex:N||D===0?-1:0,"data-orientation":n,...p,ref:x,style:{outline:"none",...e.style},onMouseDown:Nr(e.onMouseDown,()=>{P.current=!0}),onFocus:Nr(e.onFocus,L=>{const B=!P.current;if(L.target===L.currentTarget&&B&&!N){const G=new CustomEvent(TA,ZLe);if(L.currentTarget.dispatchEvent(G),!G.defaultPrevented){const F=I().filter(ee=>ee.focusable),U=F.find(ee=>ee.active),q=F.find(ee=>ee.id===y),V=[U,q,...F].filter(Boolean).map(ee=>ee.ref.current);WX(V,f)}}P.current=!1}),onBlur:Nr(e.onBlur,()=>E(!1))})})}),zX="RovingFocusGroupItem",VX=O.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...o}=e,l=iu(),c=a||l,u=rRe(zX,r),f=u.currentTabStopId===c,p=BX(r),{onFocusableItemAdd:g,onFocusableItemRemove:x}=u;return O.useEffect(()=>{if(n)return g(),()=>x()},[n,g,x]),s.jsx(aT.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:s.jsx(Wr.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:Nr(e.onMouseDown,b=>{n?u.onItemFocus(c):b.preventDefault()}),onFocus:Nr(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Nr(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){u.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=sRe(b,u.orientation,u.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let N=p().filter(E=>E.focusable).map(E=>E.ref.current);if(y==="last")N.reverse();else if(y==="prev"||y==="next"){y==="prev"&&N.reverse();const E=N.indexOf(b.currentTarget);N=u.loop?oRe(N,E+1):N.slice(E+1)}setTimeout(()=>WX(N))}})})})});VX.displayName=zX;var iRe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aRe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function sRe(e,t,r){const n=aRe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return iRe[n]}function WX(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function oRe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var lRe=UX,cRe=VX,n8="Tabs",[uRe,qXe]=pu(n8,[$X]),HX=$X(),[dRe,i8]=uRe(n8),qX=O.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=X_(l),[p,g]=lu({prop:n,onChange:i,defaultProp:a});return s.jsx(dRe,{scope:r,baseId:iu(),value:p,onValueChange:g,orientation:o,dir:f,activationMode:c,children:s.jsx(Wr.div,{dir:f,"data-orientation":o,...u,ref:t})})});qX.displayName=n8;var GX="TabsList",YX=O.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=i8(GX,r),o=HX(r);return s.jsx(lRe,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(Wr.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});YX.displayName=GX;var XX="TabsTrigger",KX=O.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,o=i8(XX,r),l=HX(r),c=JX(o.baseId,n),u=eK(o.baseId,n),f=n===o.value;return s.jsx(cRe,{asChild:!0,...l,focusable:!i,active:f,children:s.jsx(Wr.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:Nr(e.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:Nr(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:Nr(e.onFocus,()=>{const p=o.activationMode!=="manual";!f&&!i&&p&&o.onValueChange(n)})})})});KX.displayName=XX;var QX="TabsContent",ZX=O.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=e,l=i8(QX,r),c=JX(l.baseId,n),u=eK(l.baseId,n),f=n===l.value,p=O.useRef(f);return O.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),s.jsx(Do,{present:i||f,children:({present:g})=>s.jsx(Wr.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:g&&a})})});ZX.displayName=QX;function JX(e,t){return`${e}-trigger-${t}`}function eK(e,t){return`${e}-content-${t}`}var fRe=qX,tK=YX,rK=KX,nK=ZX;const Af=fRe,hd=O.forwardRef(({className:e,...t},r)=>s.jsx(tK,{ref:r,className:ir("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));hd.displayName=tK.displayName;const ri=O.forwardRef(({className:e,...t},r)=>s.jsx(rK,{ref:r,className:ir("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ri.displayName=rK.displayName;const ua=O.forwardRef(({className:e,...t},r)=>s.jsx(nK,{ref:r,className:ir("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ua.displayName=nK.displayName;var[dN,GXe]=pu("Tooltip",[dx]),fN=dx(),iK="TooltipProvider",hRe=700,sT="tooltip.open",[pRe,a8]=dN(iK),aK=e=>{const{__scopeTooltip:t,delayDuration:r=hRe,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,[o,l]=O.useState(!0),c=O.useRef(!1),u=O.useRef(0);return O.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),s.jsx(pRe,{scope:t,isOpenDelayed:o,delayDuration:r,onOpen:O.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:O.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:O.useCallback(f=>{c.current=f},[]),disableHoverableContent:i,children:a})};aK.displayName=iK;var hN="Tooltip",[mRe,pN]=dN(hN),sK=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=a8(hN,e.__scopeTooltip),u=fN(t),[f,p]=O.useState(null),g=iu(),x=O.useRef(0),b=o??c.disableHoverableContent,y=l??c.delayDuration,_=O.useRef(!1),[N=!1,E]=lu({prop:n,defaultProp:i,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(sT))):c.onClose(),a==null||a(k)}}),C=O.useMemo(()=>N?_.current?"delayed-open":"instant-open":"closed",[N]),I=O.useCallback(()=>{window.clearTimeout(x.current),_.current=!1,E(!0)},[E]),P=O.useCallback(()=>{window.clearTimeout(x.current),E(!1)},[E]),D=O.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{_.current=!0,E(!0)},y)},[y,E]);return O.useEffect(()=>()=>window.clearTimeout(x.current),[]),s.jsx(z6,{...u,children:s.jsx(mRe,{scope:t,contentId:g,open:N,stateAttribute:C,trigger:f,onTriggerChange:p,onTriggerEnter:O.useCallback(()=>{c.isOpenDelayed?D():I()},[c.isOpenDelayed,D,I]),onTriggerLeave:O.useCallback(()=>{b?P():window.clearTimeout(x.current)},[P,b]),onOpen:I,onClose:P,disableHoverableContent:b,children:r})})};sK.displayName=hN;var oT="TooltipTrigger",oK=O.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=pN(oT,r),a=a8(oT,r),o=fN(r),l=O.useRef(null),c=kn(t,l,i.onTriggerChange),u=O.useRef(!1),f=O.useRef(!1),p=O.useCallback(()=>u.current=!1,[]);return O.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),s.jsx(J_,{asChild:!0,...o,children:s.jsx(Wr.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Nr(e.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Nr(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Nr(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Nr(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:Nr(e.onBlur,i.onClose),onClick:Nr(e.onClick,i.onClose)})})});oK.displayName=oT;var gRe="TooltipPortal",[YXe,xRe]=dN(gRe,{forceMount:void 0}),Ig="TooltipContent",lK=O.forwardRef((e,t)=>{const r=xRe(Ig,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,o=pN(Ig,e.__scopeTooltip);return s.jsx(Do,{present:n||o.open,children:o.disableHoverableContent?s.jsx(cK,{side:i,...a,ref:t}):s.jsx(vRe,{side:i,...a,ref:t})})}),vRe=O.forwardRef((e,t)=>{const r=pN(Ig,e.__scopeTooltip),n=a8(Ig,e.__scopeTooltip),i=O.useRef(null),a=kn(t,i),[o,l]=O.useState(null),{trigger:c,onClose:u}=r,f=i.current,{onPointerInTransitChange:p}=n,g=O.useCallback(()=>{l(null),p(!1)},[p]),x=O.useCallback((b,y)=>{const _=b.currentTarget,N={x:b.clientX,y:b.clientY},E=SRe(N,_.getBoundingClientRect()),C=_Re(N,E),I=NRe(y.getBoundingClientRect()),P=ARe([...C,...I]);l(P),p(!0)},[p]);return O.useEffect(()=>()=>g(),[g]),O.useEffect(()=>{if(c&&f){const b=_=>x(_,f),y=_=>x(_,c);return c.addEventListener("pointerleave",b),f.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",y)}}},[c,f,x,g]),O.useEffect(()=>{if(o){const b=y=>{const _=y.target,N={x:y.clientX,y:y.clientY},E=(c==null?void 0:c.contains(_))||(f==null?void 0:f.contains(_)),C=!ERe(N,o);E?g():C&&(g(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,f,o,u,g]),s.jsx(cK,{...e,ref:a})}),[yRe,wRe]=dN(hN,{isInside:!1}),cK=O.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=pN(Ig,r),u=fN(r),{onClose:f}=c;return O.useEffect(()=>(document.addEventListener(sT,f),()=>document.removeEventListener(sT,f)),[f]),O.useEffect(()=>{if(c.trigger){const p=g=>{const x=g.target;x!=null&&x.contains(c.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,f]),s.jsx(Wg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:s.jsxs(V6,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(AO,{children:n}),s.jsx(yRe,{scope:r,isInside:!0,children:s.jsx(Eie,{id:c.contentId,role:"tooltip",children:i||n})})]})})});lK.displayName=Ig;var uK="TooltipArrow",bRe=O.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=fN(r);return wRe(uK,r).isInside?null:s.jsx(W6,{...i,...n,ref:t})});bRe.displayName=uK;function SRe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function _Re(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function NRe(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function ERe(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,f=t[o].y;c>n!=f>n&&r<(u-l)*(n-c)/(f-c)+l&&(i=!i)}return i}function ARe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),CRe(t)}function CRe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var jRe=aK,TRe=sK,ORe=oK,dK=lK;const IRe=jRe,PRe=TRe,kRe=ORe,fK=O.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(dK,{ref:n,sideOffset:t,className:ir("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));fK.displayName=dK.displayName;function MRe({className:e}){return s.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:ir("w-8 h-8",e),children:s.jsxs("g",{children:[s.jsx("path",{d:"M25 20.5C25 25.1944 21.1944 29 16.5 29C11.8056 29 8 25.1944 8 20.5C8 15.8056 11.8056 12 16.5 12C21.1944 12 25 15.8056 25 20.5Z",fill:"currentColor"}),s.jsx("path",{d:"M24 11C24 14.3137 21.3137 17 18 17C14.6863 17 12 14.3137 12 11C12 7.68629 14.6863 5 18 5C21.3137 5 24 7.68629 24 11Z",fill:"currentColor"}),s.jsx("circle",{cx:"13",cy:"7",r:"2",fill:"currentColor"}),s.jsx("circle",{cx:"23",cy:"7",r:"2",fill:"currentColor"}),s.jsx("path",{d:"M12 16C10.8954 15 8.5 12.5 8 13C7.5 13.5 7 15 8 16C9 17 11 16 12 16",fill:"currentColor"}),s.jsx("path",{d:"M21 20C22.1046 19 23.5 19.5 24 20C24.5 20.5 26 23 25 24C24 25 22 24 21 22",fill:"currentColor"}),s.jsx("ellipse",{cx:"18",cy:"13",rx:"3",ry:"2.5",fill:"currentColor"}),s.jsx("circle",{cx:"16",cy:"10",r:"1",fill:"black"}),s.jsx("circle",{cx:"20",cy:"10",r:"1",fill:"black"}),s.jsx("ellipse",{cx:"18",cy:"12",rx:"1",ry:"0.75",fill:"black"}),s.jsx("path",{d:"M17 14C17.5 14.5 18.5 14.5 19 14",stroke:"black",strokeWidth:"0.5",strokeLinecap:"round"})]})})}function qc({children:e,content:t,side:r="top",align:n="center",className:i}){const[a,o]=O.useState(!1);return s.jsx(IRe,{children:s.jsxs(PRe,{open:a,onOpenChange:o,children:[s.jsx(kRe,{asChild:!0,onClick:()=>o(!0),children:s.jsx("span",{className:"inline-flex",children:e})}),s.jsx(fK,{side:r,align:n,className:ir("relative bear-tooltip-content p-4 max-w-xs",i),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bear-avatar flex-shrink-0 w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center overflow-hidden",children:s.jsx(MRe,{})}),s.jsxs("div",{className:"flex-1 text-sm",children:[s.jsx("p",{className:"font-medium mb-1",children:"ONU Polar Bear Helper"}),s.jsx("div",{children:t})]})]})})]})})}function $u({className:e}){return s.jsx("span",{className:ir("inline-flex items-center justify-center text-primary hover:text-primary/80 transition-colors cursor-help",e),children:s.jsx(Uz,{className:"w-4 h-4"})})}var hK="AlertDialog",[DRe,XXe]=pu(hK,[$q]),Cf=$q(),pK=e=>{const{__scopeAlertDialog:t,...r}=e,n=Cf(t);return s.jsx(rG,{...n,...r,modal:!0})};pK.displayName=hK;var LRe="AlertDialogTrigger",mK=O.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Cf(r);return s.jsx(nG,{...i,...n,ref:t})});mK.displayName=LRe;var RRe="AlertDialogPortal",gK=e=>{const{__scopeAlertDialog:t,...r}=e,n=Cf(t);return s.jsx(iG,{...n,...r})};gK.displayName=RRe;var FRe="AlertDialogOverlay",xK=O.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Cf(r);return s.jsx(XI,{...i,...n,ref:t})});xK.displayName=FRe;var Cm="AlertDialogContent",[BRe,$Re]=DRe(Cm),vK=O.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,a=Cf(r),o=O.useRef(null),l=kn(t,o),c=O.useRef(null);return s.jsx(Nje,{contentName:Cm,titleName:yK,docsSlug:"alert-dialog",children:s.jsx(BRe,{scope:r,cancelRef:c,children:s.jsxs(KI,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:Nr(i.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(AO,{children:n}),s.jsx(zRe,{contentRef:o})]})})})});vK.displayName=Cm;var yK="AlertDialogTitle",wK=O.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Cf(r);return s.jsx(QI,{...i,...n,ref:t})});wK.displayName=yK;var bK="AlertDialogDescription",SK=O.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Cf(r);return s.jsx(ZI,{...i,...n,ref:t})});SK.displayName=bK;var URe="AlertDialogAction",_K=O.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Cf(r);return s.jsx(JI,{...i,...n,ref:t})});_K.displayName=URe;var NK="AlertDialogCancel",EK=O.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=$Re(NK,r),a=Cf(r),o=kn(t,i);return s.jsx(JI,{...a,...n,ref:o})});EK.displayName=NK;var zRe=({contentRef:e})=>{const t=`\`${Cm}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Cm}\` by passing a \`${bK}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Cm}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return O.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},VRe=pK,WRe=mK,HRe=gK,AK=xK,CK=vK,jK=_K,TK=EK,OK=wK,IK=SK;const Qh=VRe,s8=WRe,qRe=HRe,PK=O.forwardRef(({className:e,...t},r)=>s.jsx(AK,{className:ir("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));PK.displayName=AK.displayName;const hf=O.forwardRef(({className:e,...t},r)=>s.jsxs(qRe,{children:[s.jsx(PK,{}),s.jsx(CK,{ref:r,className:ir("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));hf.displayName=CK.displayName;const pf=({className:e,...t})=>s.jsx("div",{className:ir("flex flex-col space-y-2 text-center sm:text-left",e),...t});pf.displayName="AlertDialogHeader";const mf=({className:e,...t})=>s.jsx("div",{className:ir("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});mf.displayName="AlertDialogFooter";const gf=O.forwardRef(({className:e,...t},r)=>s.jsx(OK,{ref:r,className:ir("text-lg font-semibold",e),...t}));gf.displayName=OK.displayName;const xf=O.forwardRef(({className:e,...t},r)=>s.jsx(IK,{ref:r,className:ir("text-sm text-muted-foreground",e),...t}));xf.displayName=IK.displayName;const vf=O.forwardRef(({className:e,...t},r)=>s.jsx(jK,{ref:r,className:ir(dy(),e),...t}));vf.displayName=jK.displayName;const yf=O.forwardRef(({className:e,...t},r)=>s.jsx(TK,{ref:r,className:ir(dy({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));yf.displayName=TK.displayName;const EF=or.object({partId:or.string().min(3,"Part ID must be at least 3 characters"),name:or.string().min(3,"Name must be at least 3 characters"),description:or.string().optional(),quantity:or.coerce.number().min(0,"Quantity must be non-negative"),reorderLevel:or.coerce.number().min(1,"Reorder level must be at least 1"),unitCost:or.string().optional().transform(e=>!e||e===""?"":e.replace(/[^\d.]/g,"")),locationId:or.number().nullable(),shelfId:or.number().nullable()});function AF(){const[e,t]=O.useState(""),[r,n]=O.useState(!1),[i,a]=O.useState(!1),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[f,p]=O.useState(!1),[g,x]=O.useState(null),[b,y]=O.useState(null),[_,N]=O.useState(null),[E,C]=O.useState([]),[I,P]=O.useState("all"),[D,k]=O.useState(!1),[L,B]=O.useState(""),[G,F]=O.useState(!1),[U,q]=O.useState(null),[K,V]=O.useState("inventory"),[ee,te]=O.useState(!1),[J,ge]=O.useState(!1),[Ie,Ge]=O.useState([]),[W,Q]=O.useState(""),[Z,re]=O.useState(""),le=O.useRef(null),{data:Ne}=Er({queryKey:["part-barcodes",g==null?void 0:g.partId],queryFn:()=>g!=null&&g.partId?fetch(`/api/parts/${g.partId}/barcodes`).then(Te=>Te.json()):Promise.resolve([]),enabled:!!(g!=null&&g.partId)&&i}),{toast:Ae}=ea(),{user:ve}=Ts(),{data:xe=[],isLoading:Le,error:Se}=Er({queryKey:["/api/inventory/aging-analysis"],enabled:K==="aging"}),{data:ye,isLoading:We}=Er({queryKey:["/api/parts"]}),{data:Ye=[],isError:we,error:Pe}=Er({queryKey:["/api/storage-locations"]}),{data:ce=[],isError:Ce,error:fe}=Er({queryKey:["/api/shelves"]}),[ke,He]=O.useState(null),nt=Sr({mutationFn:async Te=>{He(null);const it={...Te,unitCost:Te.unitCost===""?"0":String(Te.unitCost)};console.log("Sending part data to server:",it),console.log("unitCost value type:",typeof it.unitCost);try{console.log("Fetch URL:","/api/parts");const jt=await nn("POST","/api/parts",it);if(!jt.ok){const lr=await jt.text();throw console.error("Server error response:",lr),new Error(`Server returned ${jt.status}: ${lr}`)}return jt.json()}catch(jt){throw console.error("Error in addPartMutation:",jt),jt}},onSuccess:async Te=>{console.log("Part added successfully:",Te);const it=Ie.length;Zt.reset(),Ge([]),Q(""),re(""),n(!1),ur.invalidateQueries({queryKey:["/api/parts"]}),ur.invalidateQueries({queryKey:["/api/parts/low-stock"]}),Ae({title:"Part Added",description:`Part "${Te.name}" has been added to inventory${it>0?` with ${it} additional barcode(s)`:""}.`})},onError:Te=>{console.error("Add part mutation error:",Te),He(Te.message||"An unknown error occurred"),Ae({title:"Error",description:`Failed to add part: ${Te.message}`,variant:"destructive"})}}),mt=Sr({mutationFn:async({partId:Te,data:it})=>{console.log("updatePartMutation executing with data:",it);const jt={partId:it.partId,name:it.name,description:it.description,quantity:it.quantity,reorderLevel:it.reorderLevel,unitCost:it.unitCost===""?"0":String(it.unitCost),locationId:it.locationId,shelfId:it.shelfId};return console.log("ACTUAL PAYLOAD BEING SENT:",jt),(await nn("PATCH",`/api/parts/${Te}`,jt)).json()},onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/parts"]}),ur.invalidateQueries({queryKey:["/api/parts/low-stock"]}),Ae({title:"Part Updated",description:"The part has been updated in inventory."}),a(!1)},onError:Te=>{Ae({title:"Error",description:`Failed to update part: ${Te.message}`,variant:"destructive"})}}),At=Sr({mutationFn:async Te=>(await nn("DELETE",`/api/parts/${Te}`)).json(),onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/parts"]}),ur.invalidateQueries({queryKey:["/api/parts/low-stock"]}),Ae({title:"Part Deleted",description:"The part has been removed from inventory."})},onError:Te=>{Ae({title:"Error",description:`Failed to delete part: ${Te.message}`,variant:"destructive"})}}),qt=(Te,it)=>{if(!Te)return[];switch(it){case"critical":return Te.filter(jt=>jt.reorderLevel>0&&jt.quantity<=jt.reorderLevel*.3);case"low":return Te.filter(jt=>jt.reorderLevel>0&&jt.quantity<=jt.reorderLevel*.8&&jt.quantity>jt.reorderLevel*.3);case"all":default:return Te}},mr=()=>{if(!ye)return;const Te=ye.filter(jt=>jt.reorderLevel>0&&jt.quantity<=jt.reorderLevel*.3);if(Te.length===0){Ae({title:"No Critical Stock",description:"There are no parts in critical stock levels to assign.",variant:"destructive"});return}const it=Te.map(jt=>jt.id);localStorage.setItem("criticalPartsForQuickCount",JSON.stringify(it)),Ae({title:"Redirecting to Quick Count",description:`${Te.length} critical stock parts will be ready to assign.`}),window.location.href="/quick-count?tab=manage&addCritical=true"},ar=Sr({mutationFn:async Te=>{const it=await fetch(`/api/parts-lookup/${Te}`);if(!it.ok)throw it.status===404?new Error("Part not found with that barcode"):new Error("Failed to lookup part");return it.json()},onSuccess:Te=>{t(Te.partId),Ae({title:"Part Found",description:`Found: ${Te.name} (${Te.partId})`}),ge(!1)},onError:Te=>{Ae({title:"Part Not Found",description:Te.message+" - Would you like to add this as a new part?",variant:"destructive",action:s.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>{Zt.reset({partId:e||"",name:"",description:"",quantity:0,reorderLevel:0,unitCost:"",locationId:null,shelfId:null}),n(!0),ge(!1)},children:"Add New Part"})})}}),ze=(ye==null?void 0:ye.filter(Te=>{if(!e)return!0;const it=e.toLowerCase();return Te.partId.toLowerCase().includes(it)||Te.name.toLowerCase().includes(it)||Te.description&&Te.description.toLowerCase().includes(it)||Te.location&&Te.location.toLowerCase().includes(it)}))||[],dt=qt(ze,I),Zt=_s({resolver:Ns(EF),defaultValues:{partId:"",name:"",description:"",quantity:0,reorderLevel:10,unitCost:"",locationId:null,shelfId:null}}),ne=_s({resolver:Ns(EF),defaultValues:{partId:"",name:"",description:"",quantity:0,reorderLevel:10,unitCost:"",locationId:null,shelfId:null}}),De=Te=>{console.log("Add Part Form Values:",Te),He(null);try{if(!Te.partId||Te.partId.trim()==="")throw new Error("Part ID is required");if(!Te.name||Te.name.trim()==="")throw new Error("Part name is required");const it={...Te},jt=it.locationId===null||it.locationId===""?null:Number(it.locationId),lr=it.shelfId===null||it.shelfId===""?null:Number(it.shelfId),xr={...it,locationId:jt,shelfId:lr,additionalBarcodes:Ie};console.log("Adding new part with final payload:",xr),console.log("Additional barcodes:",Ie),nt.mutate(xr)}catch(it){console.error("Error processing add part form data:",it),He(it instanceof Error?it.message:String(it)),Ae({title:"Form Error",description:`There was a problem with the form data: ${it instanceof Error?it.message:String(it)}`,variant:"destructive"})}},gt=Te=>{if(!g)return;console.log("PRE-SUBMISSION FORM VALUES:",Te),console.log("Submitting part edit with data:",Te),console.log("Selected part for edit:",g);const it=Te.locationId===null||Te.locationId===""?null:Number(Te.locationId),jt=Te.shelfId===null||Te.shelfId===""?null:Number(Te.shelfId);console.log("PROCESSED LOCATION VALUES:",{formLocationId:Te.locationId,formShelfId:Te.shelfId,processedLocationId:it,processedShelfId:jt,locationIdType:typeof it,shelfIdType:typeof jt});const lr={partId:Te.partId,name:Te.name,description:Te.description,quantity:Te.quantity,reorderLevel:Te.reorderLevel,unitCost:Te.unitCost,locationId:it,shelfId:jt};console.log("FULL UPDATE PAYLOAD:",lr),console.log(`Edit part: Keeping unit cost as string: "${lr.unitCost}"`);const xr={...lr};console.log("FINAL PAYLOAD WITH TYPED VALUES:",xr),console.log("DOUBLE-CHECKING PAYLOAD:",{originalFormValues:Te,finalPayload:xr,locationIdIncluded:"locationId"in xr,shelfIdIncluded:"shelfId"in xr});const Sa={...xr,locationId:it,shelfId:jt};console.log("VERIFIED PAYLOAD BEING SENT:",Sa),nn("PATCH",`/api/parts/${g.partId}`,Sa).then(dn=>dn.json()).then(dn=>{console.log("PART UPDATED SUCCESSFULLY:",dn),ur.invalidateQueries({queryKey:["/api/parts"]}),ur.invalidateQueries({queryKey:["/api/parts/low-stock"]}),Ae({title:"Part Updated",description:"The part has been updated in inventory."}),a(!1),location.pathname!=="/parts-inventory"&&(window.location.href="/parts-inventory")}).catch(dn=>{console.error("PART UPDATE FAILED:",dn),Ae({title:"Error",description:`Failed to update part: ${dn.message}`,variant:"destructive"})}),Te.partId!==g.partId&&Ae({title:"Part ID Changes",description:"You changed the Part ID - this will update the part's identifier in the system"})},Nt=async()=>{Ae({title:"Preparing export",description:"Generating parts inventory Excel file..."});try{const Te=window.open("/download/parts-inventory","_blank");setTimeout(async()=>{if(!Te||Te.closed){console.log("Popup blocked, using fetch method");const it=await fetch("/download/parts-inventory",{method:"GET",headers:{Accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}});if(!it.ok)throw new Error("Export failed");const jt=await it.blob(),lr=window.URL.createObjectURL(jt),xr=document.createElement("a");xr.href=lr,xr.download=`ONU_Parts_Inventory_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(xr),xr.click(),document.body.removeChild(xr),window.URL.revokeObjectURL(lr)}},100),Ae({title:"Export initiated",description:"Parts inventory download started - check your downloads folder"})}catch(Te){console.error("Export error:",Te),Ae({title:"Export failed",description:"Failed to download parts inventory",variant:"destructive"})}},Pr=Te=>{x(Te),console.log("OPENING EDIT MODAL FOR PART WITH LOCATION DATA:",{part_id:Te.partId,location_id:Te.locationId,shelf_id:Te.shelfId});const it=Te.locationId&&typeof Te.locationId=="number"?Te.locationId:null,jt=Te.shelfId&&typeof Te.shelfId=="number"?Te.shelfId:null;console.log("EDIT FORM LOCATION VALUES:",{partLocationId:Te.locationId,partShelfId:Te.shelfId,formLocationId:it,formShelfId:jt}),ne.reset({partId:Te.partId,name:Te.name,description:Te.description||"",quantity:Te.quantity,reorderLevel:Te.reorderLevel,unitCost:Te.unitCost!==null&&Te.unitCost!==void 0?parseFloat(Te.unitCost.toString()).toFixed(2):"",locationId:it,shelfId:jt}),console.log("EDIT FORM INITIALIZED WITH VALUES:",ne.getValues()),a(!0)},Jr=Te=>{C(it=>it.some(lr=>lr.id===Te.id)?it.filter(lr=>lr.id!==Te.id):[...it,Te])},fa=Te=>{x(Te),u(!0)},Ln=[{header:"Part ID",accessor:"partId",className:"whitespace-nowrap",sortable:!0,sortKey:"partId"},{header:"Name",accessor:"name",sortable:!0,sortKey:"name"},{header:"Description",accessor:Te=>Te.description||"-",sortable:!0,sortKey:"description"},{header:"Quantity",accessor:Te=>{const it=Te.quantity/Te.reorderLevel,jt=it<=.1,lr=it>.1&&it<=.3,xr=it>.3&&it<=.5,Sa=it>.5&&it<=.8,dn=it>.8&&it<=1.5,ha=it>1.5;let li="",dr=null;return jt?(li="text-red-700 font-bold",dr=s.jsx("span",{className:"mr-1 text-red-700",children:""})):lr?(li="text-red-600 font-medium",dr=s.jsx("span",{className:"mr-1 text-red-600",children:""})):xr?(li="text-amber-600 font-medium",dr=s.jsx("span",{className:"mr-1 text-amber-600",children:""})):Sa?(li="text-blue-500 font-medium",dr=s.jsx("span",{className:"mr-1 text-blue-500",children:""})):dn?(li="text-green-600 font-medium",dr=s.jsx("span",{className:"mr-1 text-green-600",children:""})):ha&&(li="text-purple-500 font-medium",dr=s.jsx("span",{className:"mr-1 text-purple-500",children:""})),s.jsxs("div",{className:"flex items-center",children:[dr,s.jsx("span",{className:li,children:Te.quantity}),s.jsxs("span",{className:"ml-1 text-xs text-muted-foreground opacity-75",children:["/",Te.reorderLevel]})]})},sortable:!0,sortKey:"quantity"},{header:"Reorder Level",accessor:"reorderLevel",sortable:!0,sortKey:"reorderLevel"},{header:"Status",accessor:Te=>s.jsx(rV,{quantity:Te.quantity,reorderLevel:Te.reorderLevel,showDetails:!0})},{header:"Location",accessor:Te=>{const it=Te.locationId?Ye.find(lr=>lr.id===Te.locationId):null,jt=Te.shelfId?ce.find(lr=>lr.id===Te.shelfId):null;return it||jt?s.jsxs("div",{className:"flex items-center",children:[s.jsx(Hd,{className:"h-4 w-4 mr-1 text-muted-foreground"}),s.jsxs("span",{children:[(it==null?void 0:it.name)||"",it&&jt?" / ":"",(jt==null?void 0:jt.name)||""]})]}):Te.location?s.jsxs("div",{className:"flex items-center",children:[s.jsx(Hd,{className:"h-4 w-4 mr-1 text-muted-foreground"}),Te.location]}):"-"},sortable:!0,sortKey:"location"},{header:"Unit Cost",accessor:Te=>Te.unitCost===null||Te.unitCost===void 0?"-":`$${parseFloat(Te.unitCost.toString()).toFixed(2)}`,sortable:!0,sortKey:"unitCost"},{header:"Actions",accessor:Te=>{const it=(ve==null?void 0:ve.role)==="admin"||(ve==null?void 0:ve.role)==="student";return s.jsxs("div",{className:"flex justify-end space-x-1",children:[s.jsx(Ee,{variant:"ghost",size:"icon",onClick:jt=>{jt.stopPropagation(),Pr(Te)},children:s.jsx(Ip,{className:"h-4 w-4 text-muted-foreground"})}),s.jsx(Ee,{variant:"ghost",size:"icon",onClick:jt=>{jt.stopPropagation(),Ae({title:"Order Placed",description:`Ordered 10 units of ${Te.name}`})},children:s.jsx(sp,{className:"h-4 w-4 text-secondary"})}),s.jsx(Ee,{variant:"ghost",size:"icon",onClick:jt=>{jt.stopPropagation(),fa(Te)},children:s.jsx(hM,{className:"h-4 w-4 text-blue-600"})}),s.jsx(Ee,{variant:"ghost",size:"icon",onClick:jt=>{jt.stopPropagation(),q(Te)},title:"Manage Multiple Barcodes",children:s.jsx(Wd,{className:"h-4 w-4 text-purple-600"})}),it&&s.jsx(Ee,{variant:"ghost",size:"icon",onClick:jt=>{jt.stopPropagation(),N(Te)},children:s.jsx(Oo,{className:"h-4 w-4 text-destructive"})})]})},className:"text-right"}];return We?s.jsxs("div",{className:"flex h-full items-center justify-center",children:[s.jsx(cn,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-lg",children:"Loading parts inventory..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Parts Inventory"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage parts, supplies, and aging analysis"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ee,{variant:"outline",onClick:()=>window.open("/api/parts/template","_blank"),children:[s.jsx(Tp,{className:"h-4 w-4 mr-1"}),"Template"]}),s.jsxs(Ee,{variant:"outline",onClick:Nt,children:[s.jsx(PO,{className:"h-4 w-4 mr-1"}),"Export"]}),s.jsxs(Ee,{variant:"outline",onClick:()=>l(!0),children:[s.jsx(tae,{className:"h-4 w-4 mr-1"}),"Import"]}),s.jsxs(Ee,{variant:"outline",onClick:()=>F(!0),children:[s.jsx(Op,{className:"h-4 w-4 mr-1"}),"Print Labels"]}),s.jsxs(Ee,{variant:"outline",onClick:()=>window.location.href="/quick-count",children:[s.jsx(Cv,{className:"h-4 w-4 mr-1"}),"Quick Count"]})]}),s.jsxs(Ee,{onClick:()=>n(!0),children:[s.jsx(Si,{className:"h-4 w-4 mr-1"}),"Add Part"]})]})]}),s.jsxs(Af,{value:K,onValueChange:V,className:"w-full",children:[s.jsxs(hd,{className:"grid w-full grid-cols-2",children:[s.jsx(ri,{value:"inventory",children:"Inventory Management"}),s.jsx(ri,{value:"aging",children:"Aging Analysis"})]}),s.jsxs(ua,{value:"inventory",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(Pt,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-background"}),s.jsxs(Gt,{className:"pb-2 relative",children:[s.jsxs(Yt,{className:"text-3xl flex items-center",children:[s.jsx("span",{children:(ye==null?void 0:ye.length)||0}),s.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"items"})]}),s.jsxs(Zr,{className:"flex items-center gap-1.5",children:["Total Parts",s.jsx(qc,{content:"This shows the total number of unique parts in your inventory.",children:s.jsx($u,{})})]})]}),s.jsxs(zt,{className:"relative flex justify-between items-center",children:[s.jsx(oy,{className:"h-10 w-10 text-primary/70"}),s.jsx("div",{className:"text-right",children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Last updated: ",new Date().toLocaleDateString()]})})]})]}),s.jsxs(Pt,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 to-background"}),s.jsxs(Gt,{className:"pb-2 relative",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(Yt,{className:"text-3xl flex items-center",children:[s.jsx("span",{className:"text-amber-600",children:(ye==null?void 0:ye.filter(Te=>Te.quantity<=Te.reorderLevel*.8&&Te.quantity>Te.reorderLevel*.3).length)||0}),s.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"items"})]}),s.jsx("span",{className:"inline-flex items-center rounded-full bg-amber-100 px-2.5 py-0.5 text-xs font-medium text-amber-800",children:"50-80%"})]}),s.jsxs(Zr,{className:"flex items-center gap-1.5",children:["Low Stock Parts",s.jsx(qc,{content:"Parts with quantities between 30% and 80% of their reorder level. Consider ordering more soon!",children:s.jsx($u,{})})]})]}),s.jsxs(zt,{className:"relative flex justify-between items-center",children:[s.jsx(Cv,{className:"h-10 w-10 text-amber-600/70"}),s.jsx("div",{className:"text-right",children:s.jsx(Ee,{variant:"ghost",size:"sm",className:"text-amber-600 hover:text-amber-700 hover:bg-amber-50",onClick:()=>P("low"),children:"View All"})})]})]}),s.jsxs(Pt,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-background"}),s.jsxs(Gt,{className:"pb-2 relative",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs(Yt,{className:"text-3xl flex items-center",children:[s.jsx("span",{className:"text-red-600",children:(ye==null?void 0:ye.filter(Te=>Te.quantity<=Te.reorderLevel*.3).length)||0}),s.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"items"})]}),s.jsx("span",{className:"inline-flex items-center rounded-full bg-red-100 px-2.5 py-0.5 text-xs font-medium text-red-800",children:"<30%"})]}),s.jsxs(Zr,{className:"flex items-center gap-1.5",children:["Critical Stock Parts",s.jsx(qc,{content:"Parts with quantities at or below 30% of their reorder level. These need immediate attention!",children:s.jsx($u,{})})]})]}),s.jsxs(zt,{className:"relative flex justify-between items-center",children:[s.jsx(kl,{className:"h-10 w-10 text-red-600/70"}),s.jsx("div",{className:"text-right",children:s.jsx(Ee,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>P("critical"),children:"View All"})})]})]})]}),s.jsxs(Pt,{className:"mb-6",children:[s.jsx(Gt,{className:"pb-3",children:s.jsxs(Yt,{className:"flex items-center gap-1.5",children:["Search Inventory",s.jsx(qc,{content:"Search for parts by ID, name, description, or location - any text that matches will be shown!",children:s.jsx($u,{})})]})}),s.jsx(zt,{children:s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Pl,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Rt,{placeholder:"Search by part ID, name, description, or location...",value:e,onChange:Te=>t(Te.target.value),className:"pl-9"})]}),s.jsxs(Ee,{variant:"outline",size:"default",onClick:()=>ge(!0),className:"flex items-center gap-2 whitespace-nowrap",children:[s.jsx(Z1,{className:"h-4 w-4"}),"Scan Barcode"]})]})})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"py-4 flex flex-col md:flex-row justify-between items-start md:items-center",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs(Yt,{className:"flex items-center gap-1.5",children:[I==="all"&&"All Parts",I==="low"&&"Low Stock Parts",I==="critical"&&"Critical Stock Parts",s.jsx(qc,{content:"This table shows parts in your inventory based on the selected filter. Click on column headers to sort, and use pagination to navigate through the list.",children:s.jsx($u,{})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(Ee,{variant:I==="all"?"default":"outline",size:"sm",onClick:()=>P("all"),children:[s.jsx(oy,{className:"h-4 w-4 mr-1"}),"All Parts (",(ye==null?void 0:ye.length)||0,")"]}),s.jsxs(Ee,{variant:I==="low"?"default":"outline",size:"sm",onClick:()=>P("low"),className:I==="low"?"":"text-amber-600 hover:text-amber-600",children:[s.jsx(Cv,{className:"h-4 w-4 mr-1"}),"Low Stock (",(ye==null?void 0:ye.filter(Te=>Te.quantity<=Te.reorderLevel*.8&&Te.quantity>Te.reorderLevel*.3).length)||0,")"]}),s.jsxs(Ee,{variant:I==="critical"?"default":"outline",size:"sm",onClick:()=>P("critical"),className:I==="critical"?"":"text-red-600 hover:text-red-600",children:[s.jsx(kl,{className:"h-4 w-4 mr-1"}),"Critical Stock (",(ye==null?void 0:ye.filter(Te=>Te.quantity<=Te.reorderLevel*.3).length)||0,")"]}),I==="critical"&&s.jsxs(Ee,{variant:"outline",size:"sm",onClick:mr,className:"border-red-600 text-red-600 hover:bg-red-50",children:[s.jsx(kS,{className:"h-4 w-4 mr-1"}),"Assign All Critical Stock"]})]})]}),s.jsxs("div",{className:"flex gap-2 mt-2 md:mt-0",children:[E.length>0&&s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[E.length," part(s) selected"]}),s.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>C([]),children:"Clear"}),s.jsxs(Ee,{size:"sm",onClick:()=>u(!0),children:[s.jsx(Op,{className:"h-4 w-4 mr-1"}),"Print Barcodes"]})]}),s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>{E.length===0?(C(dt),Ae({title:"All Parts Selected",description:`Selected ${dt.length} parts for barcode printing.`})):E.length===dt.length?(C([]),Ae({title:"Selection Cleared",description:"Cleared all selected parts."})):(C(dt),Ae({title:"All Parts Selected",description:`Selected ${dt.length} parts for barcode printing.`}))},children:[s.jsx(hM,{className:"h-4 w-4 mr-1"}),E.length===dt.length?"Deselect All":"Select All for Printing"]})]})]}),s.jsx(zt,{children:s.jsx(Ll,{data:dt,columns:Ln,itemsPerPage:10,onRowClick:Te=>Jr(Te),selectedRows:E.map(Te=>Te.id)})})]})]}),s.jsx(ua,{value:"aging",className:"space-y-6",children:Le?s.jsxs("div",{className:"flex h-64 items-center justify-center",children:[s.jsx(cn,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2",children:"Loading aging analysis..."})]}):Se?s.jsxs(pp,{variant:"destructive",children:[s.jsx(kl,{className:"h-4 w-4"}),s.jsx(mp,{children:"Error Loading Aging Analysis"}),s.jsx(gp,{children:"Failed to load aging analysis data. Please try again later."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium text-green-600",children:"Fast Moving"}),s.jsx(Zr,{className:"text-2xl font-bold",children:xe.filter(Te=>Te.agingCategory==="fast-moving").length})]}),s.jsx(zt,{children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used within 30 days"})})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium text-yellow-600",children:"Stagnant"}),s.jsx(Zr,{className:"text-2xl font-bold",children:xe.filter(Te=>Te.agingCategory==="stagnant").length})]}),s.jsx(zt,{children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"Not used recently"})})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium text-amber-600",children:"Slow Moving"}),s.jsx(Zr,{className:"text-2xl font-bold",children:xe.filter(Te=>Te.agingCategory==="slow-moving").length})]}),s.jsx(zt,{children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"Used within 90+ days"})})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium text-red-600",children:"Dead Stock"}),s.jsx(Zr,{className:"text-2xl font-bold",children:xe.filter(Te=>Te.agingCategory==="dead-stock").length})]}),s.jsx(zt,{children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"Never used"})})]})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsxs(Yt,{className:"flex items-center gap-2",children:[s.jsx(sf,{className:"h-5 w-5"}),"Inventory Aging Analysis"]}),s.jsx(Zr,{children:"Analysis of parts based on last usage date and movement patterns"})]}),s.jsx(zt,{children:s.jsx(Ll,{data:xe,columns:[{header:"Part ID",accessor:"partId",sortable:!0,sortKey:"partId"},{header:"Name",accessor:"name",sortable:!0,sortKey:"name"},{header:"Quantity",accessor:"quantity",sortable:!0,sortKey:"quantity"},{header:"Estimated Value",accessor:Te=>{var it;return`$${((it=Te.estimatedValue)==null?void 0:it.toFixed(2))||"0.00"}`},sortable:!0,sortKey:"estimatedValue"},{header:"Days Since Last Issued",accessor:Te=>Te.daysSinceLastIssued===null?"Never issued":`${Te.daysSinceLastIssued} days`,sortable:!0,sortKey:"daysSinceLastIssued"},{header:"Category",accessor:Te=>s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Te.agingCategory==="fast-moving"?"bg-green-100 text-green-800":Te.agingCategory==="slow-moving"?"bg-amber-100 text-amber-800":Te.agingCategory==="stagnant"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:Te.agingCategory==="dead-stock"?"Dead Stock":Te.agingCategory.charAt(0).toUpperCase()+Te.agingCategory.slice(1).replace("-"," ")}),sortable:!0,sortKey:"agingCategory"},{header:"Location",accessor:Te=>Te.location||"Unassigned",sortable:!0,sortKey:"location"}],itemsPerPage:15})})]})]})})]}),s.jsx(Qr,{open:r,onOpenChange:n,children:s.jsxs(qr,{className:"max-w-md sm:max-w-lg overflow-y-auto max-h-[90vh]",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Add New Part"}),s.jsx(gn,{children:"Add a new part to the inventory. Fill in the details below."})]}),ke&&s.jsxs(pp,{variant:"destructive",className:"mt-2",children:[s.jsx(kl,{className:"h-4 w-4"}),s.jsx(mp,{children:"Error Adding Part"}),s.jsx(gp,{children:ke})]}),s.jsx(Us,{...Zt,children:s.jsxs("form",{onSubmit:Zt.handleSubmit(De),className:"space-y-4 pb-14",children:[s.jsx(Dr,{control:Zt.control,name:"partId",render:({field:Te})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Part ID"}),s.jsx(Ir,{children:s.jsxs("div",{className:"flex",children:[s.jsx(Rt,{placeholder:"P-1234",...Te,className:"rounded-r-none"}),s.jsx(Ee,{type:"button",className:"rounded-l-none",variant:"outline",onClick:()=>k(!0),children:s.jsx(Z1,{className:"h-4 w-4"})})]})}),s.jsx(Bu,{children:"Click the scan button to scan a barcode"}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:Zt.control,name:"name",render:({field:Te})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Name"}),s.jsx(Ir,{children:s.jsx(Rt,{placeholder:"Air Filter",...Te})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:Zt.control,name:"description",render:({field:Te})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Description"}),s.jsx(Ir,{children:s.jsx(Rt,{placeholder:"HVAC air filter 20x20x1",...Te})}),s.jsx(Lr,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Dr,{control:Zt.control,name:"quantity",render:({field:Te})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Quantity"}),s.jsx(Ir,{children:s.jsx(Rt,{type:"number",...Te})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:Zt.control,name:"reorderLevel",render:({field:Te})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Reorder Level"}),s.jsx(Ir,{children:s.jsx(Rt,{type:"number",...Te})}),s.jsx(Lr,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Dr,{control:Zt.control,name:"unitCost",render:({field:Te})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Unit Cost ($)"}),s.jsx(Ir,{children:s.jsxs("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),s.jsx("input",{type:"text",inputMode:"decimal",className:"flex h-10 w-full rounded-md border border-input bg-background px-8 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"0.00",onChange:it=>{console.log("Unit cost changed to:",it.target.value),Te.onChange(it.target.value)},value:Te.value||"",onFocus:it=>it.target.select(),onBlur:it=>{it.target.value===""?(console.log("Unit cost blur with empty value - setting to '0'"),Te.onChange("0")):(console.log("Unit cost blur event with value:",it.target.value),Te.onChange(it.target.value))}})]})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:Zt.control,name:"locationId",render:({field:Te})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Storage Location"}),s.jsx(Ir,{children:s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:Te.value??"",onChange:it=>{const jt=it.target.value?parseInt(it.target.value,10):null;console.log("ADD FORM: Location select changed to:",jt,"from raw value:",it.target.value),Te.onChange(jt),Zt.setValue("shelfId",null)},onBlur:it=>{if(it.target.value){const jt=parseInt(it.target.value,10);console.log("ADD FORM: Location onBlur with value:",jt),Te.onChange(jt)}},children:[s.jsx("option",{value:"",children:"Select a location"}),Ye==null?void 0:Ye.map(it=>s.jsx("option",{value:it.id,disabled:!it.active,children:it.name},it.id))]})}),s.jsx(Bu,{children:"Where this part is stored (stockroom, warehouse, etc.)"}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:Zt.control,name:"shelfId",render:({field:Te})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Shelf"}),s.jsx(Ir,{children:s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:Te.value??"",onChange:it=>{const jt=it.target.value?parseInt(it.target.value,10):null;console.log("ADD FORM: Shelf select changed to:",jt,"from raw value:",it.target.value),Te.onChange(jt)},onBlur:it=>{if(it.target.value){const jt=parseInt(it.target.value,10);console.log("ADD FORM: Shelf onBlur with value:",jt),Te.onChange(jt)}},disabled:!Zt.watch("locationId"),children:[s.jsx("option",{value:"",children:"Select a shelf"}),ce==null?void 0:ce.filter(it=>it.locationId===Zt.watch("locationId")).map(it=>s.jsx("option",{value:it.id,children:it.name},it.id))]})}),s.jsx(Bu,{children:"Optional - specific shelf within the location"}),s.jsx(Lr,{})]})})]}),s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ht,{className:"text-sm font-medium",children:"Additional Barcodes"}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Add multiple barcodes for different suppliers"})]}),Ie.length>0&&s.jsx("div",{className:"space-y-2",children:Ie.map((Te,it)=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded-md",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"text-sm font-mono",children:Te.barcode}),Te.supplier&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["(",Te.supplier,")"]}),Te.isPrimary&&s.jsx("div",{className:"text-xs bg-primary text-primary-foreground px-1 py-0.5 rounded",children:"Primary"})]}),s.jsx(Ee,{type:"button",variant:"ghost",size:"sm",onClick:()=>{Ge(jt=>jt.filter((lr,xr)=>xr!==it))},children:s.jsx(Oo,{className:"h-3 w-3"})})]},it))}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(Rt,{placeholder:"Enter barcode",value:W,onChange:Te=>Q(Te.target.value),className:"flex-1"}),s.jsx(Rt,{placeholder:"Supplier (optional)",value:Z,onChange:Te=>re(Te.target.value),className:"flex-1"}),s.jsx(Ee,{type:"button",onClick:()=>k(!0),variant:"outline",size:"sm",children:s.jsx(Z1,{className:"h-4 w-4"})})]}),s.jsxs(Ee,{type:"button",onClick:()=>{if(W.trim()){const Te={barcode:W.trim(),supplier:Z.trim()||"",isPrimary:Ie.length===0};Ge(it=>[...it,Te]),Q(""),re("")}},disabled:!W.trim(),variant:"outline",size:"sm",className:"w-full",children:[s.jsx(Si,{className:"h-4 w-4 mr-2"}),"Add Barcode"]})]})]}),s.jsxs(Pn,{className:"mt-6 flex justify-end gap-2",children:[s.jsx(Ee,{variant:"outline",type:"button",onClick:()=>{n(!1),Ge([]),Q(""),re("")},children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:nt.isPending,onClick:()=>{console.log("Add Part button clicked - will trigger form submission")},className:"bg-primary text-white hover:bg-primary/90",children:nt.isPending?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Si,{className:"mr-2 h-4 w-4"}),"Add Part"]})})]})]})})]})}),s.jsx(Qr,{open:i,onOpenChange:a,children:s.jsxs(qr,{className:"max-w-md sm:max-w-lg overflow-y-auto max-h-[90vh]",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Edit Part"}),s.jsx(gn,{children:"Update part information."})]}),s.jsx(Us,{...ne,children:s.jsxs("form",{onSubmit:ne.handleSubmit(gt),className:"space-y-4 pb-14",children:[s.jsx(Dr,{control:ne.control,name:"partId",render:({field:Te})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Part ID"}),s.jsx(Ir,{children:s.jsxs("div",{className:"flex",children:[s.jsx(Rt,{...Te,className:"rounded-r-none"}),s.jsx(Ee,{type:"button",className:"rounded-l-none",variant:"outline",onClick:()=>k(!0),children:s.jsx(Z1,{className:"h-4 w-4"})})]})}),s.jsx(Bu,{children:"Click the scan button to scan a barcode"}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:ne.control,name:"name",render:({field:Te})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Name"}),s.jsx(Ir,{children:s.jsx(Rt,{...Te})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:ne.control,name:"description",render:({field:Te})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Description"}),s.jsx(Ir,{children:s.jsx(Rt,{...Te})}),s.jsx(Lr,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Dr,{control:ne.control,name:"quantity",render:({field:Te})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Quantity"}),s.jsx(Ir,{children:s.jsx(Rt,{type:"number",...Te})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:ne.control,name:"reorderLevel",render:({field:Te})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Reorder Level"}),s.jsx(Ir,{children:s.jsx(Rt,{type:"number",...Te})}),s.jsx(Lr,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Dr,{control:ne.control,name:"unitCost",render:({field:Te})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Unit Cost ($)"}),s.jsx(Ir,{children:s.jsxs("div",{className:"relative rounded-md shadow-sm",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-500 sm:text-sm",children:"$"})}),s.jsx("input",{type:"text",inputMode:"decimal",className:"flex h-10 w-full rounded-md border border-input bg-background px-8 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"0.00",onChange:it=>{console.log("Edit form unit cost changed to:",it.target.value),Te.onChange(it.target.value)},value:Te.value||"",onFocus:it=>it.target.select(),onBlur:it=>{it.target.value===""?(console.log("Edit form unit cost blur with empty value - setting to '0'"),Te.onChange("0")):(console.log("Edit form unit cost blur event with value:",it.target.value),Te.onChange(it.target.value))}})]})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:ne.control,name:"locationId",render:({field:Te})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Storage Location"}),s.jsx(Ir,{children:s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:Te.value??"",onChange:it=>{const jt=it.target.value?parseInt(it.target.value,10):null;console.log("EDIT FORM: Location select changed to:",jt,"from raw value:",it.target.value),Te.onChange(jt),ne.setValue("shelfId",null)},onBlur:it=>{if(it.target.value){const jt=parseInt(it.target.value,10);console.log("EDIT FORM: Location onBlur with value:",jt),Te.onChange(jt)}},children:[s.jsx("option",{value:"",children:"Select a location"}),Ye==null?void 0:Ye.map(it=>s.jsx("option",{value:it.id,disabled:!it.active,children:it.name},it.id))]})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:ne.control,name:"shelfId",render:({field:Te})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Shelf"}),s.jsx(Ir,{children:s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:Te.value??"",onChange:it=>{const jt=it.target.value?parseInt(it.target.value,10):null;console.log("EDIT FORM: Shelf select changed to:",jt,"from raw value:",it.target.value),Te.onChange(jt)},onBlur:it=>{if(it.target.value){const jt=parseInt(it.target.value,10);console.log("EDIT FORM: Shelf onBlur with value:",jt),Te.onChange(jt)}},disabled:!ne.getValues().locationId,children:[s.jsx("option",{value:"",children:"Select a shelf"}),ce==null?void 0:ce.filter(it=>it.locationId===ne.getValues().locationId).map(it=>s.jsx("option",{value:it.id,children:it.name},it.id))]})}),s.jsx(Bu,{children:!ne.getValues().locationId&&"Select a location first"}),s.jsx(Lr,{})]})})]}),g&&s.jsxs("div",{className:"space-y-4 border-t pt-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Barcodes"}),s.jsxs(Ee,{type:"button",variant:"outline",size:"sm",onClick:()=>te(!0),children:[s.jsx(Si,{className:"h-4 w-4 mr-2"}),"Manage Barcodes"]})]}),s.jsx("div",{className:"space-y-2",children:Ne&&Ne.length>0?Ne.map(Te=>s.jsx("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-mono text-sm",children:Te.barcode}),Te.isPrimary&&s.jsx(ti,{variant:"secondary",className:"text-xs",children:"Primary"}),Te.supplier&&s.jsx(ti,{variant:"outline",className:"text-xs",children:Te.supplier})]})},Te.id)):s.jsx("p",{className:"text-sm text-muted-foreground",children:'No additional barcodes. Click "Manage Barcodes" to add alternative barcodes from different suppliers.'})})]}),s.jsxs(Pn,{className:"mt-6 flex justify-end gap-2",children:[s.jsx(Ee,{variant:"outline",type:"button",onClick:()=>{console.log("EDIT FORM CANCELLED - Current Values:",ne.getValues()),a(!1)},children:"Cancel"}),s.jsxs(Ee,{type:"submit",disabled:mt.isPending,onClick:()=>{console.log("PRE-SUBMISSION FORM VALUES:",{...ne.getValues(),locationId:ne.getValues().locationId,shelfId:ne.getValues().shelfId})},children:[mt.isPending&&s.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Part"]})]})]})})]})}),s.jsx(Qr,{open:o,onOpenChange:l,children:s.jsxs(qr,{className:"max-w-md sm:max-w-lg overflow-y-auto max-h-[90vh]",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Import Parts from Excel"}),s.jsx(gn,{children:"Upload an Excel file to import parts data. You can download a template first."})]}),s.jsxs("div",{className:"py-4",children:[s.jsx("input",{type:"file",accept:".xlsx,.xls",ref:le,className:"hidden",onChange:async Te=>{if(Te.target.files&&Te.target.files.length>0){const it=Te.target.files[0];p(!0),y(null);try{const jt=new FormData;jt.append("file",it);const lr=await fetch("/api/parts/import",{method:"POST",body:jt});if(!lr.ok)throw new Error("Failed to upload file");const xr=await lr.json();y(xr),xr.success&&(ur.invalidateQueries({queryKey:["/api/parts"]}),ur.invalidateQueries({queryKey:["/api/parts/low-stock"]}),Ae({title:"Import Successful",description:`Imported ${xr.importedRows} parts out of ${xr.totalRows} rows.`}))}catch(jt){console.error("Import error:",jt),Ae({title:"Import Failed",description:jt instanceof Error?jt.message:"Failed to import parts",variant:"destructive"})}finally{p(!1),le.current&&(le.current.value="")}}}}),!b&&!f&&s.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-lg p-10 text-center cursor-pointer hover:border-primary/50 transition-colors",onClick:()=>{var Te;return(Te=le.current)==null?void 0:Te.click()},children:[s.jsx(ed,{className:"h-10 w-10 mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Click to browse or drag and drop"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Supports Excel files (.xlsx, .xls)"})]}),f&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(cn,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),s.jsx("p",{children:"Uploading and processing file..."})]}),b&&s.jsxs("div",{className:"space-y-4 mt-2",children:[s.jsxs(pp,{variant:b.errors.length>0?"destructive":"default",children:[s.jsx(mp,{children:"Import Results"}),s.jsxs(gp,{children:[s.jsxs("p",{children:["Total rows: ",b.totalRows]}),s.jsxs("p",{children:["Imported parts: ",b.importedRows]}),s.jsxs("p",{children:["Errors: ",b.errors.length]})]})]}),b.errors.length>0&&s.jsxs("div",{className:"max-h-40 overflow-y-auto border rounded-md p-2",children:[s.jsx("p",{className:"font-semibold mb-1",children:"Error details:"}),s.jsx("ul",{className:"text-sm space-y-1",children:b.errors.map((Te,it)=>s.jsxs("li",{className:"text-destructive",children:["Row ",Te.row,": ",Te.message]},it))})]}),s.jsx(Ee,{className:"w-full",variant:"outline",onClick:()=>{y(null),l(!1)},children:"Close"}),s.jsx(Ee,{className:"w-full",onClick:()=>{var Te;y(null),(Te=le.current)==null||Te.click()},children:"Upload Another File"})]})]})]})}),s.jsx(Qh,{open:!!_,onOpenChange:()=>N(null),children:s.jsxs(hf,{children:[s.jsxs(pf,{children:[s.jsx(gf,{children:"Delete Part"}),s.jsxs(xf,{children:["Are you sure you want to delete ",s.jsx("span",{className:"font-semibold",children:_==null?void 0:_.name}),"? This action cannot be undone."]})]}),s.jsxs(mf,{children:[s.jsx(yf,{children:"Cancel"}),s.jsxs(vf,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>{_&&(At.mutate(_.partId),N(null))},disabled:At.isPending,children:[At.isPending?s.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Delete"]})]})]})}),s.jsx(Qr,{open:c&&g!==null&&E.length===0,onOpenChange:Te=>!Te&&u(!1),children:s.jsxs(qr,{className:"max-w-md",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Print Barcode"}),s.jsxs(gn,{children:["Print barcode for ",(g==null?void 0:g.name)||"selected part","."]})]}),s.jsx("div",{className:"py-6 flex flex-col items-center",children:g&&s.jsx(PPe,{value:g.partId,itemName:g.name,height:80,onPrintComplete:()=>{u(!1),x(null)}})}),s.jsx(Pn,{children:s.jsx(Ee,{variant:"outline",onClick:()=>u(!1),children:"Close"})})]})}),s.jsx(Qr,{open:c&&E.length>0,onOpenChange:Te=>!Te&&u(!1),children:s.jsxs(qr,{className:"max-w-md",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Print Multiple Barcodes"}),s.jsxs(gn,{children:["Print barcodes for ",E.length," selected parts."]})]}),s.jsxs("div",{className:"py-6",children:[s.jsx(kPe,{items:E.map(Te=>({value:Te.partId,name:Te.name})),title:`${E.length} Barcodes - ONU Parts Tracker`,onPrintComplete:()=>{u(!1)}}),s.jsxs("div",{className:"mt-4 text-sm text-muted-foreground",children:[s.jsx("p",{className:"mb-2",children:"Selected parts:"}),s.jsx("div",{className:"max-h-40 overflow-y-auto border rounded-md p-2",children:s.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[E.slice(0,15).map(Te=>s.jsxs("li",{children:[s.jsx("span",{className:"font-medium",children:Te.partId})," - ",Te.name]},Te.id)),E.length>15&&s.jsxs("li",{className:"text-muted-foreground",children:["...and ",E.length-15," more"]})]})})]})]}),s.jsxs(Pn,{className:"flex justify-between",children:[s.jsx(Ee,{variant:"outline",onClick:()=>C([]),children:"Clear Selection"}),s.jsx(Ee,{variant:"outline",onClick:()=>u(!1),children:"Close"})]})]})}),s.jsx(Qr,{open:D,onOpenChange:k,children:s.jsxs(qr,{className:"sm:max-w-md",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Scan Barcode"}),s.jsx(gn,{children:"Scan a barcode to fill in the Part ID field"})]}),s.jsx(L5,{onCodeDetected:Te=>{B(Te),k(!1);const it=ye==null?void 0:ye.find(jt=>jt.partId===Te);if(it)i&&g?(ne.setValue("partId",Te),Ae({title:"Existing Part Detected",description:`This barcode is already registered as: ${it.name}`})):r&&(Zt.setValue("partId",Te),Ae({title:"Existing Part Detected",description:`This barcode is already registered as: ${it.name}`}));else{if(i&&g)ne.setValue("partId",Te);else if(r){const jt=Zt.getValues("partId");!jt||jt.trim()===""?Zt.setValue("partId",Te):Q(Te)}Ae({title:"New Barcode",description:"This appears to be a new barcode. Please fill in the remaining fields."})}},onClose:()=>k(!1)})]})}),s.jsx(Qr,{open:J,onOpenChange:ge,children:s.jsxs(qr,{className:"sm:max-w-md",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Search by Barcode"}),s.jsx(gn,{children:"Scan a barcode to search for parts in inventory"})]}),s.jsx(L5,{onCodeDetected:Te=>{ar.mutate(Te)},onClose:()=>ge(!1)}),ar.isPending&&s.jsxs("div",{className:"flex items-center justify-center p-4",children:[s.jsx(cn,{className:"h-6 w-6 animate-spin mr-2"}),"Searching for part..."]})]})}),s.jsx(EDe,{open:G,onOpenChange:F}),s.jsx(Qr,{open:!!U,onOpenChange:()=>q(null),children:s.jsxs(qr,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsxs(Gr,{children:[s.jsxs(Yr,{children:["Manage Barcodes - ",U==null?void 0:U.name]}),s.jsx(gn,{children:"Add, edit, and manage multiple barcodes for this part. Different suppliers can have different barcodes."})]}),U&&s.jsx(fF,{partId:U.id,partNumber:U.partId})]})}),s.jsx(Qr,{open:ee,onOpenChange:te,children:s.jsxs(qr,{className:"max-w-3xl",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Manage Barcodes"}),s.jsx(gn,{children:g?`Manage barcodes for ${g.name} (${g.partId})`:"Manage barcodes for this part"})]}),g&&s.jsx(fF,{partId:g.id,partNumber:g.partId,showAllBarcodes:!1}),s.jsx(Pn,{children:s.jsx(Ee,{variant:"outline",onClick:()=>te(!1),children:"Close"})})]})})]})}const CF=e=>{let t;const r=new Set,n=(u,f)=>{const p=typeof u=="function"?u(t):u;if(!Object.is(p,t)){const g=t;t=f??(typeof p!="object"||p===null)?p:Object.assign({},t,p),r.forEach(x=>x(t,g))}},i=()=>t,l={setState:n,getState:i,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=t=e(n,i,l);return l},GRe=e=>e?CF(e):CF,YRe=e=>e;function XRe(e,t=YRe){const r=qe.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return qe.useDebugValue(r),r}const jF=e=>{const t=GRe(e),r=n=>XRe(t,n);return Object.assign(r,t),r},KRe=e=>e?jF(e):jF,kK=KRe((e,t)=>({socket:null,status:"disconnected",lastMessage:null,connect:()=>{if(!(t().status==="connected"||t().status==="connecting"))try{e({status:"connecting"});const n=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;console.log(`Connecting to WebSocket server at ${n}`);const i=new WebSocket(n);i.onopen=()=>{console.log("WebSocket connection established"),e({status:"connected",socket:i}),i.send(JSON.stringify({type:"ping",timestamp:new Date().toISOString()}))},i.onmessage=a=>{try{const o=JSON.parse(a.data);console.log("WebSocket message received:",o),e({lastMessage:o})}catch(o){console.error("Error parsing WebSocket message:",o)}},i.onclose=()=>{console.log("WebSocket connection closed"),e({status:"disconnected",socket:null}),setTimeout(()=>{t().connect()},5e3)},i.onerror=a=>{console.error("WebSocket error:",a)},e({socket:i})}catch(r){console.error("Error connecting to WebSocket server:",r),e({status:"disconnected",socket:null})}},disconnect:()=>{const{socket:r}=t();r&&(console.log("Closing WebSocket connection"),r.close(),e({status:"disconnected",socket:null}))},sendMessage:r=>{const{socket:n,status:i}=t();if(n&&i==="connected")try{n.send(JSON.stringify(r))}catch(a){console.error("Error sending WebSocket message:",a)}else console.warn("Cannot send message - WebSocket is not connected")}}));function MK(){return kK()}function QRe(){kK.getState().connect()}function xn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function il(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function _o(e,t){const r=xn(e);return isNaN(t)?il(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function fu(e,t){const r=xn(e);if(isNaN(t))return il(e,NaN);if(!t)return r;const n=r.getDate(),i=il(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const a=i.getDate();return n>=a?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const o8=6048e5,ZRe=864e5,DK=6e4,LK=36e5,_b=43200,TF=1440;let JRe={};function hx(){return JRe}function od(e,t){var l,c,u,f;const r=hx(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=xn(e),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Up(e){return od(e,{weekStartsOn:1})}function RK(e){const t=xn(e),r=t.getFullYear(),n=il(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Up(n),a=il(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Up(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Pg(e){const t=xn(e);return t.setHours(0,0,0,0),t}function kg(e){const t=xn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function qu(e,t){const r=Pg(e),n=Pg(t),i=+r-kg(r),a=+n-kg(n);return Math.round((i-a)/ZRe)}function e7e(e){const t=RK(e),r=il(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Up(r)}function lT(e,t){const r=t*7;return _o(e,r)}function t7e(e,t){return fu(e,t*12)}function r7e(e){let t;return e.forEach(function(r){const n=xn(r);(t===void 0||t<n||isNaN(Number(n)))&&(t=n)}),t||new Date(NaN)}function n7e(e){let t;return e.forEach(r=>{const n=xn(r);(!t||t>n||isNaN(+n))&&(t=n)}),t||new Date(NaN)}function rS(e,t){const r=xn(e),n=xn(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function FK(e){return il(e,Date.now())}function jo(e,t){const r=Pg(e),n=Pg(t);return+r==+n}function l8(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function BK(e){if(!l8(e)&&typeof e!="number")return!1;const t=xn(e);return!isNaN(Number(t))}function Mg(e,t){const r=xn(e),n=xn(t),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function i7e(e,t,r){const n=od(e,r),i=od(t,r),a=+n-kg(n),o=+i-kg(i);return Math.round((a-o)/o8)}function a7e(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function s7e(e,t){return+xn(e)-+xn(t)}function o7e(e){const t=xn(e);return t.setHours(23,59,59,999),t}function mN(e){const t=xn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function l7e(e){const t=xn(e);return+o7e(t)==+mN(t)}function c7e(e,t){const r=xn(e),n=xn(t),i=rS(r,n),a=Math.abs(Mg(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);let l=rS(r,n)===-i;l7e(xn(e))&&a===1&&rS(e,n)===1&&(l=!1),o=i*(a-Number(l))}return o===0?0:o}function u7e(e,t,r){const n=s7e(e,t)/1e3;return a7e(r==null?void 0:r.roundingMethod)(n)}function rl(e){const t=xn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function $K(e){const t=xn(e),r=il(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function c8(e,t){var l,c,u,f;const r=hx(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=xn(e),a=i.getDay(),o=(a<n?-7:0)+6-(a-n);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function UK(e){return c8(e,{weekStartsOn:1})}const d7e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},f7e=(e,t,r)=>{let n;const i=d7e[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function OA(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const h7e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},p7e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},m7e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},g7e={date:OA({formats:h7e,defaultWidth:"full"}),time:OA({formats:p7e,defaultWidth:"full"}),dateTime:OA({formats:m7e,defaultWidth:"full"})},x7e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},v7e=(e,t,r,n)=>x7e[e];function ev(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const y7e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},w7e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},b7e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},S7e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},N7e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},E7e=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},A7e={ordinalNumber:E7e,era:ev({values:y7e,defaultWidth:"wide"}),quarter:ev({values:w7e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ev({values:b7e,defaultWidth:"wide"}),day:ev({values:S7e,defaultWidth:"wide"}),dayPeriod:ev({values:_7e,defaultWidth:"wide",formattingValues:N7e,defaultFormattingWidth:"wide"})};function tv(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?j7e(l,p=>p.test(o)):C7e(l,p=>p.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function C7e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function j7e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function T7e(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const O7e=/^(\d+)(th|st|nd|rd)?/i,I7e=/\d+/i,P7e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},k7e={any:[/^b/i,/^(a|c)/i]},M7e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},D7e={any:[/1/i,/2/i,/3/i,/4/i]},L7e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},R7e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},F7e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},B7e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$7e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},U7e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},z7e={ordinalNumber:T7e({matchPattern:O7e,parsePattern:I7e,valueCallback:e=>parseInt(e,10)}),era:tv({matchPatterns:P7e,defaultMatchWidth:"wide",parsePatterns:k7e,defaultParseWidth:"any"}),quarter:tv({matchPatterns:M7e,defaultMatchWidth:"wide",parsePatterns:D7e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:tv({matchPatterns:L7e,defaultMatchWidth:"wide",parsePatterns:R7e,defaultParseWidth:"any"}),day:tv({matchPatterns:F7e,defaultMatchWidth:"wide",parsePatterns:B7e,defaultParseWidth:"any"}),dayPeriod:tv({matchPatterns:$7e,defaultMatchWidth:"any",parsePatterns:U7e,defaultParseWidth:"any"})},u8={code:"en-US",formatDistance:f7e,formatLong:g7e,formatRelative:v7e,localize:A7e,match:z7e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function V7e(e){const t=xn(e);return qu(t,$K(t))+1}function zK(e){const t=xn(e),r=+Up(t)-+e7e(t);return Math.round(r/o8)+1}function VK(e,t){var f,p,g,x;const r=xn(e),n=r.getFullYear(),i=hx(),a=(t==null?void 0:t.firstWeekContainsDate)??((p=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(g=i.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??1,o=il(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=od(o,t),c=il(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=od(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function W7e(e,t){var l,c,u,f;const r=hx(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=VK(e,t),a=il(e,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),od(a,t)}function WK(e,t){const r=xn(e),n=+od(r,t)-+W7e(r,t);return Math.round(n/o8)+1}function vi(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Xf={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return vi(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):vi(r+1,2)},d(e,t){return vi(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return vi(e.getHours()%12||12,t.length)},H(e,t){return vi(e.getHours(),t.length)},m(e,t){return vi(e.getMinutes(),t.length)},s(e,t){return vi(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return vi(i,t.length)}},O1={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},OF={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Xf.y(e,t)},Y:function(e,t,r,n){const i=VK(e,n),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return vi(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):vi(a,t.length)},R:function(e,t){const r=RK(e);return vi(r,t.length)},u:function(e,t){const r=e.getFullYear();return vi(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return vi(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return vi(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Xf.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return vi(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=WK(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):vi(i,t.length)},I:function(e,t,r){const n=zK(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):vi(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Xf.d(e,t)},D:function(e,t,r){const n=V7e(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):vi(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return vi(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return vi(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return vi(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=O1.noon:n===0?i=O1.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=O1.evening:n>=12?i=O1.afternoon:n>=4?i=O1.morning:i=O1.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Xf.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Xf.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):vi(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):vi(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xf.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Xf.s(e,t)},S:function(e,t){return Xf.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return PF(n);case"XXXX":case"XX":return F0(n);case"XXXXX":case"XXX":default:return F0(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return PF(n);case"xxxx":case"xx":return F0(n);case"xxxxx":case"xxx":default:return F0(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+IF(n,":");case"OOOO":default:return"GMT"+F0(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+IF(n,":");case"zzzz":default:return"GMT"+F0(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return vi(n,t.length)},T:function(e,t,r){const n=e.getTime();return vi(n,t.length)}};function IF(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+t+vi(a,2)}function PF(e,t){return e%60===0?(e>0?"-":"+")+vi(Math.abs(e)/60,2):F0(e,t)}function F0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=vi(Math.trunc(n/60),2),a=vi(n%60,2);return r+i+t+a}const kF=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},HK=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},H7e=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return kF(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",kF(n,t)).replace("{{time}}",HK(i,t))},q7e={p:HK,P:H7e},G7e=/^D+$/,Y7e=/^Y+$/,X7e=["D","DD","YY","YYYY"];function K7e(e){return G7e.test(e)}function Q7e(e){return Y7e.test(e)}function Z7e(e,t,r){const n=J7e(e,t,r);if(console.warn(n),X7e.includes(e))throw new RangeError(n)}function J7e(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const eFe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tFe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rFe=/^'([^]*?)'?$/,nFe=/''/g,iFe=/[a-zA-Z]/;function Kr(e,t,r){var f,p,g,x,b,y,_,N;const n=hx(),i=(r==null?void 0:r.locale)??n.locale??u8,a=(r==null?void 0:r.firstWeekContainsDate)??((p=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((x=(g=n.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((y=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:y.weekStartsOn)??n.weekStartsOn??((N=(_=n.locale)==null?void 0:_.options)==null?void 0:N.weekStartsOn)??0,l=xn(e);if(!BK(l))throw new RangeError("Invalid time value");let c=t.match(tFe).map(E=>{const C=E[0];if(C==="p"||C==="P"){const I=q7e[C];return I(E,i.formatLong)}return E}).join("").match(eFe).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const C=E[0];if(C==="'")return{isToken:!1,value:aFe(E)};if(OF[C])return{isToken:!0,value:E};if(C.match(iFe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:E}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(E=>{if(!E.isToken)return E.value;const C=E.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Q7e(C)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&K7e(C))&&Z7e(C,t,String(e));const I=OF[C[0]];return I(l,C,i.localize,u)}).join("")}function aFe(e){const t=e.match(rFe);return t?t[1].replace(nFe,"'"):e}function sFe(e,t,r){const n=hx(),i=(r==null?void 0:r.locale)??n.locale??u8,a=2520,o=rS(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=xn(t),u=xn(e)):(c=xn(e),u=xn(t));const f=u7e(u,c),p=(kg(u)-kg(c))/1e3,g=Math.round((f-p)/60);let x;if(g<2)return r!=null&&r.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,l):f<10?i.formatDistance("lessThanXSeconds",10,l):f<20?i.formatDistance("lessThanXSeconds",20,l):f<40?i.formatDistance("halfAMinute",0,l):f<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):g===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",g,l);if(g<45)return i.formatDistance("xMinutes",g,l);if(g<90)return i.formatDistance("aboutXHours",1,l);if(g<TF){const b=Math.round(g/60);return i.formatDistance("aboutXHours",b,l)}else{if(g<a)return i.formatDistance("xDays",1,l);if(g<_b){const b=Math.round(g/TF);return i.formatDistance("xDays",b,l)}else if(g<_b*2)return x=Math.round(g/_b),i.formatDistance("aboutXMonths",x,l)}if(x=c7e(u,c),x<12){const b=Math.round(g/_b);return i.formatDistance("xMonths",b,l)}else{const b=x%12,y=Math.trunc(x/12);return b<3?i.formatDistance("aboutXYears",y,l):b<9?i.formatDistance("overXYears",y,l):i.formatDistance("almostXYears",y+1,l)}}function MF(e,t){return sFe(e,FK(e),t)}function oFe(e){const t=xn(e),r=t.getFullYear(),n=t.getMonth(),i=il(e,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function lFe(e){return Math.trunc(+xn(e)/1e3)}function cFe(e){const t=xn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function uFe(e,t){return i7e(cFe(e),rl(e),t)+1}function cT(e,t){const r=xn(e),n=xn(t);return r.getTime()>n.getTime()}function qK(e,t){const r=xn(e),n=xn(t);return+r<+n}function gN(e,t){const r=xn(e),n=xn(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function dFe(e,t){const r=xn(e),n=xn(t);return r.getFullYear()===n.getFullYear()}function fFe(e){return jo(e,FK(e))}function IA(e,t){return _o(e,-t)}function uT(e,t){const n=gFe(e);let i;if(n.date){const c=xFe(n.date,2);i=vFe(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let o=0,l;if(n.time&&(o=yFe(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=wFe(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(a+o+l)}const Nb={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},hFe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,pFe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,mFe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function gFe(e){const t={},r=e.split(Nb.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Nb.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Nb.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=Nb.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function xFe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function vFe(e,t){if(t===null)return new Date(NaN);const r=e.match(hFe);if(!r)return new Date(NaN);const n=!!r[4],i=rv(r[1]),a=rv(r[2])-1,o=rv(r[3]),l=rv(r[4]),c=rv(r[5])-1;if(n)return EFe(t,l,c)?bFe(t,l,c):new Date(NaN);{const u=new Date(0);return!_Fe(t,a,o)||!NFe(t,i)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(i,o)),u)}}function rv(e){return e?parseInt(e):1}function yFe(e){const t=e.match(pFe);if(!t)return NaN;const r=PA(t[1]),n=PA(t[2]),i=PA(t[3]);return AFe(r,n,i)?r*LK+n*DK+i*1e3:NaN}function PA(e){return e&&parseFloat(e.replace(",","."))||0}function wFe(e){if(e==="Z")return 0;const t=e.match(mFe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return CFe(n,i)?r*(n*LK+i*DK):NaN}function bFe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,a=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const SFe=[31,null,31,30,31,30,31,31,30,31,30,31];function GK(e){return e%400===0||e%4===0&&e%100!==0}function _Fe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(SFe[t]||(GK(e)?29:28))}function NFe(e,t){return t>=1&&t<=(GK(e)?366:365)}function EFe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function AFe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function CFe(e,t){return t>=0&&t<=59}function kA(e,t){const r=xn(e),n=r.getFullYear(),i=r.getDate(),a=il(e,0);a.setFullYear(n,t,15),a.setHours(0,0,0,0);const o=oFe(a);return r.setMonth(t,Math.min(i,o)),r}function DF(e,t){const r=xn(e);return isNaN(+r)?il(e,NaN):(r.setFullYear(t),r)}const hc=O.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:ir("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));hc.displayName="Textarea";var d8="Popover",[YK,KXe]=pu(d8,[dx]),K2=dx(),[jFe,p0]=YK(d8),XK=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,l=K2(t),c=O.useRef(null),[u,f]=O.useState(!1),[p=!1,g]=lu({prop:n,defaultProp:i,onChange:a});return s.jsx(z6,{...l,children:s.jsx(jFe,{scope:t,contentId:iu(),triggerRef:c,open:p,onOpenChange:g,onOpenToggle:O.useCallback(()=>g(x=>!x),[g]),hasCustomAnchor:u,onCustomAnchorAdd:O.useCallback(()=>f(!0),[]),onCustomAnchorRemove:O.useCallback(()=>f(!1),[]),modal:o,children:r})})};XK.displayName=d8;var KK="PopoverAnchor",TFe=O.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=p0(KK,r),a=K2(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return O.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(J_,{...a,...n,ref:t})});TFe.displayName=KK;var QK="PopoverTrigger",ZK=O.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=p0(QK,r),a=K2(r),o=kn(t,i.triggerRef),l=s.jsx(Wr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":nQ(i.open),...n,ref:o,onClick:Nr(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:s.jsx(J_,{asChild:!0,...a,children:l})});ZK.displayName=QK;var f8="PopoverPortal",[OFe,IFe]=YK(f8,{forceMount:void 0}),JK=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,a=p0(f8,t);return s.jsx(OFe,{scope:t,forceMount:r,children:s.jsx(Do,{present:r||a.open,children:s.jsx(j2,{asChild:!0,container:i,children:n})})})};JK.displayName=f8;var Dg="PopoverContent",eQ=O.forwardRef((e,t)=>{const r=IFe(Dg,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,a=p0(Dg,e.__scopePopover);return s.jsx(Do,{present:n||a.open,children:a.modal?s.jsx(PFe,{...i,ref:t}):s.jsx(kFe,{...i,ref:t})})});eQ.displayName=Dg;var PFe=O.forwardRef((e,t)=>{const r=p0(Dg,e.__scopePopover),n=O.useRef(null),i=kn(t,n),a=O.useRef(!1);return O.useEffect(()=>{const o=n.current;if(o)return WI(o)},[]),s.jsx(R_,{as:af,allowPinchZoom:!0,children:s.jsx(tQ,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nr(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Nr(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Nr(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),kFe=O.forwardRef((e,t)=>{const r=p0(Dg,e.__scopePopover),n=O.useRef(!1),i=O.useRef(!1);return s.jsx(tQ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),tQ=O.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...p}=e,g=p0(Dg,r),x=K2(r);return VI(),s.jsx(D_,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(Wg,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:s.jsx(V6,{"data-state":nQ(g.open),role:"dialog",id:g.contentId,...x,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),rQ="PopoverClose",MFe=O.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=p0(rQ,r);return s.jsx(Wr.button,{type:"button",...n,ref:t,onClick:Nr(e.onClick,()=>i.onOpenChange(!1))})});MFe.displayName=rQ;var DFe="PopoverArrow",LFe=O.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=K2(r);return s.jsx(W6,{...i,...n,ref:t})});LFe.displayName=DFe;function nQ(e){return e?"open":"closed"}var RFe=XK,FFe=ZK,BFe=JK,iQ=eQ;const dT=RFe,fT=FFe,t4=O.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>s.jsx(BFe,{children:s.jsx(iQ,{ref:i,align:t,sideOffset:r,className:ir("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));t4.displayName=iQ.displayName;var ln=function(){return ln=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},ln.apply(this,arguments)};function $Fe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function aQ(e,t,r){for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Q2(e){return e.mode==="multiple"}function Z2(e){return e.mode==="range"}function xN(e){return e.mode==="single"}var UFe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function zFe(e,t){return Kr(e,"LLLL y",t)}function VFe(e,t){return Kr(e,"d",t)}function WFe(e,t){return Kr(e,"LLLL",t)}function HFe(e){return"".concat(e)}function qFe(e,t){return Kr(e,"cccccc",t)}function GFe(e,t){return Kr(e,"yyyy",t)}var YFe=Object.freeze({__proto__:null,formatCaption:zFe,formatDay:VFe,formatMonthCaption:WFe,formatWeekNumber:HFe,formatWeekdayName:qFe,formatYearCaption:GFe}),XFe=function(e,t,r){return Kr(e,"do MMMM (EEEE)",r)},KFe=function(){return"Month: "},QFe=function(){return"Go to next month"},ZFe=function(){return"Go to previous month"},JFe=function(e,t){return Kr(e,"cccc",t)},e9e=function(e){return"Week n. ".concat(e)},t9e=function(){return"Year: "},r9e=Object.freeze({__proto__:null,labelDay:XFe,labelMonthDropdown:KFe,labelNext:QFe,labelPrevious:ZFe,labelWeekNumber:e9e,labelWeekday:JFe,labelYearDropdown:t9e});function n9e(){var e="buttons",t=UFe,r=u8,n={},i={},a=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:YFe,labels:r9e,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:a,styles:o,today:l,mode:"default"}}function i9e(e){var t=e.fromYear,r=e.toYear,n=e.fromMonth,i=e.toMonth,a=e.fromDate,o=e.toDate;return n?a=rl(n):t&&(a=new Date(t,0,1)),i?o=mN(i):r&&(o=new Date(r,11,31)),{fromDate:a?Pg(a):void 0,toDate:o?Pg(o):void 0}}var sQ=O.createContext(void 0);function a9e(e){var t,r=e.initialProps,n=n9e(),i=i9e(r),a=i.fromDate,o=i.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:n.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(xN(r)||Q2(r)||Z2(r))&&(c=r.onSelect);var u=ln(ln(ln({},n),r),{captionLayout:l,classNames:ln(ln({},n.classNames),r.classNames),components:ln({},r.components),formatters:ln(ln({},n.formatters),r.formatters),fromDate:a,labels:ln(ln({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:ln(ln({},n.modifiers),r.modifiers),modifiersClassNames:ln(ln({},n.modifiersClassNames),r.modifiersClassNames),onSelect:c,styles:ln(ln({},n.styles),r.styles),toDate:o});return s.jsx(sQ.Provider,{value:u,children:e.children})}function Vi(){var e=O.useContext(sQ);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function oQ(e){var t=Vi(),r=t.locale,n=t.classNames,i=t.styles,a=t.formatters.formatCaption;return s.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:r})})}function s9e(e){return s.jsx("svg",ln({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function lQ(e){var t,r,n=e.onChange,i=e.value,a=e.children,o=e.caption,l=e.className,c=e.style,u=Vi(),f=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:s9e;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:n,children:a}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(f,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function o9e(e){var t,r=Vi(),n=r.fromDate,i=r.toDate,a=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,c=r.classNames,u=r.components,f=r.labels.labelMonthDropdown;if(!n)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});var p=[];if(dFe(n,i))for(var g=rl(n),x=n.getMonth();x<=i.getMonth();x++)p.push(kA(g,x));else for(var g=rl(new Date),x=0;x<=11;x++)p.push(kA(g,x));var b=function(_){var N=Number(_.target.value),E=kA(rl(e.displayMonth),N);e.onChange(E)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:lQ;return s.jsx(y,{name:"months","aria-label":f(),className:c.dropdown_month,style:a.dropdown_month,onChange:b,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:p.map(function(_){return s.jsx("option",{value:_.getMonth(),children:l(_,{locale:o})},_.getMonth())})})}function l9e(e){var t,r=e.displayMonth,n=Vi(),i=n.fromDate,a=n.toDate,o=n.locale,l=n.styles,c=n.classNames,u=n.components,f=n.formatters.formatYearCaption,p=n.labels.labelYearDropdown,g=[];if(!i)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});for(var x=i.getFullYear(),b=a.getFullYear(),y=x;y<=b;y++)g.push(DF($K(new Date),y));var _=function(E){var C=DF(rl(r),Number(E.target.value));e.onChange(C)},N=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:lQ;return s.jsx(N,{name:"years","aria-label":p(),className:c.dropdown_year,style:l.dropdown_year,onChange:_,value:r.getFullYear(),caption:f(r,{locale:o}),children:g.map(function(E){return s.jsx("option",{value:E.getFullYear(),children:f(E,{locale:o})},E.getFullYear())})})}function c9e(e,t){var r=O.useState(e),n=r[0],i=r[1],a=t===void 0?n:t;return[a,i]}function u9e(e){var t=e.month,r=e.defaultMonth,n=e.today,i=t||r||n||new Date,a=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&Mg(a,i)<0){var u=-1*(c-1);i=fu(a,u)}return o&&Mg(i,o)<0&&(i=o),rl(i)}function d9e(){var e=Vi(),t=u9e(e),r=c9e(t,e.month),n=r[0],i=r[1],a=function(o){var l;if(!e.disableNavigation){var c=rl(o);i(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[n,a]}function f9e(e,t){for(var r=t.reverseMonths,n=t.numberOfMonths,i=rl(e),a=rl(fu(i,n)),o=Mg(a,i),l=[],c=0;c<o;c++){var u=fu(i,c);l.push(u)}return r&&(l=l.reverse()),l}function h9e(e,t){if(!t.disableNavigation){var r=t.toDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=n?a:1,l=rl(e);if(!r)return fu(l,o);var c=Mg(r,e);if(!(c<a))return fu(l,o)}}function p9e(e,t){if(!t.disableNavigation){var r=t.fromDate,n=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=n?a:1,l=rl(e);if(!r)return fu(l,-o);var c=Mg(l,r);if(!(c<=0))return fu(l,-o)}}var cQ=O.createContext(void 0);function m9e(e){var t=Vi(),r=d9e(),n=r[0],i=r[1],a=f9e(n,t),o=h9e(n,t),l=p9e(n,t),c=function(p){return a.some(function(g){return gN(p,g)})},u=function(p,g){c(p)||(g&&qK(p,g)?i(fu(p,1+t.numberOfMonths*-1)):i(p))},f={currentMonth:n,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(cQ.Provider,{value:f,children:e.children})}function J2(){var e=O.useContext(cQ);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function LF(e){var t,r=Vi(),n=r.classNames,i=r.styles,a=r.components,o=J2().goToMonth,l=function(f){o(fu(f,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:oQ,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[s.jsx("div",{className:n.vhidden,children:u}),s.jsx(o9e,{onChange:l,displayMonth:e.displayMonth}),s.jsx(l9e,{onChange:l,displayMonth:e.displayMonth})]})}function g9e(e){return s.jsx("svg",ln({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function x9e(e){return s.jsx("svg",ln({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var r4=O.forwardRef(function(e,t){var r=Vi(),n=r.classNames,i=r.styles,a=[n.button_reset,n.button];e.className&&a.push(e.className);var o=a.join(" "),l=ln(ln({},i.button_reset),i.button);return e.style&&Object.assign(l,e.style),s.jsx("button",ln({},e,{ref:t,type:"button",className:o,style:l}))});function v9e(e){var t,r,n=Vi(),i=n.dir,a=n.locale,o=n.classNames,l=n.styles,c=n.labels,u=c.labelPrevious,f=c.labelNext,p=n.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var g=u(e.previousMonth,{locale:a}),x=[o.nav_button,o.nav_button_previous].join(" "),b=f(e.nextMonth,{locale:a}),y=[o.nav_button,o.nav_button_next].join(" "),_=(t=p==null?void 0:p.IconRight)!==null&&t!==void 0?t:x9e,N=(r=p==null?void 0:p.IconLeft)!==null&&r!==void 0?r:g9e;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(r4,{name:"previous-month","aria-label":g,className:x,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?s.jsx(_,{className:o.nav_icon,style:l.nav_icon}):s.jsx(N,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(r4,{name:"next-month","aria-label":b,className:y,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?s.jsx(N,{className:o.nav_icon,style:l.nav_icon}):s.jsx(_,{className:o.nav_icon,style:l.nav_icon})})]})}function RF(e){var t=Vi().numberOfMonths,r=J2(),n=r.previousMonth,i=r.nextMonth,a=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(b){return gN(e.displayMonth,b)}),c=l===0,u=l===o.length-1,f=t>1&&(c||!u),p=t>1&&(u||!c),g=function(){n&&a(n)},x=function(){i&&a(i)};return s.jsx(v9e,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:p,nextMonth:i,previousMonth:n,onPreviousClick:g,onNextClick:x})}function y9e(e){var t,r=Vi(),n=r.classNames,i=r.disableNavigation,a=r.styles,o=r.captionLayout,l=r.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:oQ,u;return i?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(LF,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(LF,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(RF,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(RF,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:n.caption,style:a.caption,children:u})}function w9e(e){var t=Vi(),r=t.footer,n=t.styles,i=t.classNames.tfoot;return r?s.jsx("tfoot",{className:i,style:n.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:r})})}):s.jsx(s.Fragment,{})}function b9e(e,t,r){for(var n=r?Up(new Date):od(new Date,{locale:e,weekStartsOn:t}),i=[],a=0;a<7;a++){var o=_o(n,a);i.push(o)}return i}function S9e(){var e=Vi(),t=e.classNames,r=e.styles,n=e.showWeekNumber,i=e.locale,a=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=b9e(i,a,o);return s.jsxs("tr",{style:r.head_row,className:t.head_row,children:[n&&s.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(f,p){return s.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":c(f,{locale:i}),children:l(f,{locale:i})},p)})]})}function _9e(){var e,t=Vi(),r=t.classNames,n=t.styles,i=t.components,a=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:S9e;return s.jsx("thead",{style:n.head,className:r.head,children:s.jsx(a,{})})}function N9e(e){var t=Vi(),r=t.locale,n=t.formatters.formatDay;return s.jsx(s.Fragment,{children:n(e.date,{locale:r})})}var h8=O.createContext(void 0);function E9e(e){if(!Q2(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(h8.Provider,{value:t,children:e.children})}return s.jsx(A9e,{initialProps:e.initialProps,children:e.children})}function A9e(e){var t=e.initialProps,r=e.children,n=t.selected,i=t.min,a=t.max,o=function(u,f,p){var g,x;(g=t.onDayClick)===null||g===void 0||g.call(t,u,f,p);var b=!!(f.selected&&i&&(n==null?void 0:n.length)===i);if(!b){var y=!!(!f.selected&&a&&(n==null?void 0:n.length)===a);if(!y){var _=n?aQ([],n):[];if(f.selected){var N=_.findIndex(function(E){return jo(u,E)});_.splice(N,1)}else _.push(u);(x=t.onSelect)===null||x===void 0||x.call(t,_,u,f,p)}}},l={disabled:[]};n&&l.disabled.push(function(u){var f=a&&n.length>a-1,p=n.some(function(g){return jo(g,u)});return!!(f&&!p)});var c={selected:n,onDayClick:o,modifiers:l};return s.jsx(h8.Provider,{value:c,children:r})}function p8(){var e=O.useContext(h8);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function C9e(e,t){var r=t||{},n=r.from,i=r.to;return n&&i?jo(i,e)&&jo(n,e)?void 0:jo(i,e)?{from:i,to:void 0}:jo(n,e)?void 0:cT(n,e)?{from:e,to:i}:{from:n,to:e}:i?cT(e,i)?{from:i,to:e}:{from:e,to:i}:n?qK(e,n)?{from:e,to:n}:{from:n,to:e}:{from:e,to:void 0}}var m8=O.createContext(void 0);function j9e(e){if(!Z2(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(m8.Provider,{value:t,children:e.children})}return s.jsx(T9e,{initialProps:e.initialProps,children:e.children})}function T9e(e){var t=e.initialProps,r=e.children,n=t.selected,i=n||{},a=i.from,o=i.to,l=t.min,c=t.max,u=function(x,b,y){var _,N;(_=t.onDayClick)===null||_===void 0||_.call(t,x,b,y);var E=C9e(x,n);(N=t.onSelect)===null||N===void 0||N.call(t,E,x,b,y)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(f.range_start=[a],o?(f.range_end=[o],jo(a,o)||(f.range_middle=[{after:a,before:o}])):f.range_end=[a]):o&&(f.range_start=[o],f.range_end=[o]),l&&(a&&!o&&f.disabled.push({after:IA(a,l-1),before:_o(a,l-1)}),a&&o&&f.disabled.push({after:a,before:_o(a,l-1)}),!a&&o&&f.disabled.push({after:IA(o,l-1),before:_o(o,l-1)})),c){if(a&&!o&&(f.disabled.push({before:_o(a,-c+1)}),f.disabled.push({after:_o(a,c-1)})),a&&o){var p=qu(o,a)+1,g=c-p;f.disabled.push({before:IA(a,g)}),f.disabled.push({after:_o(o,g)})}!a&&o&&(f.disabled.push({before:_o(o,-c+1)}),f.disabled.push({after:_o(o,c-1)}))}return s.jsx(m8.Provider,{value:{selected:n,onDayClick:u,modifiers:f},children:r})}function g8(){var e=O.useContext(m8);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function nS(e){return Array.isArray(e)?aQ([],e):e!==void 0?[e]:[]}function O9e(e){var t={};return Object.entries(e).forEach(function(r){var n=r[0],i=r[1];t[n]=nS(i)}),t}var hu;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(hu||(hu={}));var I9e=hu.Selected,jd=hu.Disabled,P9e=hu.Hidden,k9e=hu.Today,MA=hu.RangeEnd,DA=hu.RangeMiddle,LA=hu.RangeStart,M9e=hu.Outside;function D9e(e,t,r){var n,i=(n={},n[I9e]=nS(e.selected),n[jd]=nS(e.disabled),n[P9e]=nS(e.hidden),n[k9e]=[e.today],n[MA]=[],n[DA]=[],n[LA]=[],n[M9e]=[],n);return e.fromDate&&i[jd].push({before:e.fromDate}),e.toDate&&i[jd].push({after:e.toDate}),Q2(e)?i[jd]=i[jd].concat(t.modifiers[jd]):Z2(e)&&(i[jd]=i[jd].concat(r.modifiers[jd]),i[LA]=r.modifiers[LA],i[DA]=r.modifiers[DA],i[MA]=r.modifiers[MA]),i}var uQ=O.createContext(void 0);function L9e(e){var t=Vi(),r=p8(),n=g8(),i=D9e(t,r,n),a=O9e(t.modifiers),o=ln(ln({},i),a);return s.jsx(uQ.Provider,{value:o,children:e.children})}function dQ(){var e=O.useContext(uQ);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function R9e(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function F9e(e){return!!(e&&typeof e=="object"&&"from"in e)}function B9e(e){return!!(e&&typeof e=="object"&&"after"in e)}function $9e(e){return!!(e&&typeof e=="object"&&"before"in e)}function U9e(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function z9e(e,t){var r,n=t.from,i=t.to;if(n&&i){var a=qu(i,n)<0;a&&(r=[i,n],n=r[0],i=r[1]);var o=qu(e,n)>=0&&qu(i,e)>=0;return o}return i?jo(i,e):n?jo(n,e):!1}function V9e(e){return l8(e)}function W9e(e){return Array.isArray(e)&&e.every(l8)}function H9e(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(V9e(r))return jo(e,r);if(W9e(r))return r.includes(e);if(F9e(r))return z9e(e,r);if(U9e(r))return r.dayOfWeek.includes(e.getDay());if(R9e(r)){var n=qu(r.before,e),i=qu(r.after,e),a=n>0,o=i<0,l=cT(r.before,r.after);return l?o&&a:a||o}return B9e(r)?qu(e,r.after)>0:$9e(r)?qu(r.before,e)>0:typeof r=="function"?r(e):!1})}function x8(e,t,r){var n=Object.keys(t).reduce(function(a,o){var l=t[o];return H9e(e,l)&&a.push(o),a},[]),i={};return n.forEach(function(a){return i[a]=!0}),r&&!gN(e,r)&&(i.outside=!0),i}function q9e(e,t){for(var r=rl(e[0]),n=mN(e[e.length-1]),i,a,o=r;o<=n;){var l=x8(o,t),c=!l.disabled&&!l.hidden;if(!c){o=_o(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),i||(i=o),o=_o(o,1)}return a||i}var G9e=365;function fQ(e,t){var r=t.moveBy,n=t.direction,i=t.context,a=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=i.weekStartsOn,u=i.fromDate,f=i.toDate,p=i.locale,g={day:_o,week:lT,month:fu,year:t7e,startOfWeek:function(_){return i.ISOWeek?Up(_):od(_,{locale:p,weekStartsOn:c})},endOfWeek:function(_){return i.ISOWeek?UK(_):c8(_,{locale:p,weekStartsOn:c})}},x=g[r](e,n==="after"?1:-1);n==="before"&&u?x=r7e([u,x]):n==="after"&&f&&(x=n7e([f,x]));var b=!0;if(a){var y=x8(x,a);b=!y.disabled&&!y.hidden}return b?x:l.count>G9e?l.lastFocused:fQ(x,{moveBy:r,direction:n,context:i,modifiers:a,retry:ln(ln({},l),{count:l.count+1})})}var hQ=O.createContext(void 0);function Y9e(e){var t=J2(),r=dQ(),n=O.useState(),i=n[0],a=n[1],o=O.useState(),l=o[0],c=o[1],u=q9e(t.displayMonths,r),f=i??(l&&t.isDateDisplayed(l))?l:u,p=function(){c(i),a(void 0)},g=function(_){a(_)},x=Vi(),b=function(_,N){if(i){var E=fQ(i,{moveBy:_,direction:N,context:x,modifiers:r});jo(i,E)||(t.goToDate(E,i),g(E))}},y={focusedDay:i,focusTarget:f,blur:p,focus:g,focusDayAfter:function(){return b("day","after")},focusDayBefore:function(){return b("day","before")},focusWeekAfter:function(){return b("week","after")},focusWeekBefore:function(){return b("week","before")},focusMonthBefore:function(){return b("month","before")},focusMonthAfter:function(){return b("month","after")},focusYearBefore:function(){return b("year","before")},focusYearAfter:function(){return b("year","after")},focusStartOfWeek:function(){return b("startOfWeek","before")},focusEndOfWeek:function(){return b("endOfWeek","after")}};return s.jsx(hQ.Provider,{value:y,children:e.children})}function v8(){var e=O.useContext(hQ);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function X9e(e,t){var r=dQ(),n=x8(e,r,t);return n}var y8=O.createContext(void 0);function K9e(e){if(!xN(e.initialProps)){var t={selected:void 0};return s.jsx(y8.Provider,{value:t,children:e.children})}return s.jsx(Q9e,{initialProps:e.initialProps,children:e.children})}function Q9e(e){var t=e.initialProps,r=e.children,n=function(a,o,l){var c,u,f;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,o,l);return}(f=t.onSelect)===null||f===void 0||f.call(t,a,a,o,l)},i={selected:t.selected,onDayClick:n};return s.jsx(y8.Provider,{value:i,children:r})}function pQ(){var e=O.useContext(y8);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Z9e(e,t){var r=Vi(),n=pQ(),i=p8(),a=g8(),o=v8(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,f=o.focusWeekBefore,p=o.blur,g=o.focus,x=o.focusMonthBefore,b=o.focusMonthAfter,y=o.focusYearBefore,_=o.focusYearAfter,N=o.focusStartOfWeek,E=o.focusEndOfWeek,C=function(te){var J,ge,Ie,Ge;xN(r)?(J=n.onDayClick)===null||J===void 0||J.call(n,e,t,te):Q2(r)?(ge=i.onDayClick)===null||ge===void 0||ge.call(i,e,t,te):Z2(r)?(Ie=a.onDayClick)===null||Ie===void 0||Ie.call(a,e,t,te):(Ge=r.onDayClick)===null||Ge===void 0||Ge.call(r,e,t,te)},I=function(te){var J;g(e),(J=r.onDayFocus)===null||J===void 0||J.call(r,e,t,te)},P=function(te){var J;p(),(J=r.onDayBlur)===null||J===void 0||J.call(r,e,t,te)},D=function(te){var J;(J=r.onDayMouseEnter)===null||J===void 0||J.call(r,e,t,te)},k=function(te){var J;(J=r.onDayMouseLeave)===null||J===void 0||J.call(r,e,t,te)},L=function(te){var J;(J=r.onDayPointerEnter)===null||J===void 0||J.call(r,e,t,te)},B=function(te){var J;(J=r.onDayPointerLeave)===null||J===void 0||J.call(r,e,t,te)},G=function(te){var J;(J=r.onDayTouchCancel)===null||J===void 0||J.call(r,e,t,te)},F=function(te){var J;(J=r.onDayTouchEnd)===null||J===void 0||J.call(r,e,t,te)},U=function(te){var J;(J=r.onDayTouchMove)===null||J===void 0||J.call(r,e,t,te)},q=function(te){var J;(J=r.onDayTouchStart)===null||J===void 0||J.call(r,e,t,te)},K=function(te){var J;(J=r.onDayKeyUp)===null||J===void 0||J.call(r,e,t,te)},V=function(te){var J;switch(te.key){case"ArrowLeft":te.preventDefault(),te.stopPropagation(),r.dir==="rtl"?l():c();break;case"ArrowRight":te.preventDefault(),te.stopPropagation(),r.dir==="rtl"?c():l();break;case"ArrowDown":te.preventDefault(),te.stopPropagation(),u();break;case"ArrowUp":te.preventDefault(),te.stopPropagation(),f();break;case"PageUp":te.preventDefault(),te.stopPropagation(),te.shiftKey?y():x();break;case"PageDown":te.preventDefault(),te.stopPropagation(),te.shiftKey?_():b();break;case"Home":te.preventDefault(),te.stopPropagation(),N();break;case"End":te.preventDefault(),te.stopPropagation(),E();break}(J=r.onDayKeyDown)===null||J===void 0||J.call(r,e,t,te)},ee={onClick:C,onFocus:I,onBlur:P,onKeyDown:V,onKeyUp:K,onMouseEnter:D,onMouseLeave:k,onPointerEnter:L,onPointerLeave:B,onTouchCancel:G,onTouchEnd:F,onTouchMove:U,onTouchStart:q};return ee}function J9e(){var e=Vi(),t=pQ(),r=p8(),n=g8(),i=xN(e)?t.selected:Q2(e)?r.selected:Z2(e)?n.selected:void 0;return i}function eBe(e){return Object.values(hu).includes(e)}function tBe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(n){var i=e.modifiersClassNames[n];if(i)r.push(i);else if(eBe(n)){var a=e.classNames["day_".concat(n)];a&&r.push(a)}}),r}function rBe(e,t){var r=ln({},e.styles.day);return Object.keys(t).forEach(function(n){var i;r=ln(ln({},r),(i=e.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function nBe(e,t,r){var n,i,a,o=Vi(),l=v8(),c=X9e(e,t),u=Z9e(e,c),f=J9e(),p=!!(o.onDayClick||o.mode!=="default");O.useEffect(function(){var D;c.outside||l.focusedDay&&p&&jo(l.focusedDay,e)&&((D=r.current)===null||D===void 0||D.focus())},[l.focusedDay,e,r,p,c.outside]);var g=tBe(o,c).join(" "),x=rBe(o,c),b=!!(c.outside&&!o.showOutsideDays||c.hidden),y=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:N9e,_=s.jsx(y,{date:e,displayMonth:t,activeModifiers:c}),N={style:x,className:g,children:_,role:"gridcell"},E=l.focusTarget&&jo(l.focusTarget,e)&&!c.outside,C=l.focusedDay&&jo(l.focusedDay,e),I=ln(ln(ln({},N),(n={disabled:c.disabled,role:"gridcell"},n["aria-selected"]=c.selected,n.tabIndex=C||E?0:-1,n)),u),P={isButton:p,isHidden:b,activeModifiers:c,selectedDays:f,buttonProps:I,divProps:N};return P}function iBe(e){var t=O.useRef(null),r=nBe(e.date,e.displayMonth,t);return r.isHidden?s.jsx("div",{role:"gridcell"}):r.isButton?s.jsx(r4,ln({name:"day",ref:t},r.buttonProps)):s.jsx("div",ln({},r.divProps))}function aBe(e){var t=e.number,r=e.dates,n=Vi(),i=n.onWeekNumberClick,a=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,f=u(Number(t),{locale:l});if(!i)return s.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:f});var p=c(Number(t),{locale:l}),g=function(x){i(t,r,x)};return s.jsx(r4,{name:"week-number","aria-label":p,className:o.weeknumber,style:a.weeknumber,onClick:g,children:f})}function sBe(e){var t,r,n=Vi(),i=n.styles,a=n.classNames,o=n.showWeekNumber,l=n.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:iBe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:aBe,f;return o&&(f=s.jsx("td",{className:a.cell,style:i.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:a.row,style:i.row,children:[f,e.dates.map(function(p){return s.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:p})},lFe(p))})]})}function FF(e,t,r){for(var n=r!=null&&r.ISOWeek?UK(t):c8(t,r),i=r!=null&&r.ISOWeek?Up(e):od(e,r),a=qu(n,i),o=[],l=0;l<=a;l++)o.push(_o(i,l));var c=o.reduce(function(u,f){var p=r!=null&&r.ISOWeek?zK(f):WK(f,r),g=u.find(function(x){return x.weekNumber===p});return g?(g.dates.push(f),u):(u.push({weekNumber:p,dates:[f]}),u)},[]);return c}function oBe(e,t){var r=FF(rl(e),mN(e),t);if(t!=null&&t.useFixedWeeks){var n=uFe(e,t);if(n<6){var i=r[r.length-1],a=i.dates[i.dates.length-1],o=lT(a,6-n),l=FF(lT(a,1),o,t);r.push.apply(r,l)}}return r}function lBe(e){var t,r,n,i=Vi(),a=i.locale,o=i.classNames,l=i.styles,c=i.hideHead,u=i.fixedWeeks,f=i.components,p=i.weekStartsOn,g=i.firstWeekContainsDate,x=i.ISOWeek,b=oBe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:x,locale:a,weekStartsOn:p,firstWeekContainsDate:g}),y=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:_9e,_=(r=f==null?void 0:f.Row)!==null&&r!==void 0?r:sBe,N=(n=f==null?void 0:f.Footer)!==null&&n!==void 0?n:w9e;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(y,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:b.map(function(E){return s.jsx(_,{displayMonth:e.displayMonth,dates:E.dates,weekNumber:E.weekNumber},E.weekNumber)})}),s.jsx(N,{displayMonth:e.displayMonth})]})}function cBe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var uBe=cBe()?O.useLayoutEffect:O.useEffect,RA=!1,dBe=0;function BF(){return"react-day-picker-".concat(++dBe)}function fBe(e){var t,r=e??(RA?BF():null),n=O.useState(r),i=n[0],a=n[1];return uBe(function(){i===null&&a(BF())},[]),O.useEffect(function(){RA===!1&&(RA=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function hBe(e){var t,r,n=Vi(),i=n.dir,a=n.classNames,o=n.styles,l=n.components,c=J2().displayMonths,u=fBe(n.id?"".concat(n.id,"-").concat(e.displayIndex):void 0),f=n.id?"".concat(n.id,"-grid-").concat(e.displayIndex):void 0,p=[a.month],g=o.month,x=e.displayIndex===0,b=e.displayIndex===c.length-1,y=!x&&!b;i==="rtl"&&(t=[x,b],b=t[0],x=t[1]),x&&(p.push(a.caption_start),g=ln(ln({},g),o.caption_start)),b&&(p.push(a.caption_end),g=ln(ln({},g),o.caption_end)),y&&(p.push(a.caption_between),g=ln(ln({},g),o.caption_between));var _=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:y9e;return s.jsxs("div",{className:p.join(" "),style:g,children:[s.jsx(_,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(lBe,{id:f,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function pBe(e){var t=Vi(),r=t.classNames,n=t.styles;return s.jsx("div",{className:r.months,style:n.months,children:e.children})}function mBe(e){var t,r,n=e.initialProps,i=Vi(),a=v8(),o=J2(),l=O.useState(!1),c=l[0],u=l[1];O.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var f=[i.classNames.root,i.className];i.numberOfMonths>1&&f.push(i.classNames.multiple_months),i.showWeekNumber&&f.push(i.classNames.with_weeknumber);var p=ln(ln({},i.styles.root),i.style),g=Object.keys(n).filter(function(b){return b.startsWith("data-")}).reduce(function(b,y){var _;return ln(ln({},b),(_={},_[y]=n[y],_))},{}),x=(r=(t=n.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:pBe;return s.jsx("div",ln({className:f.join(" "),style:p,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},g,{children:s.jsx(x,{children:o.displayMonths.map(function(b,y){return s.jsx(hBe,{displayIndex:y,displayMonth:b},y)})})}))}function gBe(e){var t=e.children,r=$Fe(e,["children"]);return s.jsx(a9e,{initialProps:r,children:s.jsx(m9e,{children:s.jsx(K9e,{initialProps:r,children:s.jsx(E9e,{initialProps:r,children:s.jsx(j9e,{initialProps:r,children:s.jsx(L9e,{children:s.jsx(Y9e,{children:t})})})})})})})}function xBe(e){return s.jsx(gBe,ln({},e,{children:s.jsx(mBe,{initialProps:e})}))}function w8({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(xBe,{showOutsideDays:r,className:ir("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ir(dy({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ir(dy({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>s.jsx(tg,{className:"h-4 w-4"}),IconRight:({...i})=>s.jsx(O2,{className:"h-4 w-4"})},...n})}w8.displayName="Calendar";const $F=or.object({building:or.string().min(1,"Building is required"),issuedTo:or.string().min(1,"Charged To is required"),issuedAt:or.date({required_error:"Date is required"}),costCenter:or.string().optional(),notes:or.string().optional()});function UF(){var mr,ar,ze,tt,dt,Zt;const{toast:e}=ea(),{user:t}=Ts(),r=(t==null?void 0:t.role)==="technician",[n,i]=O.useState(!1),[a,o]=O.useState(""),[l,c]=O.useState([]),[u,f]=O.useState(!1),[p,g]=O.useState(""),[x,b]=O.useState([]),[y,_]=O.useState(null),[N,E]=O.useState(1);O.useState([]);const[C,I]=O.useState(""),[P,D]=O.useState(!1),[k,L]=O.useState(null),[B,G]=O.useState({isUploading:!1,message:""}),[F,U]=O.useState(new Date),[q,K]=O.useState(new Date),[V,ee]=O.useState(!1),[te,J]=O.useState(null),[ge,Ie]=O.useState(!1),Ge=q?`${q.getMonth()+1}/${q.getFullYear()}`:`${new Date().getMonth()+1}/${new Date().getFullYear()}`,{data:W=[],isLoading:Q,error:Z}=Er({queryKey:["/api/parts-issuance/recent",Ge],queryFn:async()=>{const ne=await fetch(`/api/parts-issuance/recent?month=${Ge}`);if(!ne.ok)throw new Error("Failed to fetch charge-outs");const De=await ne.json();return console.log("Charge-outs data from server:",De),De},retry:1}),{data:re}=Er({queryKey:["/api/parts-issuance/recent/count",Ge],queryFn:async()=>{const ne=await fetch(`/api/parts-issuance/recent/count?month=${Ge}`);if(!ne.ok)throw new Error("Failed to fetch monthly total");return ne.json()},retry:1,staleTime:5*60*1e3}),le=async ne=>{if(confirm("Are you sure you want to delete this charge-out? This will return the parts to inventory."))try{const De=await fetch(`/api/parts-issuance/${ne}`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}});if(!De.ok)throw new Error(`Failed to delete charge-out: ${De.status} ${De.statusText}`);ur.invalidateQueries({queryKey:["/api/parts-issuance/recent",Ge]}),ur.invalidateQueries({queryKey:["/api/parts-issuance/recent/count",Ge]}),ur.invalidateQueries({queryKey:["/api/parts"]}),e({title:"Charge-out deleted",description:"The charge-out has been removed and parts returned to inventory"})}catch(De){e({variant:"destructive",title:"Deletion failed",description:De instanceof Error?De.message:"There was an error deleting the charge-out"}),console.error(De)}},Ne=ne=>{const De=W.find(gt=>gt.id===ne);if(De){J(De),console.log("Editing charge-out:",De),console.log("Building value:",De.buildingId),console.log("Cost center value:",De.costCenterCode);let gt;if(De.issuedAt)try{gt=new Date(De.issuedAt),isNaN(gt.getTime())?(console.warn("Invalid date from server, using current date as fallback:",De.issuedAt),gt=new Date):console.log("Successfully parsed date:",gt.toISOString())}catch(Pr){console.error("Error parsing date:",Pr),gt=new Date}else gt=new Date;const Nt={building:De.buildingId?De.buildingId.toString():"",issuedTo:typeof De.issuedTo=="string"?De.issuedTo:"",issuedAt:gt,costCenter:De.costCenterCode||"none",notes:De.notes||"",quantity:De.quantity};console.log("Form values being set:",Nt),Ae.reset(Nt),Ie(!0)}},Ae=_s({resolver:Ns($F.extend({quantity:or.number().min(1,"Quantity must be at least 1")})),defaultValues:{building:"",issuedTo:(t==null?void 0:t.name)||"",issuedAt:void 0,costCenter:"none",notes:"",quantity:1}}),ve=Sr({mutationFn:async ne=>{if(!te)throw new Error("No charge-out selected for editing");const De={building:ne.building,issuedTo:ne.issuedTo,quantity:ne.quantity,notes:ne.notes,costCenter:ne.costCenter,issuedAt:ne.issuedAt instanceof Date?ne.issuedAt.toISOString():ne.issuedAt};console.log("Updating charge-out with payload:",De);const gt=await nn("PATCH",`/api/parts-issuance/${te.id}`,De);if(!gt.ok){const Nt=await gt.text();throw new Error(Nt||"Failed to update charge-out")}return gt.json()},onSuccess:()=>{e({title:"Charge-out updated",description:"The parts charge-out has been updated successfully."}),Ie(!1),ur.invalidateQueries({queryKey:["/api/parts-issuance/recent",Ge]}),ur.invalidateQueries({queryKey:["/api/parts-issuance/recent/count",Ge]}),ur.invalidateQueries({queryKey:["/api/parts"]})},onError:ne=>{e({title:"Error updating charge-out",description:ne.message||"There was an error updating the charge-out",variant:"destructive"})}}),{status:xe,lastMessage:Le}=MK();O.useEffect(()=>{if(Le)try{const ne=Le;ne.type==="parts-issuance-created"?(ur.invalidateQueries({queryKey:["/api/parts"]}),ur.invalidateQueries({queryKey:["/api/parts-issuance/recent"]}),ur.invalidateQueries({queryKey:["/api/parts-issuance/recent/count",Ge]}),ne.data.issuedBy!==(t==null?void 0:t.name)&&e({title:"New Part Charge-Out",description:`${ne.data.issuedBy} charged out ${ne.data.partName} (${ne.data.quantity})`,variant:"default"})):ne.type==="parts-pickup-created"?e({title:"New Parts Pickup",description:`${ne.data.addedBy} added ${ne.data.partName} (${ne.data.quantity}) for pickup`,variant:"default"}):ne.type==="parts-pickup-completed"&&e({title:"Parts Pickup Completed",description:`${ne.data.pickedUpBy} received ${ne.data.partName}`,variant:"default"})}catch(ne){console.error("Error processing WebSocket message:",ne)}},[Le,ur,e,t==null?void 0:t.name]);const{data:Se=[]}=Er({queryKey:["/api/parts"],queryFn:bh({on401:"returnNull"})}),{data:ye=[]}=Er({queryKey:["/api/technicians-list"],queryFn:bh({on401:"returnNull"})}),{data:We=[]}=Er({queryKey:["/api/buildings"],queryFn:bh({on401:"returnNull"})}),{data:Ye=[],isLoading:we,isError:Pe}=Er({queryKey:["/api/cost-centers"],queryFn:bh({on401:"returnNull"})});O.useEffect(()=>{console.log("Cost centers data:",Ye),console.log("Cost centers loading:",we),console.log("Cost centers error:",Pe)},[Ye,we,Pe]),O.useEffect(()=>{if(Se&&Se.length>0)if(a.trim()==="")c(Se);else{const ne=a.toLowerCase().trim().split(/\s+/),De=Se.filter(gt=>{const Nt=[gt.name||"",gt.partId||"",gt.description||"",gt.category||""].join(" ").toLowerCase();return ne.every(Pr=>Nt.includes(Pr))});c(De)}else c([])},[Se,a]);const ce=_s({resolver:Ns($F),defaultValues:{building:"",issuedTo:(t==null?void 0:t.name)||"",issuedAt:new Date,costCenter:"none",notes:""}});O.useEffect(()=>{t!=null&&t.name&&ce.setValue("issuedTo",t.name),We&&We.length>0&&ce.setValue("building",We[0].id.toString())},[t,We,ce,Ae]);const Ce=Sr({mutationFn:async ne=>(await nn("POST","/api/parts-issuance/bulk",ne)).json(),onSuccess:()=>{e({title:"Success",description:`${x.length} part${x.length!==1?"s":""} charged out successfully`}),ur.invalidateQueries({queryKey:["/api/parts-issuance/recent"]}),ur.invalidateQueries({queryKey:["/api/parts-issuance/recent/count",Ge]}),ur.invalidateQueries({queryKey:["/api/parts"]}),i(!1),ce.reset(),b([])},onError:ne=>{e({title:"Error",description:ne.message||"Failed to charge out parts",variant:"destructive"})}}),fe=Sr({mutationFn:async ne=>{const De=new FormData;De.append("file",ne);const gt=await fetch("/api/parts-issuance/import",{method:"POST",body:De});if(!gt.ok){const Nt=await gt.json();throw new Error(Nt.error||"Import failed")}return gt.json()},onSuccess:ne=>{e({title:"Import Successful",description:ne.message||"Charge-outs imported successfully"}),ur.invalidateQueries({queryKey:["/api/parts-issuance/recent"]}),ur.invalidateQueries({queryKey:["/api/parts-issuance/recent/count",Ge]}),ur.invalidateQueries({queryKey:["/api/parts"]}),D(!1),L(null),G({isUploading:!1,message:""})},onError:ne=>{e({title:"Import Failed",description:ne.message||"Failed to import charge-outs",variant:"destructive"}),G({isUploading:!1,message:""})}}),ke=()=>{if(!k){e({title:"Error",description:"Please select a file to import",variant:"destructive"});return}G({isUploading:!0,message:"Uploading and processing file..."}),fe.mutate(k)},He=()=>{if(!y||N<=0){e({title:"Error",description:"Please select a part and valid quantity",variant:"destructive"});return}const ne=Se==null?void 0:Se.find(Nt=>Nt.id===y);if(!ne){e({title:"Error",description:"Part not found",variant:"destructive"});return}if(N>ne.quantity){e({title:"Error",description:`Only ${ne.quantity} available in inventory`,variant:"destructive"});return}const De=ce.getValues(),gt=x.findIndex(Nt=>Nt.partId===y);if(gt!==-1){const Nt=[...x],Pr=Nt[gt].quantity+N;if(Pr>ne.quantity){e({title:"Error",description:`Cannot add ${N} more. Only ${ne.quantity} available in inventory`,variant:"destructive"});return}Nt[gt].quantity=Pr,b(Nt)}else b([...x,{partId:ne.id,partName:ne.name,partNumber:ne.partId,quantity:N,maxQuantity:ne.quantity}]);_(null),E(1),ce.reset(De),e({title:"Added to cart",description:`${N}  ${ne.name} added to cart`})},nt=ne=>{const De=[...x];De.splice(ne,1),b(De)},mt=ne=>{if(x.length===0){e({title:"Error",description:"No parts in cart to charge out",variant:"destructive"});return}Ce.mutate({parts:x.map(De=>({partId:De.partId,quantity:De.quantity})),building:ne.building,issuedTo:ne.issuedTo,reason:"other",notes:ne.notes,costCenter:ne.costCenter})},At=ne=>{g(ne),f(!1);const De=Se==null?void 0:Se.find(gt=>{var Nt;return((Nt=gt.partId)==null?void 0:Nt.toLowerCase())===ne.toLowerCase()});De?(_(De.id),setTimeout(()=>{var gt;return(gt=document.getElementById("quantity-input"))==null?void 0:gt.focus()},100)):e({title:"Part not found",description:`No part with ID ${ne} found`,variant:"destructive"})},qt=typeof window<"u"?window.innerWidth<768:!1;return s.jsxs("div",{className:`container mx-auto ${qt?"p-3":"p-6"}`,children:[s.jsxs("div",{className:`flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 ${qt?"space-y-3":""}`,children:[s.jsxs("div",{children:[r&&s.jsxs(la,{href:"/dashboard",className:"inline-flex items-center text-muted-foreground hover:text-primary mb-2",children:[s.jsx(tg,{className:"h-4 w-4 mr-1"}),"Back to Dashboard"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:`${qt?"text-2xl":"text-3xl"} font-bold`,children:"Part Charge-Outs"}),s.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${xe==="connected"?"bg-green-500":xe==="connecting"?"bg-amber-500":"bg-red-500"}`,title:`WebSocket: ${xe}`})]}),s.jsx("p",{className:"text-muted-foreground",children:"Track and manage part charge-outs"})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 items-center",children:[s.jsxs(dT,{open:V,onOpenChange:ee,children:[s.jsx(fT,{asChild:!0,children:s.jsxs(Ee,{variant:"outline",className:ir("justify-start text-left font-normal",!q&&"text-muted-foreground"),children:[s.jsx(eg,{className:"mr-2 h-4 w-4"}),q?Kr(q,"MMMM yyyy"):"Select month"]})}),s.jsx(t4,{className:"w-auto p-4",align:"end",children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsx("div",{className:"text-center",children:s.jsx("h3",{className:"text-lg font-medium",children:Kr(F,"yyyy")})}),s.jsx("div",{className:"grid grid-cols-3 gap-2 mb-2",children:Array.from({length:12}).map((ne,De)=>{const gt=new Date(F.getFullYear(),De,1),Nt=q&&q.getMonth()===De&&q.getFullYear()===F.getFullYear();return s.jsx(Ee,{variant:Nt?"default":"outline",size:"sm",className:ir("h-9",Nt&&"bg-primary text-primary-foreground"),onClick:()=>{K(gt),ee(!1)},children:Kr(gt,"MMM")},De)})}),s.jsxs("div",{className:"flex items-center justify-between border-t pt-4",children:[s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>{const ne=new Date(F);ne.setFullYear(ne.getFullYear()-1),U(ne)},children:[s.jsx(tg,{className:"h-4 w-4 mr-1"})," Prev Year"]}),s.jsxs(Ee,{variant:"outline",size:"sm",onClick:()=>{const ne=new Date(F);ne.setFullYear(ne.getFullYear()+1),U(ne)},children:["Next Year ",s.jsx(O2,{className:"h-4 w-4 ml-1"})]})]})]})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 sm:flex-nowrap",children:[s.jsxs(Ee,{variant:"outline",size:"sm",className:"shrink-0",onClick:()=>window.open(`/api/parts-issuance/export-test?month=${Ge}&format=xlsx`,"_blank"),children:[s.jsx(Bs,{className:"mr-2 h-4 w-4"})," Export Excel"]}),s.jsxs(Ee,{variant:"outline",size:"sm",className:"shrink-0",onClick:()=>window.open("/api/parts-issuance/export-data","_blank"),children:[s.jsx(Bs,{className:"mr-2 h-4 w-4"})," Export Data"]}),s.jsxs(Ee,{variant:"outline",size:"sm",className:"shrink-0",onClick:()=>window.open("/api/parts-issuance/template","_blank"),children:[s.jsx(Bs,{className:"mr-2 h-4 w-4"})," Template"]}),s.jsxs(Ee,{variant:"outline",size:"sm",className:"shrink-0",onClick:()=>D(!0),children:[s.jsx(Si,{className:"mr-2 h-4 w-4"})," Import"]}),s.jsxs(Ee,{variant:"outline",size:"sm",className:"shrink-0",onClick:()=>window.open(`/api/parts-issuance/export?month=${Ge}&format=pdf`,"_blank"),children:[s.jsx(V4,{className:"mr-2 h-4 w-4"})," PDF"]})]}),s.jsx(qc,{content:"Click here to charge out parts from inventory to a specific person and building.",children:s.jsxs(Ee,{onClick:()=>i(!0),children:[s.jsx(Si,{className:"mr-2 h-4 w-4"})," Charge Out Parts"]})})]})]}),s.jsxs(Pt,{className:"mb-6",children:[s.jsx(Gt,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Yt,{className:"text-xl",children:["Charge-Outs for ",Kr(q||new Date,"MMMM yyyy")]}),s.jsxs(Zr,{children:[(re==null?void 0:re.total)||0," part",((re==null?void 0:re.total)||0)!==1?"s":""," charged out this month"]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(Pl,{className:"h-4 w-4 absolute left-2.5 top-2.5 text-muted-foreground"}),s.jsx(Rt,{type:"search",placeholder:"Search charge-outs...",className:"pl-8 md:w-[200px] lg:w-[300px]",value:C,onChange:ne=>I(ne.target.value)})]})})]})}),s.jsx(zt,{children:Q?s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx(cn,{className:"h-8 w-8 animate-spin text-primary/70"})}):s.jsx(s.Fragment,{children:W&&W.length>0?s.jsx(s.Fragment,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(cc,{children:[s.jsx(uc,{children:s.jsxs(bi,{children:[s.jsx(yr,{children:"Part"}),s.jsx(yr,{children:"Part ID"}),s.jsx(yr,{children:"Quantity"}),s.jsx(yr,{children:"Issued To"}),s.jsx(yr,{children:"Building"}),s.jsx(yr,{children:"Issued By"}),s.jsx(yr,{children:"Date"}),s.jsx(yr,{className:"text-right",children:"Actions"})]})}),s.jsx(dc,{children:W.filter(ne=>{var gt,Nt,Pr,Jr,fa,Ln;if(!C)return!0;const De=C.toLowerCase();return((Nt=(gt=ne.part)==null?void 0:gt.name)==null?void 0:Nt.toLowerCase().includes(De))||!1||((Jr=(Pr=ne.part)==null?void 0:Pr.partId)==null?void 0:Jr.toLowerCase().includes(De))||!1||typeof ne.issuedTo=="string"&&ne.issuedTo.toLowerCase().includes(De)||((fa=ne.buildingName)==null?void 0:fa.toLowerCase().includes(De))||!1||((Ln=ne.issuedBy)==null?void 0:Ln.name)&&ne.issuedBy.name.toLowerCase().includes(De)||typeof ne.issuedBy=="string"&&ne.issuedBy.toLowerCase().includes(De)||!1}).map(ne=>{var De,gt,Nt;return s.jsxs(bi,{children:[s.jsx(hr,{children:((De=ne.part)==null?void 0:De.name)||"Unknown Part"}),s.jsx(hr,{children:((gt=ne.part)==null?void 0:gt.partId)||"-"}),s.jsx(hr,{children:ne.quantity}),s.jsx(hr,{children:typeof ne.issuedTo=="string"?ne.issuedTo:"-"}),s.jsx(hr,{children:ne.buildingName||ne.projectCode||(typeof ne.building=="string"?ne.building:"-")}),s.jsx(hr,{children:((Nt=ne.issuedBy)==null?void 0:Nt.name)||(ne.issuedBy&&typeof ne.issuedBy=="string"?ne.issuedBy:"-")}),s.jsx(hr,{children:ne.issuedAt?Kr(new Date(ne.issuedAt),"MM/dd/yyyy"):"-"}),s.jsx(hr,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end space-x-1",children:[s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>Ne(ne.id),className:"text-blue-500 hover:text-blue-700 hover:bg-blue-50",children:s.jsx(Ip,{className:"h-4 w-4"})}),s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>le(ne.id),className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:s.jsx(RS,{className:"h-4 w-4"})})]})})]},ne.id)})})]})})}):s.jsxs("div",{className:"text-center py-12 border rounded-md bg-muted/20",children:[s.jsx("div",{className:"mb-3 flex justify-center",children:s.jsx(ti,{variant:"outline",className:"text-muted-foreground px-3 py-1.5",children:"No Charge-Outs"})}),s.jsxs("p",{className:"text-muted-foreground mb-6",children:["No parts have been charged out for ",Kr(q||new Date,"MMMM yyyy"),"."]}),s.jsxs(Ee,{onClick:()=>i(!0),children:[s.jsx(Si,{className:"mr-2 h-4 w-4"})," Charge Out Parts"]})]})})})]}),s.jsx(Qr,{open:n,onOpenChange:ne=>{i(ne),ne||(b([]),ce.reset({building:"",issuedTo:(t==null?void 0:t.name)||"",issuedAt:new Date,costCenter:"none",notes:""}))},children:s.jsxs(qr,{className:"sm:max-w-[600px] max-h-[85vh] overflow-y-auto grid grid-rows-[auto_1fr]",children:[s.jsxs(Gr,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Yr,{children:"Charge Out Parts"}),s.jsxs(ti,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(sp,{className:"h-3 w-3"}),x.length," ",x.length===1?"part":"parts"]})]}),s.jsx(gn,{children:"Add parts to your cart and charge them out all at once"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border rounded-md p-4 bg-muted/20",children:[s.jsx("h3",{className:"text-sm font-medium mb-3",children:"Select Part to Add"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"relative flex-1",children:s.jsxs("div",{className:"flex items-center border rounded-md px-3 py-2 w-full",children:[s.jsx(Pl,{className:"h-4 w-4 text-muted-foreground mr-2 flex-shrink-0"}),s.jsx("input",{placeholder:"Search part name or ID...",className:"flex-1 border-0 bg-transparent p-1 text-sm outline-none placeholder:text-muted-foreground",value:a,onChange:ne=>o(ne.target.value)})]})}),s.jsx(Ee,{type:"button",variant:"outline",className:"shrink-0",onClick:()=>f(!0),children:s.jsx(Z1,{className:"h-4 w-4"})})]}),y&&s.jsxs("div",{className:"border rounded-md p-2 bg-primary/5",children:[s.jsx("div",{className:"font-medium",children:(mr=Se==null?void 0:Se.find(ne=>ne.id===y))==null?void 0:mr.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[(ar=Se==null?void 0:Se.find(ne=>ne.id===y))==null?void 0:ar.partId,"(",(ze=Se==null?void 0:Se.find(ne=>ne.id===y))==null?void 0:ze.quantity," in stock)"]})]}),a.trim()!==""&&s.jsxs("div",{className:"border rounded-md overflow-hidden",children:[s.jsxs("div",{className:"bg-muted/50 px-3 py-1 text-xs font-medium border-b",children:[l.length," part(s) found"]}),s.jsx("div",{className:"max-h-[200px] overflow-y-auto",children:l.length>0?l.slice(0,10).map(ne=>s.jsxs("button",{type:"button",className:`w-full text-left px-3 py-2 border-b last:border-0 hover:bg-muted/50 
                              ${y===ne.id?"bg-primary/10":""}
                              ${ne.quantity<=0?"opacity-50 cursor-not-allowed":""}`,onClick:()=>_(ne.id),disabled:ne.quantity<=0,children:[s.jsx("div",{className:"font-medium truncate",children:ne.name}),s.jsxs("div",{className:"text-xs text-muted-foreground flex justify-between",children:[s.jsx("span",{children:ne.partId}),s.jsxs("span",{className:ne.quantity<ne.reorderLevel?"text-red-500":"",children:[ne.quantity," in stock"]})]})]},ne.id)):s.jsx("div",{className:"px-3 py-4 text-sm text-center text-muted-foreground",children:"No parts found"})})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{htmlFor:"quantity-input",className:"text-sm font-medium block mb-1",children:"Quantity"}),s.jsx(Rt,{id:"quantity-input",type:"number",min:1,value:N,onChange:ne=>E(parseInt(ne.target.value)||0),max:y&&((tt=Se==null?void 0:Se.find(ne=>ne.id===y))==null?void 0:tt.quantity)||1})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs(Ee,{type:"button",onClick:He,disabled:!y||N<=0,children:[s.jsx(Si,{className:"mr-2 h-4 w-4"})," Add to Cart"]})})]})]})]}),x.length>0&&s.jsxs("div",{className:"border rounded-md",children:[s.jsxs("div",{className:"p-3 bg-muted/10 border-b flex items-center justify-between",children:[s.jsxs("h3",{className:"text-sm font-medium",children:["Cart Items (",x.length,")"]}),s.jsxs(Ee,{variant:"ghost",size:"sm",onClick:()=>b([]),className:"h-7 px-2 text-destructive hover:text-destructive/90",children:[s.jsx(RS,{className:"h-3.5 w-3.5 mr-1"})," Clear All"]})]}),s.jsx("div",{className:"max-h-[180px] overflow-y-auto divide-y",children:x.map((ne,De)=>s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 hover:bg-muted/5",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium truncate",children:ne.partName}),s.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[s.jsx("span",{className:"truncate",children:ne.partNumber}),s.jsxs("span",{className:"inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-semibold",children:[ne.quantity,"  (max: ",ne.maxQuantity,")"]})]})]}),s.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>nt(De),className:"h-7 w-7 ml-2 text-destructive hover:text-destructive/90",children:s.jsx(Yo,{className:"h-3.5 w-3.5"})})]},De))})]}),s.jsx(Us,{...ce,children:s.jsxs("form",{onSubmit:ce.handleSubmit(mt),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsx(Dr,{control:ce.control,name:"building",render:({field:ne})=>s.jsxs(Tr,{children:[s.jsxs(Or,{className:"flex items-center gap-1.5",children:["Building",s.jsx(qc,{content:"Select which building the parts are being charged to. This helps track part usage by location.",children:s.jsx($u,{})})]}),s.jsxs(Bn,{onValueChange:ne.onChange,defaultValue:ne.value,children:[s.jsx(Ir,{children:s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select building"})})}),s.jsx(Dn,{children:We.length>0?We.map(De=>s.jsx(er,{value:De.id.toString(),children:De.name},De.id)):s.jsx(er,{value:"other",children:"Other"})})]}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:ce.control,name:"issuedTo",render:({field:ne})=>s.jsxs(Tr,{children:[s.jsxs(Or,{className:"flex items-center gap-1.5",children:["Charged To",s.jsx(qc,{content:"Select the person who is receiving the parts. This helps track who has received specific parts.",children:s.jsx($u,{})})]}),s.jsxs(Bn,{onValueChange:ne.onChange,defaultValue:ne.value,children:[s.jsx(Ir,{children:s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select person"})})}),s.jsx(Dn,{children:ye.map(De=>s.jsxs(er,{value:De.name,children:[De.name," - ",De.department||"No Department"]},De.id))})]}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:ce.control,name:"costCenter",render:({field:ne})=>s.jsxs(Tr,{children:[s.jsxs(Or,{className:"flex items-center gap-1.5",children:["Cost Center",s.jsx(qc,{content:"Select the cost center or budget code that should be charged for these parts if known. This helps with accounting but is not required.",children:s.jsx($u,{})})]}),s.jsxs(Bn,{onValueChange:ne.onChange,defaultValue:ne.value,children:[s.jsx(Ir,{children:s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select a cost center"})})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"none",children:"None"}),Ye.map(De=>s.jsxs(er,{value:De.code,children:[De.code," - ",De.name]},De.id))]})]}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:ce.control,name:"issuedAt",render:({field:ne})=>s.jsxs(Tr,{className:"flex flex-col",children:[s.jsxs(Or,{className:"flex items-center gap-1.5",children:["Date ",s.jsx("span",{className:"text-destructive",children:"*"}),s.jsx(qc,{content:"Date when parts were charged out. This is critical for reports.",children:s.jsx($u,{})})]}),s.jsx(Ir,{children:s.jsx("input",{type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:ne.value instanceof Date?ne.value.toISOString().split("T")[0]:"",onChange:De=>{const gt=De.target.value?new Date(De.target.value):new Date;ne.onChange(gt)}})}),s.jsx(Lr,{})]})})]}),s.jsx(Dr,{control:ce.control,name:"notes",render:({field:ne})=>s.jsxs(Tr,{children:[s.jsxs(Or,{className:"flex items-center gap-1.5",children:["Notes (Optional)",s.jsx(qc,{content:"Add any additional information about these parts that might be useful for future reference.",children:s.jsx($u,{})})]}),s.jsx(Ir,{children:s.jsx(hc,{...ne,placeholder:"Enter any additional notes about this part charge-out",className:"min-h-[60px]"})}),s.jsx(Lr,{})]})}),s.jsx(Pn,{className:"mt-4",children:s.jsx(Ee,{type:"submit",disabled:x.length===0||Ce.isPending,className:"w-full sm:w-auto",children:Ce.isPending?"Processing...":`Charge Out ${x.length} ${x.length===1?"Part":"Parts"}`})})]})})]})]})}),s.jsx(Qr,{open:u,onOpenChange:f,children:s.jsxs(qr,{className:"sm:max-w-md",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Scan Barcode"}),s.jsx(gn,{children:"Scan a barcode to find a part in the system"})]}),s.jsx(L5,{onCodeDetected:At,onClose:()=>f(!1)})]})}),s.jsx(Qr,{open:ge,onOpenChange:Ie,children:s.jsxs(qr,{className:"sm:max-w-[500px]",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Edit Charge-Out"}),s.jsx(gn,{children:"Update the details for this parts charge-out"})]}),s.jsx(Us,{...Ae,children:s.jsxs("form",{onSubmit:Ae.handleSubmit(ne=>ve.mutate(ne)),className:"space-y-4",children:[te&&s.jsxs("div",{className:"bg-primary/5 border rounded-md p-3 mb-4",children:[s.jsx("h3",{className:"font-medium text-sm",children:((dt=te.part)==null?void 0:dt.name)||"Unknown Part"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:((Zt=te.part)==null?void 0:Zt.partId)||"No part ID"})]}),s.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2",children:[s.jsx(Dr,{control:Ae.control,name:"quantity",render:({field:ne})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Quantity"}),s.jsx(Ir,{children:s.jsx(Rt,{type:"number",...ne,onChange:De=>ne.onChange(parseInt(De.target.value)||1)})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:Ae.control,name:"issuedAt",render:({field:ne})=>s.jsxs(Tr,{className:"flex flex-col",children:[s.jsx(Or,{children:"Date"}),s.jsxs(dT,{children:[s.jsx(fT,{asChild:!0,children:s.jsx(Ir,{children:s.jsxs(Ee,{variant:"outline",className:ir("pl-3 text-left font-normal",!ne.value&&"text-muted-foreground"),children:[ne.value?Kr(ne.value instanceof Date?ne.value:new Date(ne.value),"PPP"):s.jsx("span",{children:"Pick a date"}),s.jsx(eg,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),s.jsx(t4,{className:"w-auto p-0",align:"start",children:s.jsx(w8,{mode:"single",selected:ne.value instanceof Date?ne.value:ne.value?new Date(ne.value):void 0,onSelect:De=>{console.log("Calendar date selected:",De==null?void 0:De.toISOString()),ne.onChange(De)},disabled:De=>De>new Date||De<new Date("1900-01-01"),initialFocus:!0})})]}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:Ae.control,name:"building",render:({field:ne})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Building"}),s.jsxs(Bn,{onValueChange:ne.onChange,value:ne.value,defaultValue:ne.value,children:[s.jsx(Ir,{children:s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select building"})})}),s.jsx(Dn,{children:We.map(De=>s.jsx(er,{value:De.id.toString(),children:De.name},De.id))})]}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:Ae.control,name:"issuedTo",render:({field:ne})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Charged To"}),s.jsx(Ir,{children:s.jsx(Rt,{...ne})}),s.jsx(Lr,{})]})})]}),s.jsxs("div",{className:"grid gap-4 grid-cols-1",children:[s.jsx(Dr,{control:Ae.control,name:"costCenter",render:({field:ne})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Cost Center"}),s.jsxs(Bn,{onValueChange:ne.onChange,value:ne.value,defaultValue:ne.value,children:[s.jsx(Ir,{children:s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select cost center"})})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"none",children:"None"}),Ye.map(De=>s.jsxs(er,{value:De.code,children:[De.code," - ",De.name]},De.id))]})]}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:Ae.control,name:"notes",render:({field:ne})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Notes"}),s.jsx(Ir,{children:s.jsx(hc,{...ne,placeholder:"Add notes about this charge-out",className:"min-h-[60px]"})}),s.jsx(Lr,{})]})})]}),s.jsxs(Pn,{children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>Ie(!1),children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:ve.isPending,children:ve.isPending?"Updating...":"Update Charge-Out"})]})]})})]})}),Z&&s.jsx("div",{className:"border rounded-md bg-destructive/10 p-4 mb-6",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"shrink-0 mt-0.5",children:s.jsx(Yo,{className:"h-5 w-5 text-destructive"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-destructive",children:"Error loading charge-outs"}),s.jsx("div",{className:"mt-1 text-sm text-destructive/80",children:Z instanceof Error?Z.message:"Failed to load charge-outs data"})]})]})}),s.jsx(Qr,{open:P,onOpenChange:D,children:s.jsxs(qr,{className:"sm:max-w-md",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Import Charge-Outs from Excel"}),s.jsx(gn,{children:"Upload an Excel file to import charge-out records. Download the template first if you need the correct format."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"file-upload",className:"text-sm font-medium",children:"Select Excel File"}),s.jsx("input",{id:"file-upload",type:"file",accept:".xlsx,.xls",onChange:ne=>{var De;return L(((De=ne.target.files)==null?void 0:De[0])||null)},className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]}),k&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Selected: ",k.name]}),B.isUploading&&s.jsxs("div",{className:"text-sm text-blue-600 flex items-center gap-2",children:[s.jsx(cn,{className:"h-4 w-4 animate-spin"}),B.message]})]}),s.jsxs(Pn,{className:"gap-2",children:[s.jsxs(Ee,{variant:"outline",onClick:()=>window.open("/api/parts-issuance/template","_blank"),children:[s.jsx(Bs,{className:"mr-2 h-4 w-4"})," Download Template"]}),s.jsx(Ee,{onClick:ke,disabled:!k||B.isUploading,children:B.isUploading?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing..."]}):"Import File"})]})]})})]})}function zF(){const[e,t]=O.useState(new Date(2025,7)),[r,n]=O.useState(!1),[i,a]=O.useState("all"),{toast:o}=ea(),l=Kr(e,"MM/yyyy"),{data:c=[],isLoading:u}=Er({queryKey:["/api/parts-delivery",l],staleTime:0}),{data:f=[],isLoading:p}=Er({queryKey:["/api/parts-issuance",l],queryFn:()=>fetch(`/api/parts-issuance?month=${l}`).then(_=>_.json()),staleTime:0}),g=O.useMemo(()=>{try{if(console.log("REPORTS DEBUG - Deliveries loading:",u,"Issuances loading:",p),console.log("REPORTS DEBUG - Deliveries data:",c),console.log("REPORTS DEBUG - Issuances data:",f),!Array.isArray(c)||!Array.isArray(f))return console.log("Data not ready yet"),[];const _=new Date(e.getFullYear(),e.getMonth(),1),N=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999),E=c.filter(I=>{const P=new Date(I.deliveredAt);return P>=_&&P<=N}),C=f.filter(I=>{const P=new Date(I.issuedAt);return P>=_&&P<=N});return console.log(`REPORTS DEBUG - Filtered deliveries: ${E.length}, issuances: ${C.length}`),[...E,...C].map(I=>{var B,G,F,U,q;const P="deliveredAt"in I,D=P?I.deliveredAt:I.issuedAt,k=parseFloat(String(P?I.unitCost||((B=I.part)==null?void 0:B.unitCost)||0:((G=I.part)==null?void 0:G.unitCost)||0)),L=k*I.quantity;return{date:new Date(D).toLocaleDateString(),partName:((F=I.part)==null?void 0:F.name)||"",unitCost:`$${k.toFixed(2)}`,quantity:I.quantity,extendedPrice:`$${L.toFixed(2)}`,building:P?(U=I.building)==null?void 0:U.name:I.buildingName,costCenter:P?(q=I.costCenter)==null?void 0:q.code:I.costCenterCode,type:P?"Delivery":"Charge-Out",id:P?`D${I.id}`:`C${I.id}`,rawData:I}})}catch(_){return console.error("Error processing combined data:",_),[]}},[c,f,e]),x=g.reduce((_,N)=>{const E=parseFloat(N.extendedPrice.replace("$",""))||0;return _+E},0);console.log(`REPORTS DEBUG - Combined data length: ${g.length}`),console.log(`REPORTS DEBUG - Total cost calculation: $${x.toFixed(2)}`);const b=[{header:"Date",accessor:_=>_.date},{header:"Part Name",accessor:_=>_.partName},{header:"Unit Cost",accessor:_=>_.unitCost},{header:"Quantity",accessor:_=>_.quantity},{header:"Extended Price",accessor:_=>_.extendedPrice},{header:"Building",accessor:_=>_.building||"-"},{header:"Cost Center",accessor:_=>_.costCenter||"-"},{header:"Type",accessor:_=>_.type}],y=async _=>{try{if(_==="xlsx"){o({title:"Preparing Excel export",description:"Generating your Excel report..."});let N="all";i==="deliveries"&&(N="deliveries"),i==="chargeouts"&&(N="chargeouts");const E=i==="deliveries"?"Deliveries":i==="chargeouts"?"Charge-Outs":"Combined",C=Kr(e,"MM/yyyy"),I=`/api/excel-final?month=${C}&type=${N}`,P=await fetch(I,{method:"GET",credentials:"include"});if(!P.ok)throw new Error(`Export failed: ${P.status}`);const D=await P.blob(),k=window.URL.createObjectURL(D),L=document.createElement("a");L.href=k,L.download=`${E}-report-${C.replace("/","-")}.xlsx`,document.body.appendChild(L),L.click(),document.body.removeChild(L),window.URL.revokeObjectURL(k),o({title:"Excel export started",description:`Your ${E} Excel report is downloading`})}else{o({title:"Preparing PDF export",description:"Generating your PDF report..."});const E=`/api/parts-issuance/export?format=pdf&month=${Kr(e,"MM/yyyy")}`;window.open(E,"_blank"),o({title:"PDF export started",description:"Your PDF report is downloading"})}}catch(N){console.error("Export error:",N),o({variant:"destructive",title:"Export failed",description:N instanceof Error?N.message:"Export failed - Please try again or contact support"})}};return console.log("REPORTS DEBUG - Deliveries loading:",u,"Issuances loading:",p),console.log("REPORTS DEBUG - Deliveries data:",c),console.log("REPORTS DEBUG - Issuances data:",f),console.log("REPORTS DEBUG - Combined data length:",g==null?void 0:g.length),console.log("REPORTS DEBUG - Component is rendering properly"),u||p?(console.log("REPORTS DEBUG - Still loading, showing loading screen"),s.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[s.jsx("div",{className:"text-lg mb-4",children:"Loading reports data..."}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Deliveries: ",u?"Loading...":" Loaded",s.jsx("br",{}),"Issuances: ",p?"Loading...":" Loaded"]})]})):(console.log("REPORTS DEBUG - Data loaded, rendering main component"),s.jsx("div",{className:"min-h-screen w-full bg-background p-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Combined Parts Report"}),s.jsx("p",{className:"text-muted-foreground",children:"View all parts movement from stockroom"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(Bn,{value:Kr(e,"MM/yyyy"),onValueChange:_=>{const[N,E]=_.split("/"),C=new Date(parseInt(E),parseInt(N)-1);t(C)},children:[s.jsxs(Mn,{className:"w-40",children:[s.jsx(eg,{className:"h-4 w-4 mr-2"}),s.jsx($n,{placeholder:"Select month"})]}),s.jsxs(Dn,{children:[s.jsx(er,{value:"03/2025",children:"March 2025"}),s.jsx(er,{value:"04/2025",children:"April 2025"}),s.jsx(er,{value:"05/2025",children:"May 2025"}),s.jsx(er,{value:"06/2025",children:"June 2025"}),s.jsx(er,{value:"07/2025",children:"July 2025"}),s.jsx(er,{value:"08/2025",children:"August 2025"})]})]}),s.jsxs(Ee,{variant:"outline",onClick:()=>y("xlsx"),children:[s.jsx(PO,{className:"h-4 w-4 mr-2"}),"Export Excel"]}),s.jsxs(Ee,{variant:"outline",onClick:()=>y("pdf"),children:[s.jsx(V4,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),s.jsxs(Ee,{variant:"outline",onClick:()=>n(!0),children:[s.jsx(W4,{className:"h-4 w-4 mr-2"}),"Reset Month"]})]})]}),s.jsxs(Pt,{children:[s.jsx(Gt,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx(Yt,{children:"Combined Movement Report"}),s.jsxs(Zr,{children:["Total Cost for ",Kr(e,"MMMM yyyy"),": $",x.toFixed(2)]})]})})}),s.jsx(zt,{children:s.jsxs(Af,{value:i,onValueChange:a,children:[s.jsxs(hd,{className:"mb-4",children:[s.jsx(ri,{value:"all",children:"All Movements"}),s.jsx(ri,{value:"deliveries",children:"Deliveries Only"}),s.jsx(ri,{value:"chargeouts",children:"Charge-Outs Only"}),s.jsx(ri,{value:"by_building",children:"By Building"}),s.jsx(ri,{value:"by_cost_center",children:"By Cost Center"})]}),s.jsx(ua,{value:i,children:s.jsx(Ll,{data:i==="deliveries"?g.filter(_=>_.type==="Delivery"):i==="chargeouts"?g.filter(_=>_.type==="Charge-Out"):i==="by_building"?g.sort((_,N)=>(_.building||"").localeCompare(N.building||"")):i==="by_cost_center"?g.sort((_,N)=>(_.costCenter||"").localeCompare(N.costCenter||"")):g,columns:b,itemsPerPage:10})})]})})]}),s.jsx(Qh,{open:r,onOpenChange:n,children:s.jsxs(hf,{children:[s.jsxs(pf,{children:[s.jsx(gf,{children:"Reset Monthly Report"}),s.jsx(xf,{children:"This will reset the report to the current month. Are you sure?"})]}),s.jsxs(mf,{children:[s.jsx(yf,{children:"Cancel"}),s.jsx(vf,{onClick:()=>{t(new Date),o({title:"Report Reset",description:"Report has been reset to current month"})},children:"Reset Report"})]})]})})]})}))}var b8="Switch",[vBe,QXe]=pu(b8),[yBe,wBe]=vBe(b8),mQ=O.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:f,...p}=e,[g,x]=O.useState(null),b=kn(t,C=>x(C)),y=O.useRef(!1),_=g?f||!!g.closest("form"):!0,[N=!1,E]=lu({prop:i,defaultProp:a,onChange:u});return s.jsxs(yBe,{scope:r,checked:N,disabled:l,children:[s.jsx(Wr.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":vQ(N),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:b,onClick:Nr(e.onClick,C=>{E(I=>!I),_&&(y.current=C.isPropagationStopped(),y.current||C.stopPropagation())})}),_&&s.jsx(bBe,{control:g,bubbles:!y.current,name:n,value:c,checked:N,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});mQ.displayName=b8;var gQ="SwitchThumb",xQ=O.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=wBe(gQ,r);return s.jsx(Wr.span,{"data-state":vQ(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});xQ.displayName=gQ;var bBe=e=>{const{control:t,checked:r,bubbles:n=!0,...i}=e,a=O.useRef(null),o=H6(r),l=B6(t);return O.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&p){const g=new Event("click",{bubbles:n});p.call(c,r),c.dispatchEvent(g)}},[o,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function vQ(e){return e?"checked":"unchecked"}var yQ=mQ,SBe=xQ;const ch=O.forwardRef(({className:e,...t},r)=>s.jsx(yQ,{className:ir("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(SBe,{className:ir("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ch.displayName=yQ.displayName;const _Be=or.object({name:or.string().min(2,"Name must be at least 2 characters"),email:or.string().email("Invalid email address")}),NBe=or.object({currentPassword:or.string().min(1,"Current password is required"),newPassword:or.string().min(8,"New password must be at least 8 characters"),confirmPassword:or.string().min(8,"Confirm password must be at least 8 characters")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function VF(){var Ye,we;const[e,t]=O.useState("account"),{toast:r}=ea(),{data:n,isLoading:i,refetch:a}=Er({queryKey:["/api/technicians"]}),{data:o,isLoading:l,refetch:c}=Er({queryKey:["/api/buildings"]}),{data:u,isLoading:f}=Er({queryKey:["/api/profile"],queryFn:bh({on401:"returnNull"})}),p=_s({resolver:Ns(_Be),defaultValues:{name:"",email:""}});O.useEffect(()=>{u&&p.reset({name:u.name,email:u.email})},[u,p]);const g=_s({resolver:Ns(NBe),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),x=Sr({mutationFn:async Pe=>(console.log("Updating profile:",Pe),await nn("PATCH","/api/profile",Pe)),onSuccess:(Pe,ce)=>{r({title:"Profile Updated",description:"Your profile has been updated successfully."}),ur.invalidateQueries({queryKey:["/api/profile"]})},onError:Pe=>{r({title:"Error",description:`Failed to update profile: ${Pe instanceof Error?Pe.message:String(Pe)}`,variant:"destructive"})}}),b=Sr({mutationFn:async Pe=>await nn("POST","/api/change-password",Pe),onSuccess:()=>{r({title:"Password Changed",description:"Your password has been changed successfully."}),g.reset({currentPassword:"",newPassword:"",confirmPassword:""})},onError:Pe=>{r({title:"Error",description:`Failed to change password: ${Pe instanceof Error?Pe.message:String(Pe)}`,variant:"destructive"})}}),[y,_]=O.useState(!0),[N,E]=O.useState(!0),[C,I]=O.useState(!1),[P,D]=O.useState(!0),[k,L]=O.useState(!1),{data:B}=Er({queryKey:["/api/notification-settings"]});O.useEffect(()=>{var Pe,ce,Ce,fe,ke;B&&(_(((Pe=B.workOrders)==null?void 0:Pe.newWorkOrders)??!0),E(((ce=B.workOrders)==null?void 0:ce.statusChanges)??!0),I(((Ce=B.workOrders)==null?void 0:Ce.comments)??!1),D(((fe=B.inventory)==null?void 0:fe.lowStockAlerts)??!0),L(((ke=B.inventory)==null?void 0:ke.partIssuance)??!1))},[B]);const G=Sr({mutationFn:async Pe=>(console.log("Updating notification settings:",Pe),await nn("PATCH","/api/notification-settings",Pe)),onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/notification-settings"]}),r({title:"Settings Updated",description:"Your notification settings have been updated successfully."})},onError:Pe=>{r({title:"Error",description:`Failed to update notification settings: ${Pe instanceof Error?Pe.message:String(Pe)}`,variant:"destructive"})}}),F=Sr({mutationFn:async Pe=>await nn("PATCH","/api/system-settings",Pe),onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/notification-settings"]}),r({title:"System Settings Updated",description:"Your system settings have been updated successfully."})},onError:Pe=>{r({title:"Error",description:`Failed to update system settings: ${Pe instanceof Error?Pe.message:String(Pe)}`,variant:"destructive"})}}),U=Sr({mutationFn:async()=>await nn("POST","/api/backup"),onSuccess:Pe=>{r({title:"Backup Completed",description:"Database backup was created successfully."})},onError:Pe=>{r({title:"Backup Failed",description:`Failed to create database backup: ${Pe instanceof Error?Pe.message:String(Pe)}`,variant:"destructive"})}}),q=()=>{const Pe={workOrders:{newWorkOrders:y,statusChanges:N,comments:C},inventory:{lowStockAlerts:P,partIssuance:k}};G.mutate(Pe)},K=()=>{const Pe=document.getElementById("company-name")instanceof HTMLInputElement?document.getElementById("company-name").value:"Ohio Northern University",ce=document.getElementById("system-email")instanceof HTMLInputElement?document.getElementById("system-email").value:"m-gierhart@onu.edu",Ce=document.getElementById("work-order-prefix")instanceof HTMLInputElement?document.getElementById("work-order-prefix").value:"WO-",fe=document.getElementById("default-message")instanceof HTMLTextAreaElement?document.getElementById("default-message").value:"",ke={system:{companyName:Pe,systemEmail:ce},workOrderPrefix:Ce,defaultMessage:fe};F.mutate(ke)},V=Pe=>{x.mutate(Pe)},ee=Pe=>{b.mutate(Pe)},te=Sr({mutationFn:async({id:Pe,data:ce})=>await nn("PATCH",`/api/technicians/${Pe}`,ce),onSuccess:()=>{r({title:"Technician Updated",description:"The technician has been updated successfully."}),Z(null),a()},onError:Pe=>{r({title:"Error",description:"Failed to update technician. "+(Pe instanceof Error?Pe.message:""),variant:"destructive"})}}),J=Sr({mutationFn:async Pe=>await nn("DELETE",`/api/technicians/${Pe}`),onSuccess:()=>{r({title:"Technician Deleted",description:"The technician has been deleted successfully."}),a()},onError:Pe=>{r({title:"Error",description:"Failed to delete technician. "+(Pe instanceof Error?Pe.message:""),variant:"destructive"})}}),[ge,Ie]=O.useState(null),[Ge,W]=O.useState(null),[Q,Z]=O.useState(null),[re,le]=O.useState(null),Ne=or.object({name:or.string().min(1,"Name is required"),username:or.string().min(1,"Username is required"),department:or.string().optional(),role:or.enum(["admin","technician","student"])}),Ae=or.object({name:or.string().min(1,"Name is required"),description:or.string().optional(),address:or.string().optional(),contactPerson:or.string().optional()}),ve=_s({resolver:Ns(Ne),defaultValues:{name:"",username:"",department:"",role:"technician"}}),xe=_s({resolver:Ns(Ae),defaultValues:{name:"",description:"",address:"",contactPerson:""}}),Le=Sr({mutationFn:async({id:Pe,data:ce})=>await nn("PATCH",`/api/buildings/${Pe}`,ce),onSuccess:()=>{r({title:"Building Updated",description:"The building has been updated successfully."}),le(null),c()},onError:Pe=>{r({title:"Error",description:"Failed to update building. "+(Pe instanceof Error?Pe.message:""),variant:"destructive"})}}),Se=Sr({mutationFn:async Pe=>await nn("DELETE",`/api/buildings/${Pe}`),onSuccess:()=>{r({title:"Building Deleted",description:"The building has been deleted successfully."}),c()},onError:Pe=>{r({title:"Error",description:"Failed to delete building. "+(Pe instanceof Error?Pe.message:""),variant:"destructive"})}}),ye=[{header:"Name",accessor:Pe=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center text-white mr-2",children:s.jsx(mm,{className:"h-4 w-4"})}),Pe.name]})},{header:"Username",accessor:"username"},{header:"Role",accessor:Pe=>s.jsx("span",{className:"capitalize",children:Pe.role})},{header:"Department",accessor:Pe=>Pe.department||"-"},{header:"Actions",accessor:Pe=>s.jsxs("div",{className:"flex justify-end",children:[s.jsxs(Ee,{variant:"ghost",size:"sm",onClick:()=>{Z(Pe),ve.reset({name:Pe.name,username:Pe.username,department:Pe.department||"",role:Pe.role})},children:[s.jsx(Ip,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsx(Ee,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>{if(Pe.role==="admin"){r({title:"Cannot Delete Admin",description:"Administrator users cannot be deleted.",variant:"destructive"});return}Ie(Pe.id)},disabled:Pe.role==="admin",children:"Delete"})]}),className:"text-right"}],We=[{header:"Name",accessor:Pe=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 text-primary flex items-center justify-center mr-2",children:s.jsx(ap,{className:"h-4 w-4"})}),Pe.name]})},{header:"Description",accessor:Pe=>Pe.description||"-"},{header:"Address",accessor:Pe=>Pe.address||"-"},{header:"Contact Person",accessor:Pe=>Pe.contactPerson||"-"},{header:"Actions",accessor:Pe=>s.jsxs("div",{className:"flex justify-end",children:[s.jsxs(Ee,{variant:"ghost",size:"sm",onClick:()=>{le(Pe),xe.reset({name:Pe.name,description:Pe.description||"",address:Pe.address||"",contactPerson:Pe.contactPerson||""})},children:[s.jsx(Ip,{className:"h-4 w-4 mr-2"}),"Edit"]}),s.jsx(Ee,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>W(Pe.id),children:"Delete"})]}),className:"text-right"}];return s.jsxs(s.Fragment,{children:[s.jsx(Qh,{open:ge!==null,onOpenChange:()=>Ie(null),children:s.jsxs(hf,{children:[s.jsxs(pf,{children:[s.jsx(gf,{children:"Are you sure?"}),s.jsx(xf,{children:"This action cannot be undone. This will permanently delete the technician account and all related data."})]}),s.jsxs(mf,{children:[s.jsx(yf,{children:"Cancel"}),s.jsx(vf,{onClick:()=>{ge&&J.mutate(ge),Ie(null)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:J.isPending?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"})," Deleting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(RS,{className:"mr-2 h-4 w-4"})," Delete"]})})]})]})}),s.jsx(Qh,{open:Ge!==null,onOpenChange:()=>W(null),children:s.jsxs(hf,{children:[s.jsxs(pf,{children:[s.jsx(gf,{children:"Are you sure?"}),s.jsx(xf,{children:"This action cannot be undone. This will permanently delete the building and all related data."})]}),s.jsxs(mf,{children:[s.jsx(yf,{children:"Cancel"}),s.jsx(vf,{onClick:()=>{Ge&&Se.mutate(Ge),W(null)},className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:Se.isPending?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"})," Deleting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(RS,{className:"mr-2 h-4 w-4"})," Delete"]})})]})]})}),s.jsx(Qr,{open:Q!==null,onOpenChange:Pe=>!Pe&&Z(null),children:s.jsxs(qr,{className:"sm:max-w-[425px]",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Edit Technician"}),s.jsx(gn,{children:"Update technician information and permissions."})]}),s.jsx(Us,{...ve,children:s.jsxs("form",{onSubmit:ve.handleSubmit(Pe=>{Q&&te.mutate({id:Q.id,data:Pe})}),className:"space-y-4",children:[s.jsx(Dr,{control:ve.control,name:"name",render:({field:Pe})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Name"}),s.jsx(Ir,{children:s.jsx(Rt,{...Pe})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:ve.control,name:"username",render:({field:Pe})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Username"}),s.jsx(Ir,{children:s.jsx(Rt,{...Pe})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:ve.control,name:"department",render:({field:Pe})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Department"}),s.jsx(Ir,{children:s.jsx(Rt,{...Pe})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:ve.control,name:"role",render:({field:Pe})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Role"}),s.jsx(Ir,{children:s.jsxs(Bn,{onValueChange:Pe.onChange,defaultValue:Pe.value,children:[s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select role"})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"admin",children:"Admin"}),s.jsx(er,{value:"technician",children:"Technician"}),s.jsx(er,{value:"student",children:"Student Worker"})]})]})}),s.jsx(Lr,{})]})}),s.jsxs(Pn,{children:[s.jsx(Ee,{variant:"outline",onClick:()=>Z(null),type:"button",children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:te.isPending,children:te.isPending?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ah,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})})]})}),s.jsx(Qr,{open:re!==null,onOpenChange:Pe=>!Pe&&le(null),children:s.jsxs(qr,{className:"sm:max-w-[425px]",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Edit Building"}),s.jsx(gn,{children:"Update building information."})]}),s.jsx(Us,{...xe,children:s.jsxs("form",{onSubmit:xe.handleSubmit(Pe=>{re&&Le.mutate({id:re.id,data:Pe})}),className:"space-y-4",children:[s.jsx(Dr,{control:xe.control,name:"name",render:({field:Pe})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Name"}),s.jsx(Ir,{children:s.jsx(Rt,{...Pe})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:xe.control,name:"description",render:({field:Pe})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Description"}),s.jsx(Ir,{children:s.jsx(Rt,{...Pe})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:xe.control,name:"address",render:({field:Pe})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Address"}),s.jsx(Ir,{children:s.jsx(Rt,{...Pe})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:xe.control,name:"contactPerson",render:({field:Pe})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Contact Person"}),s.jsx(Ir,{children:s.jsx(Rt,{...Pe})}),s.jsx(Lr,{})]})}),s.jsxs(Pn,{children:[s.jsx(Ee,{variant:"outline",onClick:()=>le(null),type:"button",children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:Le.isPending,children:Le.isPending?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ah,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})})]})}),s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Settings"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your account and application settings"})]})}),s.jsx("div",{className:"flex flex-col space-y-8",children:s.jsxs(Af,{value:e,onValueChange:t,children:[s.jsx("div",{className:"w-full overflow-x-auto pb-3",children:s.jsxs(hd,{className:"inline-flex w-full md:w-auto",children:[s.jsxs(ri,{value:"account",className:"whitespace-nowrap",children:[s.jsx(mm,{className:"h-4 w-4 mr-2"}),"Account"]}),s.jsxs(ri,{value:"notifications",className:"whitespace-nowrap",children:[s.jsx(Fz,{className:"h-4 w-4 mr-2"}),"Notifications"]}),s.jsxs(ri,{value:"users",className:"whitespace-nowrap",children:[s.jsx(uy,{className:"h-4 w-4 mr-2"}),"Technicians"]}),s.jsxs(ri,{value:"buildings",className:"whitespace-nowrap",children:[s.jsx(ap,{className:"h-4 w-4 mr-2"}),"Buildings"]}),s.jsxs(ri,{value:"system",className:"whitespace-nowrap",children:[s.jsx(I2,{className:"h-4 w-4 mr-2"}),"System"]})]})}),s.jsx(ua,{value:"account",children:s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Profile Information"}),s.jsx(Zr,{children:"Update your account profile information"})]}),s.jsx(zt,{children:s.jsx(Us,{...p,children:s.jsxs("form",{onSubmit:p.handleSubmit(V),className:"space-y-4",children:[s.jsx(Dr,{control:p.control,name:"name",render:({field:Pe})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Name"}),s.jsx(Ir,{children:s.jsx(Rt,{...Pe})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:p.control,name:"email",render:({field:Pe})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Email"}),s.jsx(Ir,{children:s.jsx(Rt,{...Pe})}),s.jsx(Lr,{})]})}),s.jsxs(Ee,{type:"submit",children:[s.jsx(ah,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})})})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Change Password"}),s.jsx(Zr,{children:"Update your password to maintain security"})]}),s.jsx(zt,{children:s.jsx(Us,{...g,children:s.jsxs("form",{onSubmit:g.handleSubmit(ee),className:"space-y-4",children:[s.jsx(Dr,{control:g.control,name:"currentPassword",render:({field:Pe})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Current Password"}),s.jsx(Ir,{children:s.jsx(Rt,{type:"password",...Pe})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:g.control,name:"newPassword",render:({field:Pe})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"New Password"}),s.jsx(Ir,{children:s.jsx(Rt,{type:"password",...Pe})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:g.control,name:"confirmPassword",render:({field:Pe})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Confirm New Password"}),s.jsx(Ir,{children:s.jsx(Rt,{type:"password",...Pe})}),s.jsx(Lr,{})]})}),s.jsxs(Ee,{type:"submit",children:[s.jsx(LS,{className:"h-4 w-4 mr-2"}),"Change Password"]})]})})})]})]})}),s.jsx(ua,{value:"notifications",children:s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Notification Preferences"}),s.jsx(Zr,{children:"Configure how you receive notifications"})]}),s.jsxs(zt,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Work Order Notifications"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ht,{htmlFor:"new-work-orders",children:"New Work Orders"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications when new work orders are created"})]}),s.jsx(ch,{id:"new-work-orders",checked:y,onCheckedChange:_})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ht,{htmlFor:"work-order-status",children:"Status Changes"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications when work order status changes"})]}),s.jsx(ch,{id:"work-order-status",checked:N,onCheckedChange:E})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ht,{htmlFor:"work-order-comments",children:"Comments"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications for new comments on work orders"})]}),s.jsx(ch,{id:"work-order-comments",checked:C,onCheckedChange:I})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Inventory Notifications"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ht,{htmlFor:"low-stock",children:"Low Stock Alerts"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications when parts reach low stock levels"})]}),s.jsx(ch,{id:"low-stock",checked:P,onCheckedChange:D})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ht,{htmlFor:"part-issuance",children:"Part Issuance"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications when parts are issued to work orders"})]}),s.jsx(ch,{id:"part-issuance",checked:k,onCheckedChange:L})]})]})]}),s.jsx(mc,{children:s.jsx(Ee,{onClick:q,disabled:G.isPending,children:G.isPending?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ah,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})})})]})}),s.jsx(ua,{value:"users",children:s.jsxs(Pt,{children:[s.jsx(Gt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Yt,{children:"Technician Management"}),s.jsx(Zr,{children:"Manage technicians and users"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ee,{variant:"outline",onClick:()=>window.open("/api/technicians/template","_blank"),children:[s.jsx(cM,{className:"h-4 w-4 mr-2"}),"Template"]}),s.jsxs(Ee,{variant:"outline",onClick:()=>window.open("/api/technicians/export","_blank"),children:[s.jsx(Bs,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsx("a",{href:"#",className:"hidden",children:s.jsx("input",{type:"file",id:"technicians-import-file",className:"hidden",accept:".xlsx",onChange:Pe=>{if(Pe.target.files&&Pe.target.files.length>0){const ce=Pe.target.files[0],Ce=new FormData;Ce.append("file",ce),fetch("/api/technicians/import",{method:"POST",body:Ce}).then(fe=>fe.json()).then(fe=>{fe.success?(r({title:"Import Successful",description:`Imported ${fe.importedRows} technicians out of ${fe.totalRows} rows.`}),a()):r({title:"Import Partially Successful",description:`Imported ${fe.importedRows} technicians. ${fe.errors.length} errors encountered.`,variant:"destructive"})}).catch(fe=>{r({title:"Import Failed",description:"Failed to import technicians.",variant:"destructive"})})}Pe.target.value=""}})}),s.jsxs(Ee,{variant:"outline",onClick:()=>{var Pe;(Pe=document.getElementById("technicians-import-file"))==null||Pe.click()},children:[s.jsx(ed,{className:"h-4 w-4 mr-2"}),"Import"]}),s.jsxs(Ee,{children:[s.jsx(mm,{className:"h-4 w-4 mr-2"}),"Add Technician"]})]})]})}),s.jsx(zt,{children:i?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(cn,{className:"h-6 w-6 animate-spin text-primary"}),s.jsx("span",{className:"ml-2",children:"Loading technicians..."})]}):s.jsx(Ll,{data:n||[],columns:ye,itemsPerPage:10})})]})}),s.jsx(ua,{value:"buildings",children:s.jsx("div",{className:"grid gap-6",children:s.jsxs(Pt,{children:[s.jsx(Gt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Yt,{children:"Buildings Management"}),s.jsx(Zr,{children:"Manage building information and locations"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ee,{variant:"outline",onClick:()=>window.open("/api/buildings/template","_blank"),children:[s.jsx(cM,{className:"h-4 w-4 mr-2"}),"Template"]}),s.jsxs(Ee,{variant:"outline",onClick:()=>window.open("/api/buildings/export","_blank"),children:[s.jsx(Bs,{className:"h-4 w-4 mr-2"}),"Export"]}),s.jsx("a",{href:"#",className:"hidden",children:s.jsx("input",{type:"file",id:"buildings-import-file",className:"hidden",accept:".xlsx",onChange:Pe=>{if(Pe.target.files&&Pe.target.files.length>0){const ce=Pe.target.files[0],Ce=new FormData;Ce.append("file",ce),fetch("/api/buildings/import",{method:"POST",body:Ce}).then(fe=>fe.json()).then(fe=>{fe.success?(r({title:"Import Successful",description:`Imported ${fe.importedRows} buildings out of ${fe.totalRows} rows.`}),c()):r({title:"Import Partially Successful",description:`Imported ${fe.importedRows} buildings. ${fe.errors.length} errors encountered.`,variant:"destructive"})}).catch(fe=>{r({title:"Import Failed",description:"Failed to import buildings.",variant:"destructive"})})}Pe.target.value=""}})}),s.jsxs(Ee,{variant:"outline",onClick:()=>{var Pe;(Pe=document.getElementById("buildings-import-file"))==null||Pe.click()},children:[s.jsx(ed,{className:"h-4 w-4 mr-2"}),"Import"]}),s.jsxs(Ee,{children:[s.jsx(ap,{className:"h-4 w-4 mr-2"}),"Add Building"]})]})]})}),s.jsx(zt,{children:l?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(cn,{className:"h-6 w-6 animate-spin text-primary"}),s.jsx("span",{className:"ml-2",children:"Loading buildings..."})]}):s.jsx(Ll,{data:o||[],columns:We,itemsPerPage:10})})]})})}),s.jsx(ua,{value:"system",children:s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"System Information"}),s.jsx(Zr,{children:"View system details and configuration"})]}),s.jsx(zt,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Application Name"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"ONU Parts Tracker"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Version"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"1.0.0"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Last Updated"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:new Date().toLocaleDateString()})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Server Status"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 mr-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Online"})]})]})]})})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Database Management"}),s.jsx(Zr,{children:"Database settings and operations"})]}),s.jsxs(zt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pm,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Database Status"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connected"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(rae,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Storage Usage"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"45.2 MB"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Jie,{className:"h-5 w-5 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Backup Schedule"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Weekly (Sundays 2:00 AM)"})]})]})]}),s.jsxs(mc,{className:"flex justify-between",children:[s.jsx(Ee,{variant:"outline",children:"Export Data"}),s.jsx(Ee,{onClick:()=>U.mutate(),disabled:U.isPending,children:U.isPending?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating Backup..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Cv,{className:"h-4 w-4 mr-2"}),"Create Backup"]})})]})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"System Settings"}),s.jsx(Zr,{children:"Configure global system settings"})]}),s.jsxs(zt,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ht,{htmlFor:"company-name",children:"Company Name"}),s.jsx(Rt,{id:"company-name",defaultValue:((Ye=B==null?void 0:B.system)==null?void 0:Ye.companyName)||"Ohio Northern University"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ht,{htmlFor:"system-email",children:"System Email"}),s.jsx(Rt,{id:"system-email",defaultValue:((we=B==null?void 0:B.system)==null?void 0:we.systemEmail)||"m-gierhart@onu.edu"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ht,{htmlFor:"work-order-prefix",children:"Work Order ID Prefix"}),s.jsx(Rt,{id:"work-order-prefix",defaultValue:"WO-"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ht,{htmlFor:"default-message",children:"Default Email Message"}),s.jsx(hc,{id:"default-message",rows:4,defaultValue:"This is an automated message from the ONU Parts Tracker System. Please do not reply to this email."})]})]}),s.jsx(mc,{children:s.jsx(Ee,{onClick:K,disabled:F.isPending,children:F.isPending?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ah,{className:"h-4 w-4 mr-2"}),"Save Settings"]})})})]})]})})]})})]})}const EBe="/assets/onu-logo-D2qgTAn6.svg",ABe=()=>{const[e,t]=cd(),{user:r,loginMutation:n}=Ts(),[i,a]=O.useState("admin");O.useEffect(()=>{r&&!n.isLoading&&(r.role==="admin"?t("/dashboard"):r.role==="technician"?t("/parts-issuance"):r.role==="student"&&t("/parts-inventory"))},[r,n.isLoading,t]);const o=async l=>{l.preventDefault();const c=l.currentTarget,u=new FormData(c),f=u.get("username"),p=u.get("password");try{await n.mutateAsync({username:f,password:p,role:i})}catch(g){console.error("Login error:",g)}};return qe.createElement("div",{className:"flex min-h-screen items-center justify-center bg-background p-4"},qe.createElement(Pt,{className:"w-full max-w-md"},qe.createElement(Gt,{className:"space-y-1"},qe.createElement("div",{className:"flex justify-center mb-4"},qe.createElement("img",{src:EBe,alt:"ONU Logo",className:"h-16"})),qe.createElement(Yt,{className:"text-2xl text-center"},"Login"),qe.createElement(Zr,{className:"text-center"},"Enter your credentials to continue")),qe.createElement(zt,null,qe.createElement("div",{className:"flex justify-center space-x-4 mb-4"},qe.createElement(Ee,{type:"button",variant:i==="admin"?"default":"outline",onClick:()=>a("admin")},"Admin Login"),qe.createElement(Ee,{type:"button",variant:i==="student"?"default":"outline",onClick:()=>a("student")},"Student Login")),qe.createElement("form",{onSubmit:o,className:"space-y-4"},qe.createElement("div",{className:"space-y-2"},qe.createElement(Ht,{htmlFor:"username"},"Username"),qe.createElement(Rt,{id:"username",name:"username",required:!0})),qe.createElement("div",{className:"space-y-2"},qe.createElement(Ht,{htmlFor:"password"},"Password"),qe.createElement(Rt,{id:"password",name:"password",type:"password",required:!0})),qe.createElement(Ee,{type:"submit",className:"w-full"},qe.createElement(aae,{className:"mr-2 h-4 w-4"}),`Login as ${i==="admin"?"Administrator":"Student"}`)))))};function CBe(){return s.jsxs("div",{className:"p-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Test Page"}),s.jsx("p",{children:"This is a test page to verify routing."}),s.jsx("div",{className:"mt-4",children:s.jsx("a",{href:"/",className:"text-primary hover:underline",children:"Go back home"})})]})}function WF(){const{toast:e}=ea(),{user:t}=Ts(),[r,n]=O.useState(null),[i,a]=O.useState(!1),[o,l]=O.useState(!1),[c,u]=O.useState({name:"",username:"",password:"",role:"technician",department:""}),f=window.innerWidth<=768||navigator.userAgent.toLowerCase().includes("mobile"),p=()=>{ur.invalidateQueries({queryKey:["/api/technicians"]}),f&&ur.invalidateQueries({queryKey:["/api/mobile-admin/technicians"]})},{data:g,isLoading:x,error:b}=Er({queryKey:[f?"/api/mobile-admin/technicians":"/api/technicians"],refetchOnWindowFocus:!1}),y=Sr({mutationFn:async D=>(await nn("DELETE",`/api/technicians/${D}`)).json(),onSuccess:()=>{e({title:"Technician deleted",description:"The technician has been successfully deleted"}),p()},onError:D=>{e({title:"Error",description:`Failed to delete technician: ${D.message}`,variant:"destructive"})}}),_=Sr({mutationFn:async D=>(await nn("POST","/api/technicians",D)).json(),onSuccess:()=>{e({title:"Technician added",description:"The technician has been successfully added"}),l(!1),u({name:"",username:"",password:"",role:"technician",department:""}),p()},onError:D=>{e({title:"Error",description:`Failed to add technician: ${D.message}`,variant:"destructive"})}}),N=async D=>{if(D.preventDefault(),!r){e({title:"Error",description:"Please select a file to import",variant:"destructive"});return}const k=new FormData;k.append("file",r);try{const L=await fetch("/api/technicians/import",{method:"POST",body:k}),B=await L.json();L.ok?(e({title:"Import successful",description:`Imported ${B.importedRows} of ${B.totalRows} technicians`}),a(!1),n(null),p()):e({title:"Import failed",description:B.error||"An error occurred during import",variant:"destructive"})}catch{e({title:"Import failed",description:"An error occurred during import",variant:"destructive"})}},E=D=>{D.preventDefault(),_.mutate(c)},C=()=>{window.location.href="/api/technicians/template"},I=()=>{window.location.href="/api/technicians/export"},P=D=>{y.mutate(D)};return x?s.jsx("div",{className:"flex justify-center items-center h-[calc(100vh-150px)]",children:s.jsx(cn,{className:"h-8 w-8 animate-spin text-primary"})}):b?s.jsx("div",{className:"flex justify-center items-center h-[calc(100vh-150px)]",children:s.jsxs(Pt,{className:"w-full max-w-lg",children:[s.jsx(Gt,{children:s.jsx(Yt,{className:"text-destructive",children:"Error"})}),s.jsxs(zt,{children:[s.jsxs("p",{children:["Failed to load technicians: ",b.message]}),b.message.includes("401")&&s.jsx("p",{className:"mt-2 text-sm text-destructive",children:"You must be logged in as an administrator to access this page."})]}),s.jsx(mc,{children:s.jsx(Ee,{onClick:()=>p(),children:"Try again"})})]})}):t&&t.role!=="admin"?s.jsx("div",{className:"flex justify-center items-center h-[calc(100vh-150px)]",children:s.jsxs(Pt,{className:"w-full max-w-lg",children:[s.jsx(Gt,{children:s.jsx(Yt,{className:"text-destructive",children:"Access Denied"})}),s.jsx(zt,{children:s.jsx("p",{children:"You do not have permission to access this page. This area is restricted to administrators only."})}),s.jsx(mc,{children:s.jsx(Ee,{onClick:()=>window.location.href="/parts-issuance",children:"Go to Parts Issuance"})})]})}):s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Technicians Management"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(Ee,{variant:"outline",onClick:C,children:[s.jsx(Tp,{className:"mr-2 h-4 w-4"}),"Template"]}),s.jsxs(Ee,{variant:"outline",onClick:I,children:[s.jsx(Bs,{className:"mr-2 h-4 w-4"}),"Export"]}),s.jsxs(Qr,{open:i,onOpenChange:a,children:[s.jsx(nd,{asChild:!0,children:s.jsxs(Ee,{variant:"outline",children:[s.jsx(ed,{className:"mr-2 h-4 w-4"}),"Import"]})}),s.jsxs(qr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Import Technicians"}),s.jsx(gn,{children:"Upload an Excel file with technician data. Download the template first if you're not sure about the format."})]}),s.jsxs("form",{onSubmit:N,children:[s.jsx("div",{className:"grid gap-4 py-4",children:s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ht,{htmlFor:"file",children:"Excel File"}),s.jsx(Rt,{id:"file",type:"file",accept:".xlsx",onChange:D=>{var k;return n(((k=D.target.files)==null?void 0:k[0])||null)}}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Only .xlsx files are supported"})]})}),s.jsxs(Pn,{children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),s.jsx(Ee,{type:"submit",children:"Import"})]})]})]})]}),s.jsxs(Qr,{open:o,onOpenChange:l,children:[s.jsx(nd,{asChild:!0,children:s.jsxs(Ee,{children:[s.jsx(zz,{className:"mr-2 h-4 w-4"}),"Add Technician"]})}),s.jsxs(qr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Add New Technician"}),s.jsx(gn,{children:"Enter the details for the new technician."})]}),s.jsxs("form",{onSubmit:E,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ht,{htmlFor:"name",children:"Name"}),s.jsx(Rt,{id:"name",value:c.name,onChange:D=>u({...c,name:D.target.value}),required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ht,{htmlFor:"department",children:"Department"}),s.jsx(Rt,{id:"department",value:c.department,onChange:D=>u({...c,department:D.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ht,{htmlFor:"username",children:"Username (Optional)"}),s.jsx(Rt,{id:"username",value:c.username,onChange:D=>u({...c,username:D.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ht,{htmlFor:"password",children:"Password (Optional)"}),s.jsx(Rt,{id:"password",type:"password",value:c.password,onChange:D=>u({...c,password:D.target.value})}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Only needed if this technician will login to the system"})]})]}),s.jsxs(Pn,{children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),s.jsx(Ee,{type:"submit",children:"Add Technician"})]})]})]})]})]})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Technicians"}),s.jsx(Zr,{children:"Manage technicians who can issue parts"})]}),s.jsx(zt,{children:s.jsxs(cc,{children:[s.jsx(uc,{children:s.jsxs(bi,{children:[s.jsx(yr,{children:"Name"}),s.jsx(yr,{children:"Department"}),s.jsx(yr,{children:"Role"}),s.jsx(yr,{className:"text-right",children:"Actions"})]})}),s.jsx(dc,{children:g&&g.length>0?g.map(D=>s.jsxs(bi,{children:[s.jsx(hr,{className:"font-medium",children:D.name}),s.jsx(hr,{children:D.department||"-"}),s.jsx(hr,{children:D.role}),s.jsx(hr,{className:"text-right",children:s.jsxs(Qh,{children:[s.jsx(s8,{asChild:!0,children:s.jsx(Ee,{variant:"ghost",size:"icon",disabled:D.id===(t==null?void 0:t.id),className:D.id===(t==null?void 0:t.id)?"opacity-50 cursor-not-allowed":"",children:s.jsx(Oo,{className:"h-4 w-4 text-destructive"})})}),s.jsxs(hf,{children:[s.jsxs(pf,{children:[s.jsx(gf,{children:"Are you sure?"}),s.jsx(xf,{children:"This will permanently delete the technician. This action cannot be undone."})]}),s.jsxs(mf,{children:[s.jsx(yf,{children:"Cancel"}),s.jsx(vf,{onClick:()=>P(D.id),children:"Delete"})]})]})]})})]},D.id)):s.jsx(bi,{children:s.jsx(hr,{colSpan:4,className:"text-center py-6",children:"No technicians found. Add one to get started."})})})]})})]})]})}function HF(){const{toast:e}=ea(),[t,r]=O.useState(null),[n,i]=O.useState(!1),[a,o]=O.useState(!1),[l,c]=O.useState(!1),[u,f]=O.useState({name:"",location:"",description:""}),[p,g]=O.useState(null),x=window.innerWidth<=768||navigator.userAgent.toLowerCase().includes("mobile"),b=()=>{ur.invalidateQueries({queryKey:["/api/buildings"]}),x&&ur.invalidateQueries({queryKey:["/api/mobile-admin/buildings"]})},{data:y,isLoading:_,error:N}=Er({queryKey:[x?"/api/mobile-admin/buildings":"/api/buildings"],refetchOnWindowFocus:!1}),E=Sr({mutationFn:async q=>(await nn("POST","/api/buildings",q)).json(),onSuccess:()=>{e({title:"Building added",description:"The building has been successfully added"}),o(!1),f({name:"",location:"",description:""}),b()},onError:q=>{e({title:"Error",description:`Failed to add building: ${q.message}`,variant:"destructive"})}}),C=Sr({mutationFn:async q=>(await nn("PATCH",`/api/buildings/${q.id}`,{name:q.name,location:q.location,description:q.description})).json(),onSuccess:()=>{e({title:"Building updated",description:"The building has been successfully updated"}),c(!1),g(null),b()},onError:q=>{e({title:"Error",description:`Failed to update building: ${q.message}`,variant:"destructive"})}}),I=Sr({mutationFn:async q=>(await nn("DELETE",`/api/buildings/${q}`)).json(),onSuccess:()=>{e({title:"Building deleted",description:"The building has been successfully deleted"}),b()},onError:q=>{e({title:"Error",description:`Failed to delete building: ${q.message}`,variant:"destructive"})}}),P=async q=>{if(q.preventDefault(),!t){e({title:"Error",description:"Please select a file to import",variant:"destructive"});return}const K=new FormData;K.append("file",t);try{const V=await fetch("/api/buildings/import",{method:"POST",body:K}),ee=await V.json();V.ok?(e({title:"Import successful",description:`Imported ${ee.importedRows} of ${ee.totalRows} buildings`}),i(!1),r(null),b()):e({title:"Import failed",description:ee.error||"An error occurred during import",variant:"destructive"})}catch{e({title:"Import failed",description:"An error occurred during import",variant:"destructive"})}},D=q=>{q.preventDefault(),E.mutate(u)},k=q=>{q.preventDefault(),p&&C.mutate(p)},L=()=>{window.location.href="/api/buildings/template"},B=()=>{window.location.href="/api/buildings/export"},G=q=>{I.mutate(q)},F=q=>{g(q),c(!0)};if(_)return s.jsx("div",{className:"flex justify-center items-center h-[calc(100vh-150px)]",children:s.jsx(cn,{className:"h-8 w-8 animate-spin text-primary"})});if(N)return s.jsx("div",{className:"flex justify-center items-center h-[calc(100vh-150px)]",children:s.jsxs(Pt,{className:"w-full max-w-lg",children:[s.jsx(Gt,{children:s.jsx(Yt,{className:"text-destructive",children:"Error"})}),s.jsxs(zt,{children:[s.jsxs("p",{children:["Failed to load buildings: ",N.message]}),N.message.includes("401")&&s.jsx("p",{className:"mt-2 text-sm text-destructive",children:"You must be logged in as an administrator to access this page."})]}),s.jsx(mc,{children:s.jsx(Ee,{onClick:()=>b(),children:"Try again"})})]})});const{user:U}=Ts();return U&&U.role!=="admin"?s.jsx("div",{className:"flex justify-center items-center h-[calc(100vh-150px)]",children:s.jsxs(Pt,{className:"w-full max-w-lg",children:[s.jsx(Gt,{children:s.jsx(Yt,{className:"text-destructive",children:"Access Denied"})}),s.jsx(zt,{children:s.jsx("p",{children:"You do not have permission to access this page. This area is restricted to administrators only."})}),s.jsx(mc,{children:s.jsx(Ee,{onClick:()=>window.location.href="/parts-issuance",children:"Go to Parts Issuance"})})]})}):s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Buildings Management"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(Ee,{variant:"outline",onClick:L,children:[s.jsx(Tp,{className:"mr-2 h-4 w-4"}),"Template"]}),s.jsxs(Ee,{variant:"outline",onClick:B,children:[s.jsx(Bs,{className:"mr-2 h-4 w-4"}),"Export"]}),s.jsxs(Qr,{open:n,onOpenChange:i,children:[s.jsx(nd,{asChild:!0,children:s.jsxs(Ee,{variant:"outline",children:[s.jsx(ed,{className:"mr-2 h-4 w-4"}),"Import"]})}),s.jsxs(qr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Import Buildings"}),s.jsx(gn,{children:"Upload an Excel file with building data. Download the template first if you're not sure about the format."})]}),s.jsxs("form",{onSubmit:P,children:[s.jsx("div",{className:"grid gap-4 py-4",children:s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ht,{htmlFor:"file",children:"Excel File"}),s.jsx(Rt,{id:"file",type:"file",accept:".xlsx",onChange:q=>{var K;return r(((K=q.target.files)==null?void 0:K[0])||null)}}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Only .xlsx files are supported"})]})}),s.jsxs(Pn,{children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),s.jsx(Ee,{type:"submit",children:"Import"})]})]})]})]}),s.jsxs(Qr,{open:a,onOpenChange:o,children:[s.jsx(nd,{asChild:!0,children:s.jsxs(Ee,{children:[s.jsx(zz,{className:"mr-2 h-4 w-4"}),"Add Building"]})}),s.jsxs(qr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Add New Building"}),s.jsx(gn,{children:"Enter the details for the new building."})]}),s.jsxs("form",{onSubmit:D,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ht,{htmlFor:"name",children:"Name"}),s.jsx(Rt,{id:"name",value:u.name,onChange:q=>f({...u,name:q.target.value}),required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ht,{htmlFor:"location",children:"Location"}),s.jsx(Rt,{id:"location",value:u.location,onChange:q=>f({...u,location:q.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ht,{htmlFor:"description",children:"Description"}),s.jsx(Rt,{id:"description",value:u.description,onChange:q=>f({...u,description:q.target.value})})]})]}),s.jsxs(Pn,{children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(Ee,{type:"submit",children:"Add Building"})]})]})]})]})]})]}),s.jsx(Qr,{open:l,onOpenChange:c,children:s.jsxs(qr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Edit Building"}),s.jsx(gn,{children:"Update the building details."})]}),p&&s.jsxs("form",{onSubmit:k,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ht,{htmlFor:"edit-name",children:"Name"}),s.jsx(Rt,{id:"edit-name",value:p.name,onChange:q=>g({...p,name:q.target.value}),required:!0})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ht,{htmlFor:"edit-location",children:"Location"}),s.jsx(Rt,{id:"edit-location",value:p.location||"",onChange:q=>g({...p,location:q.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(Ht,{htmlFor:"edit-description",children:"Description"}),s.jsx(Rt,{id:"edit-description",value:p.description||"",onChange:q=>g({...p,description:q.target.value})})]})]}),s.jsxs(Pn,{children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(Ee,{type:"submit",children:"Update Building"})]})]})]})}),s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Buildings"}),s.jsx(Zr,{children:"Manage buildings for parts issuance tracking"})]}),s.jsx(zt,{children:s.jsxs(cc,{children:[s.jsx(uc,{children:s.jsxs(bi,{children:[s.jsx(yr,{children:"Name"}),s.jsx(yr,{children:"Location"}),s.jsx(yr,{children:"Description"}),s.jsx(yr,{className:"text-right",children:"Actions"})]})}),s.jsx(dc,{children:y&&y.length>0?y.map(q=>s.jsxs(bi,{children:[s.jsx(hr,{className:"font-medium",children:q.name}),s.jsx(hr,{children:q.location||"-"}),s.jsx(hr,{children:q.description||"-"}),s.jsx(hr,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end space-x-1",children:[s.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>F(q),children:s.jsx(cy,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs(Qh,{children:[s.jsx(s8,{asChild:!0,children:s.jsx(Ee,{variant:"ghost",size:"icon",children:s.jsx(Oo,{className:"h-4 w-4 text-destructive"})})}),s.jsxs(hf,{children:[s.jsxs(pf,{children:[s.jsx(gf,{children:"Are you sure?"}),s.jsxs(xf,{children:['This will permanently delete the building "',q.name,'". This action cannot be undone.']})]}),s.jsxs(mf,{children:[s.jsx(yf,{children:"Cancel"}),s.jsx(vf,{onClick:()=>G(q.id),children:"Delete"})]})]})]})]})})]},q.id)):s.jsx(bi,{children:s.jsx(hr,{colSpan:4,className:"text-center py-6",children:"No buildings found. Add one to get started."})})})]})})]})]})}function jBe(e,t){return O.useReducer((r,n)=>t[r][n]??r,e)}var S8="ScrollArea",[wQ,ZXe]=pu(S8),[TBe,_c]=wQ(S8),bQ=O.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:a=600,...o}=e,[l,c]=O.useState(null),[u,f]=O.useState(null),[p,g]=O.useState(null),[x,b]=O.useState(null),[y,_]=O.useState(null),[N,E]=O.useState(0),[C,I]=O.useState(0),[P,D]=O.useState(!1),[k,L]=O.useState(!1),B=kn(t,F=>c(F)),G=X_(i);return s.jsx(TBe,{scope:r,type:n,dir:G,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:f,content:p,onContentChange:g,scrollbarX:x,onScrollbarXChange:b,scrollbarXEnabled:P,onScrollbarXEnabledChange:D,scrollbarY:y,onScrollbarYChange:_,scrollbarYEnabled:k,onScrollbarYEnabledChange:L,onCornerWidthChange:E,onCornerHeightChange:I,children:s.jsx(Wr.div,{dir:G,...o,ref:B,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});bQ.displayName=S8;var SQ="ScrollAreaViewport",_Q=O.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,asChild:i,nonce:a,...o}=e,l=_c(SQ,r),c=O.useRef(null),u=kn(t,c,l.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),s.jsx(Wr.div,{"data-radix-scroll-area-viewport":"",...o,asChild:i,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:BBe({asChild:i,children:n},f=>s.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:f}))})]})});_Q.displayName=SQ;var pd="ScrollAreaScrollbar",_8=O.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=_c(pd,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=e.orientation==="horizontal";return O.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?s.jsx(OBe,{...n,ref:t,forceMount:r}):i.type==="scroll"?s.jsx(IBe,{...n,ref:t,forceMount:r}):i.type==="auto"?s.jsx(NQ,{...n,ref:t,forceMount:r}):i.type==="always"?s.jsx(N8,{...n,ref:t}):null});_8.displayName=pd;var OBe=O.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=_c(pd,e.__scopeScrollArea),[a,o]=O.useState(!1);return O.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(Do,{present:r||a,children:s.jsx(NQ,{"data-state":a?"visible":"hidden",...n,ref:t})})}),IBe=O.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=_c(pd,e.__scopeScrollArea),a=e.orientation==="horizontal",o=yN(()=>c("SCROLL_END"),100),[l,c]=jBe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return O.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),O.useEffect(()=>{const u=i.viewport,f=a?"scrollLeft":"scrollTop";if(u){let p=u[f];const g=()=>{const x=u[f];p!==x&&(c("SCROLL"),o()),p=x};return u.addEventListener("scroll",g),()=>u.removeEventListener("scroll",g)}},[i.viewport,a,c,o]),s.jsx(Do,{present:r||l!=="hidden",children:s.jsx(N8,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Nr(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Nr(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),NQ=O.forwardRef((e,t)=>{const r=_c(pd,e.__scopeScrollArea),{forceMount:n,...i}=e,[a,o]=O.useState(!1),l=e.orientation==="horizontal",c=yN(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:f)}},10);return Lg(r.viewport,c),Lg(r.content,c),s.jsx(Do,{present:n||a,children:s.jsx(N8,{"data-state":a?"visible":"hidden",...i,ref:t})})}),N8=O.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,i=_c(pd,e.__scopeScrollArea),a=O.useRef(null),o=O.useRef(0),[l,c]=O.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=TQ(l.viewport,l.content),f={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:g=>a.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function p(g,x){return RBe(g,o.current,l,x)}return r==="horizontal"?s.jsx(PBe,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const g=i.viewport.scrollLeft,x=qF(g,l,i.dir);a.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=p(g,i.dir))}}):r==="vertical"?s.jsx(kBe,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const g=i.viewport.scrollTop,x=qF(g,l);a.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=p(g))}}):null}),PBe=O.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=_c(pd,e.__scopeScrollArea),[o,l]=O.useState(),c=O.useRef(null),u=kn(t,c,a.onScrollbarXChange);return O.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(AQ,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":vN(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,p)=>{if(a.viewport){const g=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(g),IQ(g,p)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:i4(o.paddingLeft),paddingEnd:i4(o.paddingRight)}})}})}),kBe=O.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...i}=e,a=_c(pd,e.__scopeScrollArea),[o,l]=O.useState(),c=O.useRef(null),u=kn(t,c,a.onScrollbarYChange);return O.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(AQ,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":vN(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,p)=>{if(a.viewport){const g=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(g),IQ(g,p)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:i4(o.paddingTop),paddingEnd:i4(o.paddingBottom)}})}})}),[MBe,EQ]=wQ(pd),AQ=O.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:p,...g}=e,x=_c(pd,r),[b,y]=O.useState(null),_=kn(t,B=>y(B)),N=O.useRef(null),E=O.useRef(""),C=x.viewport,I=n.content-n.viewport,P=Wa(f),D=Wa(c),k=yN(p,10);function L(B){if(N.current){const G=B.clientX-N.current.left,F=B.clientY-N.current.top;u({x:G,y:F})}}return O.useEffect(()=>{const B=G=>{const F=G.target;(b==null?void 0:b.contains(F))&&P(G,I)};return document.addEventListener("wheel",B,{passive:!1}),()=>document.removeEventListener("wheel",B,{passive:!1})},[C,b,I,P]),O.useEffect(D,[n,D]),Lg(b,k),Lg(x.content,k),s.jsx(MBe,{scope:r,scrollbar:b,hasThumb:i,onThumbChange:Wa(a),onThumbPointerUp:Wa(o),onThumbPositionChange:D,onThumbPointerDown:Wa(l),children:s.jsx(Wr.div,{...g,ref:_,style:{position:"absolute",...g.style},onPointerDown:Nr(e.onPointerDown,B=>{B.button===0&&(B.target.setPointerCapture(B.pointerId),N.current=b.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),L(B))}),onPointerMove:Nr(e.onPointerMove,L),onPointerUp:Nr(e.onPointerUp,B=>{const G=B.target;G.hasPointerCapture(B.pointerId)&&G.releasePointerCapture(B.pointerId),document.body.style.webkitUserSelect=E.current,x.viewport&&(x.viewport.style.scrollBehavior=""),N.current=null})})})}),n4="ScrollAreaThumb",CQ=O.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=EQ(n4,e.__scopeScrollArea);return s.jsx(Do,{present:r||i.hasThumb,children:s.jsx(DBe,{ref:t,...n})})}),DBe=O.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...i}=e,a=_c(n4,r),o=EQ(n4,r),{onThumbPositionChange:l}=o,c=kn(t,p=>o.onThumbChange(p)),u=O.useRef(),f=yN(()=>{u.current&&(u.current(),u.current=void 0)},100);return O.useEffect(()=>{const p=a.viewport;if(p){const g=()=>{if(f(),!u.current){const x=FBe(p,l);u.current=x,l()}};return l(),p.addEventListener("scroll",g),()=>p.removeEventListener("scroll",g)}},[a.viewport,f,l]),s.jsx(Wr.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Nr(e.onPointerDownCapture,p=>{const x=p.target.getBoundingClientRect(),b=p.clientX-x.left,y=p.clientY-x.top;o.onThumbPointerDown({x:b,y})}),onPointerUp:Nr(e.onPointerUp,o.onThumbPointerUp)})});CQ.displayName=n4;var E8="ScrollAreaCorner",jQ=O.forwardRef((e,t)=>{const r=_c(E8,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(LBe,{...e,ref:t}):null});jQ.displayName=E8;var LBe=O.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,i=_c(E8,r),[a,o]=O.useState(0),[l,c]=O.useState(0),u=!!(a&&l);return Lg(i.scrollbarX,()=>{var p;const f=((p=i.scrollbarX)==null?void 0:p.offsetHeight)||0;i.onCornerHeightChange(f),c(f)}),Lg(i.scrollbarY,()=>{var p;const f=((p=i.scrollbarY)==null?void 0:p.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),u?s.jsx(Wr.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function i4(e){return e?parseInt(e,10):0}function TQ(e,t){const r=e/t;return isNaN(r)?0:r}function vN(e){const t=TQ(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function RBe(e,t,r,n="ltr"){const i=vN(r),a=i/2,o=t||a,l=i-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,p=n==="ltr"?[0,f]:[f*-1,0];return OQ([c,u],p)(e)}function qF(e,t,r="ltr"){const n=vN(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=kj(e,c);return OQ([0,o],[0,l])(u)}function OQ(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function IQ(e,t){return e>0&&e<t}var FBe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&t(),r=a,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function yN(e,t){const r=Wa(e),n=O.useRef(0);return O.useEffect(()=>()=>window.clearTimeout(n.current),[]),O.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Lg(e,t){const r=Wa(t);js(()=>{let n=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(e),()=>{window.cancelAnimationFrame(n),i.unobserve(e)}}},[e,r])}function BBe(e,t){const{asChild:r,children:n}=e;if(!r)return typeof t=="function"?t(n):t;const i=O.Children.only(n);return O.cloneElement(i,{children:typeof t=="function"?t(i.props.children):t})}var PQ=bQ,$Be=_Q,UBe=jQ;const hT=O.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(PQ,{ref:n,className:ir("relative overflow-hidden",e),...r,children:[s.jsx($Be,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(kQ,{}),s.jsx(UBe,{})]}));hT.displayName=PQ.displayName;const kQ=O.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(_8,{ref:n,orientation:t,className:ir("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(CQ,{className:"relative flex-1 rounded-full bg-border"})}));kQ.displayName=_8.displayName;var A8="Collapsible",[zBe,JXe]=pu(A8),[VBe,C8]=zBe(A8),MQ=O.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:a,onOpenChange:o,...l}=e,[c=!1,u]=lu({prop:n,defaultProp:i,onChange:o});return s.jsx(VBe,{scope:r,disabled:a,contentId:iu(),open:c,onOpenToggle:O.useCallback(()=>u(f=>!f),[u]),children:s.jsx(Wr.div,{"data-state":T8(c),"data-disabled":a?"":void 0,...l,ref:t})})});MQ.displayName=A8;var DQ="CollapsibleTrigger",LQ=O.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,i=C8(DQ,r);return s.jsx(Wr.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":T8(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:t,onClick:Nr(e.onClick,i.onOpenToggle)})});LQ.displayName=DQ;var j8="CollapsibleContent",RQ=O.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=C8(j8,e.__scopeCollapsible);return s.jsx(Do,{present:r||i.open,children:({present:a})=>s.jsx(WBe,{...n,ref:t,present:a})})});RQ.displayName=j8;var WBe=O.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:i,...a}=e,o=C8(j8,r),[l,c]=O.useState(n),u=O.useRef(null),f=kn(t,u),p=O.useRef(0),g=p.current,x=O.useRef(0),b=x.current,y=o.open||l,_=O.useRef(y),N=O.useRef();return O.useEffect(()=>{const E=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(E)},[]),js(()=>{const E=u.current;if(E){N.current=N.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const C=E.getBoundingClientRect();p.current=C.height,x.current=C.width,_.current||(E.style.transitionDuration=N.current.transitionDuration,E.style.animationName=N.current.animationName),c(n)}},[o.open,n]),s.jsx(Wr.div,{"data-state":T8(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...a,ref:f,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:y&&i})});function T8(e){return e?"open":"closed"}var HBe=MQ;const qBe=HBe,GBe=LQ,YBe=RQ;function GF(){const[e,t]=O.useState([]),[r,n]=O.useState(""),[i,a]=O.useState(""),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[f,p]=O.useState({}),[g,x]=O.useState(""),[b,y]=O.useState("manual-count"),[_,N]=O.useState(""),[E,C]=O.useState(""),{toast:I}=ea(),[,P]=cd(),{user:D}=Ts();O.useEffect(()=>{const ze=new URLSearchParams(window.location.search),tt=ze.get("tab"),dt=ze.get("addCritical");if(tt==="manage"&&(D==null?void 0:D.role)==="admin"&&y("manage-count"),dt==="true"){try{const Zt=JSON.parse(localStorage.getItem("criticalPartsForQuickCount")||"[]");if(Zt.length>0){const ne=Zt.reduce((De,gt)=>(De[gt]=!0,De),{});p(ne),localStorage.removeItem("criticalPartsForQuickCount"),I({title:"Critical Parts Selected",description:`${Zt.length} critical stock parts ready to assign.`})}}catch(Zt){console.error("Error processing critical parts from localStorage:",Zt)}window.history.replaceState({},document.title,"/quick-count")}},[I,D]);const{data:k=[],isLoading:L}=Er({queryKey:["/api/parts-to-count/pending"],queryFn:async()=>{try{const tt=await(await fetch("/api/current-user",{cache:"no-cache"})).json();if((tt==null?void 0:tt.role)!=="student"&&(tt==null?void 0:tt.role)!=="admin")return console.log("User does not have permission to view pending parts"),[];const dt=await fetch("/api/parts-to-count/pending",{cache:"no-cache"});if(!dt.ok)throw new Error("Failed to fetch assigned parts");const Zt=await dt.json();if(Zt&&Array.isArray(Zt)&&Zt.length>0&&!Zt[0].part){console.log("Parts not included in pending assignments, fetching parts...");try{const ne=await fetch("/api/parts",{cache:"no-cache"});if(!ne.ok)throw new Error("Failed to fetch parts for assignments");const De=await ne.json();return Zt.map(gt=>{const Nt=De.find(Pr=>Pr.id===gt.partId);return{...gt,part:Nt||null}})}catch(ne){return console.error("Error fetching parts for pending assignments:",ne),Zt}}return Zt}catch(ze){return console.error("Error fetching pending parts:",ze),[]}},enabled:!0,retry:!1});O.useEffect(()=>{if((D==null?void 0:D.role)==="student"&&k&&k.length>0){const ze=k.filter(tt=>tt.part&&!e.some(dt=>dt.id===tt.part.id)).map(tt=>tt.part).filter(Boolean);if(ze.length>0){const tt=ze.map(dt=>({partId:dt.partId,name:dt.name,originalQuantity:dt.quantity,newQuantity:dt.quantity,displayValue:dt.quantity.toString(),changed:!1,id:dt.id}));t(dt=>[...dt,...tt]),console.log(`Auto-loaded ${ze.length} assigned parts for counting`),I({title:"Parts Loaded",description:`${ze.length} assigned parts loaded for counting.`})}}},[k,D==null?void 0:D.role,e,I]);const{data:B=[],isLoading:G}=Er({queryKey:["/api/parts-to-count"],queryFn:async()=>{try{const tt=await(await fetch("/api/current-user",{cache:"no-cache"})).json(),dt=await fetch("/api/parts-to-count",{cache:"no-cache"});if(!dt.ok){if(dt.status===403)return console.log("Access denied to parts-to-count endpoint"),[];throw new Error("Failed to fetch all parts to count")}const Zt=await dt.json();if(Zt&&Array.isArray(Zt)&&Zt.length>0&&!Zt[0].part){console.log("Parts not included in assignments, fetching parts...");try{const ne=await fetch("/api/parts",{cache:"no-cache"});if(!ne.ok)throw new Error("Failed to fetch parts for assignments");const De=await ne.json();return Zt.map(gt=>{const Nt=De.find(Pr=>Pr.id===gt.partId);return{...gt,part:Nt||null}})}catch(ne){return console.error("Error fetching parts for assignments:",ne),Zt}}return Zt}catch(ze){return console.error("Error fetching all assigned parts:",ze),[]}},retry:!1}),F=Sr({mutationFn:async ze=>{const tt=[];for(const dt of ze){const ne=await(await nn("POST","/api/parts-to-count",{partId:dt})).json();tt.push(ne)}return tt},onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/parts-to-count"]}),I({title:"Parts Assigned",description:"Successfully assigned parts for counting."}),p({})},onError:ze=>{I({title:"Error",description:`Failed to assign parts: ${ze.message}`,variant:"destructive"})}}),U=Sr({mutationFn:async ze=>nn("PATCH",`/api/parts-to-count/${ze}`,{status:"completed"}),onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/parts-to-count/pending"]}),ur.invalidateQueries({queryKey:["/api/parts-to-count"]}),I({title:"Assignment Completed",description:"Successfully marked assignment as completed."})},onError:ze=>{I({title:"Error",description:`Failed to complete assignment: ${ze.message}`,variant:"destructive"})}}),[q,K]=O.useState([]),V=ze=>{if(ze){const tt=(B==null?void 0:B.filter(dt=>dt&&dt.id).map(dt=>dt.id))||[];K(tt)}else K([])},ee=(ze,tt)=>{K(tt?dt=>[...dt,ze]:dt=>dt.filter(Zt=>Zt!==ze))},te=Sr({mutationFn:async ze=>nn("DELETE",`/api/parts-to-count/${ze}`),onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/parts-to-count"]}),I({title:"Assignment Deleted",description:"Successfully deleted assignment."})},onError:ze=>{I({title:"Error",description:`Failed to delete assignment: ${ze.message}`,variant:"destructive"})}}),J=Sr({mutationFn:async ze=>{for(const tt of ze)await nn("DELETE",`/api/parts-to-count/${tt}`);return{success:!0,count:ze.length}},onSuccess:ze=>{ur.invalidateQueries({queryKey:["/api/parts-to-count"]}),I({title:"Assignments Deleted",description:`Successfully deleted ${ze.count} assignments.`}),K([])},onError:ze=>{I({title:"Error",description:`Failed to delete assignments: ${ze.message}`,variant:"destructive"})}}),ge=()=>{const ze=Object.keys(f).filter(tt=>f[parseInt(tt)]).map(tt=>parseInt(tt));if(ze.length===0){I({title:"No Parts Selected",description:"Please select at least one part to assign for counting.",variant:"destructive"});return}F.mutate(ze)},{data:Ie=[],isLoading:Ge}=Er({queryKey:["/api/storage-locations"],retry:!1}),{data:W=[],isLoading:Q}=Er({queryKey:["/api/shelves/by-location",_],queryFn:async()=>{if(!_||_==="all")return[];const ze=await fetch(`/api/shelves/by-location/${_}`);if(!ze.ok)throw new Error("Failed to fetch shelves");return ze.json()},enabled:!!_&&_!=="all",retry:!1}),{data:Z,isLoading:re}=Er({queryKey:["/api/parts",_,E],queryFn:async()=>{let ze="/api/parts";(_&&_!=="all"||E&&E!=="all")&&(ze="/api/parts?",_&&_!=="all"&&(ze+=`locationId=${_}`),E&&E!=="all"&&(ze+=`${_&&_!=="all"?"&":""}shelfId=${E}`));const tt=await fetch(ze,{cache:"no-cache"});if(!tt.ok)throw new Error("Failed to fetch parts");return tt.json()},retry:!1}),le=(Z==null?void 0:Z.filter(ze=>{if(r){const tt=r.toLowerCase();return ze.partId.toLowerCase().includes(tt)}if(i&&i.length>=3){const tt=i.toLowerCase();return ze.name.toLowerCase().includes(tt)}return!1}))||[],Ne=ze=>{if(e.some(tt=>tt.partId===ze.partId)){const tt=document.getElementById(`quantity-${ze.partId}`);tt&&tt.focus();return}t(tt=>[...tt,{partId:ze.partId,name:ze.name,originalQuantity:ze.quantity,newQuantity:ze.quantity,displayValue:ze.quantity.toString(),changed:!1,id:ze.id}]),n(""),a(""),setTimeout(()=>{const tt=document.getElementById(`quantity-${ze.partId}`);tt&&tt.focus()},100)},Ae=()=>{if(!r)return;const ze=Z==null?void 0:Z.find(tt=>tt.partId===r);ze?Ne(ze):I({title:"Part Not Found",description:`No part found with ID: ${r}`,variant:"destructive"})},ve=ze=>{n(ze);const tt=Z==null?void 0:Z.find(dt=>dt.partId===ze);tt?(Ne(tt),l(!1),I({title:"Part Scanned",description:`Added ${tt.name} to count list.`})):I({title:"Part Not Found",description:`No part found with barcode: ${ze}`,variant:"destructive"})},xe=(ze,tt)=>{t(dt=>dt.map(Zt=>{if(Zt.partId===ze){const ne=tt===""?0:parseInt(tt)||0,De=ne!==Zt.originalQuantity;return{...Zt,newQuantity:ne,displayValue:tt,changed:De}}return Zt}))},Le=Sr({mutationFn:async ze=>(await nn("POST","/api/parts/batch-update",ze)).json(),onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/parts"]}),ur.invalidateQueries({queryKey:["/api/parts/low-stock"]}),I({title:"Quantities Updated",description:`Successfully updated ${Se.length} part quantities.`}),t([])},onError:ze=>{I({title:"Error",description:`Failed to update quantities: ${ze.message}`,variant:"destructive"})}}),Se=e.filter(ze=>ze.changed),ye=()=>{if(Se.length===0){I({title:"No Changes",description:"No quantities have been changed."});return}const ze=Se.map(tt=>({partId:tt.partId,quantity:tt.newQuantity}));Le.mutate(ze)},We=ze=>{t(tt=>tt.filter(dt=>dt.partId!==ze))},Ye=ze=>{t(tt=>tt.map(dt=>dt.partId===ze?{...dt,newQuantity:dt.originalQuantity,changed:!1}:dt))},we=ze=>{p(tt=>{const dt={...tt};return dt[ze]=!tt[ze],dt})},Pe=()=>{const ze=Object.keys(f).filter(ne=>f[parseInt(ne)]).map(ne=>parseInt(ne));if(ze.length===0){I({title:"No Parts Selected",description:"Please select at least one part to add to the count list.",variant:"destructive"});return}const dt=((Z==null?void 0:Z.filter(ne=>ze.includes(ne.id)))||[]).filter(ne=>!e.some(De=>De.partId===ne.partId));if(dt.length===0){I({title:"Parts Already Added",description:"All selected parts are already in the count list."});return}const Zt=dt.map(ne=>({partId:ne.partId,name:ne.name,originalQuantity:ne.quantity,newQuantity:ne.quantity,displayValue:ne.quantity.toString(),changed:!1,id:ne.id}));t(ne=>[...ne,...Zt]),p({}),I({title:"Parts Added",description:`Added ${dt.length} parts to the count list.`})},ce=(Z==null?void 0:Z.filter(ze=>{var dt;if(!g)return!0;const tt=g.toLowerCase();return ze.partId.toLowerCase().includes(tt)||ze.name.toLowerCase().includes(tt)||(((dt=ze.category)==null?void 0:dt.toLowerCase())||"").includes(tt)}))||[],[Ce,fe]=O.useState(1),ke=25,He=Ce*ke,nt=He-ke,mt=ce.slice(nt,He),At=Math.ceil(ce.length/ke),qt=ce.reduce((ze,tt)=>{const dt=tt.category||"Uncategorized";return ze[dt]||(ze[dt]=[]),ze[dt].push(tt),ze},{});Object.keys(qt).sort();const mr=[{header:"Part ID",accessor:"partId",className:"whitespace-nowrap"},{header:"Name",accessor:"name"},{header:"Original Qty",accessor:ze=>ze.originalQuantity},{header:"New Qty",accessor:ze=>s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"flex border rounded-md mr-2",children:[s.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>xe(ze.partId,String(ze.newQuantity-1)),className:"h-8 w-8 p-0",disabled:ze.newQuantity<=0,children:s.jsx(sy,{className:"h-3 w-3"})}),s.jsx(Rt,{id:`quantity-${ze.partId}`,type:"number",value:ze.displayValue,onChange:tt=>xe(ze.partId,tt.target.value),className:`w-16 border-0 text-center ${ze.changed?"bg-primary/10":""}`}),s.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>xe(ze.partId,String(ze.newQuantity+1)),className:"h-8 w-8 p-0",children:s.jsx(Si,{className:"h-3 w-3"})})]}),ze.changed&&s.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>Ye(ze.partId),className:"ml-1",title:"Reset to original quantity",children:s.jsx(W4,{className:"h-4 w-4"})})]})},{header:"Actions",accessor:ze=>s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>We(ze.partId),children:"Remove"}),className:"text-right"}],ar=ze=>{ze.key==="Enter"&&Ae()};return re?s.jsxs("div",{className:"flex h-full items-center justify-center",children:[s.jsx(cn,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-lg",children:"Loading..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Quick Count"}),s.jsx("p",{className:"text-muted-foreground",children:"Quickly update inventory quantities"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ee,{variant:"outline",onClick:()=>P("/parts-inventory"),children:"Back to Inventory"}),s.jsxs(Ee,{onClick:ye,disabled:Se.length===0||Le.isPending,children:[Le.isPending&&s.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}),s.jsx(ah,{className:"h-4 w-4 mr-1"}),"Save Changes (",Se.length,")"]})]})]}),s.jsxs(Af,{defaultValue:"manual-count",className:"w-full",value:b,onValueChange:y,children:[s.jsxs(hd,{className:"grid w-full grid-cols-3",children:[s.jsxs(ri,{value:"manual-count",children:[s.jsx(oy,{className:"h-4 w-4 mr-2"}),"Manual Count"]}),s.jsxs(ri,{value:"assigned-count",children:[s.jsx(kS,{className:"h-4 w-4 mr-2"}),"Assigned Parts"]}),s.jsxs(ri,{value:"assign-parts",children:[s.jsx(hm,{className:"h-4 w-4 mr-2"}),"Manage Assignments"]})]}),s.jsx(ua,{value:"manual-count",className:"mt-4",children:s.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-6",children:[s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Scan or Search for Parts"}),s.jsx(Zr,{children:"Enter part ID or search by name"})]}),s.jsxs(zt,{children:[o?s.jsx("div",{className:"mb-4",children:s.jsx(L5,{onCodeDetected:ve,onClose:()=>l(!1)})}):s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx(Ht,{htmlFor:"part-id-search",className:"mb-2 block",children:"Part ID Search"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Pl,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Rt,{id:"part-id-search",placeholder:"Scan barcode or enter part ID...",value:r,onChange:ze=>{n(ze.target.value),ze.target.value&&a("")},onKeyDown:ar,className:"pl-9"})]}),s.jsxs(Ee,{variant:"outline",onClick:()=>l(!0),children:[s.jsx(Z1,{className:"h-4 w-4 mr-1"}),"Scan"]}),s.jsx(Ee,{onClick:Ae,children:"Add Part"})]})]}),s.jsxs("div",{children:[s.jsx(Ht,{htmlFor:"part-name-search",className:"mb-2 block",children:"Part Name Search"}),s.jsx("div",{className:"flex gap-2",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Pl,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Rt,{id:"part-name-search",placeholder:"Search by part name...",value:i,onChange:ze=>{a(ze.target.value),ze.target.value&&n("")},className:"pl-9"})]})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Type at least 3 characters to search by part name"})]})]}),le.length>0&&s.jsxs("div",{className:"mt-4 border rounded-md p-2",children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Search Results"}),s.jsx("div",{className:"max-h-40 overflow-y-auto",children:le.map(ze=>s.jsxs("div",{className:"flex justify-between items-center p-2 hover:bg-accent rounded-md cursor-pointer",onClick:()=>Ne(ze),children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:ze.partId}),s.jsx("div",{className:"text-sm text-muted-foreground",children:ze.name})]}),s.jsxs("div",{className:"text-sm",children:["Qty: ",ze.quantity]})]},ze.id))})]})]})]}),s.jsx(Pt,{children:s.jsx(Gt,{className:"pb-3",children:s.jsxs(qBe,{open:c,onOpenChange:u,className:"w-full",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Yt,{className:"flex items-center gap-2",children:[s.jsx(nae,{className:"h-5 w-5"}),"Browse All Parts"]}),s.jsx(Zr,{children:"Select multiple parts to add to the count list"})]}),s.jsx(GBe,{asChild:!0,children:s.jsxs(Ee,{variant:"ghost",size:"sm",className:"w-9 p-0",children:[s.jsx(Zie,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Toggle"})]})})]}),s.jsx(YBe,{className:"mt-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Ht,{htmlFor:"location-filter",className:"mb-2 block",children:"Filter by Location"}),s.jsxs(Bn,{value:_,onValueChange:ze=>{N(ze),C("")},children:[s.jsx(Mn,{id:"location-filter",className:"w-full",children:s.jsx($n,{placeholder:"Select a location"})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"all",children:"All Locations"}),Ie.map(ze=>s.jsx(er,{value:ze.id.toString(),children:ze.name},ze.id))]})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ht,{htmlFor:"shelf-filter",className:"mb-2 block",children:"Filter by Shelf"}),s.jsxs(Bn,{value:E,onValueChange:C,disabled:!_||Q,children:[s.jsx(Mn,{id:"shelf-filter",className:"w-full",children:s.jsx($n,{placeholder:_?"Select a shelf":"Select a location first"})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"all",children:"All Shelves"}),W.map(ze=>s.jsx(er,{value:ze.id.toString(),children:ze.name},ze.id))]})]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Pl,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Rt,{placeholder:"Filter parts list...",value:g,onChange:ze=>x(ze.target.value),className:"pl-9"})]}),s.jsx(hT,{className:"h-[300px] border rounded-md p-2",children:s.jsx("div",{className:"space-y-1",children:ce.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"No parts match your filter."})}):s.jsxs("div",{children:[s.jsx("div",{className:"grid grid-cols-3 gap-4 mb-3",children:[1,2,3].map(ze=>s.jsx("div",{className:"space-y-1",children:mt.filter((tt,dt)=>dt%3===ze-1).map(tt=>s.jsxs("div",{className:"flex items-center space-x-2 p-1 hover:bg-accent rounded-md border",children:[s.jsx(Vu,{id:`part-${tt.id}`,checked:f[tt.id]||!1,onCheckedChange:()=>we(tt.id),className:"h-3 w-3"}),s.jsxs("div",{className:"flex-1 text-xs cursor-pointer",onClick:()=>we(tt.id),children:[s.jsx("div",{className:"font-medium text-xs",children:tt.partId}),s.jsx("div",{className:"text-xs truncate text-muted-foreground",title:tt.name,children:tt.name.length>20?`${tt.name.substring(0,20)}...`:tt.name}),s.jsxs("div",{className:"text-xs",children:["Qty: ",tt.quantity]}),s.jsxs("div",{className:"text-xs flex items-center text-muted-foreground",children:[s.jsx(Hd,{className:"h-3 w-3 mr-1"}),tt.location||"No Location",tt.shelfId&&` / Shelf ${tt.shelfId}`]})]})]},tt.id))},ze))}),s.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-4",children:[s.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>fe(ze=>Math.max(1,ze-1)),disabled:Ce===1,children:"Previous"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",Ce," of ",At||1]}),s.jsx(Ee,{variant:"outline",size:"sm",onClick:()=>fe(ze=>Math.min(At,ze+1)),disabled:Ce===At||At===0,children:"Next"})]})]})})}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Selected parts: ",Object.values(f).filter(Boolean).length,ce.length>0&&s.jsxs(s.Fragment,{children:[" | Total: ",ce.length]})]}),s.jsxs(Ee,{onClick:Pe,disabled:Object.values(f).filter(Boolean).length===0,children:[s.jsx(Si,{className:"h-4 w-4 mr-1"}),"Add Selected Parts"]})]})]})})]})})}),s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Parts to Count"}),s.jsx(Zr,{children:"Update quantities and save changes when complete"})]}),s.jsx(zt,{children:e.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(oy,{className:"mx-auto h-12 w-12 mb-2 opacity-30"}),s.jsx("p",{children:"No parts added to count yet. Scan or search for parts above."})]}):s.jsx(Ll,{data:e,columns:mr,itemsPerPage:10})}),e.length>0&&s.jsxs(mc,{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs(Ht,{children:["Total Items: ",e.length]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Items with changes: ",Se.length]})]}),s.jsxs(Ee,{onClick:ye,disabled:Se.length===0||Le.isPending,size:"lg",children:[Le.isPending&&s.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}),s.jsx(ah,{className:"h-4 w-4 mr-1"}),"Save Changes (",Se.length,")"]})]}),(D==null?void 0:D.role)==="student"&&k&&k.length>0&&s.jsxs("div",{className:"bg-secondary/30 p-3 rounded-md border",children:[s.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Batch Actions"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(Ee,{variant:"outline",onClick:()=>{const ze=k.filter(tt=>tt.status!=="completed"&&tt.part&&e.some(dt=>dt.id===tt.part.id)).map(tt=>tt.id);if(ze.length===0){I({title:"No Assignments to Complete",description:"No pending assignments found to mark as completed."});return}Promise.all(ze.map(tt=>U.mutateAsync(tt))).then(()=>{I({title:"Assignments Completed",description:`Successfully marked ${ze.length} assignments as completed.`})}).catch(tt=>{I({title:"Error",description:`Failed to complete assignments: ${tt.message}`,variant:"destructive"})})},children:[s.jsx(hm,{className:"h-4 w-4 mr-1"}),"Mark All As Completed"]}),s.jsxs(Ee,{variant:"secondary",onClick:()=>{const ze=k.filter(tt=>tt.part&&e.some(dt=>dt.id===tt.part.id&&dt.changed));if(ze.length===0){I({title:"No Changes",description:"No changes found to save for any assignments."});return}ye(),setTimeout(()=>{Promise.all(ze.map(tt=>U.mutateAsync(tt.id))).then(()=>{I({title:"Save & Complete",description:`Saved changes and marked ${ze.length} assignments as completed.`})})},500)},children:[s.jsx(ah,{className:"h-4 w-4 mr-1"}),"Save & Mark Completed"]})]})]})]})]})]})}),s.jsx(ua,{value:"assigned-count",className:"mt-4",children:s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Assigned Parts to Count"}),s.jsx(Zr,{children:"Parts assigned to you for counting"})]}),s.jsx(zt,{children:L?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(cn,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2",children:"Loading assigned parts..."})]}):k&&k.length>0?s.jsx("div",{className:"space-y-4",children:k.map(ze=>{var Zt,ne;if(!ze||!ze.part)return null;const tt=ze.part,dt=e.some(De=>De.id===tt.id);return s.jsxs("div",{className:"border rounded-md p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[tt.partId," - ",tt.name]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Assigned: ",new Date(ze.assignedAt).toLocaleDateString()]}),ze.notes&&s.jsxs("p",{className:"text-sm mt-1 italic",children:["Note: ",ze.notes]})]}),s.jsxs("div",{className:"flex gap-2",children:[!dt&&s.jsxs(Ee,{size:"sm",onClick:()=>Ne(tt),variant:"outline",children:[s.jsx(Si,{className:"h-4 w-4 mr-1"}),"Add to Count"]}),s.jsxs(Ee,{size:"sm",variant:dt?"default":"outline",onClick:()=>U.mutate(ze.id),disabled:U.isPending,children:[U.isPending&&s.jsx(cn,{className:"h-4 w-4 mr-1 animate-spin"}),s.jsx(hm,{className:"h-4 w-4 mr-1"}),"Mark Complete"]})]})]}),s.jsx("div",{className:"bg-accent/30 p-3 rounded",children:s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Current Quantity:"}),s.jsx("p",{className:"text-xl font-bold",children:tt.quantity})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Updated Count:"}),s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{className:"flex border rounded-md mr-2 bg-white",children:[s.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>{const De=e.find(gt=>gt.id===tt.id);De?xe(De.partId,String(De.newQuantity-1)):(Ne(tt),setTimeout(()=>{const gt=e.find(Nt=>Nt.id===tt.id);gt&&xe(gt.partId,String(tt.quantity-1))},100))},className:"h-8 w-8 p-0",disabled:dt?(((Zt=e.find(De=>De.id===tt.id))==null?void 0:Zt.newQuantity)||0)<=0:tt.quantity<=0,children:s.jsx(sy,{className:"h-3 w-3"})}),s.jsx(Rt,{type:"number",value:dt?(ne=e.find(De=>De.id===tt.id))==null?void 0:ne.displayValue:tt.quantity,onChange:De=>{const gt=De.target.value;if(dt){const Nt=e.find(Pr=>Pr.id===tt.id);Nt&&xe(Nt.partId,gt)}else Ne(tt),setTimeout(()=>{const Nt=e.find(Pr=>Pr.id===tt.id);Nt&&xe(Nt.partId,gt)},100)},className:"w-16 border-0 text-center"}),s.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>{const De=e.find(gt=>gt.id===tt.id);De?xe(De.partId,String(De.newQuantity+1)):(Ne(tt),setTimeout(()=>{const gt=e.find(Nt=>Nt.id===tt.id);gt&&xe(gt.partId,String(tt.quantity+1))},100))},className:"h-8 w-8 p-0",children:s.jsx(Si,{className:"h-3 w-3"})})]})})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Location:"}),s.jsxs("p",{className:"flex items-center",children:[s.jsx(Hd,{className:"h-4 w-4 mr-1 text-muted-foreground"}),tt.location||"Not specified",tt.shelfId&&` / Shelf ${tt.shelfId}`]})]})]})})]},ze.id)})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(kS,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-30"}),s.jsx("h3",{className:"text-lg font-medium mb-1",children:"No parts assigned"}),s.jsx("p",{className:"text-muted-foreground",children:"You don't have any parts assigned for counting at this time."})]})})]})}),s.jsx(ua,{value:"assign-parts",className:"mt-4",children:s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Manage Part Count Assignments"}),s.jsx(Zr,{children:"Assign parts to be counted and track completion status"})]}),s.jsx(zt,{children:G?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(cn,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2",children:"Loading assignments..."})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Current Assignments"}),B&&B.length>0&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vu,{id:"select-all-assignments",checked:B.length>0&&q.length===B.filter(ze=>ze&&ze.id).length,onCheckedChange:ze=>V(ze)}),s.jsx(Ht,{htmlFor:"select-all-assignments",className:"text-sm cursor-pointer",children:"Select All"})]}),s.jsx(Ee,{variant:"destructive",size:"sm",onClick:()=>J.mutate(q),disabled:q.length===0||J.isPending,children:J.isPending?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"h-4 w-4 mr-1 animate-spin"}),"Deleting..."]}):`Delete Selected (${q.length})`})]})]}),B&&B.length>0?s.jsx("div",{className:"space-y-3",children:B.map(ze=>{if(!ze||!ze.part)return null;const tt=q.includes(ze.id);return s.jsxs("div",{className:`border rounded-md p-3 flex justify-between items-center ${tt?"bg-primary/5 border-primary/20":""}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vu,{id:`assignment-${ze.id}`,checked:tt,onCheckedChange:dt=>ee(ze.id,dt)}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium",children:[ze.part.partId," - ",ze.part.name]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsxs("span",{className:"inline-flex items-center mr-3",children:["Status:",s.jsx("span",{className:`ml-1 px-2 py-0.5 rounded-full text-xs ${ze.status==="completed"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100"}`,children:ze.status==="completed"?"Completed":"Pending"})]}),s.jsxs("span",{children:["Assigned: ",new Date(ze.assignedAt).toLocaleDateString()]}),ze.completedAt&&s.jsxs("span",{className:"ml-3",children:["Completed: ",new Date(ze.completedAt).toLocaleDateString()]})]})]})]}),s.jsxs(Ee,{variant:"destructive",size:"sm",onClick:()=>te.mutate(ze.id),disabled:te.isPending,children:[te.isPending&&s.jsx(cn,{className:"h-4 w-4 mr-1 animate-spin"}),"Delete"]})]},ze.id)}).filter(Boolean)}):s.jsx("div",{className:"text-center py-8 border rounded-md",children:s.jsx("p",{className:"text-muted-foreground",children:"No assignments found"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Create New Assignments"}),s.jsxs("div",{className:"border rounded-md p-4",children:[s.jsx("p",{className:"mb-4",children:"Select parts from the list below to assign for counting:"}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Ht,{htmlFor:"location-filter-manage",className:"mb-2 block",children:"Filter by Location"}),s.jsxs(Bn,{value:_,onValueChange:ze=>{N(ze),C("")},children:[s.jsx(Mn,{id:"location-filter-manage",className:"w-full",children:s.jsx($n,{placeholder:"Select a location"})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"all",children:"All Locations"}),Ie.map(ze=>s.jsx(er,{value:ze.id.toString(),children:ze.name},ze.id))]})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(Ht,{htmlFor:"shelf-filter-manage",className:"mb-2 block",children:"Filter by Shelf"}),s.jsxs(Bn,{value:E,onValueChange:C,disabled:!_||Q,children:[s.jsx(Mn,{id:"shelf-filter-manage",className:"w-full",children:s.jsx($n,{placeholder:_?"Select a shelf":"Select a location first"})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"all",children:"All Shelves"}),W.map(ze=>s.jsx(er,{value:ze.id.toString(),children:ze.name},ze.id))]})]})]})]}),s.jsxs("div",{className:"relative mb-4",children:[s.jsx(Pl,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Rt,{placeholder:"Filter parts by name or ID...",value:g,onChange:ze=>x(ze.target.value),className:"pl-9"})]}),s.jsx(hT,{className:"h-[300px] border rounded-md p-2 mb-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:ce.slice(0,50).map(ze=>s.jsxs("div",{className:"border rounded p-2 flex items-center space-x-2 hover:bg-accent/30",children:[s.jsx(Vu,{id:`assign-part-${ze.id}`,checked:f[ze.id]||!1,onCheckedChange:()=>we(ze.id)}),s.jsxs("label",{htmlFor:`assign-part-${ze.id}`,className:"flex-1 text-sm cursor-pointer",children:[s.jsx("div",{className:"font-medium",children:ze.partId}),s.jsx("div",{className:"text-xs truncate text-muted-foreground",children:ze.name}),s.jsxs("div",{className:"text-xs flex items-center text-muted-foreground",children:[s.jsx(Hd,{className:"h-3 w-3 mr-1"}),ze.location||"No Location",ze.shelfId&&` / Shelf ${ze.shelfId}`]})]})]},ze.id))})}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Selected: ",Object.values(f).filter(Boolean).length," part(s)"]}),s.jsxs(Ee,{onClick:ge,disabled:Object.values(f).filter(Boolean).length===0||F.isPending,children:[F.isPending&&s.jsx(cn,{className:"h-4 w-4 mr-1 animate-spin"}),"Assign for Counting"]})]})]})]})]})})]})})]})]})}const XBe=or.object({name:or.string().min(1,{message:"Location name is required"}),description:or.string().optional(),active:or.boolean().default(!0)}),KBe=or.object({name:or.string().min(1,{message:"Shelf name is required"}),locationId:or.number({required_error:"Location is required"}),description:or.string().optional(),active:or.boolean().default(!0)});function YF(){const{toast:e}=ea(),[t,r]=O.useState("locations"),[n,i]=O.useState(null),[a,o]=O.useState(!1),[l,c]=O.useState(null),[u,f]=O.useState(!1),[p,g]=O.useState(null),[x,b]=O.useState([]),[y,_]=O.useState(!1),[N,E]=O.useState(!1),[C,I]=O.useState(null),[P,D]=O.useState(!1),[k,L]=O.useState("locations"),[B,G]=O.useState({loading:!1}),F=O.useRef(null),{data:U=[],isLoading:q,error:K}=Er({queryKey:["/api/storage-locations"]}),{data:V=[],isLoading:ee,error:te}=Er({queryKey:["/api/shelves"],staleTime:0,refetchOnMount:!0}),J=Sr({mutationFn:async fe=>{const ke=await fetch("/api/storage-locations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(fe)});if(!ke.ok){const He=await ke.json();throw new Error(He.error||"Failed to create location")}return await ke.json()},onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/storage-locations"]}),e({title:"Success",description:"Location created successfully",variant:"default"}),o(!1)},onError:fe=>{e({title:"Error",description:fe.message,variant:"destructive"})}}),ge=Sr({mutationFn:async({id:fe,data:ke})=>{const He=await fetch(`/api/storage-locations/${fe}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(ke)});if(!He.ok){const nt=await He.json();throw new Error(nt.error||"Failed to update location")}return await He.json()},onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/storage-locations"]}),e({title:"Success",description:"Location updated successfully",variant:"default"}),o(!1)},onError:fe=>{e({title:"Error",description:fe.message,variant:"destructive"})}}),Ie=Sr({mutationFn:async fe=>{const ke=await fetch(`/api/storage-locations/${fe}`,{method:"DELETE"});if(!ke.ok&&ke.status!==204){const He=await ke.json();throw new Error(He.error||"Failed to delete location")}return!0},onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/storage-locations"]}),ur.invalidateQueries({queryKey:["/api/shelves"]}),e({title:"Success",description:"Location deleted successfully",variant:"default"}),E(!1)},onError:fe=>{e({title:"Error",description:fe.message,variant:"destructive"})}}),Ge=Sr({mutationFn:async fe=>{const ke=await fetch("/api/shelves",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(fe)});if(!ke.ok){const He=await ke.json();throw new Error(He.error||"Failed to create shelf")}return await ke.json()},onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/shelves"]}),e({title:"Success",description:"Shelf created successfully",variant:"default"}),f(!1)},onError:fe=>{e({title:"Error",description:fe.message,variant:"destructive"})}}),W=Sr({mutationFn:async({id:fe,data:ke})=>{const He=await fetch(`/api/shelves/${fe}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(ke)});if(!He.ok){const nt=await He.json();throw new Error(nt.error||"Failed to update shelf")}return await He.json()},onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/shelves"]}),e({title:"Success",description:"Shelf updated successfully",variant:"default"}),f(!1)},onError:fe=>{e({title:"Error",description:fe.message,variant:"destructive"})}}),Q=Sr({mutationFn:async fe=>{const ke=await fetch(`/api/shelves/${fe}`,{method:"DELETE"});if(!ke.ok&&ke.status!==204){const He=await ke.json();throw new Error(He.error||"Failed to delete shelf")}return!0},onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/shelves"]}),e({title:"Success",description:"Shelf deleted successfully",variant:"default"}),E(!1)},onError:fe=>{e({title:"Error",description:fe.message,variant:"destructive"})}}),Z=Sr({mutationFn:async fe=>{const ke=await fetch("/api/shelves/bulk-delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:fe})});if(!ke.ok){const He=await ke.json();throw new Error(He.error||"Failed to delete shelves")}return await ke.json()},onSuccess:fe=>{var ke;ur.invalidateQueries({queryKey:["/api/shelves"]}),e({title:"Success",description:`Successfully deleted ${((ke=fe.deletedIds)==null?void 0:ke.length)||0} shelves`,variant:"default"}),_(!1),b([])},onError:fe=>{e({title:"Error",description:fe.message,variant:"destructive"})}}),re=_s({resolver:Ns(XBe),defaultValues:{name:"",description:"",active:!0}}),le=_s({resolver:Ns(KBe),defaultValues:{name:"",description:"",locationId:n||void 0,active:!0}});function Ne(fe){fe?(c(fe),re.reset({name:fe.name,description:fe.description||"",active:fe.active})):(c(null),re.reset({name:"",description:"",active:!0})),o(!0)}function Ae(fe){fe?(g(fe),le.reset({name:fe.name,description:fe.description||"",locationId:fe.locationId,active:fe.active})):(g(null),le.reset({name:"",description:"",locationId:n||void 0,active:!0})),f(!0)}function ve(fe){l?ge.mutate({id:l.id,data:fe}):J.mutate(fe)}function xe(fe){p?W.mutate({id:p.id,data:fe}):Ge.mutate(fe)}function Le(fe,ke,He){I({type:fe,id:ke,name:He}),E(!0)}function Se(){C&&(C.type==="location"?Ie.mutate(C.id):Q.mutate(C.id))}const ye=n?V.filter(fe=>fe.locationId===n):V,We=fe=>{const ke=U.find(He=>He.id===fe);return ke?ke.name:"Unknown Location"},Ye=async fe=>{try{const He=await fetch(fe==="locations"?"/api/storage-locations/template":"/api/shelves/template");if(!He.ok)throw new Error("Failed to get template");const nt=await He.blob(),mt=URL.createObjectURL(nt),At=document.createElement("a");At.href=mt,At.download=fe==="locations"?"storage_locations_template.xlsx":"shelves_template.xlsx",document.body.appendChild(At),At.click(),document.body.removeChild(At),URL.revokeObjectURL(mt),e({title:"Success",description:"Template downloaded successfully",variant:"default"})}catch(ke){e({title:"Error",description:ke instanceof Error?ke.message:"Failed to download template",variant:"destructive"})}},we=async fe=>{try{const He=await fetch(fe==="locations"?"/api/storage-locations/export":"/api/shelves/export");if(!He.ok)throw new Error("Failed to export data");const nt=await He.blob(),mt=URL.createObjectURL(nt),At=document.createElement("a");At.href=mt,At.download=fe==="locations"?"storage_locations.xlsx":"shelves.xlsx",document.body.appendChild(At),At.click(),document.body.removeChild(At),URL.revokeObjectURL(mt),e({title:"Success",description:"Data exported successfully",variant:"default"})}catch(ke){e({title:"Error",description:ke instanceof Error?ke.message:"Failed to export data",variant:"destructive"})}},Pe=async(fe,ke)=>{try{G({loading:!0});const He=new FormData;He.append("file",fe);const mt=await fetch(ke==="locations"?"/api/storage-locations/import":"/api/shelves/import",{method:"POST",body:He}),At=await mt.json();if(!mt.ok)throw new Error(At.error||"Import failed");ur.invalidateQueries({queryKey:["/api/storage-locations"]}),ur.invalidateQueries({queryKey:["/api/shelves"]}),G({loading:!1,success:!0,message:`Successfully imported ${At.importedRows} ${ke}. ${At.errors.length>0?`${At.errors.length} errors occurred.`:""}`}),e({title:"Success",description:`Successfully imported ${At.importedRows} ${ke}`,variant:"default"}),setTimeout(()=>{D(!1),G({loading:!1})},3e3)}catch(He){G({loading:!1,success:!1,message:He instanceof Error?He.message:"Import failed"}),e({title:"Error",description:He instanceof Error?He.message:"Failed to import data",variant:"destructive"})}},ce=fe=>{var He;const ke=(He=fe.target.files)==null?void 0:He[0];ke&&Pe(ke,k)},Ce=fe=>{L(fe),G({loading:!1}),D(!0)};return q||ee?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})}):K||te?s.jsxs(pp,{variant:"destructive",className:"mb-6",children:[s.jsx(rg,{className:"h-4 w-4"}),s.jsx(mp,{children:"Error"}),s.jsx(gp,{children:"Failed to load storage locations and shelves. Please try again."})]}):s.jsxs("div",{className:"container py-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Storage Locations"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage storage locations and shelves"})]}),s.jsx("div",{className:"flex space-x-2",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(Ee,{variant:"outline",onClick:()=>we(t==="locations"?"locations":"shelves"),children:[s.jsx(Bs,{className:"h-4 w-4 mr-2"}),"Export ",t==="locations"?"Locations":"Shelves"]}),s.jsxs(Ee,{variant:"outline",onClick:()=>Ye(t==="locations"?"locations":"shelves"),children:[s.jsx(Tp,{className:"h-4 w-4 mr-2"}),"Template"]}),s.jsxs(Ee,{variant:"outline",onClick:()=>Ce(t==="locations"?"locations":"shelves"),children:[s.jsx(ed,{className:"h-4 w-4 mr-2"}),"Import"]})]})})]}),s.jsxs(Af,{defaultValue:"locations",value:t,onValueChange:r,children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs(hd,{children:[s.jsxs(ri,{value:"locations",onClick:()=>i(null),children:[s.jsx(DS,{className:"mr-2 h-4 w-4"}),"Locations"]}),s.jsxs(ri,{value:"shelves",children:[s.jsx(uM,{className:"mr-2 h-4 w-4"}),"Shelves"]})]}),t==="locations"?s.jsxs(Ee,{onClick:()=>Ne(),children:[s.jsx(Si,{className:"mr-2 h-4 w-4"}),"Add Location"]}):s.jsxs(Ee,{onClick:()=>Ae(),children:[s.jsx(Si,{className:"mr-2 h-4 w-4"}),"Add Shelf"]})]}),s.jsx(ua,{value:"locations",className:"space-y-4",children:U.length===0?s.jsx(Pt,{children:s.jsx(zt,{className:"py-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx(DS,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium",children:"No storage locations found"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Create your first storage location to start organizing your inventory."}),s.jsxs(Ee,{className:"mt-4",onClick:()=>Ne(),children:[s.jsx(Si,{className:"mr-2 h-4 w-4"}),"Add Location"]})]})})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:U.map(fe=>s.jsxs(Pt,{className:fe.active?"":"opacity-60",children:[s.jsxs(Gt,{children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx(Yt,{children:fe.name}),!fe.active&&s.jsx(ti,{variant:"outline",className:"ml-auto",children:"Inactive"})]}),s.jsx(Zr,{children:fe.description||"No description"})]}),s.jsx(zt,{children:s.jsx("div",{className:"flex items-center text-sm text-muted-foreground",children:s.jsxs("p",{children:[V.filter(ke=>ke.locationId===fe.id).length," shelf units"]})})}),s.jsxs(mc,{className:"flex justify-between",children:[s.jsx(Ee,{variant:"outline",onClick:()=>{i(fe.id),r("shelves")},children:"View Shelves"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>Ne(fe),children:s.jsx(cy,{className:"h-4 w-4"})}),s.jsx(Ee,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>Le("location",fe.id,fe.name),children:s.jsx(Oo,{className:"h-4 w-4"})})]})]})]},fe.id))})}),s.jsxs(ua,{value:"shelves",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[n&&s.jsx("div",{className:"flex-1",children:s.jsx(pp,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(mp,{children:"Filtered by location"}),s.jsxs(gp,{children:["Showing shelves for location: ",We(n)]})]}),s.jsx(Ee,{variant:"outline",onClick:()=>i(null),children:"Show All"})]})})}),ye.length>0&&s.jsxs("div",{className:`flex space-x-2 ${n?"ml-4":"ml-auto"}`,children:[x.length>0&&s.jsxs(Ee,{variant:"destructive",onClick:()=>_(!0),children:[s.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Delete Selected (",x.length,")"]}),s.jsx(Ee,{variant:x.length>0?"outline":"default",onClick:()=>b(x.length>0?[]:ye.map(fe=>fe.id)),children:x.length>0?s.jsxs(s.Fragment,{children:[s.jsx(dae,{className:"mr-2 h-4 w-4"}),"Deselect All"]}):s.jsxs(s.Fragment,{children:[s.jsx(uae,{className:"mr-2 h-4 w-4"}),"Select All"]})})]})]}),ye.length===0?s.jsx(Pt,{children:s.jsx(zt,{className:"py-10",children:s.jsxs("div",{className:"text-center",children:[s.jsx(uM,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium",children:"No shelves found"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:n?"Add shelves to this location to organize your parts.":"Create shelves in your storage locations to organize your parts."}),s.jsxs(Ee,{className:"mt-4",onClick:()=>Ae(),children:[s.jsx(Si,{className:"mr-2 h-4 w-4"}),"Add Shelf"]})]})})}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ye.map(fe=>s.jsxs(Pt,{className:`${fe.active?"":"opacity-60"} ${x.includes(fe.id)?"border-primary border-2":""}`,children:[s.jsxs(Gt,{children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vu,{id:`shelf-${fe.id}`,checked:x.includes(fe.id),onCheckedChange:ke=>{b(ke?[...x,fe.id]:x.filter(He=>He!==fe.id))}}),s.jsx(Yt,{children:fe.name})]}),!fe.active&&s.jsx(ti,{variant:"outline",className:"ml-auto",children:"Inactive"})]}),s.jsx(Zr,{children:We(fe.locationId)})]}),s.jsx(zt,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:fe.description||"No description"})}),s.jsx(mc,{className:"flex justify-end",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>Ae(fe),children:s.jsx(cy,{className:"h-4 w-4"})}),s.jsx(Ee,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>Le("shelf",fe.id,fe.name),children:s.jsx(Oo,{className:"h-4 w-4"})})]})})]},fe.id))})]})]}),s.jsx(Qr,{open:a,onOpenChange:o,children:s.jsxs(qr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:l?"Edit Location":"Add New Location"}),s.jsx(gn,{children:l?"Update the details for this storage location.":"Add a new storage location for organizing parts inventory."})]}),s.jsx(Us,{...re,children:s.jsxs("form",{onSubmit:re.handleSubmit(ve),className:"space-y-4",children:[s.jsx(Dr,{control:re.control,name:"name",render:({field:fe})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Location Name"}),s.jsx(Ir,{children:s.jsx(Rt,{...fe,placeholder:"e.g., Stockroom, Warehouse"})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:re.control,name:"description",render:({field:fe})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Description"}),s.jsx(Ir,{children:s.jsx(hc,{...fe,placeholder:"Describe the purpose or details of this location",rows:3})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:re.control,name:"active",render:({field:fe})=>s.jsxs(Tr,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Or,{children:"Active"}),s.jsx(Bu,{children:"Inactive locations will not appear in selection dropdowns."})]}),s.jsx(Ir,{children:s.jsx(ch,{checked:fe.value,onCheckedChange:fe.onChange})})]})}),s.jsxs(Pn,{children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsxs(Ee,{type:"submit",disabled:J.isPending||ge.isPending,children:[(J.isPending||ge.isPending)&&s.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-background border-t-foreground"}),l?"Update Location":"Create Location"]})]})]})})]})}),s.jsx(Qr,{open:u,onOpenChange:f,children:s.jsxs(qr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:p?"Edit Shelf":"Add New Shelf"}),s.jsx(gn,{children:p?"Update the details for this shelf unit.":"Add a new shelf unit to organize parts within a location."})]}),s.jsx(Us,{...le,children:s.jsxs("form",{onSubmit:le.handleSubmit(xe),className:"space-y-4",children:[s.jsx(Dr,{control:le.control,name:"name",render:({field:fe})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Shelf Name"}),s.jsx(Ir,{children:s.jsx(Rt,{...fe,placeholder:"e.g., Shelf A1, Rack B3"})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:le.control,name:"locationId",render:({field:fe})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Location"}),s.jsx(Ir,{children:s.jsxs("select",{className:"flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",value:fe.value,onChange:ke=>fe.onChange(parseInt(ke.target.value)),children:[s.jsx("option",{value:"",children:"Select a location"}),U.filter(ke=>ke.active).map(ke=>s.jsx("option",{value:ke.id,children:ke.name},ke.id))]})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:le.control,name:"description",render:({field:fe})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Description"}),s.jsx(Ir,{children:s.jsx(hc,{...fe,placeholder:"Describe the purpose or details of this shelf",rows:3})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:le.control,name:"active",render:({field:fe})=>s.jsxs(Tr,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Or,{children:"Active"}),s.jsx(Bu,{children:"Inactive shelves will not appear in selection dropdowns."})]}),s.jsx(Ir,{children:s.jsx(ch,{checked:fe.value,onCheckedChange:fe.onChange})})]})}),s.jsxs(Pn,{children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),s.jsxs(Ee,{type:"submit",disabled:Ge.isPending||W.isPending,children:[(Ge.isPending||W.isPending)&&s.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-background border-t-foreground"}),p?"Update Shelf":"Create Shelf"]})]})]})})]})}),s.jsx(Qr,{open:N,onOpenChange:E,children:s.jsxs(qr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Confirm Deletion"}),s.jsxs(gn,{children:["Are you sure you want to delete ",C==null?void 0:C.type,' "',C==null?void 0:C.name,'"?',(C==null?void 0:C.type)==="location"&&s.jsx("div",{className:"mt-2 text-destructive",children:"This will also delete all shelves associated with this location."}),"This action cannot be undone."]})]}),s.jsxs(Pn,{children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>E(!1),children:"Cancel"}),s.jsxs(Ee,{variant:"destructive",disabled:Ie.isPending||Q.isPending,onClick:Se,children:[(Ie.isPending||Q.isPending)&&s.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-background border-t-foreground"}),"Delete"]})]})]})}),s.jsx(Qr,{open:y,onOpenChange:_,children:s.jsxs(qr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Confirm Bulk Deletion"}),s.jsxs(gn,{children:["Are you sure you want to delete ",x.length," selected shelves? This action cannot be undone."]})]}),s.jsxs(Pn,{children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>_(!1),children:"Cancel"}),s.jsxs(Ee,{variant:"destructive",disabled:Z.isPending,onClick:()=>Z.mutate(x),children:[Z.isPending&&s.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-background border-t-foreground"}),"Delete ",x.length," Shelves"]})]})]})}),s.jsx(Qr,{open:P,onOpenChange:D,children:s.jsxs(qr,{children:[s.jsxs(Gr,{children:[s.jsxs(Yr,{children:["Import ",k==="locations"?"Locations":"Shelves"]}),s.jsxs(gn,{children:["Upload an Excel file to import ",k==="locations"?"storage locations":"shelves",". Please use the template for the correct format."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("p",{className:"text-sm",children:"Steps to import data:"}),s.jsxs("ol",{className:"text-sm list-decimal pl-4",children:[s.jsx("li",{children:"Download the template using the Template button"}),s.jsx("li",{children:"Fill in your data in the Excel spreadsheet"}),s.jsx("li",{children:"Save the file and upload it below"})]})]}),s.jsx(Xy,{}),B.loading?s.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[s.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mb-4"}),s.jsx("p",{className:"text-center",children:"Importing data, please wait..."})]}):B.success!==void 0?s.jsxs(pp,{variant:B.success?"default":"destructive",children:[B.success?s.jsx(hm,{className:"h-4 w-4"}):s.jsx(rg,{className:"h-4 w-4"}),s.jsx(mp,{children:B.success?"Success":"Error"}),s.jsx(gp,{children:B.message})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-center border-2 border-dashed border-border rounded-lg p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ed,{className:"h-10 w-10 text-muted-foreground mb-2 mx-auto"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"Click below to select an Excel file"}),s.jsx("input",{type:"file",accept:".xlsx",className:"hidden",ref:F,onChange:ce}),s.jsx(Ee,{variant:"outline",onClick:()=>{var fe;return(fe=F.current)==null?void 0:fe.click()},children:"Select File"})]})}),s.jsx("div",{className:"text-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"File must be in .xlsx format and match the template structure"})})]})]}),s.jsxs(Pn,{children:[s.jsx(Ee,{variant:"outline",onClick:()=>{D(!1),G({loading:!1})},children:"Close"}),!B.loading&&B.success===void 0&&s.jsxs(Ee,{variant:"default",onClick:()=>Ye(k),children:[s.jsx(Tp,{className:"h-4 w-4 mr-2"}),"Get Template"]})]})]})})]})}const QBe=or.object({testField:or.string().min(2,"Must be at least 2 characters").max(50)});function ZBe(){const[e,t]=O.useState(!1),r=_s({resolver:Ns(QBe),defaultValues:{testField:""}});function n(i){console.log("Form submitted:",i),t(!0)}return s.jsxs("div",{className:"p-6 max-w-md mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Test Component"}),s.jsx(Us,{...r,children:s.jsxs("form",{onSubmit:r.handleSubmit(n),className:"space-y-6",children:[s.jsx(Dr,{control:r.control,name:"testField",render:({field:i})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Test Field"}),s.jsx(Ir,{children:s.jsx(Rt,{placeholder:"Enter something",...i})}),s.jsx(Bu,{children:"This is a description for the test field."}),s.jsx(Lr,{})]})}),s.jsx(Ee,{type:"submit",children:"Submit"})]})}),s.jsxs(Qh,{open:e,onOpenChange:t,children:[s.jsx(s8,{asChild:!0,children:s.jsx(Ee,{variant:"outline",className:"mt-4",children:"Open Dialog"})}),s.jsxs(hf,{children:[s.jsxs(pf,{children:[s.jsx(gf,{children:"Test Dialog"}),s.jsx(xf,{children:"This is a test alert dialog."})]}),s.jsxs(mf,{children:[s.jsx(yf,{children:"Cancel"}),s.jsx(vf,{children:"Continue"})]})]})]})]})}function XF(){var K;const{toast:e}=ea(),{user:t}=Ts(),r=(t==null?void 0:t.role)==="technician",[n,i]=O.useState(r?"pending":"all"),[a,o]=O.useState(!1),[l,c]=O.useState(""),[u,f]=O.useState(!1),[p,g]=O.useState({partName:"",partNumber:"",quantity:1,supplier:"",buildingId:null,trackingNumber:"",poNumber:"",notes:""}),{status:x,lastMessage:b}=MK();O.useEffect(()=>{if(b)try{const V=b;V.type==="parts-pickup-created"?(ur.invalidateQueries({queryKey:["/api/parts-pickup"]}),V.data.addedBy!==(t==null?void 0:t.name)&&e({title:"New Parts Pickup",description:`${V.data.addedBy} added ${V.data.partName} (${V.data.quantity}) for pickup`,variant:"default"})):V.type==="parts-pickup-completed"?(ur.invalidateQueries({queryKey:["/api/parts-pickup"]}),V.data.pickedUpBy!==(t==null?void 0:t.name)&&e({title:"Parts Pickup Completed",description:`${V.data.pickedUpBy} received ${V.data.partName}`,variant:"default"})):V.type==="parts-pickup-deleted"&&(ur.invalidateQueries({queryKey:["/api/parts-pickup"]}),V.data.deletedBy!==(t==null?void 0:t.name)&&e({title:"Parts Pickup Deleted",description:`A parts pickup entry was deleted by ${V.data.deletedBy}`,variant:"default"}))}catch(V){console.error("Error processing WebSocket message:",V)}},[b,ur,e,t==null?void 0:t.name]);const{data:y,isLoading:_}=Er({queryKey:["/api/parts-pickup"],staleTime:1e4,retry:!1,enabled:!0}),{data:N}=Er({queryKey:["/api/buildings"],staleTime:6e4}),E=Sr({mutationFn:async V=>await(await nn("POST","/api/parts-pickup",V)).json(),onSuccess:()=>{g({partName:"",partNumber:"",quantity:1,supplier:"",buildingId:null,trackingNumber:"",poNumber:"",notes:""}),o(!1),ur.invalidateQueries({queryKey:["/api/parts-pickup"]}),e({title:"Success",description:"New parts pickup has been added successfully."})},onError:V=>{e({title:"Error",description:`Failed to add parts pickup: ${V.message}`,variant:"destructive"})}}),C=Sr({mutationFn:async V=>{await nn("DELETE",`/api/parts-pickup/${V}`)},onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/parts-pickup"]}),e({title:"Success",description:"Parts pickup has been deleted successfully."})},onError:V=>{e({title:"Error",description:`Failed to delete parts pickup: ${V.message}`,variant:"destructive"})}}),I=Sr({mutationFn:async V=>{await nn("PATCH",`/api/parts-pickup/${V}`)},onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/parts-pickup"]}),e({title:"Success",description:"Parts pickup has been marked as picked up."})},onError:V=>{e({title:"Error",description:`Failed to update parts pickup status: ${V.message}`,variant:"destructive"})}}),P=V=>{const{name:ee,value:te}=V.target;g(J=>({...J,[ee]:te}))},D=V=>{const{name:ee,value:te}=V.target,J=parseInt(te);!isNaN(J)&&J>0&&g(ge=>({...ge,[ee]:J}))},k=(V,ee)=>{{const te=ee&&ee!=="none"?parseInt(ee):null;g(J=>({...J,buildingId:te}))}},L=V=>{V.preventDefault(),E.mutate(p)},B=V=>{window.confirm("Are you sure you want to delete this parts pickup?")&&C.mutate(V)},G=V=>{window.confirm("Mark this parts pickup as completed? This action cannot be undone.")&&I.mutate(V)},F=(y==null?void 0:y.filter(V=>n==="pending"?V.status==="pending":n==="completed"?V.status==="completed":!0))||[],U=async()=>{if(!l||l.length<4){e({title:"Invalid Code",description:"Please enter a valid 4-digit pickup code",variant:"destructive"});return}f(!0);try{const V=await fetch(`/api/parts-pickup?code=${l}`);if(!V.ok)V.status===404?e({title:"No Parts Found",description:"No pending parts found with this pickup code",variant:"destructive"}):e({title:"Error",description:"Failed to search for parts pickup",variant:"destructive"});else{const ee=await V.json();ur.setQueryData(["/api/parts-pickup"],ee),e({title:"Parts Found",description:`Found ${ee.length} part(s) with pickup code ${l}`})}}catch{e({title:"Error",description:"Failed to search for parts pickup",variant:"destructive"})}finally{f(!1)}},q=()=>{c(""),ur.invalidateQueries({queryKey:["/api/parts-pickup"]})};return r?s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsxs(la,{href:"/dashboard",className:"inline-flex items-center text-muted-foreground hover:text-primary mb-2",children:[s.jsx(tg,{className:"h-4 w-4 mr-1"}),"Back to Dashboard"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Parts Pickup"}),s.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${x==="connected"?"bg-green-500":x==="connecting"?"bg-amber-500":"bg-red-500"}`,title:`WebSocket: ${x}`})]})]})}),s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Search by Pickup Code"}),s.jsx(Zr,{children:"Enter the 4-digit pickup code to find your parts more quickly"})]}),s.jsx(zt,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-2 items-stretch sm:items-center",children:[s.jsx("div",{className:"relative flex-grow max-w-full sm:max-w-[200px]",children:s.jsx(Rt,{type:"text",placeholder:"Enter 4-digit code",value:l,onChange:V=>c(V.target.value.trim()),className:"w-full text-lg",maxLength:4,inputMode:"numeric",pattern:"[0-9]*"})}),s.jsxs("div",{className:"flex gap-2 flex-grow sm:flex-grow-0",children:[s.jsxs(Ee,{variant:"default",onClick:U,disabled:u||l.length<4,className:"flex-1 sm:flex-auto",children:[u?s.jsx(cn,{className:"h-4 w-4 animate-spin mr-2"}):null,"Search"]}),s.jsx(Ee,{variant:"outline",onClick:q,disabled:u,className:"flex-1 sm:flex-auto",children:"Show All"})]})]})})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Parts Ready for Pickup"}),s.jsx(Zr,{children:"These parts are waiting to be picked up or received. Mark them as complete when received."})]}),s.jsx(zt,{children:_||u?s.jsxs("div",{className:"flex justify-center items-center py-8",children:[s.jsx(cn,{className:"h-8 w-8 animate-spin text-primary mr-2"}),s.jsx("span",{children:u?"Searching...":"Loading parts for pickup..."})]}):F.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-lg font-medium",children:"No parts pending pickup"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Check back later for parts that need to be picked up"})]}):s.jsx("div",{className:"overflow-x-auto -mx-6 px-6",children:s.jsxs(cc,{children:[s.jsx(uc,{children:s.jsxs(bi,{children:[s.jsx(yr,{children:"Part Name"}),s.jsx(yr,{className:"hidden sm:table-cell",children:"Supplier"}),s.jsx(yr,{className:"hidden sm:table-cell",children:"Quantity"}),s.jsx(yr,{className:"hidden sm:table-cell",children:"Building"}),s.jsx(yr,{children:"Pickup Code"}),s.jsx(yr,{children:"Actions"})]})}),s.jsx(dc,{children:F.map(V=>{var ee,te;return s.jsxs(bi,{children:[s.jsxs(hr,{children:[s.jsx("div",{className:"font-medium",children:V.partName}),V.partNumber&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["#",V.partNumber]}),s.jsxs("div",{className:"mt-1 sm:hidden space-y-1",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium mr-1",children:"Qty:"}),V.quantity]}),V.supplier&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium mr-1",children:"Supplier:"}),V.supplier]}),((ee=V.building)==null?void 0:ee.name)&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"font-medium mr-1",children:"Building:"}),V.building.name]})]})]}),s.jsx(hr,{className:"hidden sm:table-cell",children:V.supplier||"N/A"}),s.jsx(hr,{className:"hidden sm:table-cell",children:V.quantity}),s.jsx(hr,{className:"hidden sm:table-cell",children:((te=V.building)==null?void 0:te.name)||"N/A"}),s.jsx(hr,{children:s.jsx(ti,{variant:"outline",className:"text-lg font-bold",children:V.pickupCode||"N/A"})}),s.jsx(hr,{children:s.jsx(Ee,{variant:"default",size:"sm",onClick:()=>G(V.id),disabled:I.isPending,children:I.isPending?"...":"Received"})})]},V.id)})})]})})})]})]}):s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Parts Pickup"}),s.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${x==="connected"?"bg-green-500":x==="connecting"?"bg-amber-500":"bg-red-500"}`,title:`WebSocket: ${x}`})]}),s.jsxs(Qr,{open:a,onOpenChange:o,children:[s.jsx(nd,{asChild:!0,children:s.jsx(Ee,{children:"Add Parts Pickup"})}),s.jsxs(qr,{className:"sm:max-w-[500px] max-h-[80vh] overflow-y-auto",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Add New Parts Pickup"}),s.jsx(gn,{children:"Add information about parts that need to be picked up from a supplier."})]}),s.jsxs("form",{onSubmit:L,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 items-start md:items-center gap-2 md:gap-4",children:[s.jsx(Ht,{htmlFor:"partName",className:"md:text-right",children:"Part Name*"}),s.jsx(Rt,{id:"partName",name:"partName",value:p.partName,onChange:P,className:"md:col-span-3",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 items-start md:items-center gap-2 md:gap-4",children:[s.jsx(Ht,{htmlFor:"partNumber",className:"md:text-right",children:"Part Number"}),s.jsx(Rt,{id:"partNumber",name:"partNumber",value:p.partNumber,onChange:P,className:"md:col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 items-start md:items-center gap-2 md:gap-4",children:[s.jsx(Ht,{htmlFor:"quantity",className:"md:text-right",children:"Quantity*"}),s.jsx(Rt,{id:"quantity",name:"quantity",type:"number",min:"1",value:p.quantity,onChange:D,className:"md:col-span-3",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 items-start md:items-center gap-2 md:gap-4",children:[s.jsx(Ht,{htmlFor:"supplier",className:"md:text-right",children:"Supplier"}),s.jsx(Rt,{id:"supplier",name:"supplier",value:p.supplier,onChange:P,className:"md:col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 items-start md:items-center gap-2 md:gap-4",children:[s.jsx(Ht,{htmlFor:"building",className:"md:text-right",children:"Building"}),s.jsx("div",{className:"md:col-span-3",children:s.jsxs(Bn,{onValueChange:V=>k("buildingId",V),value:((K=p.buildingId)==null?void 0:K.toString())||"none",children:[s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select building"})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"none",children:"None"}),N==null?void 0:N.map(V=>s.jsx(er,{value:V.id.toString(),children:V.name},V.id))]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 items-start md:items-center gap-2 md:gap-4",children:[s.jsx(Ht,{htmlFor:"trackingNumber",className:"md:text-right",children:"Tracking #"}),s.jsx(Rt,{id:"trackingNumber",name:"trackingNumber",value:p.trackingNumber,onChange:P,className:"md:col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 items-start md:items-center gap-2 md:gap-4",children:[s.jsx(Ht,{htmlFor:"poNumber",className:"md:text-right",children:"PO #"}),s.jsx(Rt,{id:"poNumber",name:"poNumber",value:p.poNumber,onChange:P,className:"md:col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 items-start md:items-center gap-2 md:gap-4",children:[s.jsx(Ht,{htmlFor:"notes",className:"md:text-right",children:"Notes"}),s.jsx(hc,{id:"notes",name:"notes",value:p.notes,onChange:P,className:"md:col-span-3"})]})]}),s.jsx(Pn,{children:s.jsx(Ee,{type:"submit",disabled:E.isPending,children:E.isPending?"Adding...":"Add Parts Pickup"})})]})]})]})]}),s.jsxs(Af,{defaultValue:"all",value:n,onValueChange:i,className:"w-full",children:[s.jsxs(hd,{className:"grid w-full grid-cols-3",children:[s.jsx(ri,{value:"all",children:"All Pickups"}),s.jsx(ri,{value:"pending",children:"Pending"}),s.jsx(ri,{value:"completed",children:"Completed"})]}),s.jsx(ua,{value:"all",className:"mt-6",children:s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"All Parts Pickups"}),s.jsx(Zr,{children:"View all parts pickups, both pending and completed."})]}),s.jsx(zt,{children:_?s.jsx("div",{className:"text-center py-4",children:"Loading parts pickups..."}):F.length===0?s.jsxs("div",{className:"text-center py-4",children:[s.jsx("p",{children:"No parts pickups found."}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:'Click "Add Parts Pickup" to create a new entry.'})]}):s.jsxs(cc,{children:[s.jsx(uc,{children:s.jsxs(bi,{children:[s.jsx(yr,{children:"Part Name"}),s.jsx(yr,{children:"Supplier"}),s.jsx(yr,{children:"Quantity"}),s.jsx(yr,{children:"Building"}),s.jsx(yr,{children:"Pickup Code"}),s.jsx(yr,{children:"Status"}),s.jsx(yr,{children:"Added By"}),s.jsx(yr,{children:"Added Date"}),s.jsx(yr,{children:"Actions"})]})}),s.jsx(dc,{children:F.map(V=>{var ee,te;return s.jsxs(bi,{children:[s.jsxs(hr,{children:[s.jsx("div",{className:"font-medium",children:V.partName}),V.partNumber&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["#",V.partNumber]})]}),s.jsx(hr,{children:V.supplier||"N/A"}),s.jsx(hr,{children:V.quantity}),s.jsx(hr,{children:((ee=V.building)==null?void 0:ee.name)||"N/A"}),s.jsx(hr,{children:s.jsx(ti,{variant:"outline",className:"text-lg font-bold",children:V.pickupCode||"N/A"})}),s.jsx(hr,{children:s.jsx(ti,{variant:V.status==="pending"?"secondary":"default",children:V.status==="pending"?"Pending":"Completed"})}),s.jsx(hr,{children:((te=V.addedBy)==null?void 0:te.name)||"N/A"}),s.jsx(hr,{children:V.addedAt?Kr(new Date(V.addedAt),"MMM dd, yyyy"):"N/A"}),s.jsx(hr,{children:s.jsx(Ee,{variant:"destructive",size:"sm",onClick:()=>B(V.id),disabled:C.isPending,children:"Delete"})})]},V.id)})})]})})]})}),s.jsx(ua,{value:"pending",className:"mt-6",children:s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Pending Parts Pickups"}),s.jsx(Zr,{children:"Parts that are waiting to be picked up or received."})]}),s.jsx(zt,{children:_?s.jsx("div",{className:"text-center py-4",children:"Loading pending parts pickups..."}):F.length===0?s.jsxs("div",{className:"text-center py-4",children:[s.jsx("p",{children:"No pending parts pickups found."}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Parts pickup items will appear here when they've been requested but not yet picked up."})]}):s.jsxs(cc,{children:[s.jsx(uc,{children:s.jsxs(bi,{children:[s.jsx(yr,{children:"Part Name"}),s.jsx(yr,{children:"Supplier"}),s.jsx(yr,{children:"Quantity"}),s.jsx(yr,{children:"Building"}),s.jsx(yr,{children:"Pickup Code"}),s.jsx(yr,{children:"PO Number"}),s.jsx(yr,{children:"Added By"}),s.jsx(yr,{children:"Added Date"}),s.jsx(yr,{children:"Actions"})]})}),s.jsx(dc,{children:F.map(V=>{var ee,te;return s.jsxs(bi,{children:[s.jsxs(hr,{children:[s.jsx("div",{className:"font-medium",children:V.partName}),V.partNumber&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["#",V.partNumber]})]}),s.jsx(hr,{children:V.supplier||"N/A"}),s.jsx(hr,{children:V.quantity}),s.jsx(hr,{children:((ee=V.building)==null?void 0:ee.name)||"N/A"}),s.jsx(hr,{children:s.jsx(ti,{variant:"outline",className:"text-lg font-bold",children:V.pickupCode||"N/A"})}),s.jsx(hr,{children:V.poNumber||"N/A"}),s.jsx(hr,{children:((te=V.addedBy)==null?void 0:te.name)||"N/A"}),s.jsx(hr,{children:V.addedAt?Kr(new Date(V.addedAt),"MMM dd, yyyy"):"N/A"}),s.jsx(hr,{children:s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(Ee,{variant:"default",size:"sm",onClick:()=>G(V.id),disabled:I.isPending,className:"whitespace-nowrap",children:"Mark Picked Up"}),s.jsx(Ee,{variant:"destructive",size:"sm",onClick:()=>B(V.id),disabled:C.isPending,children:"Delete"})]})})]},V.id)})})]})})]})}),s.jsx(ua,{value:"completed",className:"mt-6",children:s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Completed Parts Pickups"}),s.jsx(Zr,{children:"Parts that have already been picked up or received."})]}),s.jsx(zt,{children:_?s.jsx("div",{className:"text-center py-4",children:"Loading completed parts pickups..."}):F.length===0?s.jsx("div",{className:"text-center py-4",children:"No completed parts pickups found."}):s.jsxs(cc,{children:[s.jsx(uc,{children:s.jsxs(bi,{children:[s.jsx(yr,{children:"Part Name"}),s.jsx(yr,{children:"Supplier"}),s.jsx(yr,{children:"Quantity"}),s.jsx(yr,{children:"Building"}),s.jsx(yr,{children:"Pickup Code"}),s.jsx(yr,{children:"Picked Up By"}),s.jsx(yr,{children:"Pickup Date"}),s.jsx(yr,{children:"Actions"})]})}),s.jsx(dc,{children:F.map(V=>{var ee,te;return s.jsxs(bi,{children:[s.jsxs(hr,{children:[s.jsx("div",{className:"font-medium",children:V.partName}),V.partNumber&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["#",V.partNumber]})]}),s.jsx(hr,{children:V.supplier||"N/A"}),s.jsx(hr,{children:V.quantity}),s.jsx(hr,{children:((ee=V.building)==null?void 0:ee.name)||"N/A"}),s.jsx(hr,{children:s.jsx(ti,{variant:"outline",className:"text-lg font-bold",children:V.pickupCode||"N/A"})}),s.jsx(hr,{children:((te=V.pickedUpBy)==null?void 0:te.name)||"N/A"}),s.jsx(hr,{children:V.pickedUpAt?Kr(new Date(V.pickedUpAt),"MMM dd, yyyy"):"N/A"}),s.jsx(hr,{children:s.jsx(Ee,{variant:"destructive",size:"sm",onClick:()=>B(V.id),disabled:C.isPending,children:"Delete"})})]},V.id)})})]})})]})})]})]})}function JBe(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var FQ=O,e$e=JBe(FQ);function KF(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t$e(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var r$e=!!(typeof window<"u"&&window.document&&window.document.createElement);function n$e(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(i){return i.displayName||i.name||"Component"}return function(a){if(typeof a!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=e(o.map(function(f){return f.props})),u.canUseDOM?t(l):r&&(l=r(l))}var u=function(f){t$e(p,f);function p(){return f.apply(this,arguments)||this}p.peek=function(){return l},p.rewind=function(){if(p.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var b=l;return l=void 0,o=[],b};var g=p.prototype;return g.UNSAFE_componentWillMount=function(){o.push(this),c()},g.componentDidUpdate=function(){c()},g.componentWillUnmount=function(){var b=o.indexOf(this);o.splice(b,1),c()},g.render=function(){return e$e.createElement(a,this.props)},p}(FQ.PureComponent);return KF(u,"displayName","SideEffect("+n(a)+")"),KF(u,"canUseDOM",r$e),u}}var i$e=n$e;const a$e=Zn(i$e);var s$e=typeof Element<"u",o$e=typeof Map=="function",l$e=typeof Set=="function",c$e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function iS(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,n,i;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(!iS(e[n],t[n]))return!1;return!0}var a;if(o$e&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;for(a=e.entries();!(n=a.next()).done;)if(!iS(n.value[1],t.get(n.value[0])))return!1;return!0}if(l$e&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(a=e.entries();!(n=a.next()).done;)if(!t.has(n.value[0]))return!1;return!0}if(c$e&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(n=r;n--!==0;)if(e[n]!==t[n])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[n]))return!1;if(s$e&&e instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&e.$$typeof)&&!iS(e[i[n]],t[i[n]]))return!1;return!0}return e!==e&&t!==t}var u$e=function(t,r){try{return iS(t,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const d$e=Zn(u$e);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var QF=Object.getOwnPropertySymbols,f$e=Object.prototype.hasOwnProperty,h$e=Object.prototype.propertyIsEnumerable;function p$e(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function m$e(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var g$e=m$e()?Object.assign:function(e,t){for(var r,n=p$e(e),i,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var o in r)f$e.call(r,o)&&(n[o]=r[o]);if(QF){i=QF(r);for(var l=0;l<i.length;l++)h$e.call(r,i[l])&&(n[i[l]]=r[i[l]])}}return n};const x$e=Zn(g$e);var vp={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Sn={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Sn).map(function(e){return Sn[e]});var oa={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},a4={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},d2={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},v$e=Object.keys(a4).reduce(function(e,t){return e[a4[t]]=t,e},{}),y$e=[Sn.NOSCRIPT,Sn.SCRIPT,Sn.STYLE],Jc="data-react-helmet",w$e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b$e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},S$e=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),Vo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_$e=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},ZF=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},N$e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},pT=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},E$e=function(t){var r=jm(t,Sn.TITLE),n=jm(t,d2.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var i=jm(t,d2.DEFAULT_TITLE);return r||i||void 0},A$e=function(t){return jm(t,d2.ON_CHANGE_CLIENT_STATE)||function(){}},FA=function(t,r){return r.filter(function(n){return typeof n[t]<"u"}).map(function(n){return n[t]}).reduce(function(n,i){return Vo({},n,i)},{})},C$e=function(t,r){return r.filter(function(n){return typeof n[Sn.BASE]<"u"}).map(function(n){return n[Sn.BASE]}).reverse().reduce(function(n,i){if(!n.length)for(var a=Object.keys(i),o=0;o<a.length;o++){var l=a[o],c=l.toLowerCase();if(t.indexOf(c)!==-1&&i[c])return n.concat(i)}return n},[])},nv=function(t,r,n){var i={};return n.filter(function(a){return Array.isArray(a[t])?!0:(typeof a[t]<"u"&&I$e("Helmet: "+t+' should be of type "Array". Instead found type "'+w$e(a[t])+'"'),!1)}).map(function(a){return a[t]}).reverse().reduce(function(a,o){var l={};o.filter(function(g){for(var x=void 0,b=Object.keys(g),y=0;y<b.length;y++){var _=b[y],N=_.toLowerCase();r.indexOf(N)!==-1&&!(x===oa.REL&&g[x].toLowerCase()==="canonical")&&!(N===oa.REL&&g[N].toLowerCase()==="stylesheet")&&(x=N),r.indexOf(_)!==-1&&(_===oa.INNER_HTML||_===oa.CSS_TEXT||_===oa.ITEM_PROP)&&(x=_)}if(!x||!g[x])return!1;var E=g[x].toLowerCase();return i[x]||(i[x]={}),l[x]||(l[x]={}),i[x][E]?!1:(l[x][E]=!0,!0)}).reverse().forEach(function(g){return a.push(g)});for(var c=Object.keys(l),u=0;u<c.length;u++){var f=c[u],p=x$e({},i[f],l[f]);i[f]=p}return a},[]).reverse()},jm=function(t,r){for(var n=t.length-1;n>=0;n--){var i=t[n];if(i.hasOwnProperty(r))return i[r]}return null},j$e=function(t){return{baseTag:C$e([oa.HREF,oa.TARGET],t),bodyAttributes:FA(vp.BODY,t),defer:jm(t,d2.DEFER),encode:jm(t,d2.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:FA(vp.HTML,t),linkTags:nv(Sn.LINK,[oa.REL,oa.HREF],t),metaTags:nv(Sn.META,[oa.NAME,oa.CHARSET,oa.HTTPEQUIV,oa.PROPERTY,oa.ITEM_PROP],t),noscriptTags:nv(Sn.NOSCRIPT,[oa.INNER_HTML],t),onChangeClientState:A$e(t),scriptTags:nv(Sn.SCRIPT,[oa.SRC,oa.INNER_HTML],t),styleTags:nv(Sn.STYLE,[oa.CSS_TEXT],t),title:E$e(t),titleAttributes:FA(vp.TITLE,t)}},mT=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){mT(t)},0)}}(),JF=function(t){return clearTimeout(t)},T$e=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||mT:global.requestAnimationFrame||mT,O$e=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||JF:global.cancelAnimationFrame||JF,I$e=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},iv=null,P$e=function(t){iv&&O$e(iv),t.defer?iv=T$e(function(){e9(t,function(){iv=null})}):(e9(t),iv=null)},e9=function(t,r){var n=t.baseTag,i=t.bodyAttributes,a=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.onChangeClientState,f=t.scriptTags,p=t.styleTags,g=t.title,x=t.titleAttributes;gT(Sn.BODY,i),gT(Sn.HTML,a),k$e(g,x);var b={baseTag:I1(Sn.BASE,n),linkTags:I1(Sn.LINK,o),metaTags:I1(Sn.META,l),noscriptTags:I1(Sn.NOSCRIPT,c),scriptTags:I1(Sn.SCRIPT,f),styleTags:I1(Sn.STYLE,p)},y={},_={};Object.keys(b).forEach(function(N){var E=b[N],C=E.newTags,I=E.oldTags;C.length&&(y[N]=C),I.length&&(_[N]=b[N].oldTags)}),r&&r(),u(t,y,_)},BQ=function(t){return Array.isArray(t)?t.join(""):t},k$e=function(t,r){typeof t<"u"&&document.title!==t&&(document.title=BQ(t)),gT(Sn.TITLE,r)},gT=function(t,r){var n=document.getElementsByTagName(t)[0];if(n){for(var i=n.getAttribute(Jc),a=i?i.split(","):[],o=[].concat(a),l=Object.keys(r),c=0;c<l.length;c++){var u=l[c],f=r[u]||"";n.getAttribute(u)!==f&&n.setAttribute(u,f),a.indexOf(u)===-1&&a.push(u);var p=o.indexOf(u);p!==-1&&o.splice(p,1)}for(var g=o.length-1;g>=0;g--)n.removeAttribute(o[g]);a.length===o.length?n.removeAttribute(Jc):n.getAttribute(Jc)!==l.join(",")&&n.setAttribute(Jc,l.join(","))}},I1=function(t,r){var n=document.head||document.querySelector(Sn.HEAD),i=n.querySelectorAll(t+"["+Jc+"]"),a=Array.prototype.slice.call(i),o=[],l=void 0;return r&&r.length&&r.forEach(function(c){var u=document.createElement(t);for(var f in c)if(c.hasOwnProperty(f))if(f===oa.INNER_HTML)u.innerHTML=c.innerHTML;else if(f===oa.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var p=typeof c[f]>"u"?"":c[f];u.setAttribute(f,p)}u.setAttribute(Jc,"true"),a.some(function(g,x){return l=x,u.isEqualNode(g)})?a.splice(l,1):o.push(u)}),a.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return n.appendChild(c)}),{oldTags:a,newTags:o}},$Q=function(t){return Object.keys(t).reduce(function(r,n){var i=typeof t[n]<"u"?n+'="'+t[n]+'"':""+n;return r?r+" "+i:i},"")},M$e=function(t,r,n,i){var a=$Q(n),o=BQ(r);return a?"<"+t+" "+Jc+'="true" '+a+">"+pT(o,i)+"</"+t+">":"<"+t+" "+Jc+'="true">'+pT(o,i)+"</"+t+">"},D$e=function(t,r,n){return r.reduce(function(i,a){var o=Object.keys(a).filter(function(u){return!(u===oa.INNER_HTML||u===oa.CSS_TEXT)}).reduce(function(u,f){var p=typeof a[f]>"u"?f:f+'="'+pT(a[f],n)+'"';return u?u+" "+p:p},""),l=a.innerHTML||a.cssText||"",c=y$e.indexOf(t)===-1;return i+"<"+t+" "+Jc+'="true" '+o+(c?"/>":">"+l+"</"+t+">")},"")},UQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,i){return n[a4[i]||i]=t[i],n},r)},L$e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(n,i){return n[v$e[i]||i]=t[i],n},r)},R$e=function(t,r,n){var i,a=(i={key:r},i[Jc]=!0,i),o=UQ(n,a);return[qe.createElement(Sn.TITLE,o,r)]},F$e=function(t,r){return r.map(function(n,i){var a,o=(a={key:i},a[Jc]=!0,a);return Object.keys(n).forEach(function(l){var c=a4[l]||l;if(c===oa.INNER_HTML||c===oa.CSS_TEXT){var u=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=n[l]}),qe.createElement(t,o)})},Td=function(t,r,n){switch(t){case Sn.TITLE:return{toComponent:function(){return R$e(t,r.title,r.titleAttributes)},toString:function(){return M$e(t,r.title,r.titleAttributes,n)}};case vp.BODY:case vp.HTML:return{toComponent:function(){return UQ(r)},toString:function(){return $Q(r)}};default:return{toComponent:function(){return F$e(t,r)},toString:function(){return D$e(t,r,n)}}}},zQ=function(t){var r=t.baseTag,n=t.bodyAttributes,i=t.encode,a=t.htmlAttributes,o=t.linkTags,l=t.metaTags,c=t.noscriptTags,u=t.scriptTags,f=t.styleTags,p=t.title,g=p===void 0?"":p,x=t.titleAttributes;return{base:Td(Sn.BASE,r,i),bodyAttributes:Td(vp.BODY,n,i),htmlAttributes:Td(vp.HTML,a,i),link:Td(Sn.LINK,o,i),meta:Td(Sn.META,l,i),noscript:Td(Sn.NOSCRIPT,c,i),script:Td(Sn.SCRIPT,u,i),style:Td(Sn.STYLE,f,i),title:Td(Sn.TITLE,{title:g,titleAttributes:x},i)}},B$e=function(t){var r,n;return n=r=function(i){_$e(a,i);function a(){return b$e(this,a),N$e(this,i.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(l){return!d$e(this.props,l)},a.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case Sn.SCRIPT:case Sn.NOSCRIPT:return{innerHTML:c};case Sn.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,f=l.arrayTypeChildren,p=l.newChildProps,g=l.nestedChildren;return Vo({},f,(c={},c[u.type]=[].concat(f[u.type]||[],[Vo({},p,this.mapNestedChildrenToProps(u,g))]),c))},a.prototype.mapObjectTypeChildren=function(l){var c,u,f=l.child,p=l.newProps,g=l.newChildProps,x=l.nestedChildren;switch(f.type){case Sn.TITLE:return Vo({},p,(c={},c[f.type]=x,c.titleAttributes=Vo({},g),c));case Sn.BODY:return Vo({},p,{bodyAttributes:Vo({},g)});case Sn.HTML:return Vo({},p,{htmlAttributes:Vo({},g)})}return Vo({},p,(u={},u[f.type]=Vo({},g),u))},a.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=Vo({},c);return Object.keys(l).forEach(function(f){var p;u=Vo({},u,(p={},p[f]=l[f],p))}),u},a.prototype.warnOnInvalidChildren=function(l,c){return!0},a.prototype.mapChildrenToProps=function(l,c){var u=this,f={};return qe.Children.forEach(l,function(p){if(!(!p||!p.props)){var g=p.props,x=g.children,b=ZF(g,["children"]),y=L$e(b);switch(u.warnOnInvalidChildren(p,x),p.type){case Sn.LINK:case Sn.META:case Sn.NOSCRIPT:case Sn.SCRIPT:case Sn.STYLE:f=u.flattenArrayTypeChildren({child:p,arrayTypeChildren:f,newChildProps:y,nestedChildren:x});break;default:c=u.mapObjectTypeChildren({child:p,newProps:c,newChildProps:y,nestedChildren:x});break}}}),c=this.mapArrayTypeChildrenToProps(f,c),c},a.prototype.render=function(){var l=this.props,c=l.children,u=ZF(l,["children"]),f=Vo({},u);return c&&(f=this.mapChildrenToProps(c,f)),qe.createElement(t,f)},S$e(a,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),a}(qe.Component),r.propTypes={base:jr.object,bodyAttributes:jr.object,children:jr.oneOfType([jr.arrayOf(jr.node),jr.node]),defaultTitle:jr.string,defer:jr.bool,encodeSpecialCharacters:jr.bool,htmlAttributes:jr.object,link:jr.arrayOf(jr.object),meta:jr.arrayOf(jr.object),noscript:jr.arrayOf(jr.object),onChangeClientState:jr.func,script:jr.arrayOf(jr.object),style:jr.arrayOf(jr.object),title:jr.string,titleAttributes:jr.object,titleTemplate:jr.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=t.peek,r.rewind=function(){var i=t.rewind();return i||(i=zQ({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},n},$$e=function(){return null},U$e=a$e(j$e,P$e,zQ)($$e),s4=B$e(U$e);s4.renderStatic=s4.rewind;const z$e=({title:e,subtitle:t,icon:r})=>s.jsx("div",{className:"flex items-center justify-between py-4 px-8 border-b",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[r&&s.jsx("div",{className:"flex-shrink-0",children:r}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:e}),t&&s.jsx("p",{className:"text-muted-foreground",children:t})]})]})}),V$e=()=>s.jsx("div",{className:"flex justify-center items-center h-full w-full",children:s.jsx(cn,{className:"h-6 w-6 animate-spin text-primary"})}),W$e=or.object({toolName:or.string().min(1,"Tool name is required"),notes:or.string().optional()}),H$e=or.object({toolId:or.number().min(1,"Tool selection is required"),notes:or.string().optional()}),q$e=or.object({toolId:or.number().min(1,"Tool selection is required"),technicianId:or.number().min(1,"Technician selection is required"),notes:or.string().optional()}),G$e=or.object({condition:or.string().optional(),notes:or.string().optional(),status:or.enum(["returned","damaged","missing"])});function t9(){const{isLoading:e,user:t}=Ts(),r=Yp(),{toast:n}=ea(),[i,a]=O.useState(!1),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[f,p]=O.useState(!1),[g,x]=O.useState(!1),[b,y]=O.useState(null),[_,N]=O.useState(""),E=(t==null?void 0:t.role)==="admin",C=(t==null?void 0:t.role)==="technician",I=(t==null?void 0:t.role)==="student",P=C||I,D=E||I,k=_s({resolver:Ns(W$e),defaultValues:{toolName:"",notes:""}}),L=_s({resolver:Ns(H$e),defaultValues:{toolId:void 0,notes:""}}),B=_s({resolver:Ns(q$e),defaultValues:{toolId:void 0,technicianId:void 0,notes:""}}),G=_s({resolver:Ns(G$e),defaultValues:{condition:"",status:"returned",notes:""}}),{data:F,isLoading:U,refetch:q}=Er({queryKey:["/api/tools"],refetchOnWindowFocus:!0}),{data:K,isLoading:V}=Er({queryKey:["/api/tools/status/available"],refetchOnWindowFocus:!0}),{data:ee,isLoading:te}=Er({queryKey:["/api/users"],enabled:E,refetchOnWindowFocus:!1}),J=(ee==null?void 0:ee.filter(ye=>ye.role==="technician"||ye.role==="student"||ye.role==="admin"))||[],ge=Sr({mutationFn:async ye=>await(await nn("POST","/api/tools/add",ye)).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/tools"]}),r.invalidateQueries({queryKey:["/api/tools/status/available"]}),n({title:"Success",description:"New tool added successfully",variant:"default"}),a(!1),k.reset()},onError:ye=>{n({title:"Error",description:ye.message||"Failed to add new tool",variant:"destructive"})}}),Ie=Sr({mutationFn:async ye=>await(await nn("POST","/api/tools/signout",{toolId:ye.toolId,notes:ye.notes})).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/tools"]}),r.invalidateQueries({queryKey:["/api/tools/status/available"]}),n({title:"Success",description:"Tool signed out successfully",variant:"default"}),l(!1),L.reset()},onError:ye=>{n({title:"Error",description:ye.message||"Failed to sign out tool",variant:"destructive"})}}),Ge=Sr({mutationFn:async ye=>await(await nn("POST","/api/tools/admin-signout",{toolId:ye.toolId,technicianId:ye.technicianId,notes:ye.notes})).json(),onSuccess:()=>{r.invalidateQueries({queryKey:["/api/tools"]}),r.invalidateQueries({queryKey:["/api/tools/status/available"]}),n({title:"Success",description:"Tool signed out to technician successfully",variant:"default"}),u(!1),B.reset()},onError:ye=>{n({title:"Error",description:ye.message||"Failed to sign out tool to technician",variant:"destructive"})}}),W=Sr({mutationFn:async ye=>{if(!(b!=null&&b.id))throw new Error("No tool selected");try{const We=b.signoutId||b.id;console.log("Making API request: PATCH /api/tools/return/"+We);const Ye=await nn("PATCH",`/api/tools/return/${We}`,ye);if(console.log("API response status:",Ye.status),!Ye.ok)throw new Error("Failed to return tool: "+Ye.statusText);return await Ye.json()}catch(We){throw console.error("Tool return error:",We),We}},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/tools"]}),r.invalidateQueries({queryKey:["/api/tools/status/available"]}),n({title:"Success",description:"Tool returned successfully",variant:"default"}),p(!1),y(null),G.reset()},onError:ye=>{n({title:"Error",description:ye.message||"Failed to return tool",variant:"destructive"})}}),Q=Sr({mutationFn:async ye=>{if(!ye)throw new Error("No tool selected");try{return await(await nn("DELETE",`/api/tools/${ye}`)).json()}catch(We){throw console.error("Tool delete error:",We),We}},onSuccess:ye=>{r.invalidateQueries({queryKey:["/api/tools"]}),r.invalidateQueries({queryKey:["/api/tools/status/available"]}),n({title:"Success",description:ye.message||"Tool deleted successfully",variant:"default"}),x(!1),y(null)},onError:ye=>{n({title:"Error",description:ye.message||"Failed to delete tool",variant:"destructive"})}});O.useEffect(()=>{const ye=setInterval(()=>{q()},3e4);return()=>clearInterval(ye)},[q]);const Z=ye=>{ge.mutate(ye)},re=ye=>{Ie.mutate(ye)},le=ye=>{Ge.mutate(ye)},Ne=ye=>{W.mutate(ye)},Ae=ye=>{y(ye),p(!0)},ve=(F==null?void 0:F.filter(ye=>ye.toolName.toLowerCase().includes(_.toLowerCase())||ye.technicianName&&ye.technicianName.toLowerCase().includes(_.toLowerCase())||String(ye.toolNumber).includes(_)))||[],xe=ye=>P&&ye.technicianId===(t==null?void 0:t.id),Le=[{header:"Tool #",accessor:ye=>String(ye.toolNumber),className:"whitespace-nowrap"},{header:"Tool Name",accessor:ye=>ye.toolName},{header:"Technician",accessor:ye=>ye.technicianName||"Available"},{header:"Status",accessor:ye=>{if(!ye.status||ye.status==="available")return s.jsx(ti,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:"Available"});switch(ye.status){case"checked_out":return s.jsx(ti,{variant:"outline",className:"bg-orange-100 text-orange-700 border-orange-300",children:"Checked Out"});case"returned":return s.jsx(ti,{variant:"outline",className:"bg-green-100 text-green-700 border-green-300",children:"Returned"});case"damaged":return s.jsx(ti,{variant:"outline",className:"bg-amber-100 text-amber-700 border-amber-300",children:"Damaged"});case"missing":return s.jsx(ti,{variant:"outline",className:"bg-red-100 text-red-700 border-red-300",children:"Missing"});default:return s.jsx(ti,{variant:"outline",children:"Unknown"})}}},{header:"Actions",accessor:ye=>{const We=[];return(!ye.status||ye.status==="available")&&(P&&We.push(s.jsxs(Ee,{variant:"outline",size:"sm",className:"mr-2",onClick:()=>{y(ye),L.setValue("toolId",ye.id),l(!0)},children:[s.jsx(Si,{className:"h-4 w-4 mr-1"}),"Sign Out"]},"signout")),E&&We.push(s.jsxs(Ee,{variant:"default",size:"sm",className:"mr-2",onClick:()=>{y(ye),B.setValue("toolId",ye.id),u(!0)},children:[s.jsx(Si,{className:"h-4 w-4 mr-1"}),"Assign to Tech"]},"admin-signout"))),(E||xe(ye))&&ye.status==="checked_out"&&We.push(s.jsxs(Ee,{variant:"outline",size:"sm",className:"mr-2",onClick:()=>Ae(ye),children:[s.jsx(hm,{className:"h-4 w-4 mr-1"}),"Return"]},"return")),E&&(!ye.status||ye.status==="available"||ye.status==="returned")&&We.push(s.jsxs(Ee,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",onClick:()=>{y(ye),x(!0)},children:[s.jsx(ng,{className:"h-4 w-4 mr-1"}),"Delete"]},"delete")),s.jsx("div",{className:"flex flex-wrap justify-end gap-2",children:We})},className:"text-right"}];if(e)return s.jsx(V$e,{});const Se=P&&!E?ve.filter(ye=>!ye.status||ye.status==="available"||xe(ye)):ve;return s.jsxs(s.Fragment,{children:[s.jsx(s4,{children:s.jsx("title",{children:"Tool Signout | ONU Parts Tracker"})}),s.jsx(z$e,{title:"Tool SignOut System",subtitle:"Track tools signed out to technicians",icon:s.jsx(Mh,{className:"h-6 w-6 text-muted-foreground"})}),s.jsxs("div",{className:"container mx-auto py-6",children:[s.jsxs(Pt,{className:"border shadow mb-6",children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs("div",{children:[s.jsx(Yt,{children:"Tools SignOut Management"}),s.jsx(Zr,{children:"Manage tools signed out to technicians"})]}),s.jsxs("div",{className:"flex space-x-2",children:[D&&s.jsxs(Ee,{onClick:()=>a(!0),children:[s.jsx(Si,{className:"h-4 w-4 mr-1"}),"Add New Tool"]}),P&&K&&K.length>0&&s.jsxs(Ee,{variant:"outline",onClick:()=>l(!0),children:[s.jsx(Si,{className:"h-4 w-4 mr-1"}),"Sign Out Tool"]}),E&&K&&K.length>0&&s.jsxs(Ee,{onClick:()=>u(!0),children:[s.jsx(Si,{className:"h-4 w-4 mr-1"}),"Assign to Technician"]})]})]}),s.jsxs(zt,{children:[s.jsx("div",{className:"flex mb-4",children:s.jsxs("div",{className:"relative w-full max-w-sm",children:[s.jsx(Pl,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Rt,{placeholder:"Search tools or technicians...",className:"pl-8",value:_,onChange:ye=>N(ye.target.value)})]})}),U?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(cn,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2",children:"Loading tools..."})]}):Se.length===0?s.jsxs("div",{className:"text-center py-12 border rounded-md bg-muted/20",children:[s.jsx(Mh,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No tools found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:_?"No tools match your search criteria.":D?"No tools have been added yet. Add a tool to get started.":"No tools have been added yet. Please contact an administrator to add tools."}),D&&s.jsxs(Ee,{variant:"outline",onClick:()=>a(!0),children:[s.jsx(Si,{className:"h-4 w-4 mr-1"}),"Add New Tool"]})]}):s.jsx(Ll,{data:Se,columns:Le,itemsPerPage:10})]}),Se.length>0&&s.jsx(mc,{className:"border-t px-6 py-4 bg-muted/20",children:s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-2"}),s.jsx("span",{children:"Available"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500 mr-2"}),s.jsx("span",{children:"Checked Out"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500 mr-2"}),s.jsx("span",{children:"Damaged"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 mr-2"}),s.jsx("span",{children:"Missing"})]})]})})]}),E&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsx(Pt,{className:"bg-muted/10",children:s.jsxs(zt,{className:"p-6 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Tools"}),s.jsx("p",{className:"text-2xl font-bold",children:(F==null?void 0:F.length)||0})]}),s.jsx(Mh,{className:"h-8 w-8 text-primary opacity-70"})]})}),s.jsx(Pt,{className:"bg-muted/10",children:s.jsxs(zt,{className:"p-6 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Checked Out"}),s.jsx("p",{className:"text-2xl font-bold",children:(F==null?void 0:F.filter(ye=>ye.status==="checked_out").length)||0})]}),s.jsx(sf,{className:"h-8 w-8 text-orange-500 opacity-70"})]})}),s.jsx(Pt,{className:"bg-muted/10",children:s.jsxs(zt,{className:"p-6 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Available"}),s.jsx("p",{className:"text-2xl font-bold",children:(F==null?void 0:F.filter(ye=>!ye.status||ye.status==="available").length)||0})]}),s.jsx(hm,{className:"h-8 w-8 text-green-500 opacity-70"})]})}),s.jsx(Pt,{className:"bg-muted/10",children:s.jsxs(zt,{className:"p-6 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Damaged/Missing"}),s.jsx("p",{className:"text-2xl font-bold",children:(F==null?void 0:F.filter(ye=>ye.status==="damaged"||ye.status==="missing").length)||0})]}),s.jsx(ng,{className:"h-8 w-8 text-red-500 opacity-70"})]})})]})]}),D&&s.jsx(Qr,{open:i,onOpenChange:a,children:s.jsxs(qr,{className:"sm:max-w-md",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Add New Tool"}),s.jsx(gn,{children:"Create a new tool to add to the system inventory. A sequential tool number will be automatically assigned."})]}),s.jsx(Us,{...k,children:s.jsxs("form",{onSubmit:k.handleSubmit(Z),className:"space-y-4 py-4",children:[s.jsx(Dr,{control:k.control,name:"toolName",render:({field:ye})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Tool Name"}),s.jsx(Ir,{children:s.jsx(Rt,{placeholder:"Enter tool name",...ye})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:k.control,name:"notes",render:({field:ye})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Notes (Optional)"}),s.jsx(Ir,{children:s.jsx(hc,{placeholder:"Add any notes about the tool",...ye})}),s.jsx(Lr,{})]})}),s.jsxs(Pn,{className:"pt-4",children:[s.jsx(Ee,{variant:"outline",onClick:()=>a(!1),type:"button",children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:ge.isPending,children:ge.isPending?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):"Create Tool"})]})]})})]})}),s.jsx(Qr,{open:o,onOpenChange:l,children:s.jsxs(qr,{className:"sm:max-w-md",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Sign Out a Tool"}),s.jsx(gn,{children:"Select a tool you want to borrow. Your name will be automatically recorded."})]}),s.jsx(Us,{...L,children:s.jsxs("form",{onSubmit:L.handleSubmit(re),className:"space-y-4 py-4",children:[s.jsx(Dr,{control:L.control,name:"toolId",render:({field:ye})=>{var We;return s.jsxs(Tr,{children:[s.jsx(Or,{children:"Select Tool"}),s.jsxs(Bn,{onValueChange:Ye=>ye.onChange(parseInt(Ye)),defaultValue:(We=ye.value)==null?void 0:We.toString(),children:[s.jsx(Ir,{children:s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select a tool"})})}),s.jsx(Dn,{children:V?s.jsxs("div",{className:"flex items-center justify-center p-2",children:[s.jsx(cn,{className:"h-4 w-4 animate-spin mr-2"}),s.jsx("span",{children:"Loading..."})]}):K==null?void 0:K.map(Ye=>s.jsxs(er,{value:Ye.id.toString(),children:["#",Ye.toolNumber," - ",Ye.toolName]},Ye.id))})]}),s.jsxs(Bu,{children:["You are signing out this tool as ",t==null?void 0:t.name]}),s.jsx(Lr,{})]})}}),s.jsx(Dr,{control:L.control,name:"notes",render:({field:ye})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Notes (Optional)"}),s.jsx(Ir,{children:s.jsx(hc,{placeholder:"Add any notes about how you'll use this tool",...ye})}),s.jsx(Lr,{})]})}),s.jsxs(Pn,{className:"pt-4",children:[s.jsx(Ee,{variant:"outline",onClick:()=>l(!1),type:"button",children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:Ie.isPending,children:Ie.isPending?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing Out..."]}):"Sign Out Tool"})]})]})})]})}),s.jsx(Qr,{open:f,onOpenChange:p,children:s.jsxs(qr,{className:"sm:max-w-md",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Return Tool"}),s.jsx(gn,{children:b&&s.jsxs(s.Fragment,{children:["Recording return of ",b.toolName," (Tool #",b.toolNumber,")"]})})]}),s.jsx(Us,{...G,children:s.jsxs("form",{onSubmit:G.handleSubmit(Ne),className:"space-y-4 py-4",children:[s.jsx(Dr,{control:G.control,name:"status",render:({field:ye})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Tool Status"}),s.jsxs(Bn,{onValueChange:ye.onChange,defaultValue:ye.value,children:[s.jsx(Ir,{children:s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select status"})})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"returned",children:"Returned (Good Condition)"}),s.jsx(er,{value:"damaged",children:"Damaged"}),s.jsx(er,{value:"missing",children:"Missing"})]})]}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:G.control,name:"condition",render:({field:ye})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Condition Details"}),s.jsx(Ir,{children:s.jsx(Rt,{placeholder:"Describe the tool's condition",...ye})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:G.control,name:"notes",render:({field:ye})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Additional Notes (Optional)"}),s.jsx(Ir,{children:s.jsx(hc,{placeholder:"Any additional information about the return",...ye})}),s.jsx(Lr,{})]})}),s.jsxs(Pn,{className:"pt-4",children:[s.jsx(Ee,{variant:"outline",onClick:()=>{p(!1),y(null)},type:"button",children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:W.isPending,children:W.isPending?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Confirm Return"})]})]})})]})}),E&&s.jsx(Qr,{open:c,onOpenChange:u,children:s.jsxs(qr,{className:"sm:max-w-md",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Assign Tool to Technician"}),s.jsx(gn,{children:"Sign out this tool to a specific technician."})]}),s.jsx(Us,{...B,children:s.jsxs("form",{onSubmit:B.handleSubmit(le),className:"space-y-4 py-4",children:[s.jsx(Dr,{control:B.control,name:"technicianId",render:({field:ye})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Assign to Technician"}),s.jsx(Ir,{children:s.jsxs(Bn,{onValueChange:We=>ye.onChange(parseInt(We)),children:[s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select a technician"})}),s.jsx(Dn,{children:J==null?void 0:J.map(We=>s.jsxs(er,{value:We.id.toString(),children:[We.name," (",We.role,")"]},We.id))})]})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:B.control,name:"notes",render:({field:ye})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Notes (Optional)"}),s.jsx(Ir,{children:s.jsx(hc,{placeholder:"Add any notes about this assignment",...ye})}),s.jsx(Lr,{})]})}),s.jsxs(Pn,{className:"pt-4",children:[s.jsx(Ee,{variant:"outline",onClick:()=>u(!1),type:"button",children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:Ge.isPending,children:Ge.isPending?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}),"Assigning..."]}):"Assign Tool"})]})]})})]})}),E&&s.jsx(Qr,{open:g,onOpenChange:x,children:s.jsxs(qr,{className:"sm:max-w-md",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Delete Tool"}),s.jsx(gn,{children:"Are you sure you want to delete this tool? This action cannot be undone."})]}),b&&s.jsxs("div",{className:"py-4",children:[s.jsxs("div",{className:"mb-4 p-4 border rounded-md bg-muted",children:[s.jsxs("p",{className:"font-medium",children:["Tool #",b.toolNumber]}),s.jsx("p",{className:"text-muted-foreground",children:b.toolName})]}),s.jsxs("div",{className:"text-amber-600 mb-4 flex items-start",children:[s.jsx(kl,{className:"h-5 w-5 mr-2 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Warning"}),s.jsx("p",{className:"text-sm",children:"Deleting this tool will permanently remove it from the system along with all its sign-out history."})]})]})]}),s.jsxs(Pn,{children:[s.jsx(Ee,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),s.jsx(Ee,{variant:"destructive",onClick:()=>b&&Q.mutate(b.id),disabled:Q.isPending,children:Q.isPending?s.jsxs(s.Fragment,{children:[s.jsx(cn,{className:"mr-2 h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete Tool"})]})]})})]})}function r9(){const{user:e}=Ts();if(!e||e.role!=="admin")return s.jsx("div",{className:"flex flex-col items-center justify-center p-6 h-[calc(100vh-4rem)]",children:s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"You don't have permission to access this page."}),s.jsx(la,{href:"/dashboard",children:s.jsxs(Ee,{className:"mt-4",children:[s.jsx(Vz,{className:"mr-2 h-4 w-4"}),"Return to Dashboard"]})})]})});const t=[{title:"Buildings",icon:s.jsx(ap,{className:"h-5 w-5"}),description:"Manage building locations",href:"/buildings"},{title:"Technicians",icon:s.jsx(uy,{className:"h-5 w-5"}),description:"Manage technician accounts",href:"/technicians"},{title:"Storage Locations",icon:s.jsx(Hd,{className:"h-5 w-5"}),description:"Manage storage locations",href:"/locations"},{title:"Reports",icon:s.jsx(kS,{className:"h-5 w-5"}),description:"View system reports",href:"/reports"},{title:"Quick Count",icon:s.jsx(pm,{className:"h-5 w-5"}),description:"Perform quick inventory counts",href:"/quick-count"},{title:"System Settings",icon:s.jsx(I2,{className:"h-5 w-5"}),description:"Configure system settings",href:"/settings"}];return s.jsxs("div",{className:"container mx-auto p-4 pb-20",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Admin Settings"}),s.jsx("div",{className:"grid gap-4",children:t.map((r,n)=>s.jsx(la,{href:r.href,children:s.jsx(Pt,{className:"cursor-pointer hover:bg-accent/50 transition-colors",children:s.jsxs(zt,{className:"p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"bg-primary/10 p-2 rounded-full text-primary",children:r.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:r.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:r.description})]})]}),s.jsx(O2,{className:"h-5 w-5 text-muted-foreground"})]})})},n))})]})}const Y$e=({open:e,onOpenChange:t,deliveryId:r,staffName:n,partName:i,quantity:a,onSuccess:o})=>{const[l,c]=O.useState("signature"),[u,f]=O.useState(null),[p,g]=O.useState(!1),x=O.useRef(null),b=O.useRef(!1),[y,_]=O.useState(!1);O.useEffect(()=>{const k=()=>{const L=navigator.userAgent||navigator.vendor;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(L)};_(k()),k()||c("desktop")},[]),O.useEffect(()=>{if(!e||l!=="signature"||!x.current)return;const k=x.current,L=k.getContext("2d");if(!L)return;L.fillStyle="#fff",L.fillRect(0,0,k.width,k.height),L.lineWidth=3,L.lineCap="round",L.strokeStyle="#000";const B=()=>{var F;const G=((F=k.parentElement)==null?void 0:F.clientWidth)??300;k.width=G,k.height=250,L.fillStyle="#fff",L.fillRect(0,0,k.width,k.height),L.lineWidth=3,L.lineCap="round",L.strokeStyle="#000"};return B(),window.addEventListener("resize",B),()=>{window.removeEventListener("resize",B)}},[e,l]);const N=()=>{if(!x.current)return;const k=x.current,L=k.getContext("2d");L&&(L.fillStyle="#fff",L.fillRect(0,0,k.width,k.height),f(null))},E=k=>{b.current=!0;const L=x.current;if(!L)return;const B=L.getContext("2d");if(!B)return;const{offsetX:G,offsetY:F}=P(k);B.beginPath(),B.moveTo(G,F)},C=k=>{if(!b.current||!x.current)return;const B=x.current.getContext("2d");if(!B)return;const{offsetX:G,offsetY:F}=P(k);B.lineTo(G,F),B.stroke()},I=()=>{b.current=!1,x.current&&f(x.current.toDataURL("image/png"))},P=k=>{const L=x.current;if(!L)return{offsetX:0,offsetY:0};const B=L.getBoundingClientRect();if("touches"in k){const G=k.touches[0];return{offsetX:G.clientX-B.left,offsetY:G.clientY-B.top}}else return{offsetX:k.nativeEvent.offsetX,offsetY:k.nativeEvent.offsetY}},D=async()=>{if(!p){g(!0);try{const k=await fetch(`/api/parts-delivery/${r}/confirm`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({signature:l==="signature"?u:null,bypassSignature:l==="desktop"})});if(!k.ok){const L=await k.json();throw new Error(L.message||"Failed to confirm delivery")}gi({title:"Delivery confirmed",description:"The delivery has been confirmed successfully"}),o(),t(!1)}catch(k){const L=k instanceof Error?k.message:"An unexpected error occurred";gi({title:"Error confirming delivery",description:L,variant:"destructive"})}finally{g(!1)}}};return s.jsx(Qr,{open:e,onOpenChange:t,children:s.jsxs(qr,{className:"sm:max-w-lg",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Confirm Delivery"}),s.jsxs(gn,{children:["Confirm the delivery of ",a," ",a===1?"unit":"units"," of ",i," to ",n,"."]})]}),s.jsxs("div",{className:"grid gap-4 py-2",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(Ee,{onClick:()=>c("signature"),size:"sm",variant:l==="signature"?"default":"outline",className:"flex-1",children:[s.jsx(cae,{className:"w-4 h-4 mr-2"}),"Signature"]}),s.jsxs(Ee,{onClick:()=>c("desktop"),size:"sm",className:"flex-1",variant:l==="desktop"?"default":"outline",children:[s.jsx(fM,{className:"w-4 h-4 mr-2"}),"Desktop"]})]}),l==="signature"?s.jsxs("div",{children:[s.jsx("div",{className:"border rounded-md mb-2",children:s.jsx("canvas",{ref:x,className:"w-full touch-none",onMouseDown:E,onMouseMove:C,onMouseUp:I,onMouseLeave:I,onTouchStart:E,onTouchMove:C,onTouchEnd:I})}),s.jsxs(Ee,{variant:"outline",size:"sm",className:"w-full",onClick:N,children:[s.jsx(Cv,{className:"w-4 h-4 mr-2"}),"Clear Signature"]})]}):s.jsxs("div",{className:"border rounded-md p-4 text-center text-muted-foreground",children:[s.jsx(fM,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Desktop confirmation doesn't require a signature."}),s.jsx("p",{className:"text-sm mt-1",children:"Click confirm below to mark item as delivered."})]})]}),s.jsxs(Pn,{children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:p,children:"Cancel"}),s.jsxs(Ee,{onClick:D,disabled:l==="signature"&&!u||p,children:[p?"Confirming...":"Confirm Delivery",!p&&s.jsx(Cp,{className:"ml-2 h-4 w-4"})]})]})]})})},Rg=({title:e,children:t})=>s.jsxs("div",{className:"container mx-auto py-6 px-4",children:[s.jsx(s4,{children:s.jsxs("title",{children:[e," | ONU Parts Tracker"]})}),s.jsx("div",{className:"mb-6",children:s.jsx("h1",{className:"text-2xl font-bold",children:e})}),t]}),O8=()=>s.jsx("div",{className:"flex justify-center items-center w-full h-64",children:s.jsx(cn,{className:"h-8 w-8 animate-spin text-primary"})});function I8(){const{user:e}=Ts();return{isAdmin:(e==null?void 0:e.role)==="admin",isTechnician:(e==null?void 0:e.role)==="technician",isStudent:(e==null?void 0:e.role)==="student",userRole:e==null?void 0:e.role}}function X$e({deliveryId:e,staffName:t}){const[r,n]=O.useState(""),[i,a]=O.useState(!1),[o,l]=O.useState(!1),{toast:c}=ea(),u=async()=>{a(!0);try{const x=await fetch(`/api/email-receipt/${e}`);if(x.ok){const b=await x.text();n(b)}else c({title:"No Email Receipt",description:"Email receipt not available for this delivery.",variant:"destructive"})}catch{c({title:"Error",description:"Failed to load email receipt.",variant:"destructive"})}finally{a(!1)}},f=()=>{l(!0),u()},p=()=>{if(r){const x=window.open("","_blank");x&&(x.document.write(r),x.document.close(),x.print())}},g=()=>{if(r){const x=new Blob([r],{type:"text/html"}),b=URL.createObjectURL(x),y=document.createElement("a");y.href=b,y.download=`email-receipt-delivery-${e}.html`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(b)}};return s.jsxs(Qr,{open:o,onOpenChange:l,children:[s.jsx(nd,{asChild:!0,children:s.jsxs(Ee,{variant:"outline",size:"sm",onClick:f,className:"gap-2",children:[s.jsx(dM,{className:"h-4 w-4"}),"View Email"]})}),s.jsxs(qr,{className:"max-w-4xl max-h-[80vh] overflow-hidden",children:[s.jsx(Gr,{children:s.jsxs(Yr,{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Email Receipt - Delivery #",e]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Ee,{variant:"outline",size:"sm",onClick:p,disabled:!r,className:"gap-2",children:[s.jsx(Op,{className:"h-4 w-4"}),"Print"]}),s.jsxs(Ee,{variant:"outline",size:"sm",onClick:g,disabled:!r,className:"gap-2",children:[s.jsx(Bs,{className:"h-4 w-4"}),"Download"]})]})]})}),s.jsx("div",{className:"flex-1 overflow-auto border rounded-lg",children:i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{children:"Loading email receipt..."})]})}):r?s.jsx("iframe",{srcDoc:r,className:"w-full h-96",style:{minHeight:"400px"},title:`Email receipt for delivery ${e}`}):s.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(dM,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No email receipt available"}),s.jsx("p",{className:"text-sm",children:"The receipt may not have been generated yet."})]})})}),t&&s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Email sent to: ",s.jsx("strong",{children:t})]})]})]})}function n9(e){try{if(console.log("Processing date string:",e),e.match(/^\d{4}-\d{2}-\d{2}$/)){const[r,n,i]=e.split("-").map(Number),a=new Date(r,n-1,i,12,0,0);return console.log("Created date object from string:",a.toISOString()),a.toISOString()}const t=new Date(e);if(isNaN(t.getTime()))throw new Error("Invalid date string: "+e);return console.log("Parsed date from generic string:",t.toISOString()),t.toISOString()}catch(t){return console.error("Error processing date:",t),new Date().toISOString()}}const K$e=or.object({staffMemberId:or.number().min(1,"Staff member is required"),buildingId:or.number().optional(),costCenterId:or.number().optional(),deliveryDate:or.string().min(1,"Delivery date is required"),notes:or.string().optional()});function i9(){var On,Gn,ue,_e,Oe,Me,Fe,Ve,ft,_t,ct,xt,wt,kt,Vt;const{isAdmin:e,isStudent:t}=I8(),r=Yp(),[n,i]=O.useState(!1),[a,o]=O.useState(!1),[l,c]=O.useState(!1),[u,f]=O.useState(!1),[p,g]=O.useState(!1),[x,b]=O.useState(null),[y,_]=O.useState(""),[N,E]=O.useState(""),[C,I]=O.useState(""),[P,D]=O.useState(new Date),[k,L]=O.useState(new Date),[B,G]=O.useState(null),[F,U]=O.useState(1),[q,K]=O.useState([]),[V,ee]=O.useState(!1),[te,J]=O.useState(!1),[ge,Ie]=O.useState(!1),[Ge,W]=O.useState(""),[Q,Z]=O.useState(null),[re,le]=O.useState(null),[Ne,Ae]=O.useState(!1),[ve,xe]=O.useState(null),Le=O.useRef(null),Se=O.useRef(null),ye=O.useRef(null),[We,Ye]=O.useState({partId:0,quantity:1,staffMemberId:0,buildingId:0,costCenterId:0,deliveryDate:Kr(new Date,"yyyy-MM-dd"),notes:"",isManualPart:!1,manualPartName:"",manualPartDescription:""}),[we,Pe]=O.useState({id:0,partId:0,quantity:1,staffMemberId:0,buildingId:0,costCenterId:0,notes:"",deliveredAt:new Date}),{toast:ce}=ea();O.useEffect(()=>{const de=at=>{const{id:ht,buildingId:Xt,costCenterId:st}=at.detail;console.log("Staff selected via script:",ht,Xt,st),Ye(Fr=>({...Fr,staffMemberId:ht,buildingId:Xt||0,costCenterId:st||0}))};return document.addEventListener("staffSelected",de),()=>{document.removeEventListener("staffSelected",de)}},[]),O.useEffect(()=>{const de=at=>{Le.current&&!Le.current.contains(at.target)&&ee(!1),Se.current&&!Se.current.contains(at.target)&&J(!1),ye.current&&!ye.current.contains(at.target)&&Ie(!1)};return document.addEventListener("mousedown",de),()=>{document.removeEventListener("mousedown",de)}},[]);const Ce=_s({resolver:Ns(K$e),defaultValues:{staffMemberId:0,buildingId:void 0,costCenterId:void 0,deliveryDate:Kr(new Date,"yyyy-MM-dd"),notes:""}}),fe=Kr(k,"MM/yyyy"),{data:ke,isLoading:He,error:nt}=Er({queryKey:["/api/parts-delivery",fe],queryFn:async()=>{const de=await fetch(`/api/parts-delivery?month=${fe}`);if(!de.ok)throw new Error("Failed to fetch deliveries");return de.json()},retry:1}),{data:mt,isLoading:At}=Er({queryKey:["/api/parts"],retry:1}),{data:qt,isLoading:mr}=Er({queryKey:["/api/staff"],retry:1}),{data:ar,isLoading:ze}=Er({queryKey:["/api/buildings"],retry:1}),{data:tt,isLoading:dt}=Er({queryKey:["/api/cost-centers"],retry:1}),{data:Zt}=Er({queryKey:["/api/parts-delivery/monthly-total",fe],queryFn:async()=>{const de=await fetch(`/api/parts-delivery/monthly-total?month=${fe}`);if(!de.ok)throw new Error("Failed to fetch monthly total");return de.json()},retry:1}),{data:ne}=Er({queryKey:["/api/parts-delivery/monthly-count",fe],queryFn:async()=>{const de=await fetch(`/api/parts-delivery/monthly-count?month=${fe}`);if(!de.ok)throw new Error("Failed to fetch monthly count");return de.json()},retry:1}),De=Sr({mutationFn:async de=>{const{deliveryDate:at,...ht}=de,Xt=n9(at);console.log("ISO date for delivery:",Xt);const st={...ht,deliveredAt:Xt,deliveredById:1},Fr=await fetch("/api/parts-delivery",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(st)});if(!Fr.ok){const Rr=await Fr.json();throw new Error(Rr.message||"Failed to create delivery")}return await Fr.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/parts-delivery"]}),r.invalidateQueries({queryKey:["/api/parts-delivery/monthly-total"]}),ce({title:"Delivery created",description:"Parts delivery was recorded successfully"}),i(!1),Sa()},onError:de=>{ce({title:"Error creating delivery",description:de.message,variant:"destructive"})}}),gt=Sr({mutationFn:async de=>{const{id:at,...ht}=de,Xt=await fetch(`/api/parts-delivery/${at}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ht)});if(!Xt.ok){const st=await Xt.json();throw new Error(st.message||"Failed to update delivery")}return await Xt.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/parts-delivery"]}),r.invalidateQueries({queryKey:["/api/parts-delivery/monthly-total"]}),ce({title:"Delivery updated",description:"Parts delivery was updated successfully"}),o(!1)},onError:de=>{ce({title:"Error updating delivery",description:de.message,variant:"destructive"})}});Sr({mutationFn:async de=>{const at=await fetch(`/api/parts-delivery/${de.deliveryId}/confirm`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({signatureData:de.signatureData})});if(!at.ok){const ht=await at.json();throw new Error(ht.message||"Failed to confirm delivery")}return await at.json()},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/parts-delivery"]}),ce({title:"Delivery confirmed",description:"The delivery has been confirmed successfully"}),f(!1),b(null)},onError:de=>{ce({title:"Error confirming delivery",description:de.message,variant:"destructive"})}});const Nt=Sr({mutationFn:async de=>{const at=await fetch(`/api/parts-delivery/${de}`,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}),ht=at.headers.get("content-type");if(!ht||!ht.includes("application/json")){if(!at.ok)throw new Error(`Server error: ${at.status} ${at.statusText}`);return{success:!0}}const Xt=await at.json();if(!at.ok)throw new Error(Xt.error||"Failed to delete delivery");return Xt},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/parts-delivery"]}),r.invalidateQueries({queryKey:["/api/parts-delivery/monthly-total"]}),ce({title:"Delivery deleted",description:"Parts delivery was deleted successfully"}),c(!1)},onError:de=>{ce({title:"Error deleting delivery",description:de.message,variant:"destructive"})}}),Pr=Sr({mutationFn:async de=>{const at={parts:de.parts,staffMemberId:de.staffMemberId,buildingId:de.buildingId||null,costCenterId:de.costCenterId||null,deliveredAt:de.deliveryDate,notes:de.notes||""};console.log("BATCH DELIVERY SUBMISSION - Sending batch:",at);const ht=await fetch("/api/parts-delivery/batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(at)});if(!ht.ok){const st=await ht.text();throw console.error("BATCH DELIVERY SUBMISSION - Error:",st),new Error(`Failed to create delivery batch: ${st}`)}const Xt=await ht.json();return console.log("BATCH DELIVERY SUBMISSION - Success:",Xt),Xt},onSuccess:()=>{r.invalidateQueries({queryKey:["/api/parts-delivery"]}),r.invalidateQueries({queryKey:["/api/parts-delivery/monthly-total"]}),ce({title:"Bulk delivery created",description:`${q.length} part${q.length!==1?"s":""} delivered successfully`}),g(!1),K([]),Ce.reset()},onError:de=>{ce({title:"Error creating delivery",description:de.message,variant:"destructive"})}}),Jr=async()=>{try{const de=Kr(k,"MM/yyyy"),at=await fetch(`/api/parts-delivery/export?month=${de}`);if(!at.ok)throw new Error("Failed to export deliveries");const ht=await at.blob(),Xt=window.URL.createObjectURL(ht),st=document.createElement("a");st.style.display="none",st.href=Xt;const Fr=Kr(k,"MMM-yyyy");st.download=`parts-deliveries-${Fr}.xlsx`,document.body.appendChild(st),st.click(),window.URL.revokeObjectURL(Xt),document.body.removeChild(st),ce({title:"Export successful",description:`Deliveries for ${Kr(k,"MMMM yyyy")} exported successfully`})}catch(de){ce({title:"Export failed",description:de instanceof Error?de.message:"Unknown error",variant:"destructive"})}},fa=async de=>{var Xt;const at=(Xt=de.target.files)==null?void 0:Xt[0];if(!at)return;const ht=new FormData;ht.append("file",at);try{const st=await fetch("/api/parts-delivery/import",{method:"POST",body:ht}),Fr=await st.json();if(!st.ok)throw new Error(Fr.error||"Import failed");ce({title:"Import successful",description:`Successfully imported ${Fr.count||0} deliveries`}),await r.invalidateQueries({queryKey:["/api/parts-delivery"]}),de.target.value=""}catch(st){ce({title:"Import failed",description:st instanceof Error?st.message:"Unknown error",variant:"destructive"}),de.target.value=""}},Ln=de=>{if(de.preventDefault(),q.length>0){if(!We.staffMemberId||!We.deliveryDate){ce({title:"Validation Error",description:"Staff Member and Delivery Date are required fields",variant:"destructive"});return}const at={parts:q.map(ht=>({partId:ht.partId,quantity:ht.quantity,...ht.isManualPart&&{isManualPart:!0,manualPartName:ht.manualPartName,manualPartDescription:ht.manualPartDescription}})),staffMemberId:We.staffMemberId,buildingId:We.buildingId||0,costCenterId:We.costCenterId||0,deliveryDate:We.deliveryDate,notes:We.notes||""};console.log("CART SUBMISSION - Using batch delivery:",at),Pr.mutate(at,{onSuccess:()=>{Sa(),K([]),i(!1)}})}else{if(!(We.partId||We.isManualPart&&We.manualPartName.trim())||!We.quantity||!We.staffMemberId||!We.deliveryDate){ce({title:"Validation Error",description:"Part (or manual item name), Quantity, Staff Member, and Delivery Date are required fields",variant:"destructive"});return}if(We.quantity<=0){ce({title:"Validation Error",description:"Quantity must be greater than zero",variant:"destructive"});return}const ht={...We,...We.isManualPart&&{manualPartName:We.manualPartName.trim(),manualPartDescription:We.manualPartDescription.trim()}};De.mutate(ht)}},Te=de=>{if(de.preventDefault(),!we.quantity||Number(we.quantity)<=0){ce({title:"Validation Error",description:"Quantity must be greater than zero",variant:"destructive"});return}const at=we.buildingId===0?null:we.buildingId,ht=we.costCenterId===0?null:we.costCenterId;console.log("Submitting delivery date (raw):",we.deliveredAt);const Xt=n9(Kr(we.deliveredAt,"yyyy-MM-dd"));console.log("Submitting delivery date (ISO):",Xt),gt.mutate({id:we.id,partId:we.partId,quantity:Number(we.quantity),staffMemberId:we.staffMemberId,buildingId:at,costCenterId:ht,notes:we.notes,deliveredAt:Xt})},it=de=>{b(de),Pe({id:de.id,partId:de.part?de.part.id:0,quantity:de.quantity,staffMemberId:de.staffMember?de.staffMember.id:0,buildingId:de.buildingId||0,costCenterId:de.costCenterId||0,notes:de.notes||"",deliveredAt:de.deliveredAt?new Date(de.deliveredAt):new Date}),o(!0)},jt=de=>{b(de),c(!0)},lr=de=>{b(de),f(!0)},xr=()=>{x&&Nt.mutate(x.id)},Sa=()=>{Ye({partId:0,quantity:1,staffMemberId:0,buildingId:0,costCenterId:0,deliveryDate:Kr(new Date,"yyyy-MM-dd"),notes:"",isManualPart:!1,manualPartName:"",manualPartDescription:""}),I(""),E(""),G(null)},dn=()=>{const de=typeof F=="string"?parseInt(F):F;if(!(B||We.isManualPart&&We.manualPartName.trim())||!de||de<=0){ce({title:"Error",description:"Please select a part (or enter manual item name) and valid quantity",variant:"destructive"});return}if(We.isManualPart&&We.manualPartName){if(q.find(Rr=>Rr.isManualPart&&Rr.manualPartName===We.manualPartName.trim())){ce({title:"Error",description:"This manual item is already in the cart",variant:"destructive"});return}const Fr={partId:0,quantity:de,isManualPart:!0,manualPartName:We.manualPartName.trim(),manualPartDescription:We.manualPartDescription.trim(),partName:We.manualPartName.trim(),partNumber:`MANUAL_${We.manualPartName.trim()}`,maxQuantity:999999};K(Rr=>[...Rr,Fr]),ce({title:"Manual item added",description:`Added manual item "${We.manualPartName}" to cart`}),Ye(Rr=>({...Rr,isManualPart:!1,manualPartName:"",manualPartDescription:""})),U(1),E("");return}if(!B){ce({title:"Error",description:"Please select a part",variant:"destructive"});return}const ht=mt==null?void 0:mt.find(st=>st.id===B);if(!ht){ce({title:"Error",description:"Selected part not found",variant:"destructive"});return}if(de>ht.quantity){ce({title:"Error",description:`Only ${ht.quantity} ${ht.name} available in stock`,variant:"destructive"});return}q.find(st=>st.partId===B&&!st.isManualPart)?(K(st=>st.map(Fr=>Fr.partId===B&&!Fr.isManualPart?{...Fr,quantity:Math.min(Fr.quantity+de,Fr.maxQuantity||ht.quantity)}:Fr)),ce({title:"Cart updated",description:`Updated ${ht.name} quantity in cart`})):(K(st=>[...st,{partId:B,partName:ht.name,partNumber:ht.partId,quantity:de,maxQuantity:ht.quantity,isManualPart:!1}]),ce({title:"Part added",description:`Added ${ht.name} to cart`})),G(null),U(1),E("")},ha=de=>{K(at=>at.filter(ht=>ht.partId!==de))},li=qe.useMemo(()=>{if(!mt)return[];if(!N||!N.trim())return mt;try{const de=N.toLowerCase();return mt.filter(at=>at.name&&at.name.toLowerCase().includes(de)||at.partId&&at.partId.toLowerCase().includes(de))}catch(de){return console.error("Error filtering parts:",de),mt}},[mt,N]),dr=qe.useMemo(()=>{if(!qt)return[];if(!C||!C.trim())return qt;try{const de=C.toLowerCase();return qt.filter(at=>at.name&&at.name.toLowerCase().includes(de))}catch(de){return console.error("Error filtering staff members:",de),qt}},[qt,C]),qa=qe.useMemo(()=>{if(!ar)return[];if(!Ge||!Ge.trim())return ar;try{const de=Ge.toLowerCase();return ar.filter(at=>at.name&&at.name.toLowerCase().includes(de))}catch(de){return console.error("Error filtering buildings:",de),ar}},[ar,Ge]),Fi=qe.useMemo(()=>ke?ke.filter(de=>{var yn,pn,en,Ga,Ti;if(!(Ne?de.status==="delivered"||de.confirmedAt:de.status!=="delivered"&&!de.confirmedAt))return!1;if(ve){const Ec=new Date(de.deliveredAt),Mi=new Date(ve);Mi.setHours(0,0,0,0);const qs=new Date(ve);if(qs.setHours(23,59,59,999),Ec<Mi||Ec>qs)return!1}if(!y)return!0;const ht=y.toLowerCase(),Xt=((yn=de.part)==null?void 0:yn.name)&&de.part.name.toLowerCase().includes(ht)||((pn=de.part)==null?void 0:pn.partId)&&de.part.partId.toLowerCase().includes(ht),st=((en=de.staffMember)==null?void 0:en.name)&&de.staffMember.name.toLowerCase().includes(ht),Fr=((Ga=de.building)==null?void 0:Ga.name)&&de.building.name.toLowerCase().includes(ht),Rr=((Ti=de.costCenter)==null?void 0:Ti.code)&&de.costCenter.code.toLowerCase().includes(ht),ji=de.deliveredAt&&Kr(new Date(de.deliveredAt),"yyyy-MM-dd").includes(ht),cl=de.notes&&de.notes.toLowerCase().includes(ht);return Xt||st||Fr||Rr||ji||cl}):[],[ke,y,Ne,ve]),_a=de=>{try{const at=uT(de);return BK(at)?Kr(at,"MMM dd, yyyy"):de}catch{return de}};return He||At||mr||ze||dt?s.jsx(O8,{}):nt?s.jsx(Rg,{title:"Deliveries",children:s.jsxs("div",{className:"p-4 bg-red-50 text-red-600 rounded-md",children:["Error loading deliveries: ",nt instanceof Error?nt.message:"Unknown error"]})}):s.jsx(Rg,{title:"Deliveries",children:s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[s.jsxs(Pt,{className:"md:w-2/3",children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Yt,{children:"Parts Deliveries"}),s.jsxs(Zr,{children:[Ne?"Showing completed deliveries":"Showing pending deliveries",ve&&` for ${Kr(ve,"MMM dd, yyyy")}`]})]}),s.jsx("div",{className:"flex gap-2",children:(e||t)&&s.jsxs(s.Fragment,{children:[s.jsxs(Ee,{variant:"outline",size:"sm",onClick:Jr,children:[s.jsx(Bs,{className:"mr-2 h-4 w-4"}),"Export"]}),s.jsx(Ee,{variant:"outline",size:"sm",asChild:!0,children:s.jsxs("label",{htmlFor:"delivery-import",style:{cursor:"pointer"},children:[s.jsx(ed,{className:"mr-2 h-4 w-4"}),"Import"]})}),s.jsx("input",{id:"delivery-import",type:"file",accept:".xlsx,.xls",onChange:fa,style:{display:"none"}}),s.jsxs(Qr,{open:n,onOpenChange:i,children:[s.jsx(nd,{asChild:!0,children:s.jsxs(Ee,{size:"sm",children:[s.jsx(Si,{className:"mr-2 h-4 w-4"}),"Record Delivery"]})}),s.jsxs(qr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Record Parts Delivery"}),s.jsx(gn,{children:"Record a delivery of parts to a staff member"})]}),s.jsxs("form",{onSubmit:Ln,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(Ht,{htmlFor:"part",className:"text-right",children:["Part ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"col-span-3 space-y-2 relative",ref:Le,children:[s.jsxs("div",{className:"flex relative",children:[s.jsx(Rt,{placeholder:"Type to search parts by name or part number...",className:"pr-8",value:N,onChange:de=>{E(de.target.value),ee(de.target.value.length>0)},onFocus:()=>{N.length>0&&ee(!0)}}),N&&s.jsx(Ee,{variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full z-10",onClick:()=>{E(""),G(null),ee(!1)},children:s.jsx(Yo,{className:"h-4 w-4"})})]}),V&&N&&li.length>0&&s.jsxs("div",{className:"absolute top-full left-0 right-0 z-50 bg-white border border-gray-200 rounded-md shadow-lg max-h-[200px] overflow-y-auto",children:[li.slice(0,10).map(de=>s.jsxs("div",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>{G(de.id),E(`${de.name} - ${de.partId}`),ee(!1)},children:[s.jsx("div",{className:"font-medium text-sm",children:de.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:[de.partId,"  ",de.quantity," in stock"]})]},de.id)),li.length>10&&s.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 text-center",children:"Showing first 10 results. Type more to narrow down."})]}),V&&N&&li.length===0&&s.jsxs("div",{className:"absolute top-full left-0 right-0 z-50 bg-white border border-gray-200 rounded-md shadow-lg",children:[s.jsxs("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:['No parts found matching "',N,'"']}),s.jsx("div",{className:"border-t border-gray-200",children:s.jsxs("button",{type:"button",className:"w-full px-3 py-2 text-left text-sm text-blue-600 hover:bg-blue-50",onClick:()=>{Ye(de=>({...de,isManualPart:!0,manualPartName:N})),ee(!1)},children:['+ Create manual item: "',N,'"']})})]}),B&&!V&&!We.isManualPart&&s.jsxs("div",{className:"flex items-center justify-between bg-blue-50 border border-blue-200 rounded-md p-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-sm",children:(On=mt==null?void 0:mt.find(de=>de.id===B))==null?void 0:On.name}),s.jsxs("div",{className:"text-xs text-gray-600",children:[(Gn=mt==null?void 0:mt.find(de=>de.id===B))==null?void 0:Gn.partId," ",(ue=mt==null?void 0:mt.find(de=>de.id===B))==null?void 0:ue.quantity," in stock"]})]}),s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>{G(null),E(""),ee(!1)},children:s.jsx(Yo,{className:"h-4 w-4"})})]}),We.isManualPart&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between bg-orange-50 border border-orange-200 rounded-md p-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-medium text-sm",children:["Manual Item: ",We.manualPartName]}),s.jsx("div",{className:"text-xs text-gray-600",children:"Custom/non-inventory item"})]}),s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>{Ye(de=>({...de,isManualPart:!1,manualPartName:"",manualPartDescription:""})),E("")},children:s.jsx(Yo,{className:"h-4 w-4"})})]}),s.jsx(Rt,{placeholder:"Optional description for this manual item...",value:We.manualPartDescription,onChange:de=>Ye(at=>({...at,manualPartDescription:de.target.value}))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(Ht,{htmlFor:"quantity",className:"text-right",children:["Quantity ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"col-span-3 flex space-x-2",children:[s.jsx("input",{id:"quantity",type:"text",inputMode:"numeric",pattern:"[0-9]*",min:"1",value:F,onChange:de=>{if(de.target.value==="")U("");else{const at=parseInt(de.target.value);isNaN(at)||U(at)}},onBlur:()=>{(F===""||Number(F)<1)&&U(1)},className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 flex-1",required:!0}),s.jsxs(Ee,{type:"button",onClick:dn,disabled:!B&&!We.isManualPart||Number(F)<=0,children:[s.jsx(Si,{className:"mr-2 h-4 w-4"}),"Add to Cart"]})]})]}),q.length>0&&s.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[s.jsx(Ht,{className:"text-right pt-2",children:"Cart Items"}),s.jsxs("div",{className:"col-span-3 border rounded-md p-3 space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm font-medium",children:[q.length," ",q.length===1?"item":"items"," in cart"]}),s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>K([]),children:"Clear All"})]}),s.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:q.map((de,at)=>s.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:de.isManualPart?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(ti,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Manual"}),de.manualPartName]}):de.partName}),s.jsx("div",{className:"text-sm text-muted-foreground",children:de.isManualPart?s.jsxs("span",{children:[de.manualPartDescription&&`${de.manualPartDescription} - `,"Qty: ",de.quantity]}):s.jsxs("span",{children:[de.partNumber," - Qty: ",de.quantity]})})]}),s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>{de.isManualPart?K(ht=>ht.filter((Xt,st)=>st!==at)):ha(de.partId)},children:s.jsx(Oo,{className:"h-4 w-4"})})]},de.isManualPart?`manual_${de.manualPartName}_${at}`:de.partId))})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(Ht,{htmlFor:"staff",className:"text-right",children:["Staff Member ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"col-span-3 space-y-2 relative",ref:Se,children:[s.jsxs("div",{className:"flex relative",children:[s.jsx(Rt,{placeholder:"Type to search staff members...",className:"pr-8",value:C,onChange:de=>{I(de.target.value),J(de.target.value.length>0)},onFocus:()=>{C.length>0&&J(!0)}}),C&&s.jsx(Ee,{variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full z-10",onClick:()=>{I(""),Z(null),J(!1),Ye({...We,staffMemberId:0,buildingId:0,costCenterId:0})},children:s.jsx(Yo,{className:"h-4 w-4"})})]}),te&&C&&dr.length>0&&s.jsxs("div",{className:"absolute top-full left-0 right-0 z-50 bg-white border border-gray-200 rounded-md shadow-lg max-h-[200px] overflow-y-auto",children:[dr.slice(0,10).map(de=>{var at,ht;return s.jsxs("div",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>{Z(de.id),I(`${de.name}`),J(!1),Ye({...We,staffMemberId:de.id,buildingId:de.buildingId||0,costCenterId:de.costCenterId||0})},children:[s.jsx("div",{className:"font-medium text-sm",children:de.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:[((at=de.building)==null?void 0:at.name)||"No building","  ",((ht=de.costCenter)==null?void 0:ht.code)||"No cost center"]})]},de.id)}),dr.length>10&&s.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 text-center",children:"Showing first 10 results. Type more to narrow down."})]}),te&&C&&dr.length===0&&s.jsx("div",{className:"absolute top-full left-0 right-0 z-50 bg-white border border-gray-200 rounded-md shadow-lg",children:s.jsxs("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:['No staff members found matching "',C,'"']})}),Q&&!te&&s.jsxs("div",{className:"flex items-center justify-between bg-green-50 border border-green-200 rounded-md p-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium text-sm",children:(_e=qt==null?void 0:qt.find(de=>de.id===Q))==null?void 0:_e.name}),s.jsxs("div",{className:"text-xs text-gray-600",children:[((Me=(Oe=qt==null?void 0:qt.find(de=>de.id===Q))==null?void 0:Oe.building)==null?void 0:Me.name)||"No building"," ",((Ve=(Fe=qt==null?void 0:qt.find(de=>de.id===Q))==null?void 0:Fe.costCenter)==null?void 0:Ve.code)||"No cost center"]})]}),s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>{Z(null),I(""),J(!1),Ye({...We,staffMemberId:0,buildingId:0,costCenterId:0})},children:s.jsx(Yo,{className:"h-4 w-4"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(Ht,{htmlFor:"delivery-date",className:"text-right",children:["Delivery Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"col-span-3",children:s.jsxs(dT,{children:[s.jsx(fT,{asChild:!0,children:s.jsxs(Ee,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[s.jsx(eg,{className:"mr-2 h-4 w-4"}),We.deliveryDate?_a(We.deliveryDate):s.jsx("span",{children:"Pick a date"})]})}),s.jsx(t4,{className:"w-auto p-0",align:"start",children:s.jsx(w8,{mode:"single",selected:P,onSelect:de=>{D(de),de&&Ye({...We,deliveryDate:Kr(de,"yyyy-MM-dd")})},initialFocus:!0})})]})})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ht,{htmlFor:"building",className:"text-right",children:"Building"}),s.jsxs("div",{className:"col-span-3 space-y-2 relative",ref:ye,children:[s.jsxs("div",{className:"flex relative",children:[s.jsx(Rt,{placeholder:"Type to search buildings...",className:"pr-8",value:Ge,onChange:de=>{W(de.target.value),Ie(de.target.value.length>0)},onFocus:()=>{Ge.length>0&&Ie(!0)}}),Ge&&s.jsx(Ee,{variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full z-10",onClick:()=>{W(""),le(null),Ie(!1),Ye({...We,buildingId:0,costCenterId:0})},children:s.jsx(Yo,{className:"h-4 w-4"})})]}),ge&&Ge&&qa.length>0&&s.jsxs("div",{className:"absolute top-full left-0 right-0 z-50 bg-white border border-gray-200 rounded-md shadow-lg max-h-[200px] overflow-y-auto",children:[qa.slice(0,10).map(de=>s.jsx("div",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>{le(de.id),W(de.name),Ie(!1);let at=0;if(tt){const ht=tt.find(Xt=>Xt.name.toLowerCase().includes(de.name.toLowerCase()));ht&&(at=ht.id)}Ye({...We,buildingId:de.id,costCenterId:at||We.costCenterId})},children:s.jsx("div",{className:"font-medium text-sm",children:de.name})},de.id)),qa.length>10&&s.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 text-center",children:"Showing first 10 results. Type more to narrow down."})]}),ge&&Ge&&qa.length===0&&s.jsx("div",{className:"absolute top-full left-0 right-0 z-50 bg-white border border-gray-200 rounded-md shadow-lg",children:s.jsxs("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:['No buildings found matching "',Ge,'"']})}),re&&!ge&&s.jsxs("div",{className:"flex items-center justify-between bg-purple-50 border border-purple-200 rounded-md p-2",children:[s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"font-medium text-sm",children:(ft=ar==null?void 0:ar.find(de=>de.id===re))==null?void 0:ft.name})}),s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>{le(null),W(""),Ie(!1),Ye({...We,buildingId:0,costCenterId:0})},children:s.jsx(Yo,{className:"h-4 w-4"})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ht,{htmlFor:"costCenter",className:"text-right",children:"Cost Center"}),s.jsx("div",{className:"col-span-3",children:s.jsxs(Bn,{value:We.costCenterId>0?We.costCenterId.toString():"",onValueChange:de=>Ye({...We,costCenterId:parseInt(de)}),children:[s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select a cost center (optional)"})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"0",children:"None"}),tt==null?void 0:tt.sort((de,at)=>de.code.localeCompare(at.code)).map(de=>s.jsxs(er,{value:de.id.toString(),children:[de.code," - ",de.name]},de.id))]})]})})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ht,{htmlFor:"notes",className:"text-right",children:"Notes"}),s.jsx(Rt,{id:"notes",value:We.notes,onChange:de=>Ye({...We,notes:de.target.value}),className:"col-span-3"})]})]}),s.jsxs(Pn,{children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>{Sa(),K([]),i(!1)},children:"Cancel"}),s.jsxs(Ee,{type:"submit",disabled:De.isPending||q.length===0&&(!We.partId||We.partId<=0),children:[De.isPending&&s.jsx(iae,{className:"mr-2 h-4 w-4 animate-spin"}),q.length>0?`Deliver ${q.length} ${q.length===1?"Item":"Items"}`:"Record Delivery"]})]})]})]})]}),s.jsx(Qr,{open:a,onOpenChange:o,children:s.jsxs(qr,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Edit Parts Delivery"}),s.jsx(gn,{children:"Update the delivery information"})]}),s.jsxs("form",{onSubmit:Te,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ht,{htmlFor:"edit-part",className:"text-right",children:"Part"}),s.jsx("div",{className:"col-span-3",children:s.jsx(Rt,{id:"edit-part",value:((_t=x==null?void 0:x.part)==null?void 0:_t.name)||"Unknown Part",disabled:!0,className:"bg-muted text-muted-foreground"})})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(Ht,{htmlFor:"edit-quantity",className:"text-right",children:["Quantity ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{id:"edit-quantity",type:"text",inputMode:"numeric",pattern:"[0-9]*",min:"1",value:we.quantity,onChange:de=>{if(de.target.value==="")Pe({...we,quantity:""});else{const at=parseInt(de.target.value);isNaN(at)||Pe({...we,quantity:at})}},onBlur:()=>{(we.quantity===""||Number(we.quantity)<1)&&Pe({...we,quantity:1})},className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 col-span-3",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(Ht,{htmlFor:"edit-delivery-date",className:"text-right",children:["Delivery Date ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"col-span-3",children:s.jsx("input",{id:"edit-delivery-date",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:Kr(we.deliveredAt,"yyyy-MM-dd"),onChange:de=>{if(de.target.value){const[at,ht,Xt]=de.target.value.split("-").map(Number),st=new Date(at,ht-1,Xt,12,0,0);console.log("Selected date:",de.target.value,"Parsed date:",st),Pe({...we,deliveredAt:st})}},required:!0})})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ht,{htmlFor:"edit-staff",className:"text-right",children:"Staff Member"}),s.jsx("div",{className:"col-span-3",children:s.jsx(Rt,{id:"edit-staff",value:((ct=x==null?void 0:x.staffMember)==null?void 0:ct.name)||"Unknown Staff Member",disabled:!0,className:"bg-muted text-muted-foreground"})})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ht,{htmlFor:"edit-building",className:"text-right",children:"Building"}),s.jsx("div",{className:"col-span-3",children:s.jsxs(Bn,{value:we.buildingId>0?we.buildingId.toString():"",onValueChange:de=>{const at=parseInt(de),ht=ar==null?void 0:ar.find(st=>st.id===at);let Xt=0;if(ht&&tt){const st=ht.name,Fr=tt.find(Rr=>Rr.name.toLowerCase().includes(st.toLowerCase()));Fr&&(Xt=Fr.id)}Pe({...we,buildingId:at,costCenterId:Xt||we.costCenterId})},children:[s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select a building (optional)"})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"0",children:"None"}),ar==null?void 0:ar.sort((de,at)=>de.name.localeCompare(at.name)).map(de=>s.jsx(er,{value:de.id.toString(),children:de.name},de.id))]})]})})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ht,{htmlFor:"edit-cost-center",className:"text-right",children:"Cost Center"}),s.jsx("div",{className:"col-span-3",children:s.jsxs(Bn,{value:we.costCenterId>0?we.costCenterId.toString():"",onValueChange:de=>Pe({...we,costCenterId:parseInt(de)}),children:[s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select a cost center (optional)"})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"0",children:"None"}),tt==null?void 0:tt.sort((de,at)=>de.code.localeCompare(at.code)).map(de=>s.jsxs(er,{value:de.id.toString(),children:[de.code," - ",de.name]},de.id))]})]})})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ht,{htmlFor:"edit-notes",className:"text-right",children:"Notes"}),s.jsx(Rt,{id:"edit-notes",value:we.notes,onChange:de=>Pe({...we,notes:de.target.value}),className:"col-span-3"})]})]}),s.jsxs(Pn,{children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:gt.isPending,children:gt.isPending?"Updating...":"Update Delivery"})]})]})]})}),s.jsx(Qr,{open:l,onOpenChange:c,children:s.jsxs(qr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Confirm Deletion"}),s.jsx(gn,{children:"Are you sure you want to delete this delivery record? This action cannot be undone."})]}),x&&s.jsx("div",{className:"py-4 border-t border-b my-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Part:"})," ",((xt=x.part)==null?void 0:xt.name)||"Unknown Part"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Quantity:"})," ",x.quantity]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Staff Member:"})," ",((wt=x.staffMember)==null?void 0:wt.name)||"Unknown Staff Member"]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Date:"})," ",x.deliveredAt?Kr(new Date(x.deliveredAt),"MMM dd, yyyy"):"Unknown Date"]})]})}),s.jsxs(Pn,{children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(Ee,{type:"button",variant:"destructive",onClick:xr,disabled:Nt.isPending,children:Nt.isPending?"Deleting...":"Delete Delivery"})]})]})}),s.jsx(Y$e,{open:u,onOpenChange:f,deliveryId:(x==null?void 0:x.id)||0,staffName:((kt=x==null?void 0:x.staffMember)==null?void 0:kt.name)||"Unknown Staff Member",partName:((Vt=x==null?void 0:x.part)==null?void 0:Vt.name)||"Unknown Part",quantity:(x==null?void 0:x.quantity)||0,onSuccess:()=>{r.invalidateQueries({queryKey:["/api/parts-delivery"]}),b(null)}})]})})]}),s.jsxs(zt,{children:[s.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[s.jsxs("div",{className:"relative w-full max-w-sm",children:[s.jsx(Pl,{className:"absolute left-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(Rt,{placeholder:"Search deliveries...",className:"pl-8",value:y,onChange:de=>_(de.target.value)})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Show:"}),s.jsx(Ee,{variant:Ne?"outline":"default",size:"sm",onClick:()=>Ae(!1),children:"Pending"}),s.jsx(Ee,{variant:Ne?"default":"outline",size:"sm",onClick:()=>Ae(!0),children:"Completed"})]}),ve&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Filtered by: ",Kr(ve,"MMM dd, yyyy")]}),s.jsx(Ee,{variant:"ghost",size:"sm",onClick:()=>xe(null),children:s.jsx(Yo,{className:"h-4 w-4"})})]})]})]}),s.jsxs(cc,{children:[s.jsx(uc,{children:s.jsxs(bi,{children:[s.jsx(yr,{children:"Part"}),s.jsx(yr,{children:"Quantity"}),s.jsx(yr,{children:"Staff Member"}),s.jsx(yr,{children:"Building"}),s.jsx(yr,{children:"Cost Center"}),s.jsx(yr,{children:"Date"}),s.jsx(yr,{children:"Notes"}),s.jsx(yr,{children:"Delivered By"}),s.jsx(yr,{children:"Status"}),(e||t)&&s.jsx(yr,{className:"w-[100px]",children:"Actions"})]})}),s.jsx(dc,{children:Fi&&Fi.length>0?Fi.map(de=>{var at,ht,Xt,st,Fr,Rr,ji;return s.jsxs(bi,{children:[s.jsx(hr,{className:"font-medium",children:de.part&&de.part.name||"Unknown Part"}),s.jsx(hr,{children:de.quantity}),s.jsx(hr,{children:((at=de.staffMember)==null?void 0:at.name)||`Unknown Staff Member (ID: ${de.staffMemberId})`}),s.jsx(hr,{children:((ht=de.building)==null?void 0:ht.name)||((st=(Xt=de.staffMember)==null?void 0:Xt.building)==null?void 0:st.name)||"N/A"}),s.jsx(hr,{children:de.costCenter?`${de.costCenter.code||""} - ${de.costCenter.name||""}`:(Fr=de.staffMember)!=null&&Fr.costCenter?`${de.staffMember.costCenter.code||""} - ${de.staffMember.costCenter.name||""}`:"N/A"}),s.jsx(hr,{children:de.deliveredAt?Kr(new Date(de.deliveredAt),"MMM dd, yyyy"):"N/A"}),s.jsx(hr,{className:"max-w-[200px]",children:de.notes?s.jsx("div",{className:"truncate",title:de.notes,children:de.notes}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(hr,{children:((Rr=de.deliveredBy)==null?void 0:Rr.name)||"Unknown"}),s.jsx(hr,{children:de.status==="delivered"?s.jsxs("div",{className:"flex items-center text-green-600",children:[s.jsx(Cp,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:"Delivered"}),de.confirmedAt&&s.jsxs("span",{className:"ml-1 text-xs text-muted-foreground",children:["(",Kr(new Date(de.confirmedAt),"MMM dd"),")"]})]}):s.jsxs("div",{className:"flex items-center text-amber-600",children:[s.jsx(sf,{className:"w-4 h-4 mr-1"}),s.jsx("span",{children:"Pending"})]})}),(e||t)&&s.jsx(hr,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[de.status!=="delivered"&&s.jsx(Ee,{size:"icon",variant:"ghost",className:"h-8 w-8 text-green-600",onClick:()=>lr(de),title:"Confirm delivery",children:s.jsx(Cp,{className:"h-4 w-4"})}),de.status==="delivered"&&s.jsx(X$e,{deliveryId:de.id.toString(),staffName:(ji=de.staffMember)==null?void 0:ji.name}),s.jsx(Ee,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>it(de),title:"Edit delivery",children:s.jsx(Ip,{className:"h-4 w-4"})}),s.jsx(Ee,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive",onClick:()=>jt(de),title:"Delete delivery",children:s.jsx(Oo,{className:"h-4 w-4"})})]})})]},de.id)}):s.jsx(bi,{children:s.jsx(hr,{colSpan:e||t?9:8,className:"text-center",children:y?"No deliveries found matching your search.":`No deliveries found. ${e||t?"Record one to get started.":""}`})})})]})]})]}),s.jsxs(Pt,{className:"md:w-1/3",children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Monthly Summary"}),s.jsx(Zr,{children:"Parts deliveries this month"})]}),s.jsx(zt,{children:s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-lg font-medium",children:"Total Deliveries"}),s.jsx("div",{className:"text-2xl font-bold",children:(ne==null?void 0:ne.count)||0})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"text-lg font-medium",children:"Total Parts Value"}),s.jsxs("div",{className:"text-2xl font-bold",children:["$",Zt!=null&&Zt.total?Number(Zt.total).toFixed(2):"0.00"]})]}),s.jsx("div",{className:"flex justify-center my-4",children:s.jsxs("div",{className:"inline-flex text-primary border border-input bg-background hover:bg-accent hover:text-accent-foreground rounded-md",children:[s.jsx("button",{className:"p-2",onClick:()=>{const de=new Date(k);de.setMonth(de.getMonth()-1),L(de)},children:s.jsx(tg,{className:"h-5 w-5"})}),s.jsx("div",{className:"flex items-center px-3 py-2 font-medium",children:Kr(k,"MMMM yyyy")}),s.jsx("button",{className:"p-2",onClick:()=>{const de=new Date(k);de.setMonth(de.getMonth()+1),L(de)},children:s.jsx(O2,{className:"h-5 w-5"})})]})}),s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsx("div",{className:"grid grid-cols-7 gap-2 text-center text-xs font-medium text-muted-foreground",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(de=>s.jsx("div",{children:de},de))}),s.jsx("div",{className:"mt-2 grid grid-cols-7 gap-2",children:Array.from({length:35},(de,at)=>{var Fr;const ht=new Date(k.getFullYear(),k.getMonth(),at-new Date(k.getFullYear(),k.getMonth(),1).getDay()+1),Xt=gN(ht,k),st=((Fr=ke==null?void 0:ke.filter(Rr=>{try{if(!Rr.deliveredAt)return!1;const ji=new Date(Rr.deliveredAt);return ji.getDate()===ht.getDate()&&ji.getMonth()===ht.getMonth()&&ji.getFullYear()===ht.getFullYear()}catch{return!1}}))==null?void 0:Fr.length)||0;return s.jsxs("div",{className:ir("flex flex-col items-center justify-center rounded-md text-xs h-9 relative",!Xt&&"opacity-50 pointer-events-none",fFe(ht)&&"bg-primary/10",Xt&&"hover:bg-accent cursor-pointer",!Xt&&"invisible",ve&&ve.getTime()===ht.getTime()&&"bg-primary text-primary-foreground hover:bg-primary/90"),onClick:()=>{Xt&&(ve&&ve.getTime()===ht.getTime()?xe(null):xe(ht))},children:[s.jsx("span",{children:ht.getDate()}),st>0&&s.jsx("span",{className:"absolute top-0 right-0 h-2 w-2 rounded-full bg-primary"})]},at)})})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Recent Deliveries"}),s.jsxs("div",{className:"space-y-2",children:[ke==null?void 0:ke.slice(0,5).map(de=>{var at,ht;return s.jsxs("div",{className:"border rounded-md p-2 text-sm",children:[s.jsx("div",{className:"font-medium",children:((at=de.part)==null?void 0:at.name)||"Unknown Part"}),s.jsxs("div",{className:"text-muted-foreground",children:[de.quantity," item(s) to ",((ht=de.staffMember)==null?void 0:ht.name)||`Unknown Staff Member (ID: ${de.staffMemberId})`,"on ",de.deliveredAt?Kr(new Date(de.deliveredAt),"MMM dd, yyyy"):"Unknown Date"]})]},de.id)}),(!ke||ke.length===0)&&s.jsx("div",{className:"text-center text-muted-foreground",children:"No recent deliveries"})]})]})]})})]})]})})})}function a9(){const{isAdmin:e}=I8(),[t,r]=O.useState(!1),[n,i]=O.useState(!1),[a,o]=O.useState(null),[l,c]=O.useState(""),[u,f]=O.useState({name:"",buildingId:0,costCenterId:0,email:"",phone:""}),{toast:p}=ea(),{data:g,isLoading:x,error:b}=Er({queryKey:["/api/staff"],retry:1}),{data:y,isLoading:_}=Er({queryKey:["/api/buildings"],retry:1}),{data:N,isLoading:E}=Er({queryKey:["/api/cost-centers"],retry:1}),C=Sr({mutationFn:async V=>{const ee=await fetch("/api/staff",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)});if(!ee.ok){const te=await ee.json();throw new Error(te.message||"Failed to create staff member")}return await ee.json()},onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/staff"]}),p({title:"Staff member created",description:"Staff member was created successfully"}),r(!1),G()},onError:V=>{p({title:"Error creating staff member",description:V.message,variant:"destructive"})}}),I=Sr({mutationFn:async({id:V,data:ee})=>{const te=await fetch(`/api/staff/${V}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ee)});if(!te.ok){const J=await te.json();throw new Error(J.message||"Failed to update staff member")}return await te.json()},onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/staff"]}),p({title:"Staff member updated",description:"Staff member was updated successfully"}),i(!1),G()},onError:V=>{p({title:"Error updating staff member",description:V.message,variant:"destructive"})}}),P=Sr({mutationFn:async V=>{const ee=await fetch(`/api/staff/${V}`,{method:"DELETE"});if(!ee.ok){const te=await ee.json();throw new Error(te.message||"Failed to delete staff member")}return await ee.json()},onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/staff"]}),p({title:"Staff member deleted",description:"Staff member was deleted successfully"})},onError:V=>{p({title:"Error deleting staff member",description:V.message,variant:"destructive"})}}),D=V=>{if(V.preventDefault(),!u.name||!u.buildingId||!u.costCenterId){p({title:"Validation Error",description:"Name, Building, and Cost Center are required fields",variant:"destructive"});return}C.mutate(u)},k=V=>{if(V.preventDefault(),!u.name||!u.buildingId||!u.costCenterId){p({title:"Validation Error",description:"Name, Building, and Cost Center are required fields",variant:"destructive"});return}a&&I.mutate({id:a.id,data:u})},L=V=>{confirm(`Are you sure you want to delete ${V.name}?`)&&P.mutate(V.id)},B=V=>{o(V),f({name:V.name,buildingId:V.buildingId,costCenterId:V.costCenterId,email:V.email||"",phone:V.phone||""}),i(!0)},G=()=>{f({name:"",buildingId:0,costCenterId:0,email:"",phone:""}),o(null)},F=async()=>{try{const V=await fetch("/api/staff/export");if(!V.ok)throw new Error("Failed to export staff members");const ee=await V.blob(),te=window.URL.createObjectURL(ee),J=document.createElement("a");J.style.display="none",J.href=te,J.download="staff-members.xlsx",document.body.appendChild(J),J.click(),window.URL.revokeObjectURL(te),document.body.removeChild(J),p({title:"Export successful",description:"Staff members exported successfully"})}catch(V){p({title:"Export failed",description:V instanceof Error?V.message:"Unknown error",variant:"destructive"})}},U=async()=>{try{const V=await fetch("/api/staff/template");if(!V.ok)throw new Error("Failed to download template");const ee=await V.blob(),te=window.URL.createObjectURL(ee),J=document.createElement("a");J.style.display="none",J.href=te,J.download="staff-template.xlsx",document.body.appendChild(J),J.click(),window.URL.revokeObjectURL(te),document.body.removeChild(J),p({title:"Template download successful",description:"Staff members template downloaded successfully"})}catch(V){p({title:"Template download failed",description:V instanceof Error?V.message:"Unknown error",variant:"destructive"})}},q=async V=>{if(!V.target.files||V.target.files.length===0)return;const ee=V.target.files[0],te=new FormData;te.append("file",ee);try{const J=await fetch("/api/staff/import",{method:"POST",body:te});if(!J.ok){const Ie=await J.json();throw new Error(Ie.message||"Import failed")}const ge=await J.json();ur.invalidateQueries({queryKey:["/api/staff"]}),p({title:"Import successful",description:`Imported ${ge.importedRows} staff members successfully.`}),V.target.value=""}catch(J){p({title:"Import failed",description:J instanceof Error?J.message:"Unknown error",variant:"destructive"}),V.target.value=""}},K=g==null?void 0:g.filter(V=>{var ee,te,J;return V.name.toLowerCase().includes(l.toLowerCase())||((ee=V.building)==null?void 0:ee.name.toLowerCase().includes(l.toLowerCase()))||((te=V.costCenter)==null?void 0:te.name.toLowerCase().includes(l.toLowerCase()))||((J=V.costCenter)==null?void 0:J.code.toLowerCase().includes(l.toLowerCase()))});return x||_||E?s.jsx(O8,{}):b?s.jsx(Rg,{title:"Staff Management",children:s.jsxs("div",{className:"p-4 bg-red-50 text-red-600 rounded-md",children:["Error loading staff members: ",b instanceof Error?b.message:"Unknown error"]})}):s.jsxs(Rg,{title:"Staff Management",children:[s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Yt,{children:"Staff Members"}),s.jsx(Zr,{children:"Manage staff members for parts deliveries"})]}),s.jsx("div",{className:"flex gap-2",children:e&&s.jsxs(s.Fragment,{children:[s.jsxs(Ee,{variant:"outline",size:"sm",onClick:U,children:[s.jsx(Tp,{className:"mr-2 h-4 w-4"}),"Template"]}),s.jsxs(Ee,{variant:"outline",size:"sm",onClick:F,children:[s.jsx(Bs,{className:"mr-2 h-4 w-4"}),"Export"]}),s.jsxs("div",{className:"relative",children:[s.jsxs(Ee,{variant:"outline",size:"sm",className:"relative",onClick:()=>{var V;return(V=document.getElementById("import-staff-file"))==null?void 0:V.click()},children:[s.jsx(ed,{className:"mr-2 h-4 w-4"}),"Import"]}),s.jsx("input",{id:"import-staff-file",type:"file",accept:".xlsx",className:"hidden",onChange:q})]}),s.jsxs(Qr,{open:t,onOpenChange:r,children:[s.jsx(nd,{asChild:!0,children:s.jsxs(Ee,{size:"sm",children:[s.jsx(Si,{className:"mr-2 h-4 w-4"}),"Add Staff Member"]})}),s.jsxs(qr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Create Staff Member"}),s.jsx(gn,{children:"Add a new staff member to the system"})]}),s.jsxs("form",{onSubmit:D,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(Ht,{htmlFor:"name",className:"text-right",children:["Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Rt,{id:"name",value:u.name,onChange:V=>f({...u,name:V.target.value}),className:"col-span-3",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(Ht,{htmlFor:"building",className:"text-right",children:["Building ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(Bn,{onValueChange:V=>f({...u,buildingId:parseInt(V)}),value:u.buildingId?u.buildingId.toString():"",children:[s.jsx(Mn,{className:"col-span-3",children:s.jsx($n,{placeholder:"Select a building"})}),s.jsx(Dn,{children:y==null?void 0:y.map(V=>s.jsx(er,{value:V.id.toString(),children:V.name},V.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(Ht,{htmlFor:"costCenter",className:"text-right",children:["Cost Center ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(Bn,{onValueChange:V=>f({...u,costCenterId:parseInt(V)}),value:u.costCenterId?u.costCenterId.toString():"",children:[s.jsx(Mn,{className:"col-span-3",children:s.jsx($n,{placeholder:"Select a cost center"})}),s.jsx(Dn,{children:N==null?void 0:N.map(V=>s.jsxs(er,{value:V.id.toString(),children:[V.code," - ",V.name]},V.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ht,{htmlFor:"email",className:"text-right",children:"Email"}),s.jsx(Rt,{id:"email",type:"email",value:u.email,onChange:V=>f({...u,email:V.target.value}),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ht,{htmlFor:"phone",className:"text-right",children:"Phone"}),s.jsx(Rt,{id:"phone",value:u.phone,onChange:V=>f({...u,phone:V.target.value}),className:"col-span-3"})]})]}),s.jsxs(Pn,{children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>{G(),r(!1)},children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:C.isPending,children:C.isPending?"Creating...":"Create Staff Member"})]})]})]})]})]})})]}),s.jsxs(zt,{children:[s.jsx("div",{className:"flex justify-between mb-6",children:s.jsxs("div",{className:"relative w-full max-w-sm",children:[s.jsx(Pl,{className:"absolute left-2 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(Rt,{placeholder:"Search staff members...",className:"pl-8",value:l,onChange:V=>c(V.target.value)})]})}),s.jsxs(cc,{children:[s.jsx(uc,{children:s.jsxs(bi,{children:[s.jsx(yr,{children:"Name"}),s.jsx(yr,{children:"Building"}),s.jsx(yr,{children:"Cost Center"}),s.jsx(yr,{children:"Email"}),s.jsx(yr,{children:"Phone"}),e&&s.jsx(yr,{className:"text-right",children:"Actions"})]})}),s.jsx(dc,{children:K&&K.length>0?K.map(V=>{var ee,te,J;return s.jsxs(bi,{children:[s.jsx(hr,{className:"font-medium",children:V.name}),s.jsx(hr,{children:(ee=V.building)==null?void 0:ee.name}),s.jsxs(hr,{children:[(te=V.costCenter)==null?void 0:te.code," - ",(J=V.costCenter)==null?void 0:J.name]}),s.jsx(hr,{children:V.email||"-"}),s.jsx(hr,{children:V.phone||"-"}),e&&s.jsx(hr,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs(Ee,{variant:"ghost",size:"icon",onClick:()=>B(V),children:[s.jsx(cy,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Edit"})]}),s.jsxs(Ee,{variant:"ghost",size:"icon",onClick:()=>L(V),children:[s.jsx(Oo,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Delete"})]})]})})]},V.id)}):s.jsx(bi,{children:s.jsx(hr,{colSpan:e?6:5,className:"text-center",children:l?"No staff members found matching your search.":`No staff members found. ${e?"Create one to get started.":""}`})})})]})]})]}),s.jsx(Qr,{open:n,onOpenChange:i,children:s.jsxs(qr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Edit Staff Member"}),s.jsx(gn,{children:"Update staff member information"})]}),s.jsxs("form",{onSubmit:k,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(Ht,{htmlFor:"edit-name",className:"text-right",children:["Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Rt,{id:"edit-name",value:u.name,onChange:V=>f({...u,name:V.target.value}),className:"col-span-3",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(Ht,{htmlFor:"edit-building",className:"text-right",children:["Building ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(Bn,{onValueChange:V=>f({...u,buildingId:parseInt(V)}),value:u.buildingId?u.buildingId.toString():"",children:[s.jsx(Mn,{className:"col-span-3",children:s.jsx($n,{placeholder:"Select a building"})}),s.jsx(Dn,{children:y==null?void 0:y.map(V=>s.jsx(er,{value:V.id.toString(),children:V.name},V.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsxs(Ht,{htmlFor:"edit-costCenter",className:"text-right",children:["Cost Center ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(Bn,{onValueChange:V=>f({...u,costCenterId:parseInt(V)}),value:u.costCenterId?u.costCenterId.toString():"",children:[s.jsx(Mn,{className:"col-span-3",children:s.jsx($n,{placeholder:"Select a cost center"})}),s.jsx(Dn,{children:N==null?void 0:N.map(V=>s.jsxs(er,{value:V.id.toString(),children:[V.code," - ",V.name]},V.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ht,{htmlFor:"edit-email",className:"text-right",children:"Email"}),s.jsx(Rt,{id:"edit-email",type:"email",value:u.email,onChange:V=>f({...u,email:V.target.value}),className:"col-span-3"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ht,{htmlFor:"edit-phone",className:"text-right",children:"Phone"}),s.jsx(Rt,{id:"edit-phone",value:u.phone,onChange:V=>f({...u,phone:V.target.value}),className:"col-span-3"})]})]}),s.jsxs(Pn,{children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>{G(),i(!1)},children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:I.isPending,children:I.isPending?"Updating...":"Update Staff Member"})]})]})]})})]})}function s9(){const{isAdmin:e}=I8(),[t,r]=O.useState(!1),[n,i]=O.useState(!1),[a,o]=O.useState(null),[l,c]=O.useState({code:"",name:"",description:""}),{toast:u}=ea(),{data:f,isLoading:p,error:g}=Er({queryKey:["/api/cost-centers"],retry:1}),x=Sr({mutationFn:async L=>{const B=await fetch("/api/cost-centers",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(L)});if(!B.ok){const G=await B.json();throw new Error(G.message||"Failed to create cost center")}return await B.json()},onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/cost-centers"]}),u({title:"Cost center created",description:"Cost center was created successfully"}),r(!1),I()},onError:L=>{u({title:"Error creating cost center",description:L.message,variant:"destructive"})}}),b=Sr({mutationFn:async({id:L,data:B})=>{const G=await fetch(`/api/cost-centers/${L}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(B)});if(!G.ok){const F=await G.json();throw new Error(F.message||"Failed to update cost center")}return await G.json()},onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/cost-centers"]}),u({title:"Cost center updated",description:"Cost center was updated successfully"}),i(!1),I()},onError:L=>{u({title:"Error updating cost center",description:L.message,variant:"destructive"})}}),y=Sr({mutationFn:async L=>{const B=await fetch(`/api/cost-centers/${L}`,{method:"DELETE",credentials:"include"});if(!B.ok){const G=await B.json();throw new Error(G.message||"Failed to delete cost center")}return await B.json()},onSuccess:()=>{ur.invalidateQueries({queryKey:["/api/cost-centers"]}),u({title:"Cost center deleted",description:"Cost center was deleted successfully"})},onError:L=>{u({title:"Error deleting cost center",description:L.message,variant:"destructive"})}}),_=L=>{L.preventDefault(),x.mutate(l)},N=L=>{L.preventDefault(),a&&b.mutate({id:a.id,data:l})},E=L=>{confirm(`Are you sure you want to delete ${L.name}?`)&&y.mutate(L.id)},C=L=>{o(L),c({code:L.code,name:L.name,description:L.description||""}),i(!0)},I=()=>{c({code:"",name:"",description:""}),o(null)},P=async()=>{try{const L=await fetch("/api/cost-centers/export",{credentials:"include"});if(!L.ok)throw new Error("Failed to export cost centers");const B=await L.blob(),G=window.URL.createObjectURL(B),F=document.createElement("a");F.style.display="none",F.href=G,F.download="cost-centers.xlsx",document.body.appendChild(F),F.click(),window.URL.revokeObjectURL(G),document.body.removeChild(F),u({title:"Export successful",description:"Cost centers exported successfully"})}catch(L){u({title:"Export failed",description:L instanceof Error?L.message:"Unknown error",variant:"destructive"})}},D=async()=>{try{const L=await fetch("/api/cost-centers/template",{credentials:"include"});if(!L.ok)throw new Error("Failed to download template");const B=await L.blob(),G=window.URL.createObjectURL(B),F=document.createElement("a");F.style.display="none",F.href=G,F.download="cost-centers-template.xlsx",document.body.appendChild(F),F.click(),window.URL.revokeObjectURL(G),document.body.removeChild(F),u({title:"Template download successful",description:"Cost centers template downloaded successfully"})}catch(L){u({title:"Template download failed",description:L instanceof Error?L.message:"Unknown error",variant:"destructive"})}},k=async L=>{if(!L.target.files||L.target.files.length===0)return;const B=L.target.files[0],G=new FormData;G.append("file",B);try{const F=await fetch("/api/cost-centers/import",{method:"POST",credentials:"include",body:G});if(!F.ok){const q=await F.json();throw new Error(q.message||"Import failed")}const U=await F.json();ur.invalidateQueries({queryKey:["/api/cost-centers"]}),u({title:"Import successful",description:`Imported ${U.importedRows} cost centers successfully.`}),L.target.value=""}catch(F){u({title:"Import failed",description:F instanceof Error?F.message:"Unknown error",variant:"destructive"}),L.target.value=""}};return p?s.jsx(O8,{}):g?s.jsx(Rg,{title:"Cost Centers",children:s.jsxs("div",{className:"p-4 bg-red-50 text-red-600 rounded-md",children:["Error loading cost centers: ",g instanceof Error?g.message:"Unknown error"]})}):s.jsxs(Rg,{title:"Cost Centers",children:[s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Yt,{children:"Cost Centers"}),s.jsx(Zr,{children:"Manage cost centers for parts deliveries"})]}),s.jsx("div",{className:"flex gap-2",children:e&&s.jsxs(s.Fragment,{children:[s.jsxs(Ee,{variant:"outline",size:"sm",onClick:D,children:[s.jsx(Tp,{className:"mr-2 h-4 w-4"}),"Template"]}),s.jsxs(Ee,{variant:"outline",size:"sm",onClick:P,children:[s.jsx(Bs,{className:"mr-2 h-4 w-4"}),"Export"]}),s.jsxs("div",{className:"relative",children:[s.jsxs(Ee,{variant:"outline",size:"sm",className:"relative",onClick:()=>{var L;return(L=document.getElementById("import-file"))==null?void 0:L.click()},children:[s.jsx(ed,{className:"mr-2 h-4 w-4"}),"Import"]}),s.jsx("input",{id:"import-file",type:"file",accept:".xlsx",className:"hidden",onChange:k})]}),s.jsxs(Qr,{open:t,onOpenChange:r,children:[s.jsx(nd,{asChild:!0,children:s.jsxs(Ee,{size:"sm",children:[s.jsx(Si,{className:"mr-2 h-4 w-4"}),"Add Cost Center"]})}),s.jsxs(qr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Create Cost Center"}),s.jsx(gn,{children:"Add a new cost center to the system"})]}),s.jsxs("form",{onSubmit:_,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ht,{htmlFor:"code",className:"text-right",children:"Code"}),s.jsx(Rt,{id:"code",value:l.code,onChange:L=>c({...l,code:L.target.value}),className:"col-span-3",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ht,{htmlFor:"name",className:"text-right",children:"Name"}),s.jsx(Rt,{id:"name",value:l.name,onChange:L=>c({...l,name:L.target.value}),className:"col-span-3",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ht,{htmlFor:"description",className:"text-right",children:"Description"}),s.jsx(Rt,{id:"description",value:l.description,onChange:L=>c({...l,description:L.target.value}),className:"col-span-3"})]})]}),s.jsxs(Pn,{children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>{I(),r(!1)},children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:x.isPending,children:x.isPending?"Creating...":"Create Cost Center"})]})]})]})]})]})})]}),s.jsx(zt,{children:s.jsxs(cc,{children:[s.jsx(uc,{children:s.jsxs(bi,{children:[s.jsx(yr,{children:"Code"}),s.jsx(yr,{children:"Name"}),s.jsx(yr,{children:"Description"}),e&&s.jsx(yr,{className:"text-right",children:"Actions"})]})}),s.jsx(dc,{children:f&&f.length>0?f.map(L=>s.jsxs(bi,{children:[s.jsx(hr,{className:"font-medium",children:L.code}),s.jsx(hr,{children:L.name}),s.jsx(hr,{children:L.description}),e&&s.jsx(hr,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsxs(Ee,{variant:"ghost",size:"icon",onClick:()=>C(L),children:[s.jsx(cy,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Edit"})]}),s.jsxs(Ee,{variant:"ghost",size:"icon",onClick:()=>E(L),children:[s.jsx(Oo,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Delete"})]})]})})]},L.id)):s.jsx(bi,{children:s.jsxs(hr,{colSpan:e?4:3,className:"text-center",children:["No cost centers found. ",e&&"Create one to get started."]})})})]})})]}),s.jsx(Qr,{open:n,onOpenChange:i,children:s.jsxs(qr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Edit Cost Center"}),s.jsx(gn,{children:"Update cost center information"})]}),s.jsxs("form",{onSubmit:N,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ht,{htmlFor:"edit-code",className:"text-right",children:"Code"}),s.jsx(Rt,{id:"edit-code",value:l.code,onChange:L=>c({...l,code:L.target.value}),className:"col-span-3",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ht,{htmlFor:"edit-name",className:"text-right",children:"Name"}),s.jsx(Rt,{id:"edit-name",value:l.name,onChange:L=>c({...l,name:L.target.value}),className:"col-span-3",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ht,{htmlFor:"edit-description",className:"text-right",children:"Description"}),s.jsx(Rt,{id:"edit-description",value:l.description,onChange:L=>c({...l,description:L.target.value}),className:"col-span-3"})]})]}),s.jsxs(Pn,{children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>{I(),i(!1)},children:"Cancel"}),s.jsx(Ee,{type:"submit",disabled:b.isPending,children:b.isPending?"Updating...":"Update Cost Center"})]})]})]})})]})}function o9(){var E;const{toast:e}=ea(),[t,r]=O.useState(!1),[n,i]=O.useState(!1),[a,o]=O.useState(!1),{data:l,refetch:c}=Er({queryKey:["/api/system-status"],refetchInterval:3e4}),{data:u,refetch:f}=Er({queryKey:["/api/health"],refetchInterval:6e4}),p=C=>{const I=Math.floor(C/1e3),P=Math.floor(I/60),D=Math.floor(P/60),k=Math.floor(D/24);return k>0?`${k}d ${D%24}h ${P%60}m`:D>0?`${D}h ${P%60}m`:P>0?`${P}m ${I%60}s`:`${I}s`},g=C=>`${(C/1024/1024).toFixed(1)} MB`,x=async()=>{r(!0);try{const I=await(await fetch("/api/create-backup",{method:"POST",headers:{"Content-Type":"application/json"}})).json();I.success?(e({title:"Backup Created",description:`Backup file: ${I.file}`}),c()):e({title:"Backup Failed",description:I.message,variant:"destructive"})}catch{e({title:"Backup Error",description:"Failed to create backup",variant:"destructive"})}finally{r(!1)}},b=async()=>{i(!0);try{const C=await fetch("/api/download-deployment-guide");if(C.ok){const I=await C.blob(),P=window.URL.createObjectURL(I),D=document.createElement("a");D.href=P,D.download="ONU-Parts-Tracker-Deployment-Guide.pdf",document.body.appendChild(D),D.click(),window.URL.revokeObjectURL(P),document.body.removeChild(D),e({title:"Download Started",description:"Deployment guide PDF download started"})}else throw new Error("Download failed")}catch{e({title:"Download Failed",description:"Failed to download deployment guide",variant:"destructive"})}finally{i(!1)}},y=async()=>{o(!0);try{const C=await fetch("/api/download-export-package");if(C.ok){const I=await C.blob(),P=window.URL.createObjectURL(I),D=document.createElement("a");D.href=P,D.download="onu-parts-tracker-complete.zip",document.body.appendChild(D),D.click(),window.URL.revokeObjectURL(P),document.body.removeChild(D),e({title:"Download Started",description:"Complete export package download started"})}else throw new Error("Download failed")}catch{e({title:"Download Failed",description:"Failed to download export package",variant:"destructive"})}finally{o(!1)}},_=C=>{switch(C.toLowerCase()){case"healthy":case"connected":case"accessible":return s.jsx(jp,{className:"h-5 w-5 text-green-500"});case"warning":return s.jsx(rg,{className:"h-5 w-5 text-yellow-500"});case"unhealthy":case"disconnected":case"inaccessible":return s.jsx(ng,{className:"h-5 w-5 text-red-500"});default:return s.jsx(sf,{className:"h-5 w-5 text-gray-500"})}},N=C=>{switch(C.toLowerCase()){case"healthy":case"connected":case"accessible":return s.jsx(ti,{variant:"default",className:"bg-green-100 text-green-800",children:"Healthy"});case"warning":return s.jsx(ti,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"Warning"});case"unhealthy":case"disconnected":case"inaccessible":return s.jsx(ti,{variant:"destructive",children:"Unhealthy"});default:return s.jsx(ti,{variant:"outline",children:"Unknown"})}};return s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"System Administration"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor system health and manage deployments"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[u&&_(u.status),u&&N(u.status)]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium",children:"System Status"}),s.jsx(NE,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(zt,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[u&&_(u.status),s.jsx("div",{className:"text-2xl font-bold",children:(u==null?void 0:u.status)||"Unknown"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Uptime: ",u?p(u.uptime*1e3):"Unknown"]})]})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium",children:"Database"}),s.jsx(pm,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(zt,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[u&&_(u.database),s.jsx("div",{className:"text-2xl font-bold",children:(u==null?void 0:u.database)||"Unknown"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PostgreSQL Connection"})]})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium",children:"Memory Usage"}),s.jsx(NE,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(zt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:u?g(u.memory.heapUsed):"Unknown"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["of ",u?g(u.memory.heapTotal):"Unknown"," allocated"]})]})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium",children:"Requests"}),s.jsx(NE,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(zt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:((E=l==null?void 0:l.requests)==null?void 0:E.toLocaleString())||"0"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total requests served"})]})]})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsxs(Yt,{className:"flex items-center gap-2",children:[s.jsx(pm,{className:"h-5 w-5"}),"Backup and Maintenance"]}),s.jsx(Zr,{children:"Create database backups and maintain system health"})]}),s.jsxs(zt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Database Backup"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last backup: ",l!=null&&l.lastBackup?new Date(l.lastBackup).toLocaleString():"Never"]})]}),s.jsxs(Ee,{onClick:x,disabled:t,variant:"outline",children:[s.jsx(pm,{className:"h-4 w-4 mr-2"}),t?"Creating...":"Create Backup"]})]}),s.jsx(Xy,{}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"System Errors"}),l!=null&&l.recentErrors&&l.recentErrors.length>0?s.jsx("div",{className:"space-y-2",children:l.recentErrors.slice(0,3).map((C,I)=>s.jsxs("div",{className:"flex items-start gap-2 p-2 bg-red-50 rounded",children:[s.jsx(ng,{className:"h-4 w-4 text-red-500 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:C.error}),s.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(C.timestamp).toLocaleString()})]})]},I))}):s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded",children:[s.jsx(jp,{className:"h-4 w-4 text-green-500"}),s.jsx("p",{className:"text-sm",children:"No recent errors"})]})]})]})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsxs(Yt,{className:"flex items-center gap-2",children:[s.jsx(LS,{className:"h-5 w-5"}),"Local Deployment"]}),s.jsx(Zr,{children:"Download everything needed to run this application locally and privately"})]}),s.jsxs(zt,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s.jsx(V4,{className:"h-4 w-4"}),"Deployment Guide"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Comprehensive PDF guide with step-by-step installation instructions"})]}),s.jsxs(Ee,{onClick:b,disabled:n,variant:"outline",className:"w-full",children:[s.jsx(Bs,{className:"h-4 w-4 mr-2"}),n?"Generating...":"Download PDF Guide"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[s.jsx(Ao,{className:"h-4 w-4"}),"Complete Export Package"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Full application source code, database backup, and setup scripts"})]}),s.jsxs(Ee,{onClick:y,disabled:a,variant:"outline",className:"w-full",children:[s.jsx(Bs,{className:"h-4 w-4 mr-2"}),a?"Creating...":"Download Complete Package"]})]})]}),s.jsx(Xy,{}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Local Deployment Benefits"}),s.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[s.jsx("li",{children:" Complete control over your data and infrastructure"}),s.jsx("li",{children:" No dependency on external servers or internet connectivity"}),s.jsx("li",{children:" Enhanced security with private network deployment"}),s.jsx("li",{children:" Customizable to meet specific organizational requirements"}),s.jsx("li",{children:" Full source code access for modifications and integrations"})]})]})]})]})]})}function l9(){const[e,t]=O.useState("90"),[r,n]=O.useState(""),[i,a]=O.useState("all"),{data:o=[],isLoading:l}=Er({queryKey:["/api/parts/usage-analytics",e],queryFn:async()=>{const C=await fetch(`/api/parts/usage-analytics?timeFrame=${e}`);if(!C.ok)throw new Error("Failed to fetch parts usage data");return C.json()}}),{data:c,isLoading:u}=Er({queryKey:["/api/parts/usage-summary",e],queryFn:async()=>{const C=await fetch(`/api/parts/usage-summary?timeFrame=${e}`);if(!C.ok)throw new Error("Failed to fetch usage summary");return C.json()}}),f=o.filter(C=>{var D;const I=r===""||C.name.toLowerCase().includes(r.toLowerCase())||C.part_id.toLowerCase().includes(r.toLowerCase())||((D=C.category)==null?void 0:D.toLowerCase().includes(r.toLowerCase())),P=i==="all"||C.movement_category===i;return I&&P}),p=f.filter(C=>C.usage_status==="Never Used"),g=f.filter(C=>C.usage_status==="Not Used in 1+ Years"),x=[...p,...g],b=f.filter(C=>C.movement_category==="Fast Moving");f.filter(C=>C.movement_category==="Slow Moving");const y=C=>{switch(C){case"Fast Moving":return s.jsx(op,{className:"h-4 w-4 text-green-500"});case"Medium Moving":return s.jsx(sy,{className:"h-4 w-4 text-yellow-500"});case"Slow Moving":return s.jsx(kO,{className:"h-4 w-4 text-orange-500"});case"No Movement":return s.jsx(kl,{className:"h-4 w-4 text-red-500"});default:return null}},_=C=>{const I={"Never Used":"bg-red-100 text-red-800","Not Used in 1+ Years":"bg-red-100 text-red-800","Not Used in 6+ Months":"bg-orange-100 text-orange-800","Not Used in 3+ Months":"bg-yellow-100 text-yellow-800","Not Used in 1+ Months":"bg-blue-100 text-blue-800","Recently Used":"bg-green-100 text-green-800"};return s.jsx(ti,{className:I[C]||"bg-gray-100 text-gray-800",children:C})},N=[{header:"Part ID",accessor:"part_id",className:"font-mono text-sm"},{header:"Name",accessor:"name",className:"font-medium"},{header:"Category",accessor:"category"},{header:"Current Stock",accessor:C=>C.current_stock.toLocaleString(),className:"text-right"},{header:"Total Issued",accessor:C=>C.total_issued.toLocaleString(),className:"text-right"},{header:"Days Since Last Used",accessor:C=>C.days_since_last_used?`${C.days_since_last_used} days`:"Never",className:"text-right"},{header:"Movement",accessor:C=>s.jsxs("div",{className:"flex items-center gap-2",children:[y(C.movement_category),s.jsx("span",{className:"text-sm",children:C.movement_category})]})},{header:"Usage Status",accessor:C=>_(C.usage_status)},{header:"Inventory Value",accessor:C=>`$${C.inventory_value.toFixed(2)}`,className:"text-right font-mono"}],E=()=>{const I=[["Part ID","Name","Category","Current Stock","Total Issued","Days Since Last Used","Movement Category","Usage Status","Inventory Value"].join(","),...f.map(L=>[L.part_id,`"${L.name}"`,L.category||"",L.current_stock,L.total_issued,L.days_since_last_used||"Never",L.movement_category,L.usage_status,L.inventory_value.toFixed(2)].join(","))].join(`
`),P=new Blob([I],{type:"text/csv"}),D=window.URL.createObjectURL(P),k=document.createElement("a");k.href=D,k.download=`parts-usage-analytics-${e}days-${new Date().toISOString().split("T")[0]}.csv`,k.click(),window.URL.revokeObjectURL(D)};return l||u?s.jsx("div",{className:"container mx-auto p-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Parts Usage Analytics"}),s.jsx("p",{className:"text-muted-foreground",children:"Analyze parts usage patterns to optimize inventory management"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ht,{htmlFor:"timeFrame",children:"Time Frame:"}),s.jsxs(Bn,{value:e,onValueChange:t,children:[s.jsx(Mn,{className:"w-32",children:s.jsx($n,{})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"30",children:"30 days"}),s.jsx(er,{value:"90",children:"90 days"}),s.jsx(er,{value:"180",children:"6 months"}),s.jsx(er,{value:"365",children:"1 year"})]})]})]}),s.jsxs(Ee,{onClick:E,variant:"outline",children:[s.jsx(Bs,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]}),c&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium",children:"Total Parts"}),s.jsx(Ao,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(zt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:c.total_parts.toLocaleString()}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.total_parts_issued.toLocaleString()," total issued"]})]})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium",children:"Fast Moving Parts"}),s.jsx(op,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(zt,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.fast_moving_count}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(c.fast_moving_count/c.total_parts*100).toFixed(1),"% of inventory"]})]})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium",children:"Stagnant Parts"}),s.jsx(kl,{className:"h-4 w-4 text-red-500"})]}),s.jsxs(zt,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:c.never_used_count+c.not_used_1_year_count}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Never used or 1+ years idle"})]})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium",children:"Stagnant Inventory Value"}),s.jsx(eae,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(zt,{children:[s.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["$",c.stagnant_inventory_value.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(c.stagnant_inventory_value/c.total_inventory_value*100).toFixed(1),"% of total value"]})]})]})]}),s.jsxs(Af,{defaultValue:"overview",className:"space-y-4",children:[s.jsxs(hd,{children:[s.jsx(ri,{value:"overview",children:"Overview"}),s.jsx(ri,{value:"stagnant",children:"Stagnant Inventory"}),s.jsx(ri,{value:"fast-moving",children:"Fast Moving"}),s.jsx(ri,{value:"all-parts",children:"All Parts"})]}),s.jsx(ua,{value:"overview",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Movement Categories"}),s.jsx(Zr,{children:"Parts categorized by usage frequency"})]}),s.jsx(zt,{className:"space-y-4",children:c&&[{label:"Fast Moving",count:c.fast_moving_count,color:"bg-green-500"},{label:"Medium Moving",count:c.medium_moving_count,color:"bg-yellow-500"},{label:"Slow Moving",count:c.slow_moving_count,color:"bg-orange-500"},{label:"No Movement",count:c.no_movement_count,color:"bg-red-500"}].map(C=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${C.color}`}),s.jsx("span",{children:C.label})]}),s.jsx("span",{className:"font-medium",children:C.count})]},C.label))})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Usage Timeline"}),s.jsx(Zr,{children:"When parts were last used"})]}),s.jsx(zt,{className:"space-y-4",children:c&&[{label:"Recently Used",count:c.total_parts-c.never_used_count-c.not_used_1_year_count-c.not_used_6_months_count-c.not_used_3_months_count,color:"bg-green-500"},{label:"Not Used in 3+ Months",count:c.not_used_3_months_count,color:"bg-yellow-500"},{label:"Not Used in 6+ Months",count:c.not_used_6_months_count,color:"bg-orange-500"},{label:"Not Used in 1+ Years",count:c.not_used_1_year_count,color:"bg-red-500"},{label:"Never Used",count:c.never_used_count,color:"bg-gray-500"}].map(C=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${C.color}`}),s.jsx("span",{children:C.label})]}),s.jsx("span",{className:"font-medium",children:C.count})]},C.label))})]})]})}),s.jsx(ua,{value:"stagnant",className:"space-y-4",children:s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsxs(Yt,{className:"flex items-center gap-2",children:[s.jsx(kl,{className:"h-5 w-5 text-red-500"}),"Stagnant Inventory - Consider Reducing Orders"]}),s.jsx(Zr,{children:"Parts that haven't been used in over a year or never used at all. These may be candidates for reduced ordering or disposal."})]}),s.jsx(zt,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{children:["Total stagnant parts: ",s.jsx("strong",{children:x.length})]}),s.jsxs("span",{children:["Total value: ",s.jsxs("strong",{children:["$",x.reduce((C,I)=>C+I.inventory_value,0).toFixed(2)]})]})]}),s.jsx(Ll,{data:x,columns:N})]})})]})}),s.jsx(ua,{value:"fast-moving",className:"space-y-4",children:s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsxs(Yt,{className:"flex items-center gap-2",children:[s.jsx(op,{className:"h-5 w-5 text-green-500"}),"Fast Moving Parts - Consider Increasing Stock"]}),s.jsx(Zr,{children:"Parts with high usage rates that may need increased stock levels or more frequent reordering."})]}),s.jsx(zt,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{children:["Total fast moving parts: ",s.jsx("strong",{children:b.length})]}),s.jsxs("span",{children:["Total issued: ",s.jsx("strong",{children:b.reduce((C,I)=>C+I.total_issued,0).toLocaleString()})]})]}),s.jsx(Ll,{data:b,columns:N})]})})]})}),s.jsx(ua,{value:"all-parts",className:"space-y-4",children:s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"All Parts Usage Analysis"}),s.jsx(Zr,{children:"Complete analysis of all parts usage patterns"})]}),s.jsx(zt,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Ht,{htmlFor:"search",children:"Search Parts"}),s.jsxs("div",{className:"relative",children:[s.jsx(Pl,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Rt,{id:"search",placeholder:"Search by name, part ID, or category...",value:r,onChange:C=>n(C.target.value),className:"pl-8"})]})]}),s.jsxs("div",{children:[s.jsx(Ht,{htmlFor:"category",children:"Filter by Movement"}),s.jsxs(Bn,{value:i,onValueChange:a,children:[s.jsx(Mn,{className:"w-48",children:s.jsx($n,{})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"all",children:"All Categories"}),s.jsx(er,{value:"Fast Moving",children:"Fast Moving"}),s.jsx(er,{value:"Medium Moving",children:"Medium Moving"}),s.jsx(er,{value:"Slow Moving",children:"Slow Moving"}),s.jsx(er,{value:"No Movement",children:"No Movement"})]})]})]})]}),s.jsx(Ll,{data:f,columns:N})]})})]})})]})]})}function Q$e(){const{user:e}=Ts(),{toast:t}=ea(),[r,n]=O.useState("menu"),[i,a]=O.useState(!1),[o,l]=O.useState([]),[c,u]=O.useState(""),[f,p]=O.useState(),[g,x]=O.useState(""),[b,y]=O.useState("");O.useState("signout"),O.useState(""),O.useState("");const[_,N]=O.useState(!1),[E,C]=O.useState(null),[I,P]=O.useState("1"),[D,k]=O.useState(!1),[L,B]=O.useState(""),[G,F]=O.useState(""),[U,q]=O.useState(0),[K,V]=O.useState(""),ee=O.useRef(null),{data:te=[]}=Er({queryKey:["/api/buildings-public"],retry:3}),{data:J=[]}=Er({queryKey:["/api/technicians-list"],retry:3}),{data:ge=[]}=Er({queryKey:["/api/cost-centers-public"],retry:3});O.useEffect(()=>{if(f&&ge&&Array.isArray(ge)&&ge.length>0){const xe=te.find(Le=>Le.id===f);if(xe){const Le=ge.find(Se=>{var ye,We,Ye,we;return((We=Se.name)==null?void 0:We.toLowerCase().includes((ye=xe.name)==null?void 0:ye.toLowerCase()))||((we=xe.name)==null?void 0:we.toLowerCase().includes((Ye=Se.name)==null?void 0:Ye.toLowerCase()))});Le&&x(Le.code)}}},[f,te,ge]),O.useEffect(()=>{r==="parts"&&(e==null?void 0:e.role)!=="controller"?(a(!0),ee.current&&ee.current.focus()):a(!1)},[r,e==null?void 0:e.role]),O.useEffect(()=>{const xe=Se=>{if(!i||_||D||Se.ctrlKey||Se.altKey||Se.metaKey||Se.shiftKey)return;const ye=Se.key;if(ye==="Enter"||ye==="Return"){Se.preventDefault(),Se.stopPropagation(),K.trim().length>3&&(console.log(`USB Scanner: Processing complete barcode: ${K.trim()}`),Ie(K.trim()),V(""));return}if(ye==="Backspace"){Se.preventDefault(),V(We=>We.slice(0,-1));return}ye.length===1&&ye.match(/[a-zA-Z0-9\-_\.\+\*\#\@\!\$\%\&\(\)\[\]\{\}\|\\\:\;\'\"\,\<\>\?\=\~\`]/)&&(Se.preventDefault(),Se.stopPropagation(),V(We=>{const Ye=We+ye;return console.log(`USB Scanner: Buffer: "${Ye}"`),Ye}),clearTimeout(window.scannerTimeout),window.scannerTimeout=setTimeout(()=>{V(""),console.log("USB Scanner: Buffer cleared due to timeout")},150))},Le=Se=>{if(!i||_||D)return;const ye=Se.target;if(ye&&ye.value){const We=ye.value.trim();We.length>3&&(console.log(`USB Scanner: Input event detected: ${We}`),Ie(We),ye.value="")}};if(i)return document.addEventListener("keydown",xe,!0),ee.current&&(ee.current.focus(),ee.current.addEventListener("input",Le)),()=>{document.removeEventListener("keydown",xe,!0),clearTimeout(window.scannerTimeout),ee.current&&ee.current.removeEventListener("input",Le)}},[i,K,_,D]);const Ie=xe=>{console.log(`USB Scanner: Scanned barcode: ${xe}`);const Le=Date.now();if(Le-U<2e3){console.log("USB Scanner: Ignoring duplicate scan");return}q(Le),Ge.mutate(xe)},Ge=Sr({mutationFn:async xe=>(console.log(`Looking up part with barcode: ${xe}`),(await nn("GET",`/api/parts-lookup/${encodeURIComponent(xe)}`)).json()),onSuccess:xe=>{console.log("Found part:",xe),xe&&xe.name&&(C({...xe,isManualEntry:!1,scannedBarcode:xe.partId}),P("1"),N(!0))},onError:(xe,Le)=>{console.log("Part lookup failed for barcode:",Le),B(Le),F(""),k(!0),t({title:"Part Not Found",description:"Please enter a description for this new part",variant:"destructive"})}}),W=()=>{const xe=parseInt(I);if(xe>0&&E){const Le=o.findIndex(Se=>Se.partId===E.partId);if(Le>=0){const Se=[...o];Se[Le].quantity+=xe,l(Se),t({title:" Quantity Updated",description:`${E.name} quantity: ${Se[Le].quantity}`})}else l(Se=>[...Se,{...E,quantity:xe}]),t({title:" Part Added to Cart",description:`${E.name} x${xe}`})}N(!1),C(null),P("1")},Q=Sr({mutationFn:async xe=>(console.log("Saving manual entry to database:",xe),(await nn("POST","/api/manual-parts-review",xe)).json()),onSuccess:()=>{console.log("Manual entry saved successfully")},onError:xe=>{console.error("Manual entry save error:",xe),t({title:"Save Error",description:"Failed to save manual entry for review",variant:"destructive"})}}),Z=async()=>{if(!G.trim()||!L.trim()){t({title:"Error",description:"Please enter a description for this part",variant:"destructive"});return}const xe=c||"admin",Le=parseInt(I);if(Le<=0){t({title:"Error",description:"Please enter a valid quantity",variant:"destructive"});return}try{await Q.mutateAsync({scannedBarcode:L,description:G.trim(),quantity:Le,technicianUsed:xe,dateScanned:new Date().toISOString()});const Se={id:Date.now(),partId:L,name:G.trim(),description:G.trim(),currentStock:0,unitCost:"0.00",location:"Manual Entry",quantity:Le,isManualEntry:!0,scannedBarcode:L};l(ye=>[...ye,Se]),t({title:" Manual Entry Added",description:`${G.trim()} x${Le} saved for admin review and added to cart`}),k(!1),B(""),F(""),P("1")}catch(Se){console.error("Manual entry error:",Se)}},re=Sr({mutationFn:async xe=>{const Le=[];for(const Se of xe)if(Se.isManualEntry){const ye=await nn("POST","/api/manual-parts-review",{scannedBarcode:Se.scannedBarcode,description:Se.description,quantity:Se.quantity,technicianUsed:c,dateScanned:new Date().toISOString()});Le.push(await ye.json())}else{const ye=await nn("POST","/api/parts-charge-out-public",{partId:Se.id,quantity:Se.quantity,issuedTo:c,reason:"maintenance",notes:b.trim()||void 0,costCenter:g||void 0,buildingId:f});Le.push(await ye.json())}return Le},onSuccess:()=>{t({title:" Checkout Complete",description:"All parts processed successfully"}),ur.invalidateQueries({queryKey:["/api/parts"]}),Ae()},onError:xe=>{t({title:"Error",description:xe.message||"Failed to process checkout",variant:"destructive"})}}),le=(xe,Le)=>{Le<=0?l(Se=>Se.filter(ye=>ye.partId!==xe)):l(Se=>Se.map(ye=>ye.partId===xe?{...ye,quantity:Le}:ye))},Ne=xe=>{l(Le=>Le.filter(Se=>Se.partId!==xe))},Ae=()=>{l([]),u(""),p(void 0),x(""),y(""),n("menu")},ve=async()=>{if(o.length===0||!c||!f){t({title:"Missing Information",description:"Please select technician and building",variant:"destructive"});return}re.mutate(o)};return r==="menu"?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-orange-50 p-2 sm:p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx(Pt,{className:"mb-4 sm:mb-6",children:s.jsxs(Gt,{className:"text-center bg-primary text-white p-4 sm:p-6",children:[s.jsx(Yt,{className:"text-xl sm:text-2xl",children:"ONU Parts Tracker Kiosk"}),s.jsx("p",{className:"text-primary-foreground/80 text-sm sm:text-base",children:"Universal USB scanner interface for all devices"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6",children:[(e==null?void 0:e.role)!=="controller"&&s.jsx(Pt,{className:"hover:shadow-lg transition-shadow cursor-pointer touch-manipulation",onClick:()=>n("parts"),children:s.jsxs(Gt,{className:"text-center p-6 sm:p-8",children:[s.jsx(Ao,{className:"h-12 w-12 sm:h-16 sm:w-16 mx-auto text-blue-600 mb-3 sm:mb-4"}),s.jsx(Yt,{className:"text-lg sm:text-xl",children:"Parts Checkout"}),s.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Scan parts with USB scanner"})]})}),s.jsx(Pt,{className:"hover:shadow-lg transition-shadow cursor-pointer touch-manipulation",onClick:()=>n("tools"),children:s.jsxs(Gt,{className:"text-center p-6 sm:p-8",children:[s.jsx(Kc,{className:"h-12 w-12 sm:h-16 sm:w-16 mx-auto text-green-600 mb-3 sm:mb-4"}),s.jsx(Yt,{className:"text-lg sm:text-xl",children:"Tool SignOut"}),s.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Scan tool barcodes to sign out"})]})}),s.jsx(Pt,{className:"hover:shadow-lg transition-shadow cursor-pointer touch-manipulation",onClick:()=>n("pickup"),children:s.jsxs(Gt,{className:"text-center p-6 sm:p-8",children:[s.jsx(MO,{className:"h-12 w-12 sm:h-16 sm:w-16 mx-auto text-orange-600 mb-3 sm:mb-4"}),s.jsx(Yt,{className:"text-lg sm:text-xl",children:"Parts Pickup"}),s.jsx("p",{className:"text-muted-foreground text-sm sm:text-base",children:"Enter 4-digit pickup code"})]})})]})]})}):r==="parts"?s.jsx("div",{className:"min-h-screen bg-background p-2 sm:p-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx(Pt,{className:"mb-4 sm:mb-6",children:s.jsx(Gt,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(Yt,{className:"text-lg sm:text-xl",children:"Parts Checkout - Universal USB Scanner"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${i?"bg-green-500 animate-pulse":"bg-yellow-500"}`}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:i?"Ready for scanning on all devices":"Activating scanner..."})]}),K&&s.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Scanning: ",K]})]}),s.jsxs(Ee,{variant:"outline",onClick:()=>n("menu"),className:"w-full sm:w-auto",children:[s.jsx(EE,{className:"h-4 w-4 mr-2"}),"Back to Menu"]})]})})}),s.jsxs(Pt,{className:"mb-4 sm:mb-6 border-orange-200",children:[s.jsxs(Gt,{className:"p-4 sm:p-6 bg-orange-50 border-b border-orange-200",children:[s.jsx(Yt,{className:"text-lg text-orange-800 flex items-center gap-2",children:" Required Before Scanning"}),s.jsx("p",{className:"text-sm text-orange-700",children:"Please select technician and building before scanning parts"})]}),s.jsxs(zt,{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ht,{className:"text-sm font-medium",children:"Technician *"}),s.jsxs(Bn,{value:c,onValueChange:u,children:[s.jsx(Mn,{className:"h-12 mt-2",children:s.jsx($n,{placeholder:"Select technician"})}),s.jsx(Dn,{children:J.map(xe=>s.jsx(er,{value:xe.name,className:"text-base",children:xe.name},xe.id))})]})]}),s.jsxs("div",{children:[s.jsx(Ht,{className:"text-sm font-medium",children:"Building *"}),s.jsxs(Bn,{value:f==null?void 0:f.toString(),onValueChange:xe=>p(parseInt(xe)),children:[s.jsx(Mn,{className:"h-12 mt-2",children:s.jsx($n,{placeholder:"Select building"})}),s.jsx(Dn,{children:te.map(xe=>s.jsx(er,{value:xe.id.toString(),className:"text-base",children:xe.name},xe.id))})]})]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx(Ht,{className:"text-sm font-medium",children:"Notes (Optional)"}),s.jsx(Rt,{className:"h-12 mt-2",value:b,onChange:xe=>y(xe.target.value),placeholder:"Work order, repair notes, etc."})]})]})]}),c&&f&&s.jsxs(Pt,{className:"mb-4 sm:mb-6 border-green-200",children:[s.jsxs(Gt,{className:"p-4 sm:p-6 bg-green-50 border-b border-green-200",children:[s.jsx(Yt,{className:"text-lg text-green-800 flex items-center gap-2",children:" Ready to Scan Parts"}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${i?"bg-green-500 animate-pulse":"bg-yellow-500"}`}),s.jsx("p",{className:"text-sm text-green-700",children:i?"USB scanner active - scan barcodes now":"Activating scanner..."})]})]}),s.jsx(zt,{className:"space-y-4 p-4 sm:p-6",children:s.jsx("div",{className:"text-center space-y-3",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Scan part barcodes with your USB scanner.",s.jsx("br",{}),"For unknown parts, you can enter descriptions manually."]})})})]}),s.jsx("div",{className:"grid grid-cols-1 gap-4 sm:gap-6",children:s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"p-4 sm:p-6",children:[s.jsxs(Yt,{className:"text-lg",children:["Shopping Cart (",o.length,")"]}),!c||!f?s.jsx("p",{className:"text-sm text-orange-600",children:"Complete required information above to start scanning"}):null]}),s.jsxs(zt,{className:"p-4 sm:p-6",children:[s.jsxs("div",{className:"space-y-3 max-h-80 sm:max-h-96 overflow-y-auto",children:[o.map(xe=>s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 border rounded-lg bg-gray-50",children:[s.jsxs("div",{className:"flex-1 min-w-0 mb-3 sm:mb-0 sm:mr-3",children:[s.jsx("p",{className:"font-medium text-sm sm:text-base truncate",children:xe.name}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:xe.partId}),xe.isManualEntry&&s.jsx(ti,{variant:"outline",className:"text-orange-600 text-xs mt-1",children:"Manual Entry - Pending Review"})]}),s.jsxs("div",{className:"flex items-center justify-between sm:justify-end space-x-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ee,{size:"sm",variant:"outline",onClick:()=>le(xe.partId,xe.quantity-1),className:"h-8 w-8 p-0 touch-manipulation",children:s.jsx(sy,{className:"h-3 w-3"})}),s.jsx("span",{className:"w-8 text-center font-medium",children:xe.quantity}),s.jsx(Ee,{size:"sm",variant:"outline",onClick:()=>le(xe.partId,xe.quantity+1),className:"h-8 w-8 p-0 touch-manipulation",children:s.jsx(Si,{className:"h-3 w-3"})})]}),s.jsx(Ee,{size:"sm",variant:"destructive",onClick:()=>Ne(xe.partId),className:"h-8 w-8 p-0 touch-manipulation",children:s.jsx(Oo,{className:"h-3 w-3"})})]})]},xe.partId)),o.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ao,{className:"h-12 w-12 mx-auto text-gray-400 mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"Cart is empty. Scan a barcode to add parts."})]})]}),o.length>0&&s.jsxs(Ee,{className:"w-full mt-4 h-12 text-base font-medium touch-manipulation",onClick:ve,disabled:re.isPending||!c||!f,children:[s.jsx(jp,{className:"h-5 w-5 mr-2"}),"Complete Checkout (",o.length," item",o.length>1?"s":"",")"]})]})]})}),s.jsx("input",{ref:ee,type:"text",inputMode:"text",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,style:{position:"absolute",left:"-9999px",opacity:0,width:"1px",height:"1px",border:"none",outline:"none",background:"transparent"},autoFocus:!0,tabIndex:-1,onBlur:()=>{i&&ee.current&&setTimeout(()=>{var xe;(xe=ee.current)==null||xe.focus()},10)}}),s.jsx(Qr,{open:_,onOpenChange:N,children:s.jsxs(qr,{className:"max-w-sm sm:max-w-md",children:[s.jsx(Gr,{children:s.jsx(Yr,{className:"text-lg",children:"Enter Quantity"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-base",children:["How many ",s.jsx("strong",{className:"text-primary",children:E==null?void 0:E.name})," do you need?"]}),s.jsx(Rt,{type:"number",value:I,onChange:xe=>P(xe.target.value),min:"1",className:"h-12 text-lg text-center",autoFocus:!0})]}),s.jsxs(Pn,{className:"gap-2",children:[s.jsx(Ee,{variant:"outline",onClick:()=>N(!1),className:"h-12 flex-1",children:"Cancel"}),s.jsx(Ee,{onClick:W,className:"h-12 flex-1",children:"Add to Cart"})]})]})}),s.jsx(Qr,{open:D,onOpenChange:k,children:s.jsxs(qr,{className:"max-w-sm sm:max-w-md",children:[s.jsx(Gr,{children:s.jsx(Yr,{className:"text-lg",children:"Manual Part Entry"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-base",children:["Barcode ",s.jsx("strong",{className:"text-primary",children:L})," not found in system."]}),s.jsxs("div",{children:[s.jsx(Ht,{className:"text-sm font-medium",children:"Part Description"}),s.jsx(Rt,{className:"h-12 mt-2",value:G,onChange:xe=>F(xe.target.value),placeholder:"Describe the part...",autoFocus:!0})]}),s.jsxs("div",{children:[s.jsx(Ht,{className:"text-sm font-medium",children:"Quantity"}),s.jsx(Rt,{type:"number",value:I,onChange:xe=>P(xe.target.value),min:"1",className:"h-12 mt-2 text-center"})]}),s.jsx("div",{className:"bg-orange-50 p-3 rounded-lg",children:s.jsx("p",{className:"text-sm text-orange-800",children:"This entry will be saved for admin review and can be added to inventory later."})})]}),s.jsxs(Pn,{className:"gap-2",children:[s.jsx(Ee,{variant:"outline",onClick:()=>k(!1),className:"h-12 flex-1",children:"Cancel"}),s.jsx(Ee,{onClick:Z,className:"h-12 flex-1",disabled:Q.isPending,children:Q.isPending?"Saving...":"Add to Cart"})]})]})})]})}):r==="tools"?s.jsx("div",{className:"min-h-screen bg-background p-2 sm:p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx(Pt,{className:"mb-4 sm:mb-6",children:s.jsx(Gt,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx(Yt,{className:"text-lg sm:text-xl",children:"Tool SignOut"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Scan tool barcodes or enter manually"})]}),s.jsxs(Ee,{variant:"outline",onClick:()=>n("menu"),className:"w-full sm:w-auto",children:[s.jsx(EE,{className:"h-4 w-4 mr-2"}),"Back to Menu"]})]})})}),s.jsxs(Pt,{children:[s.jsx(Gt,{children:s.jsx(Yt,{children:"Tool SignOut Coming Soon"})}),s.jsx(zt,{children:s.jsx("p",{className:"text-muted-foreground",children:"Tool signout functionality will be added in the next update."})})]})]})}):r==="pickup"?s.jsx("div",{className:"min-h-screen bg-background p-2 sm:p-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx(Pt,{className:"mb-4 sm:mb-6",children:s.jsx(Gt,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsx(Yt,{className:"text-lg sm:text-xl",children:"Parts Pickup"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Enter your 4-digit pickup code"})]}),s.jsxs(Ee,{variant:"outline",onClick:()=>n("menu"),className:"w-full sm:w-auto",children:[s.jsx(EE,{className:"h-4 w-4 mr-2"}),"Back to Menu"]})]})})}),s.jsxs(Pt,{children:[s.jsx(Gt,{children:s.jsx(Yt,{children:"Parts Pickup Coming Soon"})}),s.jsx(zt,{children:s.jsx("p",{className:"text-muted-foreground",children:"Parts pickup functionality will be added in the next update."})})]})]})}):null}var _r;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(_r||(_r={}));var c9=new Map([[_r.QR_CODE,"QR_CODE"],[_r.AZTEC,"AZTEC"],[_r.CODABAR,"CODABAR"],[_r.CODE_39,"CODE_39"],[_r.CODE_93,"CODE_93"],[_r.CODE_128,"CODE_128"],[_r.DATA_MATRIX,"DATA_MATRIX"],[_r.MAXICODE,"MAXICODE"],[_r.ITF,"ITF"],[_r.EAN_13,"EAN_13"],[_r.EAN_8,"EAN_8"],[_r.PDF_417,"PDF_417"],[_r.RSS_14,"RSS_14"],[_r.RSS_EXPANDED,"RSS_EXPANDED"],[_r.UPC_A,"UPC_A"],[_r.UPC_E,"UPC_E"],[_r.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),u9;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(u9||(u9={}));function Z$e(e){return Object.values(_r).includes(e)}var Zh;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Zh||(Zh={}));var Vc=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Zh.SCAN_TYPE_CAMERA,Zh.SCAN_TYPE_FILE],e}(),VQ=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!c9.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,c9.get(t))},e}(),d9=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),xT;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(xT||(xT={}));var WQ=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:xT.UNKWOWN_ERROR}},e}(),HQ=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Iu(e){return typeof e>"u"||e===null}function J$e(e,t,r){return e>r?r:e<t?t:e}var im=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),yi=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),f9=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),qQ=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(i),o=Object.keys(t),l=0,c=o;l<c.length;l++){var u=c[l];if(a.has(u))return r.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},e}(),vT={exports:{}};(function(e,t){(function(r,n){n(t)})(Dd,function(r){function n(ae){return ae==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ae,d){ae.__proto__=d}||function(ae,d){for(var h in d)d.hasOwnProperty(h)&&(ae[h]=d[h])};function a(ae,d){i(ae,d);function h(){this.constructor=ae}ae.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}function o(ae,d){var h=Object.setPrototypeOf;h?h(ae,d):ae.__proto__=d}function l(ae,d){d===void 0&&(d=ae.constructor);var h=Error.captureStackTrace;h&&h(ae,d)}var c=function(ae){a(d,ae);function d(h){var m=this.constructor,v=ae.call(this,h)||this;return Object.defineProperty(v,"name",{value:m.name,enumerable:!1}),o(v,m.prototype),l(v),v}return d}(Error);class u extends c{constructor(d=void 0){super(d),this.message=d}getKind(){return this.constructor.kind}}u.kind="Exception";class f extends u{}f.kind="ArgumentException";class p extends u{}p.kind="IllegalArgumentException";class g{constructor(d){if(this.binarizer=d,d===null)throw new p("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(d,h){return this.binarizer.getBlackRow(d,h)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(d,h,m,v){const w=this.binarizer.getLuminanceSource().crop(d,h,m,v);return new g(this.binarizer.createBinarizer(w))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const d=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new g(this.binarizer.createBinarizer(d))}rotateCounterClockwise45(){const d=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new g(this.binarizer.createBinarizer(d))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class x extends u{static getChecksumInstance(){return new x}}x.kind="ChecksumException";class b{constructor(d){this.source=d}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class y{static arraycopy(d,h,m,v,w){for(;w--;)m[v++]=d[h++]}static currentTimeMillis(){return Date.now()}}class _ extends u{}_.kind="IndexOutOfBoundsException";class N extends _{constructor(d=void 0,h=void 0){super(h),this.index=d,this.message=h}}N.kind="ArrayIndexOutOfBoundsException";class E{static fill(d,h){for(let m=0,v=d.length;m<v;m++)d[m]=h}static fillWithin(d,h,m,v){E.rangeCheck(d.length,h,m);for(let w=h;w<m;w++)d[w]=v}static rangeCheck(d,h,m){if(h>m)throw new p("fromIndex("+h+") > toIndex("+m+")");if(h<0)throw new N(h);if(m>d)throw new N(m)}static asList(...d){return d}static create(d,h,m){return Array.from({length:d}).map(w=>Array.from({length:h}).fill(m))}static createInt32Array(d,h,m){return Array.from({length:d}).map(w=>Int32Array.from({length:h}).fill(m))}static equals(d,h){if(!d||!h||!d.length||!h.length||d.length!==h.length)return!1;for(let m=0,v=d.length;m<v;m++)if(d[m]!==h[m])return!1;return!0}static hashCode(d){if(d===null)return 0;let h=1;for(const m of d)h=31*h+m;return h}static fillUint8Array(d,h){for(let m=0;m!==d.length;m++)d[m]=h}static copyOf(d,h){return d.slice(0,h)}static copyOfUint8Array(d,h){if(d.length<=h){const m=new Uint8Array(h);return m.set(d),m}return d.slice(0,h)}static copyOfRange(d,h,m){const v=m-h,w=new Int32Array(v);return y.arraycopy(d,h,w,0,v),w}static binarySearch(d,h,m){m===void 0&&(m=E.numberComparator);let v=0,w=d.length-1;for(;v<=w;){const S=w+v>>1,j=m(h,d[S]);if(j>0)v=S+1;else if(j<0)w=S-1;else return S}return-v-1}static numberComparator(d,h){return d-h}}class C{static numberOfTrailingZeros(d){let h;if(d===0)return 32;let m=31;return h=d<<16,h!==0&&(m-=16,d=h),h=d<<8,h!==0&&(m-=8,d=h),h=d<<4,h!==0&&(m-=4,d=h),h=d<<2,h!==0&&(m-=2,d=h),m-(d<<1>>>31)}static numberOfLeadingZeros(d){if(d===0)return 32;let h=1;return d>>>16||(h+=16,d<<=16),d>>>24||(h+=8,d<<=8),d>>>28||(h+=4,d<<=4),d>>>30||(h+=2,d<<=2),h-=d>>>31,h}static toHexString(d){return d.toString(16)}static toBinaryString(d){return String(parseInt(String(d),2))}static bitCount(d){return d=d-(d>>>1&1431655765),d=(d&858993459)+(d>>>2&858993459),d=d+(d>>>4)&252645135,d=d+(d>>>8),d=d+(d>>>16),d&63}static truncDivision(d,h){return Math.trunc(d/h)}static parseInt(d,h=void 0){return parseInt(d,h)}}C.MIN_VALUE_32_BITS=-2147483648,C.MAX_VALUE=Number.MAX_SAFE_INTEGER;class I{constructor(d,h){d===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=d,h==null?this.bits=I.makeArray(d):this.bits=h)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(d){if(d>this.bits.length*32){const h=I.makeArray(d);y.arraycopy(this.bits,0,h,0,this.bits.length),this.bits=h}}get(d){return(this.bits[Math.floor(d/32)]&1<<(d&31))!==0}set(d){this.bits[Math.floor(d/32)]|=1<<(d&31)}flip(d){this.bits[Math.floor(d/32)]^=1<<(d&31)}getNextSet(d){const h=this.size;if(d>=h)return h;const m=this.bits;let v=Math.floor(d/32),w=m[v];w&=~((1<<(d&31))-1);const S=m.length;for(;w===0;){if(++v===S)return h;w=m[v]}const j=v*32+C.numberOfTrailingZeros(w);return j>h?h:j}getNextUnset(d){const h=this.size;if(d>=h)return h;const m=this.bits;let v=Math.floor(d/32),w=~m[v];w&=~((1<<(d&31))-1);const S=m.length;for(;w===0;){if(++v===S)return h;w=~m[v]}const j=v*32+C.numberOfTrailingZeros(w);return j>h?h:j}setBulk(d,h){this.bits[Math.floor(d/32)]=h}setRange(d,h){if(h<d||d<0||h>this.size)throw new p;if(h===d)return;h--;const m=Math.floor(d/32),v=Math.floor(h/32),w=this.bits;for(let S=m;S<=v;S++){const j=S>m?0:d&31,z=(2<<(S<v?31:h&31))-(1<<j);w[S]|=z}}clear(){const d=this.bits.length,h=this.bits;for(let m=0;m<d;m++)h[m]=0}isRange(d,h,m){if(h<d||d<0||h>this.size)throw new p;if(h===d)return!0;h--;const v=Math.floor(d/32),w=Math.floor(h/32),S=this.bits;for(let j=v;j<=w;j++){const M=j>v?0:d&31,X=(2<<(j<w?31:h&31))-(1<<M)&4294967295;if((S[j]&X)!==(m?X:0))return!1}return!0}appendBit(d){this.ensureCapacity(this.size+1),d&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(d,h){if(h<0||h>32)throw new p("Num bits must be between 0 and 32");this.ensureCapacity(this.size+h);for(let m=h;m>0;m--)this.appendBit((d>>m-1&1)===1)}appendBitArray(d){const h=d.size;this.ensureCapacity(this.size+h);for(let m=0;m<h;m++)this.appendBit(d.get(m))}xor(d){if(this.size!==d.size)throw new p("Sizes don't match");const h=this.bits;for(let m=0,v=h.length;m<v;m++)h[m]^=d.bits[m]}toBytes(d,h,m,v){for(let w=0;w<v;w++){let S=0;for(let j=0;j<8;j++)this.get(d)&&(S|=1<<7-j),d++;h[m+w]=S}}getBitArray(){return this.bits}reverse(){const d=new Int32Array(this.bits.length),h=Math.floor((this.size-1)/32),m=h+1,v=this.bits;for(let w=0;w<m;w++){let S=v[w];S=S>>1&1431655765|(S&1431655765)<<1,S=S>>2&858993459|(S&858993459)<<2,S=S>>4&252645135|(S&252645135)<<4,S=S>>8&16711935|(S&16711935)<<8,S=S>>16&65535|(S&65535)<<16,d[h-w]=S}if(this.size!==m*32){const w=m*32-this.size;let S=d[0]>>>w;for(let j=1;j<m;j++){const M=d[j];S|=M<<32-w,d[j-1]=S,S=M>>>w}d[m-1]=S}this.bits=d}static makeArray(d){return new Int32Array(Math.floor((d+31)/32))}equals(d){if(!(d instanceof I))return!1;const h=d;return this.size===h.size&&E.equals(this.bits,h.bits)}hashCode(){return 31*this.size+E.hashCode(this.bits)}toString(){let d="";for(let h=0,m=this.size;h<m;h++)h&7||(d+=" "),d+=this.get(h)?"X":".";return d}clone(){return new I(this.size,this.bits.slice())}}var P;(function(ae){ae[ae.OTHER=0]="OTHER",ae[ae.PURE_BARCODE=1]="PURE_BARCODE",ae[ae.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",ae[ae.TRY_HARDER=3]="TRY_HARDER",ae[ae.CHARACTER_SET=4]="CHARACTER_SET",ae[ae.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",ae[ae.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",ae[ae.ASSUME_GS1=7]="ASSUME_GS1",ae[ae.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",ae[ae.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",ae[ae.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(P||(P={}));var D=P;class k extends u{static getFormatInstance(){return new k}}k.kind="FormatException";var L;(function(ae){ae[ae.Cp437=0]="Cp437",ae[ae.ISO8859_1=1]="ISO8859_1",ae[ae.ISO8859_2=2]="ISO8859_2",ae[ae.ISO8859_3=3]="ISO8859_3",ae[ae.ISO8859_4=4]="ISO8859_4",ae[ae.ISO8859_5=5]="ISO8859_5",ae[ae.ISO8859_6=6]="ISO8859_6",ae[ae.ISO8859_7=7]="ISO8859_7",ae[ae.ISO8859_8=8]="ISO8859_8",ae[ae.ISO8859_9=9]="ISO8859_9",ae[ae.ISO8859_10=10]="ISO8859_10",ae[ae.ISO8859_11=11]="ISO8859_11",ae[ae.ISO8859_13=12]="ISO8859_13",ae[ae.ISO8859_14=13]="ISO8859_14",ae[ae.ISO8859_15=14]="ISO8859_15",ae[ae.ISO8859_16=15]="ISO8859_16",ae[ae.SJIS=16]="SJIS",ae[ae.Cp1250=17]="Cp1250",ae[ae.Cp1251=18]="Cp1251",ae[ae.Cp1252=19]="Cp1252",ae[ae.Cp1256=20]="Cp1256",ae[ae.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",ae[ae.UTF8=22]="UTF8",ae[ae.ASCII=23]="ASCII",ae[ae.Big5=24]="Big5",ae[ae.GB18030=25]="GB18030",ae[ae.EUC_KR=26]="EUC_KR"})(L||(L={}));class B{constructor(d,h,m,...v){this.valueIdentifier=d,this.name=m,typeof h=="number"?this.values=Int32Array.from([h]):this.values=h,this.otherEncodingNames=v,B.VALUE_IDENTIFIER_TO_ECI.set(d,this),B.NAME_TO_ECI.set(m,this);const w=this.values;for(let S=0,j=w.length;S!==j;S++){const M=w[S];B.VALUES_TO_ECI.set(M,this)}for(const S of v)B.NAME_TO_ECI.set(S,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(d){if(d<0||d>=900)throw new k("incorect value");const h=B.VALUES_TO_ECI.get(d);if(h===void 0)throw new k("incorect value");return h}static getCharacterSetECIByName(d){const h=B.NAME_TO_ECI.get(d);if(h===void 0)throw new k("incorect value");return h}equals(d){if(!(d instanceof B))return!1;const h=d;return this.getName()===h.getName()}}B.VALUE_IDENTIFIER_TO_ECI=new Map,B.VALUES_TO_ECI=new Map,B.NAME_TO_ECI=new Map,B.Cp437=new B(L.Cp437,Int32Array.from([0,2]),"Cp437"),B.ISO8859_1=new B(L.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),B.ISO8859_2=new B(L.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),B.ISO8859_3=new B(L.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),B.ISO8859_4=new B(L.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),B.ISO8859_5=new B(L.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),B.ISO8859_6=new B(L.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),B.ISO8859_7=new B(L.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),B.ISO8859_8=new B(L.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),B.ISO8859_9=new B(L.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),B.ISO8859_10=new B(L.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),B.ISO8859_11=new B(L.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),B.ISO8859_13=new B(L.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),B.ISO8859_14=new B(L.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),B.ISO8859_15=new B(L.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),B.ISO8859_16=new B(L.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),B.SJIS=new B(L.SJIS,20,"SJIS","Shift_JIS"),B.Cp1250=new B(L.Cp1250,21,"Cp1250","windows-1250"),B.Cp1251=new B(L.Cp1251,22,"Cp1251","windows-1251"),B.Cp1252=new B(L.Cp1252,23,"Cp1252","windows-1252"),B.Cp1256=new B(L.Cp1256,24,"Cp1256","windows-1256"),B.UnicodeBigUnmarked=new B(L.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),B.UTF8=new B(L.UTF8,26,"UTF8","UTF-8"),B.ASCII=new B(L.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),B.Big5=new B(L.Big5,28,"Big5"),B.GB18030=new B(L.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),B.EUC_KR=new B(L.EUC_KR,30,"EUC_KR","EUC-KR");class G extends u{}G.kind="UnsupportedOperationException";class F{static decode(d,h){const m=this.encodingName(h);return this.customDecoder?this.customDecoder(d,m):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(m)?this.decodeFallback(d,m):new TextDecoder(m).decode(d)}static shouldDecodeOnFallback(d){return!F.isBrowser()&&d==="ISO-8859-1"}static encode(d,h){const m=this.encodingName(h);return this.customEncoder?this.customEncoder(d,m):typeof TextEncoder>"u"?this.encodeFallback(d):new TextEncoder().encode(d)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(d){return typeof d=="string"?d:d.getName()}static encodingCharacterSet(d){return d instanceof B?d:B.getCharacterSetECIByName(d)}static decodeFallback(d,h){const m=this.encodingCharacterSet(h);if(F.isDecodeFallbackSupported(m)){let v="";for(let w=0,S=d.length;w<S;w++){let j=d[w].toString(16);j.length<2&&(j="0"+j),v+="%"+j}return decodeURIComponent(v)}if(m.equals(B.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(d.buffer));throw new G(`Encoding ${this.encodingName(h)} not supported by fallback.`)}static isDecodeFallbackSupported(d){return d.equals(B.UTF8)||d.equals(B.ISO8859_1)||d.equals(B.ASCII)}static encodeFallback(d){const m=btoa(unescape(encodeURIComponent(d))).split(""),v=[];for(let w=0;w<m.length;w++)v.push(m[w].charCodeAt(0));return new Uint8Array(v)}}class U{static castAsNonUtf8Char(d,h=null){const m=h?h.getName():this.ISO88591;return F.decode(new Uint8Array([d]),m)}static guessEncoding(d,h){if(h!=null&&h.get(D.CHARACTER_SET)!==void 0)return h.get(D.CHARACTER_SET).toString();const m=d.length;let v=!0,w=!0,S=!0,j=0,M=0,z=0,X=0,ie=0,pe=0,$e=0,Xe=0,Qe=0,ot=0,St=0;const Ft=d.length>3&&d[0]===239&&d[1]===187&&d[2]===191;for(let Wt=0;Wt<m&&(v||w||S);Wt++){const $t=d[Wt]&255;S&&(j>0?$t&128?j--:S=!1:$t&128&&($t&64?(j++,$t&32?(j++,$t&16?(j++,$t&8?S=!1:X++):z++):M++):S=!1)),v&&($t>127&&$t<160?v=!1:$t>159&&($t<192||$t===215||$t===247)&&St++),w&&(ie>0?$t<64||$t===127||$t>252?w=!1:ie--:$t===128||$t===160||$t>239?w=!1:$t>160&&$t<224?(pe++,Xe=0,$e++,$e>Qe&&(Qe=$e)):$t>127?(ie++,$e=0,Xe++,Xe>ot&&(ot=Xe)):($e=0,Xe=0))}return S&&j>0&&(S=!1),w&&ie>0&&(w=!1),S&&(Ft||M+z+X>0)?U.UTF8:w&&(U.ASSUME_SHIFT_JIS||Qe>=3||ot>=3)?U.SHIFT_JIS:v&&w?Qe===2&&pe===2||St*10>=m?U.SHIFT_JIS:U.ISO88591:v?U.ISO88591:w?U.SHIFT_JIS:S?U.UTF8:U.PLATFORM_DEFAULT_ENCODING}static format(d,...h){let m=-1;function v(S,j,M,z,X,ie){if(S==="%%")return"%";if(h[++m]===void 0)return;S=z?parseInt(z.substr(1)):void 0;let pe=X?parseInt(X.substr(1)):void 0,$e;switch(ie){case"s":$e=h[m];break;case"c":$e=h[m][0];break;case"f":$e=parseFloat(h[m]).toFixed(S);break;case"p":$e=parseFloat(h[m]).toPrecision(S);break;case"e":$e=parseFloat(h[m]).toExponential(S);break;case"x":$e=parseInt(h[m]).toString(pe||16);break;case"d":$e=parseFloat(parseInt(h[m],pe||10).toPrecision(S)).toFixed(0);break}$e=typeof $e=="object"?JSON.stringify($e):(+$e).toString(pe);let Xe=parseInt(M),Qe=M&&M[0]+""=="0"?"0":" ";for(;$e.length<Xe;)$e=j!==void 0?$e+Qe:Qe+$e;return $e}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return d.replace(w,v)}static getBytes(d,h){return F.encode(d,h)}static getCharCode(d,h=0){return d.charCodeAt(h)}static getCharAt(d){return String.fromCharCode(d)}}U.SHIFT_JIS=B.SJIS.getName(),U.GB2312="GB2312",U.ISO88591=B.ISO8859_1.getName(),U.EUC_JP="EUC_JP",U.UTF8=B.UTF8.getName(),U.PLATFORM_DEFAULT_ENCODING=U.UTF8,U.ASSUME_SHIFT_JIS=!1;class q{constructor(d=""){this.value=d}enableDecoding(d){return this.encoding=d,this}append(d){return typeof d=="string"?this.value+=d.toString():this.encoding?this.value+=U.castAsNonUtf8Char(d,this.encoding):this.value+=String.fromCharCode(d),this}appendChars(d,h,m){for(let v=h;h<h+m;v++)this.append(d[v]);return this}length(){return this.value.length}charAt(d){return this.value.charAt(d)}deleteCharAt(d){this.value=this.value.substr(0,d)+this.value.substring(d+1)}setCharAt(d,h){this.value=this.value.substr(0,d)+h+this.value.substr(d+1)}substring(d,h){return this.value.substring(d,h)}setLengthToZero(){this.value=""}toString(){return this.value}insert(d,h){this.value=this.value.substr(0,d)+h+this.value.substr(d+h.length)}}class K{constructor(d,h,m,v){if(this.width=d,this.height=h,this.rowSize=m,this.bits=v,h==null&&(h=d),this.height=h,d<1||h<1)throw new p("Both dimensions must be greater than 0");m==null&&(m=Math.floor((d+31)/32)),this.rowSize=m,v==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(d){const h=d.length,m=d[0].length,v=new K(m,h);for(let w=0;w<h;w++){const S=d[w];for(let j=0;j<m;j++)S[j]&&v.set(j,w)}return v}static parseFromString(d,h,m){if(d===null)throw new p("stringRepresentation cannot be null");const v=new Array(d.length);let w=0,S=0,j=-1,M=0,z=0;for(;z<d.length;)if(d.charAt(z)===`
`||d.charAt(z)==="\r"){if(w>S){if(j===-1)j=w-S;else if(w-S!==j)throw new p("row lengths do not match");S=w,M++}z++}else if(d.substring(z,z+h.length)===h)z+=h.length,v[w]=!0,w++;else if(d.substring(z,z+m.length)===m)z+=m.length,v[w]=!1,w++;else throw new p("illegal character encountered: "+d.substring(z));if(w>S){if(j===-1)j=w-S;else if(w-S!==j)throw new p("row lengths do not match");M++}const X=new K(j,M);for(let ie=0;ie<w;ie++)v[ie]&&X.set(Math.floor(ie%j),Math.floor(ie/j));return X}get(d,h){const m=h*this.rowSize+Math.floor(d/32);return(this.bits[m]>>>(d&31)&1)!==0}set(d,h){const m=h*this.rowSize+Math.floor(d/32);this.bits[m]|=1<<(d&31)&4294967295}unset(d,h){const m=h*this.rowSize+Math.floor(d/32);this.bits[m]&=~(1<<(d&31)&4294967295)}flip(d,h){const m=h*this.rowSize+Math.floor(d/32);this.bits[m]^=1<<(d&31)&4294967295}xor(d){if(this.width!==d.getWidth()||this.height!==d.getHeight()||this.rowSize!==d.getRowSize())throw new p("input matrix dimensions do not match");const h=new I(Math.floor(this.width/32)+1),m=this.rowSize,v=this.bits;for(let w=0,S=this.height;w<S;w++){const j=w*m,M=d.getRow(w,h).getBitArray();for(let z=0;z<m;z++)v[j+z]^=M[z]}}clear(){const d=this.bits,h=d.length;for(let m=0;m<h;m++)d[m]=0}setRegion(d,h,m,v){if(h<0||d<0)throw new p("Left and top must be nonnegative");if(v<1||m<1)throw new p("Height and width must be at least 1");const w=d+m,S=h+v;if(S>this.height||w>this.width)throw new p("The region must fit inside the matrix");const j=this.rowSize,M=this.bits;for(let z=h;z<S;z++){const X=z*j;for(let ie=d;ie<w;ie++)M[X+Math.floor(ie/32)]|=1<<(ie&31)&4294967295}}getRow(d,h){h==null||h.getSize()<this.width?h=new I(this.width):h.clear();const m=this.rowSize,v=this.bits,w=d*m;for(let S=0;S<m;S++)h.setBulk(S*32,v[w+S]);return h}setRow(d,h){y.arraycopy(h.getBitArray(),0,this.bits,d*this.rowSize,this.rowSize)}rotate180(){const d=this.getWidth(),h=this.getHeight();let m=new I(d),v=new I(d);for(let w=0,S=Math.floor((h+1)/2);w<S;w++)m=this.getRow(w,m),v=this.getRow(h-1-w,v),m.reverse(),v.reverse(),this.setRow(w,v),this.setRow(h-1-w,m)}getEnclosingRectangle(){const d=this.width,h=this.height,m=this.rowSize,v=this.bits;let w=d,S=h,j=-1,M=-1;for(let z=0;z<h;z++)for(let X=0;X<m;X++){const ie=v[z*m+X];if(ie!==0){if(z<S&&(S=z),z>M&&(M=z),X*32<w){let pe=0;for(;!(ie<<31-pe&4294967295);)pe++;X*32+pe<w&&(w=X*32+pe)}if(X*32+31>j){let pe=31;for(;!(ie>>>pe);)pe--;X*32+pe>j&&(j=X*32+pe)}}}return j<w||M<S?null:Int32Array.from([w,S,j-w+1,M-S+1])}getTopLeftOnBit(){const d=this.rowSize,h=this.bits;let m=0;for(;m<h.length&&h[m]===0;)m++;if(m===h.length)return null;const v=m/d;let w=m%d*32;const S=h[m];let j=0;for(;!(S<<31-j&4294967295);)j++;return w+=j,Int32Array.from([w,v])}getBottomRightOnBit(){const d=this.rowSize,h=this.bits;let m=h.length-1;for(;m>=0&&h[m]===0;)m--;if(m<0)return null;const v=Math.floor(m/d);let w=Math.floor(m%d)*32;const S=h[m];let j=31;for(;!(S>>>j);)j--;return w+=j,Int32Array.from([w,v])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(d){if(!(d instanceof K))return!1;const h=d;return this.width===h.width&&this.height===h.height&&this.rowSize===h.rowSize&&E.equals(this.bits,h.bits)}hashCode(){let d=this.width;return d=31*d+this.width,d=31*d+this.height,d=31*d+this.rowSize,d=31*d+E.hashCode(this.bits),d}toString(d="X ",h="  ",m=`
`){return this.buildToString(d,h,m)}buildToString(d,h,m){let v=new q;for(let w=0,S=this.height;w<S;w++){for(let j=0,M=this.width;j<M;j++)v.append(this.get(j,w)?d:h);v.append(m)}return v.toString()}clone(){return new K(this.width,this.height,this.rowSize,this.bits.slice())}}class V extends u{static getNotFoundInstance(){return new V}}V.kind="NotFoundException";class ee extends b{constructor(d){super(d),this.luminances=ee.EMPTY,this.buckets=new Int32Array(ee.LUMINANCE_BUCKETS)}getBlackRow(d,h){const m=this.getLuminanceSource(),v=m.getWidth();h==null||h.getSize()<v?h=new I(v):h.clear(),this.initArrays(v);const w=m.getRow(d,this.luminances),S=this.buckets;for(let M=0;M<v;M++)S[(w[M]&255)>>ee.LUMINANCE_SHIFT]++;const j=ee.estimateBlackPoint(S);if(v<3)for(let M=0;M<v;M++)(w[M]&255)<j&&h.set(M);else{let M=w[0]&255,z=w[1]&255;for(let X=1;X<v-1;X++){const ie=w[X+1]&255;(z*4-M-ie)/2<j&&h.set(X),M=z,z=ie}}return h}getBlackMatrix(){const d=this.getLuminanceSource(),h=d.getWidth(),m=d.getHeight(),v=new K(h,m);this.initArrays(h);const w=this.buckets;for(let M=1;M<5;M++){const z=Math.floor(m*M/5),X=d.getRow(z,this.luminances),ie=Math.floor(h*4/5);for(let pe=Math.floor(h/5);pe<ie;pe++){const $e=X[pe]&255;w[$e>>ee.LUMINANCE_SHIFT]++}}const S=ee.estimateBlackPoint(w),j=d.getMatrix();for(let M=0;M<m;M++){const z=M*h;for(let X=0;X<h;X++)(j[z+X]&255)<S&&v.set(X,M)}return v}createBinarizer(d){return new ee(d)}initArrays(d){this.luminances.length<d&&(this.luminances=new Uint8ClampedArray(d));const h=this.buckets;for(let m=0;m<ee.LUMINANCE_BUCKETS;m++)h[m]=0}static estimateBlackPoint(d){const h=d.length;let m=0,v=0,w=0;for(let X=0;X<h;X++)d[X]>w&&(v=X,w=d[X]),d[X]>m&&(m=d[X]);let S=0,j=0;for(let X=0;X<h;X++){const ie=X-v,pe=d[X]*ie*ie;pe>j&&(S=X,j=pe)}if(v>S){const X=v;v=S,S=X}if(S-v<=h/16)throw new V;let M=S-1,z=-1;for(let X=S-1;X>v;X--){const ie=X-v,pe=ie*ie*(S-X)*(m-d[X]);pe>z&&(M=X,z=pe)}return M<<ee.LUMINANCE_SHIFT}}ee.LUMINANCE_BITS=5,ee.LUMINANCE_SHIFT=8-ee.LUMINANCE_BITS,ee.LUMINANCE_BUCKETS=1<<ee.LUMINANCE_BITS,ee.EMPTY=Uint8ClampedArray.from([0]);class te extends ee{constructor(d){super(d),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const d=this.getLuminanceSource(),h=d.getWidth(),m=d.getHeight();if(h>=te.MINIMUM_DIMENSION&&m>=te.MINIMUM_DIMENSION){const v=d.getMatrix();let w=h>>te.BLOCK_SIZE_POWER;h&te.BLOCK_SIZE_MASK&&w++;let S=m>>te.BLOCK_SIZE_POWER;m&te.BLOCK_SIZE_MASK&&S++;const j=te.calculateBlackPoints(v,w,S,h,m),M=new K(h,m);te.calculateThresholdForBlock(v,w,S,h,m,j,M),this.matrix=M}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(d){return new te(d)}static calculateThresholdForBlock(d,h,m,v,w,S,j){const M=w-te.BLOCK_SIZE,z=v-te.BLOCK_SIZE;for(let X=0;X<m;X++){let ie=X<<te.BLOCK_SIZE_POWER;ie>M&&(ie=M);const pe=te.cap(X,2,m-3);for(let $e=0;$e<h;$e++){let Xe=$e<<te.BLOCK_SIZE_POWER;Xe>z&&(Xe=z);const Qe=te.cap($e,2,h-3);let ot=0;for(let Ft=-2;Ft<=2;Ft++){const Wt=S[pe+Ft];ot+=Wt[Qe-2]+Wt[Qe-1]+Wt[Qe]+Wt[Qe+1]+Wt[Qe+2]}const St=ot/25;te.thresholdBlock(d,Xe,ie,St,v,j)}}}static cap(d,h,m){return d<h?h:d>m?m:d}static thresholdBlock(d,h,m,v,w,S){for(let j=0,M=m*w+h;j<te.BLOCK_SIZE;j++,M+=w)for(let z=0;z<te.BLOCK_SIZE;z++)(d[M+z]&255)<=v&&S.set(h+z,m+j)}static calculateBlackPoints(d,h,m,v,w){const S=w-te.BLOCK_SIZE,j=v-te.BLOCK_SIZE,M=new Array(m);for(let z=0;z<m;z++){M[z]=new Int32Array(h);let X=z<<te.BLOCK_SIZE_POWER;X>S&&(X=S);for(let ie=0;ie<h;ie++){let pe=ie<<te.BLOCK_SIZE_POWER;pe>j&&(pe=j);let $e=0,Xe=255,Qe=0;for(let St=0,Ft=X*v+pe;St<te.BLOCK_SIZE;St++,Ft+=v){for(let Wt=0;Wt<te.BLOCK_SIZE;Wt++){const $t=d[Ft+Wt]&255;$e+=$t,$t<Xe&&(Xe=$t),$t>Qe&&(Qe=$t)}if(Qe-Xe>te.MIN_DYNAMIC_RANGE)for(St++,Ft+=v;St<te.BLOCK_SIZE;St++,Ft+=v)for(let Wt=0;Wt<te.BLOCK_SIZE;Wt++)$e+=d[Ft+Wt]&255}let ot=$e>>te.BLOCK_SIZE_POWER*2;if(Qe-Xe<=te.MIN_DYNAMIC_RANGE&&(ot=Xe/2,z>0&&ie>0)){const St=(M[z-1][ie]+2*M[z][ie-1]+M[z-1][ie-1])/4;Xe<St&&(ot=St)}M[z][ie]=ot}}return M}}te.BLOCK_SIZE_POWER=3,te.BLOCK_SIZE=1<<te.BLOCK_SIZE_POWER,te.BLOCK_SIZE_MASK=te.BLOCK_SIZE-1,te.MINIMUM_DIMENSION=te.BLOCK_SIZE*5,te.MIN_DYNAMIC_RANGE=24;class J{constructor(d,h){this.width=d,this.height=h}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(d,h,m,v){throw new G("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new G("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new G("This luminance source does not support rotation by 45 degrees.")}toString(){const d=new Uint8ClampedArray(this.width);let h=new q;for(let m=0;m<this.height;m++){const v=this.getRow(m,d);for(let w=0;w<this.width;w++){const S=v[w]&255;let j;S<64?j="#":S<128?j="+":S<192?j=".":j=" ",h.append(j)}h.append(`
`)}return h.toString()}}class ge extends J{constructor(d){super(d.getWidth(),d.getHeight()),this.delegate=d}getRow(d,h){const m=this.delegate.getRow(d,h),v=this.getWidth();for(let w=0;w<v;w++)m[w]=255-(m[w]&255);return m}getMatrix(){const d=this.delegate.getMatrix(),h=this.getWidth()*this.getHeight(),m=new Uint8ClampedArray(h);for(let v=0;v<h;v++)m[v]=255-(d[v]&255);return m}isCropSupported(){return this.delegate.isCropSupported()}crop(d,h,m,v){return new ge(this.delegate.crop(d,h,m,v))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ge(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ge(this.delegate.rotateCounterClockwise45())}}class Ie extends J{constructor(d){super(d.width,d.height),this.canvas=d,this.tempCanvasElement=null,this.buffer=Ie.makeBufferFromCanvasImageData(d)}static makeBufferFromCanvasImageData(d){const h=d.getContext("2d").getImageData(0,0,d.width,d.height);return Ie.toGrayscaleBuffer(h.data,d.width,d.height)}static toGrayscaleBuffer(d,h,m){const v=new Uint8ClampedArray(h*m);for(let w=0,S=0,j=d.length;w<j;w+=4,S++){let M;if(d[w+3]===0)M=255;else{const X=d[w],ie=d[w+1],pe=d[w+2];M=306*X+601*ie+117*pe+512>>10}v[S]=M}return v}getRow(d,h){if(d<0||d>=this.getHeight())throw new p("Requested row is outside the image: "+d);const m=this.getWidth(),v=d*m;return h===null?h=this.buffer.slice(v,v+m):(h.length<m&&(h=new Uint8ClampedArray(m)),h.set(this.buffer.slice(v,v+m))),h}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(d,h,m,v){return super.crop(d,h,m,v),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const d=this.canvas.ownerDocument.createElement("canvas");d.width=this.canvas.width,d.height=this.canvas.height,this.tempCanvasElement=d}return this.tempCanvasElement}rotate(d){const h=this.getTempCanvasElement(),m=h.getContext("2d"),v=d*Ie.DEGREE_TO_RADIANS,w=this.canvas.width,S=this.canvas.height,j=Math.ceil(Math.abs(Math.cos(v))*w+Math.abs(Math.sin(v))*S),M=Math.ceil(Math.abs(Math.sin(v))*w+Math.abs(Math.cos(v))*S);return h.width=j,h.height=M,m.translate(j/2,M/2),m.rotate(v),m.drawImage(this.canvas,w/-2,S/-2),this.buffer=Ie.makeBufferFromCanvasImageData(h),this}invert(){return new ge(this)}}Ie.DEGREE_TO_RADIANS=Math.PI/180;class Ge{constructor(d,h,m){this.deviceId=d,this.label=h,this.kind="videoinput",this.groupId=m||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var W=(globalThis||Dd||self||window||void 0)&&(globalThis||Dd||self||window||void 0).__awaiter||function(ae,d,h,m){function v(w){return w instanceof h?w:new h(function(S){S(w)})}return new(h||(h=Promise))(function(w,S){function j(X){try{z(m.next(X))}catch(ie){S(ie)}}function M(X){try{z(m.throw(X))}catch(ie){S(ie)}}function z(X){X.done?w(X.value):v(X.value).then(j,M)}z((m=m.apply(ae,d||[])).next())})};class Q{constructor(d,h=500,m){this.reader=d,this.timeBetweenScansMillis=h,this._hints=m,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(d){this._timeBetweenDecodingAttempts=d<0?0:d}set hints(d){this._hints=d||null}get hints(){return this._hints}listVideoInputDevices(){return W(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const d=yield navigator.mediaDevices.enumerateDevices(),h=[];for(const m of d){const v=m.kind==="video"?"videoinput":m.kind;if(v!=="videoinput")continue;const w=m.deviceId||m.id,S=m.label||`Video device ${h.length+1}`,j=m.groupId,M={deviceId:w,label:S,kind:v,groupId:j};h.push(M)}return h})}getVideoInputDevices(){return W(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(h=>new Ge(h.deviceId,h.label))})}findDeviceById(d){return W(this,void 0,void 0,function*(){const h=yield this.listVideoInputDevices();return h?h.find(m=>m.deviceId===d):null})}decodeFromInputVideoDevice(d,h){return W(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(d,h)})}decodeOnceFromVideoDevice(d,h){return W(this,void 0,void 0,function*(){this.reset();let m;d?m={deviceId:{exact:d}}:m={facingMode:"environment"};const v={video:m};return yield this.decodeOnceFromConstraints(v,h)})}decodeOnceFromConstraints(d,h){return W(this,void 0,void 0,function*(){const m=yield navigator.mediaDevices.getUserMedia(d);return yield this.decodeOnceFromStream(m,h)})}decodeOnceFromStream(d,h){return W(this,void 0,void 0,function*(){this.reset();const m=yield this.attachStreamToVideo(d,h);return yield this.decodeOnce(m)})}decodeFromInputVideoDeviceContinuously(d,h,m){return W(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(d,h,m)})}decodeFromVideoDevice(d,h,m){return W(this,void 0,void 0,function*(){let v;d?v={deviceId:{exact:d}}:v={facingMode:"environment"};const w={video:v};return yield this.decodeFromConstraints(w,h,m)})}decodeFromConstraints(d,h,m){return W(this,void 0,void 0,function*(){const v=yield navigator.mediaDevices.getUserMedia(d);return yield this.decodeFromStream(v,h,m)})}decodeFromStream(d,h,m){return W(this,void 0,void 0,function*(){this.reset();const v=yield this.attachStreamToVideo(d,h);return yield this.decodeContinuously(v,m)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(d,h){return W(this,void 0,void 0,function*(){const m=this.prepareVideoElement(h);return this.addVideoSource(m,d),this.videoElement=m,this.stream=d,yield this.playVideoOnLoadAsync(m),m})}playVideoOnLoadAsync(d){return new Promise((h,m)=>this.playVideoOnLoad(d,()=>h()))}playVideoOnLoad(d,h){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(d),d.addEventListener("ended",this.videoEndedListener),d.addEventListener("canplay",this.videoCanPlayListener),d.addEventListener("playing",h),this.tryPlayVideo(d)}isVideoPlaying(d){return d.currentTime>0&&!d.paused&&!d.ended&&d.readyState>2}tryPlayVideo(d){return W(this,void 0,void 0,function*(){if(this.isVideoPlaying(d)){console.warn("Trying to play video that is already playing.");return}try{yield d.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(d,h){const m=document.getElementById(d);if(!m)throw new f(`element with id '${d}' not found`);if(m.nodeName.toLowerCase()!==h.toLowerCase())throw new f(`element with id '${d}' must be an ${h} element`);return m}decodeFromImage(d,h){if(!d&&!h)throw new f("either imageElement with a src set or an url must be provided");return h&&!d?this.decodeFromImageUrl(h):this.decodeFromImageElement(d)}decodeFromVideo(d,h){if(!d&&!h)throw new f("Either an element with a src set or an URL must be provided");return h&&!d?this.decodeFromVideoUrl(h):this.decodeFromVideoElement(d)}decodeFromVideoContinuously(d,h,m){if(d===void 0&&h===void 0)throw new f("Either an element with a src set or an URL must be provided");return h&&!d?this.decodeFromVideoUrlContinuously(h,m):this.decodeFromVideoElementContinuously(d,m)}decodeFromImageElement(d){if(!d)throw new f("An image element must be provided.");this.reset();const h=this.prepareImageElement(d);this.imageElement=h;let m;return this.isImageLoaded(h)?m=this.decodeOnce(h,!1,!0):m=this._decodeOnLoadImage(h),m}decodeFromVideoElement(d){const h=this._decodeFromVideoElementSetup(d);return this._decodeOnLoadVideo(h)}decodeFromVideoElementContinuously(d,h){const m=this._decodeFromVideoElementSetup(d);return this._decodeOnLoadVideoContinuously(m,h)}_decodeFromVideoElementSetup(d){if(!d)throw new f("A video element must be provided.");this.reset();const h=this.prepareVideoElement(d);return this.videoElement=h,h}decodeFromImageUrl(d){if(!d)throw new f("An URL must be provided.");this.reset();const h=this.prepareImageElement();this.imageElement=h;const m=this._decodeOnLoadImage(h);return h.src=d,m}decodeFromVideoUrl(d){if(!d)throw new f("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),m=this.decodeFromVideoElement(h);return h.src=d,m}decodeFromVideoUrlContinuously(d,h){if(!d)throw new f("An URL must be provided.");this.reset();const m=this.prepareVideoElement(),v=this.decodeFromVideoElementContinuously(m,h);return m.src=d,v}_decodeOnLoadImage(d){return new Promise((h,m)=>{this.imageLoadedListener=()=>this.decodeOnce(d,!1,!0).then(h,m),d.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(d){return W(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(d),yield this.decodeOnce(d)})}_decodeOnLoadVideoContinuously(d,h){return W(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(d),this.decodeContinuously(d,h)})}isImageLoaded(d){return!(!d.complete||d.naturalWidth===0)}prepareImageElement(d){let h;return typeof d>"u"&&(h=document.createElement("img"),h.width=200,h.height=200),typeof d=="string"&&(h=this.getMediaElement(d,"img")),d instanceof HTMLImageElement&&(h=d),h}prepareVideoElement(d){let h;return!d&&typeof document<"u"&&(h=document.createElement("video"),h.width=200,h.height=200),typeof d=="string"&&(h=this.getMediaElement(d,"video")),d instanceof HTMLVideoElement&&(h=d),h.setAttribute("autoplay","true"),h.setAttribute("muted","true"),h.setAttribute("playsinline","true"),h}decodeOnce(d,h=!0,m=!0){this._stopAsyncDecode=!1;const v=(w,S)=>{if(this._stopAsyncDecode){S(new V("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const j=this.decode(d);w(j)}catch(j){const M=h&&j instanceof V,X=(j instanceof x||j instanceof k)&&m;if(M||X)return setTimeout(v,this._timeBetweenDecodingAttempts,w,S);S(j)}};return new Promise((w,S)=>v(w,S))}decodeContinuously(d,h){this._stopContinuousDecode=!1;const m=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const v=this.decode(d);h(v,null),setTimeout(m,this.timeBetweenScansMillis)}catch(v){h(null,v);const w=v instanceof x||v instanceof k,S=v instanceof V;(w||S)&&setTimeout(m,this._timeBetweenDecodingAttempts)}};m()}decode(d){const h=this.createBinaryBitmap(d);return this.decodeBitmap(h)}_isHTMLVideoElement(d){return d.videoWidth!==0}drawFrameOnCanvas(d,h,m){h||(h={sx:0,sy:0,sWidth:d.videoWidth,sHeight:d.videoHeight,dx:0,dy:0,dWidth:d.videoWidth,dHeight:d.videoHeight}),m||(m=this.captureCanvasContext),m.drawImage(d,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}drawImageOnCanvas(d,h,m=this.captureCanvasContext){h||(h={sx:0,sy:0,sWidth:d.naturalWidth,sHeight:d.naturalHeight,dx:0,dy:0,dWidth:d.naturalWidth,dHeight:d.naturalHeight}),m||(m=this.captureCanvasContext),m.drawImage(d,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}createBinaryBitmap(d){this.getCaptureCanvasContext(d),this._isHTMLVideoElement(d)?this.drawFrameOnCanvas(d):this.drawImageOnCanvas(d);const h=this.getCaptureCanvas(d),m=new Ie(h),v=new te(m);return new g(v)}getCaptureCanvasContext(d){if(!this.captureCanvasContext){const m=this.getCaptureCanvas(d).getContext("2d");this.captureCanvasContext=m}return this.captureCanvasContext}getCaptureCanvas(d){if(!this.captureCanvas){const h=this.createCaptureCanvas(d);this.captureCanvas=h}return this.captureCanvas}decodeBitmap(d){return this.reader.decode(d,this._hints)}createCaptureCanvas(d){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const h=document.createElement("canvas");let m,v;return typeof d<"u"&&(d instanceof HTMLVideoElement?(m=d.videoWidth,v=d.videoHeight):d instanceof HTMLImageElement&&(m=d.naturalWidth||d.width,v=d.naturalHeight||d.height)),h.style.width=m+"px",h.style.height=v+"px",h.width=m,h.height=v,h}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(d=>d.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(d,h){try{d.srcObject=h}catch{d.src=URL.createObjectURL(h)}}cleanVideoSource(d){try{d.srcObject=null}catch{d.src=""}this.videoElement.removeAttribute("src")}}class Z{constructor(d,h,m=h==null?0:8*h.length,v,w,S=y.currentTimeMillis()){this.text=d,this.rawBytes=h,this.numBits=m,this.resultPoints=v,this.format=w,this.timestamp=S,this.text=d,this.rawBytes=h,m==null?this.numBits=h==null?0:8*h.length:this.numBits=m,this.resultPoints=v,this.format=w,this.resultMetadata=null,S==null?this.timestamp=y.currentTimeMillis():this.timestamp=S}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(d,h){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(d,h)}putAllMetadata(d){d!==null&&(this.resultMetadata===null?this.resultMetadata=d:this.resultMetadata=new Map(d))}addResultPoints(d){const h=this.resultPoints;if(h===null)this.resultPoints=d;else if(d!==null&&d.length>0){const m=new Array(h.length+d.length);y.arraycopy(h,0,m,0,h.length),y.arraycopy(d,0,m,h.length,d.length),this.resultPoints=m}}getTimestamp(){return this.timestamp}toString(){return this.text}}var re;(function(ae){ae[ae.AZTEC=0]="AZTEC",ae[ae.CODABAR=1]="CODABAR",ae[ae.CODE_39=2]="CODE_39",ae[ae.CODE_93=3]="CODE_93",ae[ae.CODE_128=4]="CODE_128",ae[ae.DATA_MATRIX=5]="DATA_MATRIX",ae[ae.EAN_8=6]="EAN_8",ae[ae.EAN_13=7]="EAN_13",ae[ae.ITF=8]="ITF",ae[ae.MAXICODE=9]="MAXICODE",ae[ae.PDF_417=10]="PDF_417",ae[ae.QR_CODE=11]="QR_CODE",ae[ae.RSS_14=12]="RSS_14",ae[ae.RSS_EXPANDED=13]="RSS_EXPANDED",ae[ae.UPC_A=14]="UPC_A",ae[ae.UPC_E=15]="UPC_E",ae[ae.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(re||(re={}));var le=re,Ne;(function(ae){ae[ae.OTHER=0]="OTHER",ae[ae.ORIENTATION=1]="ORIENTATION",ae[ae.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",ae[ae.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",ae[ae.ISSUE_NUMBER=4]="ISSUE_NUMBER",ae[ae.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",ae[ae.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",ae[ae.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",ae[ae.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",ae[ae.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",ae[ae.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ne||(Ne={}));var Ae=Ne;class ve{constructor(d,h,m,v,w=-1,S=-1){this.rawBytes=d,this.text=h,this.byteSegments=m,this.ecLevel=v,this.structuredAppendSequenceNumber=w,this.structuredAppendParity=S,this.numBits=d==null?0:8*d.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(d){this.numBits=d}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(d){this.errorsCorrected=d}getErasures(){return this.erasures}setErasures(d){this.erasures=d}getOther(){return this.other}setOther(d){this.other=d}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class xe{exp(d){return this.expTable[d]}log(d){if(d===0)throw new p;return this.logTable[d]}static addOrSubtract(d,h){return d^h}}class Le{constructor(d,h){if(h.length===0)throw new p;this.field=d;const m=h.length;if(m>1&&h[0]===0){let v=1;for(;v<m&&h[v]===0;)v++;v===m?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(m-v),y.arraycopy(h,v,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(d){return this.coefficients[this.coefficients.length-1-d]}evaluateAt(d){if(d===0)return this.getCoefficient(0);const h=this.coefficients;let m;if(d===1){m=0;for(let S=0,j=h.length;S!==j;S++){const M=h[S];m=xe.addOrSubtract(m,M)}return m}m=h[0];const v=h.length,w=this.field;for(let S=1;S<v;S++)m=xe.addOrSubtract(w.multiply(d,m),h[S]);return m}addOrSubtract(d){if(!this.field.equals(d.field))throw new p("GenericGFPolys do not have same GenericGF field");if(this.isZero())return d;if(d.isZero())return this;let h=this.coefficients,m=d.coefficients;if(h.length>m.length){const S=h;h=m,m=S}let v=new Int32Array(m.length);const w=m.length-h.length;y.arraycopy(m,0,v,0,w);for(let S=w;S<m.length;S++)v[S]=xe.addOrSubtract(h[S-w],m[S]);return new Le(this.field,v)}multiply(d){if(!this.field.equals(d.field))throw new p("GenericGFPolys do not have same GenericGF field");if(this.isZero()||d.isZero())return this.field.getZero();const h=this.coefficients,m=h.length,v=d.coefficients,w=v.length,S=new Int32Array(m+w-1),j=this.field;for(let M=0;M<m;M++){const z=h[M];for(let X=0;X<w;X++)S[M+X]=xe.addOrSubtract(S[M+X],j.multiply(z,v[X]))}return new Le(j,S)}multiplyScalar(d){if(d===0)return this.field.getZero();if(d===1)return this;const h=this.coefficients.length,m=this.field,v=new Int32Array(h),w=this.coefficients;for(let S=0;S<h;S++)v[S]=m.multiply(w[S],d);return new Le(m,v)}multiplyByMonomial(d,h){if(d<0)throw new p;if(h===0)return this.field.getZero();const m=this.coefficients,v=m.length,w=new Int32Array(v+d),S=this.field;for(let j=0;j<v;j++)w[j]=S.multiply(m[j],h);return new Le(S,w)}divide(d){if(!this.field.equals(d.field))throw new p("GenericGFPolys do not have same GenericGF field");if(d.isZero())throw new p("Divide by 0");const h=this.field;let m=h.getZero(),v=this;const w=d.getCoefficient(d.getDegree()),S=h.inverse(w);for(;v.getDegree()>=d.getDegree()&&!v.isZero();){const j=v.getDegree()-d.getDegree(),M=h.multiply(v.getCoefficient(v.getDegree()),S),z=d.multiplyByMonomial(j,M),X=h.buildMonomial(j,M);m=m.addOrSubtract(X),v=v.addOrSubtract(z)}return[m,v]}toString(){let d="";for(let h=this.getDegree();h>=0;h--){let m=this.getCoefficient(h);if(m!==0){if(m<0?(d+=" - ",m=-m):d.length>0&&(d+=" + "),h===0||m!==1){const v=this.field.log(m);v===0?d+="1":v===1?d+="a":(d+="a^",d+=v)}h!==0&&(h===1?d+="x":(d+="x^",d+=h))}}return d}}class Se extends u{}Se.kind="ArithmeticException";class ye extends xe{constructor(d,h,m){super(),this.primitive=d,this.size=h,this.generatorBase=m;const v=new Int32Array(h);let w=1;for(let j=0;j<h;j++)v[j]=w,w*=2,w>=h&&(w^=d,w&=h-1);this.expTable=v;const S=new Int32Array(h);for(let j=0;j<h-1;j++)S[v[j]]=j;this.logTable=S,this.zero=new Le(this,Int32Array.from([0])),this.one=new Le(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(d,h){if(d<0)throw new p;if(h===0)return this.zero;const m=new Int32Array(d+1);return m[0]=h,new Le(this,m)}inverse(d){if(d===0)throw new Se;return this.expTable[this.size-this.logTable[d]-1]}multiply(d,h){return d===0||h===0?0:this.expTable[(this.logTable[d]+this.logTable[h])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+C.toHexString(this.primitive)+","+this.size+")"}equals(d){return d===this}}ye.AZTEC_DATA_12=new ye(4201,4096,1),ye.AZTEC_DATA_10=new ye(1033,1024,1),ye.AZTEC_DATA_6=new ye(67,64,1),ye.AZTEC_PARAM=new ye(19,16,1),ye.QR_CODE_FIELD_256=new ye(285,256,0),ye.DATA_MATRIX_FIELD_256=new ye(301,256,1),ye.AZTEC_DATA_8=ye.DATA_MATRIX_FIELD_256,ye.MAXICODE_FIELD_64=ye.AZTEC_DATA_6;class We extends u{}We.kind="ReedSolomonException";class Ye extends u{}Ye.kind="IllegalStateException";class we{constructor(d){this.field=d}decode(d,h){const m=this.field,v=new Le(m,d),w=new Int32Array(h);let S=!0;for(let $e=0;$e<h;$e++){const Xe=v.evaluateAt(m.exp($e+m.getGeneratorBase()));w[w.length-1-$e]=Xe,Xe!==0&&(S=!1)}if(S)return;const j=new Le(m,w),M=this.runEuclideanAlgorithm(m.buildMonomial(h,1),j,h),z=M[0],X=M[1],ie=this.findErrorLocations(z),pe=this.findErrorMagnitudes(X,ie);for(let $e=0;$e<ie.length;$e++){const Xe=d.length-1-m.log(ie[$e]);if(Xe<0)throw new We("Bad error location");d[Xe]=ye.addOrSubtract(d[Xe],pe[$e])}}runEuclideanAlgorithm(d,h,m){if(d.getDegree()<h.getDegree()){const $e=d;d=h,h=$e}const v=this.field;let w=d,S=h,j=v.getZero(),M=v.getOne();for(;S.getDegree()>=(m/2|0);){let $e=w,Xe=j;if(w=S,j=M,w.isZero())throw new We("r_{i-1} was zero");S=$e;let Qe=v.getZero();const ot=w.getCoefficient(w.getDegree()),St=v.inverse(ot);for(;S.getDegree()>=w.getDegree()&&!S.isZero();){const Ft=S.getDegree()-w.getDegree(),Wt=v.multiply(S.getCoefficient(S.getDegree()),St);Qe=Qe.addOrSubtract(v.buildMonomial(Ft,Wt)),S=S.addOrSubtract(w.multiplyByMonomial(Ft,Wt))}if(M=Qe.multiply(j).addOrSubtract(Xe),S.getDegree()>=w.getDegree())throw new Ye("Division algorithm failed to reduce polynomial?")}const z=M.getCoefficient(0);if(z===0)throw new We("sigmaTilde(0) was zero");const X=v.inverse(z),ie=M.multiplyScalar(X),pe=S.multiplyScalar(X);return[ie,pe]}findErrorLocations(d){const h=d.getDegree();if(h===1)return Int32Array.from([d.getCoefficient(1)]);const m=new Int32Array(h);let v=0;const w=this.field;for(let S=1;S<w.getSize()&&v<h;S++)d.evaluateAt(S)===0&&(m[v]=w.inverse(S),v++);if(v!==h)throw new We("Error locator degree does not match number of roots");return m}findErrorMagnitudes(d,h){const m=h.length,v=new Int32Array(m),w=this.field;for(let S=0;S<m;S++){const j=w.inverse(h[S]);let M=1;for(let z=0;z<m;z++)if(S!==z){const X=w.multiply(h[z],j),ie=X&1?X&-2:X|1;M=w.multiply(M,ie)}v[S]=w.multiply(d.evaluateAt(j),w.inverse(M)),w.getGeneratorBase()!==0&&(v[S]=w.multiply(v[S],j))}return v}}var Pe;(function(ae){ae[ae.UPPER=0]="UPPER",ae[ae.LOWER=1]="LOWER",ae[ae.MIXED=2]="MIXED",ae[ae.DIGIT=3]="DIGIT",ae[ae.PUNCT=4]="PUNCT",ae[ae.BINARY=5]="BINARY"})(Pe||(Pe={}));class ce{decode(d){this.ddata=d;let h=d.getBits(),m=this.extractBits(h),v=this.correctBits(m),w=ce.convertBoolArrayToByteArray(v),S=ce.getEncodedData(v),j=new ve(w,S,null,null);return j.setNumBits(v.length),j}static highLevelDecode(d){return this.getEncodedData(d)}static getEncodedData(d){let h=d.length,m=Pe.UPPER,v=Pe.UPPER,w="",S=0;for(;S<h;)if(v===Pe.BINARY){if(h-S<5)break;let j=ce.readCode(d,S,5);if(S+=5,j===0){if(h-S<11)break;j=ce.readCode(d,S,11)+31,S+=11}for(let M=0;M<j;M++){if(h-S<8){S=h;break}const z=ce.readCode(d,S,8);w+=U.castAsNonUtf8Char(z),S+=8}v=m}else{let j=v===Pe.DIGIT?4:5;if(h-S<j)break;let M=ce.readCode(d,S,j);S+=j;let z=ce.getCharacter(v,M);z.startsWith("CTRL_")?(m=v,v=ce.getTable(z.charAt(5)),z.charAt(6)==="L"&&(m=v)):(w+=z,v=m)}return w}static getTable(d){switch(d){case"L":return Pe.LOWER;case"P":return Pe.PUNCT;case"M":return Pe.MIXED;case"D":return Pe.DIGIT;case"B":return Pe.BINARY;case"U":default:return Pe.UPPER}}static getCharacter(d,h){switch(d){case Pe.UPPER:return ce.UPPER_TABLE[h];case Pe.LOWER:return ce.LOWER_TABLE[h];case Pe.MIXED:return ce.MIXED_TABLE[h];case Pe.PUNCT:return ce.PUNCT_TABLE[h];case Pe.DIGIT:return ce.DIGIT_TABLE[h];default:throw new Ye("Bad table")}}correctBits(d){let h,m;this.ddata.getNbLayers()<=2?(m=6,h=ye.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(m=8,h=ye.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(m=10,h=ye.AZTEC_DATA_10):(m=12,h=ye.AZTEC_DATA_12);let v=this.ddata.getNbDatablocks(),w=d.length/m;if(w<v)throw new k;let S=d.length%m,j=new Int32Array(w);for(let pe=0;pe<w;pe++,S+=m)j[pe]=ce.readCode(d,S,m);try{new we(h).decode(j,w-v)}catch(pe){throw new k(pe)}let M=(1<<m)-1,z=0;for(let pe=0;pe<v;pe++){let $e=j[pe];if($e===0||$e===M)throw new k;($e===1||$e===M-1)&&z++}let X=new Array(v*m-z),ie=0;for(let pe=0;pe<v;pe++){let $e=j[pe];if($e===1||$e===M-1)X.fill($e>1,ie,ie+m-1),ie+=m-1;else for(let Xe=m-1;Xe>=0;--Xe)X[ie++]=($e&1<<Xe)!==0}return X}extractBits(d){let h=this.ddata.isCompact(),m=this.ddata.getNbLayers(),v=(h?11:14)+m*4,w=new Int32Array(v),S=new Array(this.totalBitsInLayer(m,h));if(h)for(let j=0;j<w.length;j++)w[j]=j;else{let j=v+1+2*C.truncDivision(C.truncDivision(v,2)-1,15),M=v/2,z=C.truncDivision(j,2);for(let X=0;X<M;X++){let ie=X+C.truncDivision(X,15);w[M-X-1]=z-ie-1,w[M+X]=z+ie+1}}for(let j=0,M=0;j<m;j++){let z=(m-j)*4+(h?9:12),X=j*2,ie=v-1-X;for(let pe=0;pe<z;pe++){let $e=pe*2;for(let Xe=0;Xe<2;Xe++)S[M+$e+Xe]=d.get(w[X+Xe],w[X+pe]),S[M+2*z+$e+Xe]=d.get(w[X+pe],w[ie-Xe]),S[M+4*z+$e+Xe]=d.get(w[ie-Xe],w[ie-pe]),S[M+6*z+$e+Xe]=d.get(w[ie-pe],w[X+Xe])}M+=z*8}return S}static readCode(d,h,m){let v=0;for(let w=h;w<h+m;w++)v<<=1,d[w]&&(v|=1);return v}static readByte(d,h){let m=d.length-h;return m>=8?ce.readCode(d,h,8):ce.readCode(d,h,m)<<8-m}static convertBoolArrayToByteArray(d){let h=new Uint8Array((d.length+7)/8);for(let m=0;m<h.length;m++)h[m]=ce.readByte(d,8*m);return h}totalBitsInLayer(d,h){return((h?88:112)+16*d)*d}}ce.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ce.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ce.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ce.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ce.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ce{constructor(){}static round(d){return d===NaN?0:d<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:d>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:d+(d<0?-.5:.5)|0}static distance(d,h,m,v){const w=d-m,S=h-v;return Math.sqrt(w*w+S*S)}static sum(d){let h=0;for(let m=0,v=d.length;m!==v;m++){const w=d[m];h+=w}return h}}class fe{static floatToIntBits(d){return d}}fe.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ke{constructor(d,h){this.x=d,this.y=h}getX(){return this.x}getY(){return this.y}equals(d){if(d instanceof ke){const h=d;return this.x===h.x&&this.y===h.y}return!1}hashCode(){return 31*fe.floatToIntBits(this.x)+fe.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(d){const h=this.distance(d[0],d[1]),m=this.distance(d[1],d[2]),v=this.distance(d[0],d[2]);let w,S,j;if(m>=h&&m>=v?(S=d[0],w=d[1],j=d[2]):v>=m&&v>=h?(S=d[1],w=d[0],j=d[2]):(S=d[2],w=d[0],j=d[1]),this.crossProductZ(w,S,j)<0){const M=w;w=j,j=M}d[0]=w,d[1]=S,d[2]=j}static distance(d,h){return Ce.distance(d.x,d.y,h.x,h.y)}static crossProductZ(d,h,m){const v=h.x,w=h.y;return(m.x-v)*(d.y-w)-(m.y-w)*(d.x-v)}}class He{constructor(d,h){this.bits=d,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class nt extends He{constructor(d,h,m,v,w){super(d,h),this.compact=m,this.nbDatablocks=v,this.nbLayers=w}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class mt{constructor(d,h,m,v){this.image=d,this.height=d.getHeight(),this.width=d.getWidth(),h==null&&(h=mt.INIT_SIZE),m==null&&(m=d.getWidth()/2|0),v==null&&(v=d.getHeight()/2|0);const w=h/2|0;if(this.leftInit=m-w,this.rightInit=m+w,this.upInit=v-w,this.downInit=v+w,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new V}detect(){let d=this.leftInit,h=this.rightInit,m=this.upInit,v=this.downInit,w=!1,S=!0,j=!1,M=!1,z=!1,X=!1,ie=!1;const pe=this.width,$e=this.height;for(;S;){S=!1;let Xe=!0;for(;(Xe||!M)&&h<pe;)Xe=this.containsBlackPoint(m,v,h,!1),Xe?(h++,S=!0,M=!0):M||h++;if(h>=pe){w=!0;break}let Qe=!0;for(;(Qe||!z)&&v<$e;)Qe=this.containsBlackPoint(d,h,v,!0),Qe?(v++,S=!0,z=!0):z||v++;if(v>=$e){w=!0;break}let ot=!0;for(;(ot||!X)&&d>=0;)ot=this.containsBlackPoint(m,v,d,!1),ot?(d--,S=!0,X=!0):X||d--;if(d<0){w=!0;break}let St=!0;for(;(St||!ie)&&m>=0;)St=this.containsBlackPoint(d,h,m,!0),St?(m--,S=!0,ie=!0):ie||m--;if(m<0){w=!0;break}S&&(j=!0)}if(!w&&j){const Xe=h-d;let Qe=null;for(let Wt=1;Qe===null&&Wt<Xe;Wt++)Qe=this.getBlackPointOnSegment(d,v-Wt,d+Wt,v);if(Qe==null)throw new V;let ot=null;for(let Wt=1;ot===null&&Wt<Xe;Wt++)ot=this.getBlackPointOnSegment(d,m+Wt,d+Wt,m);if(ot==null)throw new V;let St=null;for(let Wt=1;St===null&&Wt<Xe;Wt++)St=this.getBlackPointOnSegment(h,m+Wt,h-Wt,m);if(St==null)throw new V;let Ft=null;for(let Wt=1;Ft===null&&Wt<Xe;Wt++)Ft=this.getBlackPointOnSegment(h,v-Wt,h-Wt,v);if(Ft==null)throw new V;return this.centerEdges(Ft,Qe,St,ot)}else throw new V}getBlackPointOnSegment(d,h,m,v){const w=Ce.round(Ce.distance(d,h,m,v)),S=(m-d)/w,j=(v-h)/w,M=this.image;for(let z=0;z<w;z++){const X=Ce.round(d+z*S),ie=Ce.round(h+z*j);if(M.get(X,ie))return new ke(X,ie)}return null}centerEdges(d,h,m,v){const w=d.getX(),S=d.getY(),j=h.getX(),M=h.getY(),z=m.getX(),X=m.getY(),ie=v.getX(),pe=v.getY(),$e=mt.CORR;return w<this.width/2?[new ke(ie-$e,pe+$e),new ke(j+$e,M+$e),new ke(z-$e,X-$e),new ke(w+$e,S-$e)]:[new ke(ie+$e,pe+$e),new ke(j+$e,M-$e),new ke(z-$e,X+$e),new ke(w-$e,S-$e)]}containsBlackPoint(d,h,m,v){const w=this.image;if(v){for(let S=d;S<=h;S++)if(w.get(S,m))return!0}else for(let S=d;S<=h;S++)if(w.get(m,S))return!0;return!1}}mt.INIT_SIZE=10,mt.CORR=1;class At{static checkAndNudgePoints(d,h){const m=d.getWidth(),v=d.getHeight();let w=!0;for(let S=0;S<h.length&&w;S+=2){const j=Math.floor(h[S]),M=Math.floor(h[S+1]);if(j<-1||j>m||M<-1||M>v)throw new V;w=!1,j===-1?(h[S]=0,w=!0):j===m&&(h[S]=m-1,w=!0),M===-1?(h[S+1]=0,w=!0):M===v&&(h[S+1]=v-1,w=!0)}w=!0;for(let S=h.length-2;S>=0&&w;S-=2){const j=Math.floor(h[S]),M=Math.floor(h[S+1]);if(j<-1||j>m||M<-1||M>v)throw new V;w=!1,j===-1?(h[S]=0,w=!0):j===m&&(h[S]=m-1,w=!0),M===-1?(h[S+1]=0,w=!0):M===v&&(h[S+1]=v-1,w=!0)}}}class qt{constructor(d,h,m,v,w,S,j,M,z){this.a11=d,this.a21=h,this.a31=m,this.a12=v,this.a22=w,this.a32=S,this.a13=j,this.a23=M,this.a33=z}static quadrilateralToQuadrilateral(d,h,m,v,w,S,j,M,z,X,ie,pe,$e,Xe,Qe,ot){const St=qt.quadrilateralToSquare(d,h,m,v,w,S,j,M);return qt.squareToQuadrilateral(z,X,ie,pe,$e,Xe,Qe,ot).times(St)}transformPoints(d){const h=d.length,m=this.a11,v=this.a12,w=this.a13,S=this.a21,j=this.a22,M=this.a23,z=this.a31,X=this.a32,ie=this.a33;for(let pe=0;pe<h;pe+=2){const $e=d[pe],Xe=d[pe+1],Qe=w*$e+M*Xe+ie;d[pe]=(m*$e+S*Xe+z)/Qe,d[pe+1]=(v*$e+j*Xe+X)/Qe}}transformPointsWithValues(d,h){const m=this.a11,v=this.a12,w=this.a13,S=this.a21,j=this.a22,M=this.a23,z=this.a31,X=this.a32,ie=this.a33,pe=d.length;for(let $e=0;$e<pe;$e++){const Xe=d[$e],Qe=h[$e],ot=w*Xe+M*Qe+ie;d[$e]=(m*Xe+S*Qe+z)/ot,h[$e]=(v*Xe+j*Qe+X)/ot}}static squareToQuadrilateral(d,h,m,v,w,S,j,M){const z=d-m+w-j,X=h-v+S-M;if(z===0&&X===0)return new qt(m-d,w-m,d,v-h,S-v,h,0,0,1);{const ie=m-w,pe=j-w,$e=v-S,Xe=M-S,Qe=ie*Xe-pe*$e,ot=(z*Xe-pe*X)/Qe,St=(ie*X-z*$e)/Qe;return new qt(m-d+ot*m,j-d+St*j,d,v-h+ot*v,M-h+St*M,h,ot,St,1)}}static quadrilateralToSquare(d,h,m,v,w,S,j,M){return qt.squareToQuadrilateral(d,h,m,v,w,S,j,M).buildAdjoint()}buildAdjoint(){return new qt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(d){return new qt(this.a11*d.a11+this.a21*d.a12+this.a31*d.a13,this.a11*d.a21+this.a21*d.a22+this.a31*d.a23,this.a11*d.a31+this.a21*d.a32+this.a31*d.a33,this.a12*d.a11+this.a22*d.a12+this.a32*d.a13,this.a12*d.a21+this.a22*d.a22+this.a32*d.a23,this.a12*d.a31+this.a22*d.a32+this.a32*d.a33,this.a13*d.a11+this.a23*d.a12+this.a33*d.a13,this.a13*d.a21+this.a23*d.a22+this.a33*d.a23,this.a13*d.a31+this.a23*d.a32+this.a33*d.a33)}}class mr extends At{sampleGrid(d,h,m,v,w,S,j,M,z,X,ie,pe,$e,Xe,Qe,ot,St,Ft,Wt){const $t=qt.quadrilateralToQuadrilateral(v,w,S,j,M,z,X,ie,pe,$e,Xe,Qe,ot,St,Ft,Wt);return this.sampleGridWithTransform(d,h,m,$t)}sampleGridWithTransform(d,h,m,v){if(h<=0||m<=0)throw new V;const w=new K(h,m),S=new Float32Array(2*h);for(let j=0;j<m;j++){const M=S.length,z=j+.5;for(let X=0;X<M;X+=2)S[X]=X/2+.5,S[X+1]=z;v.transformPoints(S),At.checkAndNudgePoints(d,S);try{for(let X=0;X<M;X+=2)d.get(Math.floor(S[X]),Math.floor(S[X+1]))&&w.set(X/2,j)}catch{throw new V}}return w}}class ar{static setGridSampler(d){ar.gridSampler=d}static getInstance(){return ar.gridSampler}}ar.gridSampler=new mr;class ze{constructor(d,h){this.x=d,this.y=h}toResultPoint(){return new ke(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class tt{constructor(d){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=d}detect(){return this.detectMirror(!1)}detectMirror(d){let h=this.getMatrixCenter(),m=this.getBullsEyeCorners(h);if(d){let S=m[0];m[0]=m[2],m[2]=S}this.extractParameters(m);let v=this.sampleGrid(this.image,m[this.shift%4],m[(this.shift+1)%4],m[(this.shift+2)%4],m[(this.shift+3)%4]),w=this.getMatrixCornerPoints(m);return new nt(v,w,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(d){if(!this.isValidPoint(d[0])||!this.isValidPoint(d[1])||!this.isValidPoint(d[2])||!this.isValidPoint(d[3]))throw new V;let h=2*this.nbCenterLayers,m=new Int32Array([this.sampleLine(d[0],d[1],h),this.sampleLine(d[1],d[2],h),this.sampleLine(d[2],d[3],h),this.sampleLine(d[3],d[0],h)]);this.shift=this.getRotation(m,h);let v=0;for(let S=0;S<4;S++){let j=m[(this.shift+S)%4];this.compact?(v<<=7,v+=j>>1&127):(v<<=10,v+=(j>>2&992)+(j>>1&31))}let w=this.getCorrectedParameterData(v,this.compact);this.compact?(this.nbLayers=(w>>6)+1,this.nbDataBlocks=(w&63)+1):(this.nbLayers=(w>>11)+1,this.nbDataBlocks=(w&2047)+1)}getRotation(d,h){let m=0;d.forEach((v,w,S)=>{let j=(v>>h-2<<1)+(v&1);m=(m<<3)+j}),m=((m&1)<<11)+(m>>1);for(let v=0;v<4;v++)if(C.bitCount(m^this.EXPECTED_CORNER_BITS[v])<=2)return v;throw new V}getCorrectedParameterData(d,h){let m,v;h?(m=7,v=2):(m=10,v=4);let w=m-v,S=new Int32Array(m);for(let M=m-1;M>=0;--M)S[M]=d&15,d>>=4;try{new we(ye.AZTEC_PARAM).decode(S,w)}catch{throw new V}let j=0;for(let M=0;M<v;M++)j=(j<<4)+S[M];return j}getBullsEyeCorners(d){let h=d,m=d,v=d,w=d,S=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let ie=this.getFirstDifferent(h,S,1,-1),pe=this.getFirstDifferent(m,S,1,1),$e=this.getFirstDifferent(v,S,-1,1),Xe=this.getFirstDifferent(w,S,-1,-1);if(this.nbCenterLayers>2){let Qe=this.distancePoint(Xe,ie)*this.nbCenterLayers/(this.distancePoint(w,h)*(this.nbCenterLayers+2));if(Qe<.75||Qe>1.25||!this.isWhiteOrBlackRectangle(ie,pe,$e,Xe))break}h=ie,m=pe,v=$e,w=Xe,S=!S}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new V;this.compact=this.nbCenterLayers===5;let j=new ke(h.getX()+.5,h.getY()-.5),M=new ke(m.getX()+.5,m.getY()+.5),z=new ke(v.getX()-.5,v.getY()+.5),X=new ke(w.getX()-.5,w.getY()-.5);return this.expandSquare([j,M,z,X],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let d,h,m,v;try{let j=new mt(this.image).detect();d=j[0],h=j[1],m=j[2],v=j[3]}catch{let M=this.image.getWidth()/2,z=this.image.getHeight()/2;d=this.getFirstDifferent(new ze(M+7,z-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new ze(M+7,z+7),!1,1,1).toResultPoint(),m=this.getFirstDifferent(new ze(M-7,z+7),!1,-1,1).toResultPoint(),v=this.getFirstDifferent(new ze(M-7,z-7),!1,-1,-1).toResultPoint()}let w=Ce.round((d.getX()+v.getX()+h.getX()+m.getX())/4),S=Ce.round((d.getY()+v.getY()+h.getY()+m.getY())/4);try{let j=new mt(this.image,15,w,S).detect();d=j[0],h=j[1],m=j[2],v=j[3]}catch{d=this.getFirstDifferent(new ze(w+7,S-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new ze(w+7,S+7),!1,1,1).toResultPoint(),m=this.getFirstDifferent(new ze(w-7,S+7),!1,-1,1).toResultPoint(),v=this.getFirstDifferent(new ze(w-7,S-7),!1,-1,-1).toResultPoint()}return w=Ce.round((d.getX()+v.getX()+h.getX()+m.getX())/4),S=Ce.round((d.getY()+v.getY()+h.getY()+m.getY())/4),new ze(w,S)}getMatrixCornerPoints(d){return this.expandSquare(d,2*this.nbCenterLayers,this.getDimension())}sampleGrid(d,h,m,v,w){let S=ar.getInstance(),j=this.getDimension(),M=j/2-this.nbCenterLayers,z=j/2+this.nbCenterLayers;return S.sampleGrid(d,j,j,M,M,z,M,z,z,M,z,h.getX(),h.getY(),m.getX(),m.getY(),v.getX(),v.getY(),w.getX(),w.getY())}sampleLine(d,h,m){let v=0,w=this.distanceResultPoint(d,h),S=w/m,j=d.getX(),M=d.getY(),z=S*(h.getX()-d.getX())/w,X=S*(h.getY()-d.getY())/w;for(let ie=0;ie<m;ie++)this.image.get(Ce.round(j+ie*z),Ce.round(M+ie*X))&&(v|=1<<m-ie-1);return v}isWhiteOrBlackRectangle(d,h,m,v){let w=3;d=new ze(d.getX()-w,d.getY()+w),h=new ze(h.getX()-w,h.getY()-w),m=new ze(m.getX()+w,m.getY()-w),v=new ze(v.getX()+w,v.getY()+w);let S=this.getColor(v,d);if(S===0)return!1;let j=this.getColor(d,h);return j!==S||(j=this.getColor(h,m),j!==S)?!1:(j=this.getColor(m,v),j===S)}getColor(d,h){let m=this.distancePoint(d,h),v=(h.getX()-d.getX())/m,w=(h.getY()-d.getY())/m,S=0,j=d.getX(),M=d.getY(),z=this.image.get(d.getX(),d.getY()),X=Math.ceil(m);for(let pe=0;pe<X;pe++)j+=v,M+=w,this.image.get(Ce.round(j),Ce.round(M))!==z&&S++;let ie=S/m;return ie>.1&&ie<.9?0:ie<=.1===z?1:-1}getFirstDifferent(d,h,m,v){let w=d.getX()+m,S=d.getY()+v;for(;this.isValid(w,S)&&this.image.get(w,S)===h;)w+=m,S+=v;for(w-=m,S-=v;this.isValid(w,S)&&this.image.get(w,S)===h;)w+=m;for(w-=m;this.isValid(w,S)&&this.image.get(w,S)===h;)S+=v;return S-=v,new ze(w,S)}expandSquare(d,h,m){let v=m/(2*h),w=d[0].getX()-d[2].getX(),S=d[0].getY()-d[2].getY(),j=(d[0].getX()+d[2].getX())/2,M=(d[0].getY()+d[2].getY())/2,z=new ke(j+v*w,M+v*S),X=new ke(j-v*w,M-v*S);w=d[1].getX()-d[3].getX(),S=d[1].getY()-d[3].getY(),j=(d[1].getX()+d[3].getX())/2,M=(d[1].getY()+d[3].getY())/2;let ie=new ke(j+v*w,M+v*S),pe=new ke(j-v*w,M-v*S);return[z,ie,X,pe]}isValid(d,h){return d>=0&&d<this.image.getWidth()&&h>0&&h<this.image.getHeight()}isValidPoint(d){let h=Ce.round(d.getX()),m=Ce.round(d.getY());return this.isValid(h,m)}distancePoint(d,h){return Ce.distance(d.getX(),d.getY(),h.getX(),h.getY())}distanceResultPoint(d,h){return Ce.distance(d.getX(),d.getY(),h.getX(),h.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(C.truncDivision(this.nbLayers-4,8)+1)+15}}class dt{decode(d,h=null){let m=null,v=new tt(d.getBlackMatrix()),w=null,S=null;try{let X=v.detectMirror(!1);w=X.getPoints(),this.reportFoundResultPoints(h,w),S=new ce().decode(X)}catch(X){m=X}if(S==null)try{let X=v.detectMirror(!0);w=X.getPoints(),this.reportFoundResultPoints(h,w),S=new ce().decode(X)}catch(X){throw m??X}let j=new Z(S.getText(),S.getRawBytes(),S.getNumBits(),w,le.AZTEC,y.currentTimeMillis()),M=S.getByteSegments();M!=null&&j.putMetadata(Ae.BYTE_SEGMENTS,M);let z=S.getECLevel();return z!=null&&j.putMetadata(Ae.ERROR_CORRECTION_LEVEL,z),j}reportFoundResultPoints(d,h){if(d!=null){let m=d.get(D.NEED_RESULT_POINT_CALLBACK);m!=null&&h.forEach((v,w,S)=>{m.foundPossibleResultPoint(v)})}}reset(){}}class Zt extends Q{constructor(d=500){super(new dt,d)}}class ne{decode(d,h){try{return this.doDecode(d,h)}catch{if(h&&h.get(D.TRY_HARDER)===!0&&d.isRotateSupported()){const w=d.rotateCounterClockwise(),S=this.doDecode(w,h),j=S.getResultMetadata();let M=270;j!==null&&j.get(Ae.ORIENTATION)===!0&&(M=M+j.get(Ae.ORIENTATION)%360),S.putMetadata(Ae.ORIENTATION,M);const z=S.getResultPoints();if(z!==null){const X=w.getHeight();for(let ie=0;ie<z.length;ie++)z[ie]=new ke(X-z[ie].getY()-1,z[ie].getX())}return S}else throw new V}}reset(){}doDecode(d,h){const m=d.getWidth(),v=d.getHeight();let w=new I(m);const S=h&&h.get(D.TRY_HARDER)===!0,j=Math.max(1,v>>(S?8:5));let M;S?M=v:M=15;const z=Math.trunc(v/2);for(let X=0;X<M;X++){const ie=Math.trunc((X+1)/2),pe=(X&1)===0,$e=z+j*(pe?ie:-ie);if($e<0||$e>=v)break;try{w=d.getBlackRow($e,w)}catch{continue}for(let Xe=0;Xe<2;Xe++){if(Xe===1&&(w.reverse(),h&&h.get(D.NEED_RESULT_POINT_CALLBACK)===!0)){const Qe=new Map;h.forEach((ot,St)=>Qe.set(St,ot)),Qe.delete(D.NEED_RESULT_POINT_CALLBACK),h=Qe}try{const Qe=this.decodeRow($e,w,h);if(Xe===1){Qe.putMetadata(Ae.ORIENTATION,180);const ot=Qe.getResultPoints();ot!==null&&(ot[0]=new ke(m-ot[0].getX()-1,ot[0].getY()),ot[1]=new ke(m-ot[1].getX()-1,ot[1].getY()))}return Qe}catch{}}}throw new V}static recordPattern(d,h,m){const v=m.length;for(let z=0;z<v;z++)m[z]=0;const w=d.getSize();if(h>=w)throw new V;let S=!d.get(h),j=0,M=h;for(;M<w;){if(d.get(M)!==S)m[j]++;else{if(++j===v)break;m[j]=1,S=!S}M++}if(!(j===v||j===v-1&&M===w))throw new V}static recordPatternInReverse(d,h,m){let v=m.length,w=d.get(h);for(;h>0&&v>=0;)d.get(--h)!==w&&(v--,w=!w);if(v>=0)throw new V;ne.recordPattern(d,h+1,m)}static patternMatchVariance(d,h,m){const v=d.length;let w=0,S=0;for(let z=0;z<v;z++)w+=d[z],S+=h[z];if(w<S)return Number.POSITIVE_INFINITY;const j=w/S;m*=j;let M=0;for(let z=0;z<v;z++){const X=d[z],ie=h[z]*j,pe=X>ie?X-ie:ie-X;if(pe>m)return Number.POSITIVE_INFINITY;M+=pe}return M/w}}class De extends ne{static findStartPattern(d){const h=d.getSize(),m=d.getNextSet(0);let v=0,w=Int32Array.from([0,0,0,0,0,0]),S=m,j=!1;const M=6;for(let z=m;z<h;z++)if(d.get(z)!==j)w[v]++;else{if(v===M-1){let X=De.MAX_AVG_VARIANCE,ie=-1;for(let pe=De.CODE_START_A;pe<=De.CODE_START_C;pe++){const $e=ne.patternMatchVariance(w,De.CODE_PATTERNS[pe],De.MAX_INDIVIDUAL_VARIANCE);$e<X&&(X=$e,ie=pe)}if(ie>=0&&d.isRange(Math.max(0,S-(z-S)/2),S,!1))return Int32Array.from([S,z,ie]);S+=w[0]+w[1],w=w.slice(2,w.length-1),w[v-1]=0,w[v]=0,v--}else v++;w[v]=1,j=!j}throw new V}static decodeCode(d,h,m){ne.recordPattern(d,m,h);let v=De.MAX_AVG_VARIANCE,w=-1;for(let S=0;S<De.CODE_PATTERNS.length;S++){const j=De.CODE_PATTERNS[S],M=this.patternMatchVariance(h,j,De.MAX_INDIVIDUAL_VARIANCE);M<v&&(v=M,w=S)}if(w>=0)return w;throw new V}decodeRow(d,h,m){const v=m&&m.get(D.ASSUME_GS1)===!0,w=De.findStartPattern(h),S=w[2];let j=0;const M=new Uint8Array(20);M[j++]=S;let z;switch(S){case De.CODE_START_A:z=De.CODE_CODE_A;break;case De.CODE_START_B:z=De.CODE_CODE_B;break;case De.CODE_START_C:z=De.CODE_CODE_C;break;default:throw new k}let X=!1,ie=!1,pe="",$e=w[0],Xe=w[1];const Qe=Int32Array.from([0,0,0,0,0,0]);let ot=0,St=0,Ft=S,Wt=0,$t=!0,En=!1,sn=!1;for(;!X;){const Gl=ie;switch(ie=!1,ot=St,St=De.decodeCode(h,Qe,Xe),M[j++]=St,St!==De.CODE_STOP&&($t=!0),St!==De.CODE_STOP&&(Wt++,Ft+=Wt*St),$e=Xe,Xe+=Qe.reduce((Bo,$o)=>Bo+$o,0),St){case De.CODE_START_A:case De.CODE_START_B:case De.CODE_START_C:throw new k}switch(z){case De.CODE_CODE_A:if(St<64)sn===En?pe+=String.fromCharCode(32+St):pe+=String.fromCharCode(32+St+128),sn=!1;else if(St<96)sn===En?pe+=String.fromCharCode(St-64):pe+=String.fromCharCode(St+64),sn=!1;else switch(St!==De.CODE_STOP&&($t=!1),St){case De.CODE_FNC_1:v&&(pe.length===0?pe+="]C1":pe+="");break;case De.CODE_FNC_2:case De.CODE_FNC_3:break;case De.CODE_FNC_4_A:!En&&sn?(En=!0,sn=!1):En&&sn?(En=!1,sn=!1):sn=!0;break;case De.CODE_SHIFT:ie=!0,z=De.CODE_CODE_B;break;case De.CODE_CODE_B:z=De.CODE_CODE_B;break;case De.CODE_CODE_C:z=De.CODE_CODE_C;break;case De.CODE_STOP:X=!0;break}break;case De.CODE_CODE_B:if(St<96)sn===En?pe+=String.fromCharCode(32+St):pe+=String.fromCharCode(32+St+128),sn=!1;else switch(St!==De.CODE_STOP&&($t=!1),St){case De.CODE_FNC_1:v&&(pe.length===0?pe+="]C1":pe+="");break;case De.CODE_FNC_2:case De.CODE_FNC_3:break;case De.CODE_FNC_4_B:!En&&sn?(En=!0,sn=!1):En&&sn?(En=!1,sn=!1):sn=!0;break;case De.CODE_SHIFT:ie=!0,z=De.CODE_CODE_A;break;case De.CODE_CODE_A:z=De.CODE_CODE_A;break;case De.CODE_CODE_C:z=De.CODE_CODE_C;break;case De.CODE_STOP:X=!0;break}break;case De.CODE_CODE_C:if(St<100)St<10&&(pe+="0"),pe+=St;else switch(St!==De.CODE_STOP&&($t=!1),St){case De.CODE_FNC_1:v&&(pe.length===0?pe+="]C1":pe+="");break;case De.CODE_CODE_A:z=De.CODE_CODE_A;break;case De.CODE_CODE_B:z=De.CODE_CODE_B;break;case De.CODE_STOP:X=!0;break}break}Gl&&(z=z===De.CODE_CODE_A?De.CODE_CODE_B:De.CODE_CODE_A)}const Ea=Xe-$e;if(Xe=h.getNextUnset(Xe),!h.isRange(Xe,Math.min(h.getSize(),Xe+(Xe-$e)/2),!1))throw new V;if(Ft-=Wt*ot,Ft%103!==ot)throw new x;const as=pe.length;if(as===0)throw new V;as>0&&$t&&(z===De.CODE_CODE_C?pe=pe.substring(0,as-2):pe=pe.substring(0,as-1));const xa=(w[1]+w[0])/2,Wn=$e+Ea/2,aa=M.length,Fa=new Uint8Array(aa);for(let Gl=0;Gl<aa;Gl++)Fa[Gl]=M[Gl];const go=[new ke(xa,d),new ke(Wn,d)];return new Z(pe,Fa,0,go,le.CODE_128,new Date().getTime())}}De.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],De.MAX_AVG_VARIANCE=.25,De.MAX_INDIVIDUAL_VARIANCE=.7,De.CODE_SHIFT=98,De.CODE_CODE_C=99,De.CODE_CODE_B=100,De.CODE_CODE_A=101,De.CODE_FNC_1=102,De.CODE_FNC_2=97,De.CODE_FNC_3=96,De.CODE_FNC_4_A=101,De.CODE_FNC_4_B=100,De.CODE_START_A=103,De.CODE_START_B=104,De.CODE_START_C=105,De.CODE_STOP=106;class gt extends ne{constructor(d=!1,h=!1){super(),this.usingCheckDigit=d,this.extendedMode=h,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(d,h,m){let v=this.counters;v.fill(0),this.decodeRowResult="";let w=gt.findAsteriskPattern(h,v),S=h.getNextSet(w[1]),j=h.getSize(),M,z;do{gt.recordPattern(h,S,v);let Qe=gt.toNarrowWidePattern(v);if(Qe<0)throw new V;M=gt.patternToChar(Qe),this.decodeRowResult+=M,z=S;for(let ot of v)S+=ot;S=h.getNextSet(S)}while(M!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let X=0;for(let Qe of v)X+=Qe;let ie=S-z-X;if(S!==j&&ie*2<X)throw new V;if(this.usingCheckDigit){let Qe=this.decodeRowResult.length-1,ot=0;for(let St=0;St<Qe;St++)ot+=gt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(St));if(this.decodeRowResult.charAt(Qe)!==gt.ALPHABET_STRING.charAt(ot%43))throw new x;this.decodeRowResult=this.decodeRowResult.substring(0,Qe)}if(this.decodeRowResult.length===0)throw new V;let pe;this.extendedMode?pe=gt.decodeExtended(this.decodeRowResult):pe=this.decodeRowResult;let $e=(w[1]+w[0])/2,Xe=z+X/2;return new Z(pe,null,0,[new ke($e,d),new ke(Xe,d)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(d,h){let m=d.getSize(),v=d.getNextSet(0),w=0,S=v,j=!1,M=h.length;for(let z=v;z<m;z++)if(d.get(z)!==j)h[w]++;else{if(w===M-1){if(this.toNarrowWidePattern(h)===gt.ASTERISK_ENCODING&&d.isRange(Math.max(0,S-Math.floor((z-S)/2)),S,!1))return[S,z];S+=h[0]+h[1],h.copyWithin(0,2,2+w-1),h[w-1]=0,h[w]=0,w--}else w++;h[w]=1,j=!j}throw new V}static toNarrowWidePattern(d){let h=d.length,m=0,v;do{let w=2147483647;for(let M of d)M<w&&M>m&&(w=M);m=w,v=0;let S=0,j=0;for(let M=0;M<h;M++){let z=d[M];z>m&&(j|=1<<h-1-M,v++,S+=z)}if(v===3){for(let M=0;M<h&&v>0;M++){let z=d[M];if(z>m&&(v--,z*2>=S))return-1}return j}}while(v>3);return-1}static patternToChar(d){for(let h=0;h<gt.CHARACTER_ENCODINGS.length;h++)if(gt.CHARACTER_ENCODINGS[h]===d)return gt.ALPHABET_STRING.charAt(h);if(d===gt.ASTERISK_ENCODING)return"*";throw new V}static decodeExtended(d){let h=d.length,m="";for(let v=0;v<h;v++){let w=d.charAt(v);if(w==="+"||w==="$"||w==="%"||w==="/"){let S=d.charAt(v+1),j="\0";switch(w){case"+":if(S>="A"&&S<="Z")j=String.fromCharCode(S.charCodeAt(0)+32);else throw new k;break;case"$":if(S>="A"&&S<="Z")j=String.fromCharCode(S.charCodeAt(0)-64);else throw new k;break;case"%":if(S>="A"&&S<="E")j=String.fromCharCode(S.charCodeAt(0)-38);else if(S>="F"&&S<="J")j=String.fromCharCode(S.charCodeAt(0)-11);else if(S>="K"&&S<="O")j=String.fromCharCode(S.charCodeAt(0)+16);else if(S>="P"&&S<="T")j=String.fromCharCode(S.charCodeAt(0)+43);else if(S==="U")j="\0";else if(S==="V")j="@";else if(S==="W")j="`";else if(S==="X"||S==="Y"||S==="Z")j="";else throw new k;break;case"/":if(S>="A"&&S<="O")j=String.fromCharCode(S.charCodeAt(0)-32);else if(S==="Z")j=":";else throw new k;break}m+=j,v++}else m+=w}return m}}gt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",gt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],gt.ASTERISK_ENCODING=148;class Nt extends ne{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(d,h,m){let v=this.decodeStart(h),w=this.decodeEnd(h),S=new q;Nt.decodeMiddle(h,v[1],w[0],S);let j=S.toString(),M=null;m!=null&&(M=m.get(D.ALLOWED_LENGTHS)),M==null&&(M=Nt.DEFAULT_ALLOWED_LENGTHS);let z=j.length,X=!1,ie=0;for(let Xe of M){if(z===Xe){X=!0;break}Xe>ie&&(ie=Xe)}if(!X&&z>ie&&(X=!0),!X)throw new k;const pe=[new ke(v[1],d),new ke(w[0],d)];return new Z(j,null,0,pe,le.ITF,new Date().getTime())}static decodeMiddle(d,h,m,v){let w=new Int32Array(10),S=new Int32Array(5),j=new Int32Array(5);for(w.fill(0),S.fill(0),j.fill(0);h<m;){ne.recordPattern(d,h,w);for(let z=0;z<5;z++){let X=2*z;S[z]=w[X],j[z]=w[X+1]}let M=Nt.decodeDigit(S);v.append(M.toString()),M=this.decodeDigit(j),v.append(M.toString()),w.forEach(function(z){h+=z})}}decodeStart(d){let h=Nt.skipWhiteSpace(d),m=Nt.findGuardPattern(d,h,Nt.START_PATTERN);return this.narrowLineWidth=(m[1]-m[0])/4,this.validateQuietZone(d,m[0]),m}validateQuietZone(d,h){let m=this.narrowLineWidth*10;m=m<h?m:h;for(let v=h-1;m>0&&v>=0&&!d.get(v);v--)m--;if(m!==0)throw new V}static skipWhiteSpace(d){const h=d.getSize(),m=d.getNextSet(0);if(m===h)throw new V;return m}decodeEnd(d){d.reverse();try{let h=Nt.skipWhiteSpace(d),m;try{m=Nt.findGuardPattern(d,h,Nt.END_PATTERN_REVERSED[0])}catch(w){w instanceof V&&(m=Nt.findGuardPattern(d,h,Nt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(d,m[0]);let v=m[0];return m[0]=d.getSize()-m[1],m[1]=d.getSize()-v,m}finally{d.reverse()}}static findGuardPattern(d,h,m){let v=m.length,w=new Int32Array(v),S=d.getSize(),j=!1,M=0,z=h;w.fill(0);for(let X=h;X<S;X++)if(d.get(X)!==j)w[M]++;else{if(M===v-1){if(ne.patternMatchVariance(w,m,Nt.MAX_INDIVIDUAL_VARIANCE)<Nt.MAX_AVG_VARIANCE)return[z,X];z+=w[0]+w[1],y.arraycopy(w,2,w,0,M-1),w[M-1]=0,w[M]=0,M--}else M++;w[M]=1,j=!j}throw new V}static decodeDigit(d){let h=Nt.MAX_AVG_VARIANCE,m=-1,v=Nt.PATTERNS.length;for(let w=0;w<v;w++){let S=Nt.PATTERNS[w],j=ne.patternMatchVariance(d,S,Nt.MAX_INDIVIDUAL_VARIANCE);j<h?(h=j,m=w):j===h&&(m=-1)}if(m>=0)return m%10;throw new V}}Nt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Nt.MAX_AVG_VARIANCE=.38,Nt.MAX_INDIVIDUAL_VARIANCE=.5,Nt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Nt.START_PATTERN=Int32Array.from([1,1,1,1]),Nt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Pr extends ne{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(d){let h=!1,m,v=0,w=Int32Array.from([0,0,0]);for(;!h;){w=Int32Array.from([0,0,0]),m=Pr.findGuardPattern(d,v,!1,this.START_END_PATTERN,w);let S=m[0];v=m[1];let j=S-(v-S);j>=0&&(h=d.isRange(j,S,!1))}return m}static checkChecksum(d){return Pr.checkStandardUPCEANChecksum(d)}static checkStandardUPCEANChecksum(d){let h=d.length;if(h===0)return!1;let m=parseInt(d.charAt(h-1),10);return Pr.getStandardUPCEANChecksum(d.substring(0,h-1))===m}static getStandardUPCEANChecksum(d){let h=d.length,m=0;for(let v=h-1;v>=0;v-=2){let w=d.charAt(v).charCodeAt(0)-48;if(w<0||w>9)throw new k;m+=w}m*=3;for(let v=h-2;v>=0;v-=2){let w=d.charAt(v).charCodeAt(0)-48;if(w<0||w>9)throw new k;m+=w}return(1e3-m)%10}static decodeEnd(d,h){return Pr.findGuardPattern(d,h,!1,Pr.START_END_PATTERN,new Int32Array(Pr.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(d,h,m,v){return this.findGuardPattern(d,h,m,v,new Int32Array(v.length))}static findGuardPattern(d,h,m,v,w){let S=d.getSize();h=m?d.getNextUnset(h):d.getNextSet(h);let j=0,M=h,z=v.length,X=m;for(let ie=h;ie<S;ie++)if(d.get(ie)!==X)w[j]++;else{if(j===z-1){if(ne.patternMatchVariance(w,v,Pr.MAX_INDIVIDUAL_VARIANCE)<Pr.MAX_AVG_VARIANCE)return Int32Array.from([M,ie]);M+=w[0]+w[1];let pe=w.slice(2,w.length-1);for(let $e=0;$e<j-1;$e++)w[$e]=pe[$e];w[j-1]=0,w[j]=0,j--}else j++;w[j]=1,X=!X}throw new V}static decodeDigit(d,h,m,v){this.recordPattern(d,m,h);let w=this.MAX_AVG_VARIANCE,S=-1,j=v.length;for(let M=0;M<j;M++){let z=v[M],X=ne.patternMatchVariance(h,z,Pr.MAX_INDIVIDUAL_VARIANCE);X<w&&(w=X,S=M)}if(S>=0)return S;throw new V}}Pr.MAX_AVG_VARIANCE=.48,Pr.MAX_INDIVIDUAL_VARIANCE=.7,Pr.START_END_PATTERN=Int32Array.from([1,1,1]),Pr.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Pr.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Pr.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Jr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(d,h,m){let v=this.decodeRowStringBuffer,w=this.decodeMiddle(h,m,v),S=v.toString(),j=Jr.parseExtensionString(S),M=[new ke((m[0]+m[1])/2,d),new ke(w,d)],z=new Z(S,null,0,M,le.UPC_EAN_EXTENSION,new Date().getTime());return j!=null&&z.putAllMetadata(j),z}decodeMiddle(d,h,m){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let w=d.getSize(),S=h[1],j=0;for(let z=0;z<5&&S<w;z++){let X=Pr.decodeDigit(d,v,S,Pr.L_AND_G_PATTERNS);m+=String.fromCharCode(48+X%10);for(let ie of v)S+=ie;X>=10&&(j|=1<<4-z),z!==4&&(S=d.getNextSet(S),S=d.getNextUnset(S))}if(m.length!==5)throw new V;let M=this.determineCheckDigit(j);if(Jr.extensionChecksum(m.toString())!==M)throw new V;return S}static extensionChecksum(d){let h=d.length,m=0;for(let v=h-2;v>=0;v-=2)m+=d.charAt(v).charCodeAt(0)-48;m*=3;for(let v=h-1;v>=0;v-=2)m+=d.charAt(v).charCodeAt(0)-48;return m*=3,m%10}determineCheckDigit(d){for(let h=0;h<10;h++)if(d===this.CHECK_DIGIT_ENCODINGS[h])return h;throw new V}static parseExtensionString(d){if(d.length!==5)return null;let h=Jr.parseExtension5String(d);return h==null?null:new Map([[Ae.SUGGESTED_PRICE,h]])}static parseExtension5String(d){let h;switch(d.charAt(0)){case"0":h="";break;case"5":h="$";break;case"9":switch(d){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}h="";break;default:h="";break}let m=parseInt(d.substring(1)),v=(m/100).toString(),w=m%100,S=w<10?"0"+w:w.toString();return h+v+"."+S}}class fa{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(d,h,m){let v=this.decodeRowStringBuffer,w=this.decodeMiddle(h,m,v),S=v.toString(),j=fa.parseExtensionString(S),M=[new ke((m[0]+m[1])/2,d),new ke(w,d)],z=new Z(S,null,0,M,le.UPC_EAN_EXTENSION,new Date().getTime());return j!=null&&z.putAllMetadata(j),z}decodeMiddle(d,h,m){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let w=d.getSize(),S=h[1],j=0;for(let M=0;M<2&&S<w;M++){let z=Pr.decodeDigit(d,v,S,Pr.L_AND_G_PATTERNS);m+=String.fromCharCode(48+z%10);for(let X of v)S+=X;z>=10&&(j|=1<<1-M),M!==1&&(S=d.getNextSet(S),S=d.getNextUnset(S))}if(m.length!==2)throw new V;if(parseInt(m.toString())%4!==j)throw new V;return S}static parseExtensionString(d){return d.length!==2?null:new Map([[Ae.ISSUE_NUMBER,parseInt(d)]])}}class Ln{static decodeRow(d,h,m){let v=Pr.findGuardPattern(h,m,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Jr().decodeRow(d,h,v)}catch{return new fa().decodeRow(d,h,v)}}}Ln.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Te extends Pr{constructor(){super(),this.decodeRowStringBuffer="",Te.L_AND_G_PATTERNS=Te.L_PATTERNS.map(d=>Int32Array.from(d));for(let d=10;d<20;d++){let h=Te.L_PATTERNS[d-10],m=new Int32Array(h.length);for(let v=0;v<h.length;v++)m[v]=h[h.length-v-1];Te.L_AND_G_PATTERNS[d]=m}}decodeRow(d,h,m){let v=Te.findStartGuardPattern(h),w=m==null?null:m.get(D.NEED_RESULT_POINT_CALLBACK);if(w!=null){const $t=new ke((v[0]+v[1])/2,d);w.foundPossibleResultPoint($t)}let S=this.decodeMiddle(h,v,this.decodeRowStringBuffer),j=S.rowOffset,M=S.resultString;if(w!=null){const $t=new ke(j,d);w.foundPossibleResultPoint($t)}let z=this.decodeEnd(h,j);if(w!=null){const $t=new ke((z[0]+z[1])/2,d);w.foundPossibleResultPoint($t)}let X=z[1],ie=X+(X-z[0]);if(ie>=h.getSize()||!h.isRange(X,ie,!1))throw new V;let pe=M.toString();if(pe.length<8)throw new k;if(!Te.checkChecksum(pe))throw new x;let $e=(v[1]+v[0])/2,Xe=(z[1]+z[0])/2,Qe=this.getBarcodeFormat(),ot=[new ke($e,d),new ke(Xe,d)],St=new Z(pe,null,0,ot,Qe,new Date().getTime()),Ft=0;try{let $t=Ln.decodeRow(d,h,z[1]);St.putMetadata(Ae.UPC_EAN_EXTENSION,$t.getText()),St.putAllMetadata($t.getResultMetadata()),St.addResultPoints($t.getResultPoints()),Ft=$t.getText().length}catch{}let Wt=m==null?null:m.get(D.ALLOWED_EAN_EXTENSIONS);if(Wt!=null){let $t=!1;for(let En in Wt)if(Ft.toString()===En){$t=!0;break}if(!$t)throw new V}return St}decodeEnd(d,h){return Te.findGuardPattern(d,h,!1,Te.START_END_PATTERN,new Int32Array(Te.START_END_PATTERN.length).fill(0))}static checkChecksum(d){return Te.checkStandardUPCEANChecksum(d)}static checkStandardUPCEANChecksum(d){let h=d.length;if(h===0)return!1;let m=parseInt(d.charAt(h-1),10);return Te.getStandardUPCEANChecksum(d.substring(0,h-1))===m}static getStandardUPCEANChecksum(d){let h=d.length,m=0;for(let v=h-1;v>=0;v-=2){let w=d.charAt(v).charCodeAt(0)-48;if(w<0||w>9)throw new k;m+=w}m*=3;for(let v=h-2;v>=0;v-=2){let w=d.charAt(v).charCodeAt(0)-48;if(w<0||w>9)throw new k;m+=w}return(1e3-m)%10}}class it extends Te{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(d,h,m){let v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let w=d.getSize(),S=h[1],j=0;for(let z=0;z<6&&S<w;z++){let X=Te.decodeDigit(d,v,S,Te.L_AND_G_PATTERNS);m+=String.fromCharCode(48+X%10);for(let ie of v)S+=ie;X>=10&&(j|=1<<5-z)}m=it.determineFirstDigit(m,j),S=Te.findGuardPattern(d,S,!0,Te.MIDDLE_PATTERN,new Int32Array(Te.MIDDLE_PATTERN.length).fill(0))[1];for(let z=0;z<6&&S<w;z++){let X=Te.decodeDigit(d,v,S,Te.L_PATTERNS);m+=String.fromCharCode(48+X);for(let ie of v)S+=ie}return{rowOffset:S,resultString:m}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(d,h){for(let m=0;m<10;m++)if(h===this.FIRST_DIGIT_ENCODINGS[m])return d=String.fromCharCode(48+m)+d,d;throw new V}}it.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class jt extends Te{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(d,h,m){const v=this.decodeMiddleCounters;v[0]=0,v[1]=0,v[2]=0,v[3]=0;let w=d.getSize(),S=h[1];for(let M=0;M<4&&S<w;M++){let z=Te.decodeDigit(d,v,S,Te.L_PATTERNS);m+=String.fromCharCode(48+z);for(let X of v)S+=X}S=Te.findGuardPattern(d,S,!0,Te.MIDDLE_PATTERN,new Int32Array(Te.MIDDLE_PATTERN.length).fill(0))[1];for(let M=0;M<4&&S<w;M++){let z=Te.decodeDigit(d,v,S,Te.L_PATTERNS);m+=String.fromCharCode(48+z);for(let X of v)S+=X}return{rowOffset:S,resultString:m}}getBarcodeFormat(){return le.EAN_8}}class lr extends Te{constructor(){super(...arguments),this.ean13Reader=new it}getBarcodeFormat(){return le.UPC_A}decode(d,h){return this.maybeReturnResult(this.ean13Reader.decode(d))}decodeRow(d,h,m){return this.maybeReturnResult(this.ean13Reader.decodeRow(d,h,m))}decodeMiddle(d,h,m){return this.ean13Reader.decodeMiddle(d,h,m)}maybeReturnResult(d){let h=d.getText();if(h.charAt(0)==="0"){let m=new Z(h.substring(1),null,null,d.getResultPoints(),le.UPC_A);return d.getResultMetadata()!=null&&m.putAllMetadata(d.getResultMetadata()),m}else throw new V}reset(){this.ean13Reader.reset()}}class xr extends Te{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(d,h,m){const v=this.decodeMiddleCounters.map(z=>z);v[0]=0,v[1]=0,v[2]=0,v[3]=0;const w=d.getSize();let S=h[1],j=0;for(let z=0;z<6&&S<w;z++){const X=xr.decodeDigit(d,v,S,xr.L_AND_G_PATTERNS);m+=String.fromCharCode(48+X%10);for(let ie of v)S+=ie;X>=10&&(j|=1<<5-z)}let M=xr.determineNumSysAndCheckDigit(m,j);return{rowOffset:S,resultString:M}}decodeEnd(d,h){return xr.findGuardPatternWithoutCounters(d,h,!0,xr.MIDDLE_END_PATTERN)}checkChecksum(d){return Te.checkChecksum(xr.convertUPCEtoUPCA(d))}static determineNumSysAndCheckDigit(d,h){for(let m=0;m<=1;m++)for(let v=0;v<10;v++)if(h===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[m][v]){let w=String.fromCharCode(48+m),S=String.fromCharCode(48+v);return w+d+S}throw V.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(d){const h=d.slice(1,7).split("").map(w=>w.charCodeAt(0)),m=new q;m.append(d.charAt(0));let v=h[5];switch(v){case 0:case 1:case 2:m.appendChars(h,0,2),m.append(v),m.append("0000"),m.appendChars(h,2,3);break;case 3:m.appendChars(h,0,3),m.append("00000"),m.appendChars(h,3,2);break;case 4:m.appendChars(h,0,4),m.append("00000"),m.append(h[4]);break;default:m.appendChars(h,0,5),m.append("0000"),m.append(v);break}return d.length>=8&&m.append(d.charAt(7)),m.toString()}}xr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),xr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Sa extends ne{constructor(d){super();let h=d==null?null:d.get(D.POSSIBLE_FORMATS),m=[];n(h)?(m.push(new it),m.push(new lr),m.push(new jt),m.push(new xr)):(h.indexOf(le.EAN_13)>-1&&m.push(new it),h.indexOf(le.UPC_A)>-1&&m.push(new lr),h.indexOf(le.EAN_8)>-1&&m.push(new jt),h.indexOf(le.UPC_E)>-1&&m.push(new xr)),this.readers=m}decodeRow(d,h,m){for(let v of this.readers)try{const w=v.decodeRow(d,h,m),S=w.getBarcodeFormat()===le.EAN_13&&w.getText().charAt(0)==="0",j=m==null?null:m.get(D.POSSIBLE_FORMATS),M=j==null||j.includes(le.UPC_A);if(S&&M){const z=w.getRawBytes(),X=new Z(w.getText().substring(1),z,z?z.length:null,w.getResultPoints(),le.UPC_A);return X.putAllMetadata(w.getResultMetadata()),X}return w}catch{}throw new V}reset(){for(let d of this.readers)d.reset()}}class dn extends ne{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(d,h){for(let m=0;m<h.length;m++)if(ne.patternMatchVariance(d,h[m],dn.MAX_INDIVIDUAL_VARIANCE)<dn.MAX_AVG_VARIANCE)return m;throw new V}static count(d){return Ce.sum(new Int32Array(d))}static increment(d,h){let m=0,v=h[0];for(let w=1;w<d.length;w++)h[w]>v&&(v=h[w],m=w);d[m]++}static decrement(d,h){let m=0,v=h[0];for(let w=1;w<d.length;w++)h[w]<v&&(v=h[w],m=w);d[m]--}static isFinderPattern(d){let h=d[0]+d[1],m=h+d[2]+d[3],v=h/m;if(v>=dn.MIN_FINDER_PATTERN_RATIO&&v<=dn.MAX_FINDER_PATTERN_RATIO){let w=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER;for(let j of d)j>S&&(S=j),j<w&&(w=j);return S<10*w}return!1}}dn.MAX_AVG_VARIANCE=.2,dn.MAX_INDIVIDUAL_VARIANCE=.45,dn.MIN_FINDER_PATTERN_RATIO=9.5/12,dn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ha{constructor(d,h){this.value=d,this.checksumPortion=h}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(d){if(!(d instanceof ha))return!1;const h=d;return this.value===h.value&&this.checksumPortion===h.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class li{constructor(d,h,m,v,w){this.value=d,this.startEnd=h,this.value=d,this.startEnd=h,this.resultPoints=new Array,this.resultPoints.push(new ke(m,w)),this.resultPoints.push(new ke(v,w))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(d){if(!(d instanceof li))return!1;const h=d;return this.value===h.value}hashCode(){return this.value}}class dr{constructor(){}static getRSSvalue(d,h,m){let v=0;for(let M of d)v+=M;let w=0,S=0,j=d.length;for(let M=0;M<j-1;M++){let z;for(z=1,S|=1<<M;z<d[M];z++,S&=~(1<<M)){let X=dr.combins(v-z-1,j-M-2);if(m&&S===0&&v-z-(j-M-1)>=j-M-1&&(X-=dr.combins(v-z-(j-M),j-M-2)),j-M-1>1){let ie=0;for(let pe=v-z-(j-M-2);pe>h;pe--)ie+=dr.combins(v-z-pe-1,j-M-3);X-=ie*(j-1-M)}else v-z>h&&X--;w+=X}v-=z}return w}static combins(d,h){let m,v;d-h>h?(v=h,m=d-h):(v=d-h,m=h);let w=1,S=1;for(let j=d;j>m;j--)w*=j,S<=v&&(w/=S,S++);for(;S<=v;)w/=S,S++;return w}}class qa{static buildBitArray(d){let h=d.length*2-1;d[d.length-1].getRightChar()==null&&(h-=1);let m=12*h,v=new I(m),w=0,j=d[0].getRightChar().getValue();for(let M=11;M>=0;--M)j&1<<M&&v.set(w),w++;for(let M=1;M<d.length;++M){let z=d[M],X=z.getLeftChar().getValue();for(let ie=11;ie>=0;--ie)X&1<<ie&&v.set(w),w++;if(z.getRightChar()!=null){let ie=z.getRightChar().getValue();for(let pe=11;pe>=0;--pe)ie&1<<pe&&v.set(w),w++}}return v}}class Fi{constructor(d,h){h?this.decodedInformation=null:(this.finished=d,this.decodedInformation=h)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class _a{constructor(d){this.newPosition=d}getNewPosition(){return this.newPosition}}class On extends _a{constructor(d,h){super(d),this.value=h}getValue(){return this.value}isFNC1(){return this.value===On.FNC1}}On.FNC1="$";class Gn extends _a{constructor(d,h,m){super(d),m?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=h}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ue extends _a{constructor(d,h,m){if(super(d),h<0||h>10||m<0||m>10)throw new k;this.firstDigit=h,this.secondDigit=m}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ue.FNC1}isSecondDigitFNC1(){return this.secondDigit===ue.FNC1}isAnyFNC1(){return this.firstDigit===ue.FNC1||this.secondDigit===ue.FNC1}}ue.FNC1=10;class _e{constructor(){}static parseFieldsInGeneralPurpose(d){if(!d)return null;if(d.length<2)throw new V;let h=d.substring(0,2);for(let w of _e.TWO_DIGIT_DATA_LENGTH)if(w[0]===h)return w[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(2,w[2],d):_e.processFixedAI(2,w[1],d);if(d.length<3)throw new V;let m=d.substring(0,3);for(let w of _e.THREE_DIGIT_DATA_LENGTH)if(w[0]===m)return w[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(3,w[2],d):_e.processFixedAI(3,w[1],d);for(let w of _e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(w[0]===m)return w[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,w[2],d):_e.processFixedAI(4,w[1],d);if(d.length<4)throw new V;let v=d.substring(0,4);for(let w of _e.FOUR_DIGIT_DATA_LENGTH)if(w[0]===v)return w[1]===_e.VARIABLE_LENGTH?_e.processVariableAI(4,w[2],d):_e.processFixedAI(4,w[1],d);throw new V}static processFixedAI(d,h,m){if(m.length<d)throw new V;let v=m.substring(0,d);if(m.length<d+h)throw new V;let w=m.substring(d,d+h),S=m.substring(d+h),j="("+v+")"+w,M=_e.parseFieldsInGeneralPurpose(S);return M==null?j:j+M}static processVariableAI(d,h,m){let v=m.substring(0,d),w;m.length<d+h?w=m.length:w=d+h;let S=m.substring(d,w),j=m.substring(w),M="("+v+")"+S,z=_e.parseFieldsInGeneralPurpose(j);return z==null?M:M+z}}_e.VARIABLE_LENGTH=[],_e.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",_e.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",_e.VARIABLE_LENGTH,20],["22",_e.VARIABLE_LENGTH,29],["30",_e.VARIABLE_LENGTH,8],["37",_e.VARIABLE_LENGTH,8],["90",_e.VARIABLE_LENGTH,30],["91",_e.VARIABLE_LENGTH,30],["92",_e.VARIABLE_LENGTH,30],["93",_e.VARIABLE_LENGTH,30],["94",_e.VARIABLE_LENGTH,30],["95",_e.VARIABLE_LENGTH,30],["96",_e.VARIABLE_LENGTH,30],["97",_e.VARIABLE_LENGTH,3],["98",_e.VARIABLE_LENGTH,30],["99",_e.VARIABLE_LENGTH,30]],_e.THREE_DIGIT_DATA_LENGTH=[["240",_e.VARIABLE_LENGTH,30],["241",_e.VARIABLE_LENGTH,30],["242",_e.VARIABLE_LENGTH,6],["250",_e.VARIABLE_LENGTH,30],["251",_e.VARIABLE_LENGTH,30],["253",_e.VARIABLE_LENGTH,17],["254",_e.VARIABLE_LENGTH,20],["400",_e.VARIABLE_LENGTH,30],["401",_e.VARIABLE_LENGTH,30],["402",17],["403",_e.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",_e.VARIABLE_LENGTH,20],["421",_e.VARIABLE_LENGTH,15],["422",3],["423",_e.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],_e.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",_e.VARIABLE_LENGTH,15],["391",_e.VARIABLE_LENGTH,18],["392",_e.VARIABLE_LENGTH,15],["393",_e.VARIABLE_LENGTH,18],["703",_e.VARIABLE_LENGTH,30]],_e.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",_e.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",_e.VARIABLE_LENGTH,20],["8003",_e.VARIABLE_LENGTH,30],["8004",_e.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",_e.VARIABLE_LENGTH,30],["8008",_e.VARIABLE_LENGTH,12],["8018",18],["8020",_e.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",_e.VARIABLE_LENGTH,70],["8200",_e.VARIABLE_LENGTH,70]];class Oe{constructor(d){this.buffer=new q,this.information=d}decodeAllCodes(d,h){let m=h,v=null;do{let w=this.decodeGeneralPurposeField(m,v),S=_e.parseFieldsInGeneralPurpose(w.getNewString());if(S!=null&&d.append(S),w.isRemaining()?v=""+w.getRemainingValue():v=null,m===w.getNewPosition())break;m=w.getNewPosition()}while(!0);return d.toString()}isStillNumeric(d){if(d+7>this.information.getSize())return d+4<=this.information.getSize();for(let h=d;h<d+3;++h)if(this.information.get(h))return!0;return this.information.get(d+3)}decodeNumeric(d){if(d+7>this.information.getSize()){let w=this.extractNumericValueFromBitArray(d,4);return w===0?new ue(this.information.getSize(),ue.FNC1,ue.FNC1):new ue(this.information.getSize(),w-1,ue.FNC1)}let h=this.extractNumericValueFromBitArray(d,7),m=(h-8)/11,v=(h-8)%11;return new ue(d+7,m,v)}extractNumericValueFromBitArray(d,h){return Oe.extractNumericValueFromBitArray(this.information,d,h)}static extractNumericValueFromBitArray(d,h,m){let v=0;for(let w=0;w<m;++w)d.get(h+w)&&(v|=1<<m-w-1);return v}decodeGeneralPurposeField(d,h){this.buffer.setLengthToZero(),h!=null&&this.buffer.append(h),this.current.setPosition(d);let m=this.parseBlocks();return m!=null&&m.isRemaining()?new Gn(this.current.getPosition(),this.buffer.toString(),m.getRemainingValue()):new Gn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let d,h;do{let m=this.current.getPosition();if(this.current.isAlpha()?(h=this.parseAlphaBlock(),d=h.isFinished()):this.current.isIsoIec646()?(h=this.parseIsoIec646Block(),d=h.isFinished()):(h=this.parseNumericBlock(),d=h.isFinished()),!(m!==this.current.getPosition())&&!d)break}while(!d);return h.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let d=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(d.getNewPosition()),d.isFirstDigitFNC1()){let h;return d.isSecondDigitFNC1()?h=new Gn(this.current.getPosition(),this.buffer.toString()):h=new Gn(this.current.getPosition(),this.buffer.toString(),d.getSecondDigit()),new Fi(!0,h)}if(this.buffer.append(d.getFirstDigit()),d.isSecondDigitFNC1()){let h=new Gn(this.current.getPosition(),this.buffer.toString());return new Fi(!0,h)}this.buffer.append(d.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Fi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let d=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(d.getNewPosition()),d.isFNC1()){let h=new Gn(this.current.getPosition(),this.buffer.toString());return new Fi(!0,h)}this.buffer.append(d.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Fi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let d=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(d.getNewPosition()),d.isFNC1()){let h=new Gn(this.current.getPosition(),this.buffer.toString());return new Fi(!0,h)}this.buffer.append(d.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Fi(!1)}isStillIsoIec646(d){if(d+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(d,5);if(h>=5&&h<16)return!0;if(d+7>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(d,7);if(m>=64&&m<116)return!0;if(d+8>this.information.getSize())return!1;let v=this.extractNumericValueFromBitArray(d,8);return v>=232&&v<253}decodeIsoIec646(d){let h=this.extractNumericValueFromBitArray(d,5);if(h===15)return new On(d+5,On.FNC1);if(h>=5&&h<15)return new On(d+5,"0"+(h-5));let m=this.extractNumericValueFromBitArray(d,7);if(m>=64&&m<90)return new On(d+7,""+(m+1));if(m>=90&&m<116)return new On(d+7,""+(m+7));let v=this.extractNumericValueFromBitArray(d,8),w;switch(v){case 232:w="!";break;case 233:w='"';break;case 234:w="%";break;case 235:w="&";break;case 236:w="'";break;case 237:w="(";break;case 238:w=")";break;case 239:w="*";break;case 240:w="+";break;case 241:w=",";break;case 242:w="-";break;case 243:w=".";break;case 244:w="/";break;case 245:w=":";break;case 246:w=";";break;case 247:w="<";break;case 248:w="=";break;case 249:w=">";break;case 250:w="?";break;case 251:w="_";break;case 252:w=" ";break;default:throw new k}return new On(d+8,w)}isStillAlpha(d){if(d+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(d,5);if(h>=5&&h<16)return!0;if(d+6>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(d,6);return m>=16&&m<63}decodeAlphanumeric(d){let h=this.extractNumericValueFromBitArray(d,5);if(h===15)return new On(d+5,On.FNC1);if(h>=5&&h<15)return new On(d+5,"0"+(h-5));let m=this.extractNumericValueFromBitArray(d,6);if(m>=32&&m<58)return new On(d+6,""+(m+33));let v;switch(m){case 58:v="*";break;case 59:v=",";break;case 60:v="-";break;case 61:v=".";break;case 62:v="/";break;default:throw new Ye("Decoding invalid alphanumeric value: "+m)}return new On(d+6,v)}isAlphaTo646ToAlphaLatch(d){if(d+1>this.information.getSize())return!1;for(let h=0;h<5&&h+d<this.information.getSize();++h)if(h===2){if(!this.information.get(d+2))return!1}else if(this.information.get(d+h))return!1;return!0}isAlphaOr646ToNumericLatch(d){if(d+3>this.information.getSize())return!1;for(let h=d;h<d+3;++h)if(this.information.get(h))return!1;return!0}isNumericToAlphaNumericLatch(d){if(d+1>this.information.getSize())return!1;for(let h=0;h<4&&h+d<this.information.getSize();++h)if(this.information.get(d+h))return!1;return!0}}class Me{constructor(d){this.information=d,this.generalDecoder=new Oe(d)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Fe extends Me{constructor(d){super(d)}encodeCompressedGtin(d,h){d.append("(01)");let m=d.length();d.append("9"),this.encodeCompressedGtinWithoutAI(d,h,m)}encodeCompressedGtinWithoutAI(d,h,m){for(let v=0;v<4;++v){let w=this.getGeneralDecoder().extractNumericValueFromBitArray(h+10*v,10);w/100===0&&d.append("0"),w/10===0&&d.append("0"),d.append(w)}Fe.appendCheckDigit(d,m)}static appendCheckDigit(d,h){let m=0;for(let v=0;v<13;v++){let w=d.charAt(v+h).charCodeAt(0)-48;m+=v&1?w:3*w}m=10-m%10,m===10&&(m=0),d.append(m)}}Fe.GTIN_SIZE=40;class Ve extends Fe{constructor(d){super(d)}parseInformation(){let d=new q;d.append("(01)");let h=d.length(),m=this.getGeneralDecoder().extractNumericValueFromBitArray(Ve.HEADER_SIZE,4);return d.append(m),this.encodeCompressedGtinWithoutAI(d,Ve.HEADER_SIZE+4,h),this.getGeneralDecoder().decodeAllCodes(d,Ve.HEADER_SIZE+44)}}Ve.HEADER_SIZE=4;class ft extends Me{constructor(d){super(d)}parseInformation(){let d=new q;return this.getGeneralDecoder().decodeAllCodes(d,ft.HEADER_SIZE)}}ft.HEADER_SIZE=5;class _t extends Fe{constructor(d){super(d)}encodeCompressedWeight(d,h,m){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(h,m);this.addWeightCode(d,v);let w=this.checkWeight(v),S=1e5;for(let j=0;j<5;++j)w/S===0&&d.append("0"),S/=10;d.append(w)}}class ct extends _t{constructor(d){super(d)}parseInformation(){if(this.getInformation().getSize()!=ct.HEADER_SIZE+_t.GTIN_SIZE+ct.WEIGHT_SIZE)throw new V;let d=new q;return this.encodeCompressedGtin(d,ct.HEADER_SIZE),this.encodeCompressedWeight(d,ct.HEADER_SIZE+_t.GTIN_SIZE,ct.WEIGHT_SIZE),d.toString()}}ct.HEADER_SIZE=5,ct.WEIGHT_SIZE=15;class xt extends ct{constructor(d){super(d)}addWeightCode(d,h){d.append("(3103)")}checkWeight(d){return d}}class wt extends ct{constructor(d){super(d)}addWeightCode(d,h){h<1e4?d.append("(3202)"):d.append("(3203)")}checkWeight(d){return d<1e4?d:d-1e4}}class kt extends Fe{constructor(d){super(d)}parseInformation(){if(this.getInformation().getSize()<kt.HEADER_SIZE+Fe.GTIN_SIZE)throw new V;let d=new q;this.encodeCompressedGtin(d,kt.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(kt.HEADER_SIZE+Fe.GTIN_SIZE,kt.LAST_DIGIT_SIZE);d.append("(392"),d.append(h),d.append(")");let m=this.getGeneralDecoder().decodeGeneralPurposeField(kt.HEADER_SIZE+Fe.GTIN_SIZE+kt.LAST_DIGIT_SIZE,null);return d.append(m.getNewString()),d.toString()}}kt.HEADER_SIZE=8,kt.LAST_DIGIT_SIZE=2;class Vt extends Fe{constructor(d){super(d)}parseInformation(){if(this.getInformation().getSize()<Vt.HEADER_SIZE+Fe.GTIN_SIZE)throw new V;let d=new q;this.encodeCompressedGtin(d,Vt.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(Vt.HEADER_SIZE+Fe.GTIN_SIZE,Vt.LAST_DIGIT_SIZE);d.append("(393"),d.append(h),d.append(")");let m=this.getGeneralDecoder().extractNumericValueFromBitArray(Vt.HEADER_SIZE+Fe.GTIN_SIZE+Vt.LAST_DIGIT_SIZE,Vt.FIRST_THREE_DIGITS_SIZE);m/100==0&&d.append("0"),m/10==0&&d.append("0"),d.append(m);let v=this.getGeneralDecoder().decodeGeneralPurposeField(Vt.HEADER_SIZE+Fe.GTIN_SIZE+Vt.LAST_DIGIT_SIZE+Vt.FIRST_THREE_DIGITS_SIZE,null);return d.append(v.getNewString()),d.toString()}}Vt.HEADER_SIZE=8,Vt.LAST_DIGIT_SIZE=2,Vt.FIRST_THREE_DIGITS_SIZE=10;class de extends _t{constructor(d,h,m){super(d),this.dateCode=m,this.firstAIdigits=h}parseInformation(){if(this.getInformation().getSize()!=de.HEADER_SIZE+de.GTIN_SIZE+de.WEIGHT_SIZE+de.DATE_SIZE)throw new V;let d=new q;return this.encodeCompressedGtin(d,de.HEADER_SIZE),this.encodeCompressedWeight(d,de.HEADER_SIZE+de.GTIN_SIZE,de.WEIGHT_SIZE),this.encodeCompressedDate(d,de.HEADER_SIZE+de.GTIN_SIZE+de.WEIGHT_SIZE),d.toString()}encodeCompressedDate(d,h){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(h,de.DATE_SIZE);if(m==38400)return;d.append("("),d.append(this.dateCode),d.append(")");let v=m%32;m/=32;let w=m%12+1;m/=12;let S=m;S/10==0&&d.append("0"),d.append(S),w/10==0&&d.append("0"),d.append(w),v/10==0&&d.append("0"),d.append(v)}addWeightCode(d,h){d.append("("),d.append(this.firstAIdigits),d.append(h/1e5),d.append(")")}checkWeight(d){return d%1e5}}de.HEADER_SIZE=8,de.WEIGHT_SIZE=20,de.DATE_SIZE=16;function at(ae){try{if(ae.get(1))return new Ve(ae);if(!ae.get(2))return new ft(ae);switch(Oe.extractNumericValueFromBitArray(ae,1,4)){case 4:return new xt(ae);case 5:return new wt(ae)}switch(Oe.extractNumericValueFromBitArray(ae,1,5)){case 12:return new kt(ae);case 13:return new Vt(ae)}switch(Oe.extractNumericValueFromBitArray(ae,1,7)){case 56:return new de(ae,"310","11");case 57:return new de(ae,"320","11");case 58:return new de(ae,"310","13");case 59:return new de(ae,"320","13");case 60:return new de(ae,"310","15");case 61:return new de(ae,"320","15");case 62:return new de(ae,"310","17");case 63:return new de(ae,"320","17")}}catch(d){throw console.log(d),new Ye("unknown decoder: "+ae)}}class ht{constructor(d,h,m,v){this.leftchar=d,this.rightchar=h,this.finderpattern=m,this.maybeLast=v}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(d,h){return d instanceof ht?ht.equalsOrNull(d.leftchar,h.leftchar)&&ht.equalsOrNull(d.rightchar,h.rightchar)&&ht.equalsOrNull(d.finderpattern,h.finderpattern):!1}static equalsOrNull(d,h){return d===null?h===null:ht.equals(d,h)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Xt{constructor(d,h,m){this.pairs=d,this.rowNumber=h,this.wasReversed=m}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(d){return this.checkEqualitity(this,d)}toString(){return"{ "+this.pairs+" }"}equals(d,h){return d instanceof Xt?this.checkEqualitity(d,h)&&d.wasReversed===h.wasReversed:!1}checkEqualitity(d,h){if(!d||!h)return;let m;return d.forEach((v,w)=>{h.forEach(S=>{v.getLeftChar().getValue()===S.getLeftChar().getValue()&&v.getRightChar().getValue()===S.getRightChar().getValue()&&v.getFinderPatter().getValue()===S.getFinderPatter().getValue()&&(m=!0)})}),m}}class st extends dn{constructor(d){super(...arguments),this.pairs=new Array(st.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=d===!0}decodeRow(d,h,m){this.pairs.length=0,this.startFromEven=!1;try{return st.constructResult(this.decodeRow2pairs(d,h))}catch(v){this.verbose&&console.log(v)}return this.pairs.length=0,this.startFromEven=!0,st.constructResult(this.decodeRow2pairs(d,h))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(d,h){let m=!1;for(;!m;)try{this.pairs.push(this.retrieveNextPair(h,this.pairs,d))}catch(w){if(w instanceof V){if(!this.pairs.length)throw new V;m=!0}}if(this.checkChecksum())return this.pairs;let v;if(this.rows.length?v=!0:v=!1,this.storeRow(d,!1),v){let w=this.checkRowsBoolean(!1);if(w!=null||(w=this.checkRowsBoolean(!0),w!=null))return w}throw new V}checkRowsBoolean(d){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,d&&(this.rows=this.rows.reverse());let h=null;try{h=this.checkRows(new Array,0)}catch(m){this.verbose&&console.log(m)}return d&&(this.rows=this.rows.reverse()),h}checkRows(d,h){for(let m=h;m<this.rows.length;m++){let v=this.rows[m];this.pairs.length=0;for(let S of d)this.pairs.push(S.getPairs());if(this.pairs.push(v.getPairs()),!st.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let w=new Array(d);w.push(v);try{return this.checkRows(w,m+1)}catch(S){this.verbose&&console.log(S)}}throw new V}static isValidSequence(d){for(let h of st.FINDER_PATTERN_SEQUENCES){if(d.length>h.length)continue;let m=!0;for(let v=0;v<d.length;v++)if(d[v].getFinderPattern().getValue()!=h[v]){m=!1;break}if(m)return!0}return!1}storeRow(d,h){let m=0,v=!1,w=!1;for(;m<this.rows.length;){let S=this.rows[m];if(S.getRowNumber()>d){w=S.isEquivalent(this.pairs);break}v=S.isEquivalent(this.pairs),m++}w||v||st.isPartialRow(this.pairs,this.rows)||(this.rows.push(m,new Xt(this.pairs,d,h)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(d,h){for(let m of h)if(m.getPairs().length!==d.length){for(let v of m.getPairs())for(let w of d)if(ht.equals(v,w))break}}static isPartialRow(d,h){for(let m of h){let v=!0;for(let w of d){let S=!1;for(let j of m.getPairs())if(w.equals(j)){S=!0;break}if(!S){v=!1;break}}if(v)return!0}return!1}getRows(){return this.rows}static constructResult(d){let h=qa.buildBitArray(d),v=at(h).parseInformation(),w=d[0].getFinderPattern().getResultPoints(),S=d[d.length-1].getFinderPattern().getResultPoints(),j=[w[0],w[1],S[0],S[1]];return new Z(v,null,null,j,le.RSS_EXPANDED,null)}checkChecksum(){let d=this.pairs.get(0),h=d.getLeftChar(),m=d.getRightChar();if(m==null)return!1;let v=m.getChecksumPortion(),w=2;for(let j=1;j<this.pairs.size();++j){let M=this.pairs.get(j);v+=M.getLeftChar().getChecksumPortion(),w++;let z=M.getRightChar();z!=null&&(v+=z.getChecksumPortion(),w++)}return v%=211,211*(w-4)+v==h.getValue()}static getNextSecondBar(d,h){let m;return d.get(h)?(m=d.getNextUnset(h),m=d.getNextSet(m)):(m=d.getNextSet(h),m=d.getNextUnset(m)),m}retrieveNextPair(d,h,m){let v=h.length%2==0;this.startFromEven&&(v=!v);let w,S=!0,j=-1;do this.findNextPair(d,h,j),w=this.parseFoundFinderPattern(d,m,v),w==null?j=st.getNextSecondBar(d,this.startEnd[0]):S=!1;while(S);let M=this.decodeDataCharacter(d,w,v,!0);if(!this.isEmptyPair(h)&&h[h.length-1].mustBeLast())throw new V;let z;try{z=this.decodeDataCharacter(d,w,v,!1)}catch(X){z=null,this.verbose&&console.log(X)}return new ht(M,z,w,!0)}isEmptyPair(d){return d.length===0}findNextPair(d,h,m){let v=this.getDecodeFinderCounters();v[0]=0,v[1]=0,v[2]=0,v[3]=0;let w=d.getSize(),S;m>=0?S=m:this.isEmptyPair(h)?S=0:S=h[h.length-1].getFinderPattern().getStartEnd()[1];let j=h.length%2!=0;this.startFromEven&&(j=!j);let M=!1;for(;S<w&&(M=!d.get(S),!!M);)S++;let z=0,X=S;for(let ie=S;ie<w;ie++)if(d.get(ie)!=M)v[z]++;else{if(z==3){if(j&&st.reverseCounters(v),st.isFinderPattern(v)){this.startEnd[0]=X,this.startEnd[1]=ie;return}j&&st.reverseCounters(v),X+=v[0]+v[1],v[0]=v[2],v[1]=v[3],v[2]=0,v[3]=0,z--}else z++;v[z]=1,M=!M}throw new V}static reverseCounters(d){let h=d.length;for(let m=0;m<h/2;++m){let v=d[m];d[m]=d[h-m-1],d[h-m-1]=v}}parseFoundFinderPattern(d,h,m){let v,w,S;if(m){let z=this.startEnd[0]-1;for(;z>=0&&!d.get(z);)z--;z++,v=this.startEnd[0]-z,w=z,S=this.startEnd[1]}else w=this.startEnd[0],S=d.getNextUnset(this.startEnd[1]+1),v=S-this.startEnd[1];let j=this.getDecodeFinderCounters();y.arraycopy(j,0,j,1,j.length-1),j[0]=v;let M;try{M=this.parseFinderValue(j,st.FINDER_PATTERNS)}catch{return null}return new li(M,[w,S],w,S,h)}decodeDataCharacter(d,h,m,v){let w=this.getDataCharacterCounters();for(let Wn=0;Wn<w.length;Wn++)w[Wn]=0;if(v)st.recordPatternInReverse(d,h.getStartEnd()[0],w);else{st.recordPattern(d,h.getStartEnd()[1],w);for(let Wn=0,aa=w.length-1;Wn<aa;Wn++,aa--){let Fa=w[Wn];w[Wn]=w[aa],w[aa]=Fa}}let S=17,j=Ce.sum(new Int32Array(w))/S,M=(h.getStartEnd()[1]-h.getStartEnd()[0])/15;if(Math.abs(j-M)/M>.3)throw new V;let z=this.getOddCounts(),X=this.getEvenCounts(),ie=this.getOddRoundingErrors(),pe=this.getEvenRoundingErrors();for(let Wn=0;Wn<w.length;Wn++){let aa=1*w[Wn]/j,Fa=aa+.5;if(Fa<1){if(aa<.3)throw new V;Fa=1}else if(Fa>8){if(aa>8.7)throw new V;Fa=8}let go=Wn/2;Wn&1?(X[go]=Fa,pe[go]=aa-Fa):(z[go]=Fa,ie[go]=aa-Fa)}this.adjustOddEvenCounts(S);let $e=4*h.getValue()+(m?0:2)+(v?0:1)-1,Xe=0,Qe=0;for(let Wn=z.length-1;Wn>=0;Wn--){if(st.isNotA1left(h,m,v)){let aa=st.WEIGHTS[$e][2*Wn];Qe+=z[Wn]*aa}Xe+=z[Wn]}let ot=0;for(let Wn=X.length-1;Wn>=0;Wn--)if(st.isNotA1left(h,m,v)){let aa=st.WEIGHTS[$e][2*Wn+1];ot+=X[Wn]*aa}let St=Qe+ot;if(Xe&1||Xe>13||Xe<4)throw new V;let Ft=(13-Xe)/2,Wt=st.SYMBOL_WIDEST[Ft],$t=9-Wt,En=dr.getRSSvalue(z,Wt,!0),sn=dr.getRSSvalue(X,$t,!1),Ea=st.EVEN_TOTAL_SUBSET[Ft],as=st.GSUM[Ft],xa=En*Ea+sn+as;return new ha(xa,St)}static isNotA1left(d,h,m){return!(d.getValue()==0&&h&&m)}adjustOddEvenCounts(d){let h=Ce.sum(new Int32Array(this.getOddCounts())),m=Ce.sum(new Int32Array(this.getEvenCounts())),v=!1,w=!1;h>13?w=!0:h<4&&(v=!0);let S=!1,j=!1;m>13?j=!0:m<4&&(S=!0);let M=h+m-d,z=(h&1)==1,X=(m&1)==0;if(M==1)if(z){if(X)throw new V;w=!0}else{if(!X)throw new V;j=!0}else if(M==-1)if(z){if(X)throw new V;v=!0}else{if(!X)throw new V;S=!0}else if(M==0){if(z){if(!X)throw new V;h<m?(v=!0,j=!0):(w=!0,S=!0)}else if(X)throw new V}else throw new V;if(v){if(w)throw new V;st.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&st.decrement(this.getOddCounts(),this.getOddRoundingErrors()),S){if(j)throw new V;st.increment(this.getEvenCounts(),this.getOddRoundingErrors())}j&&st.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}st.SYMBOL_WIDEST=[7,5,4,3,1],st.EVEN_TOTAL_SUBSET=[4,20,52,104,204],st.GSUM=[0,348,1388,2948,3988],st.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],st.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],st.FINDER_PAT_A=0,st.FINDER_PAT_B=1,st.FINDER_PAT_C=2,st.FINDER_PAT_D=3,st.FINDER_PAT_E=4,st.FINDER_PAT_F=5,st.FINDER_PATTERN_SEQUENCES=[[st.FINDER_PAT_A,st.FINDER_PAT_A],[st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B],[st.FINDER_PAT_A,st.FINDER_PAT_C,st.FINDER_PAT_B,st.FINDER_PAT_D],[st.FINDER_PAT_A,st.FINDER_PAT_E,st.FINDER_PAT_B,st.FINDER_PAT_D,st.FINDER_PAT_C],[st.FINDER_PAT_A,st.FINDER_PAT_E,st.FINDER_PAT_B,st.FINDER_PAT_D,st.FINDER_PAT_D,st.FINDER_PAT_F],[st.FINDER_PAT_A,st.FINDER_PAT_E,st.FINDER_PAT_B,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_F,st.FINDER_PAT_F],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_D],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_E],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_F,st.FINDER_PAT_F],[st.FINDER_PAT_A,st.FINDER_PAT_A,st.FINDER_PAT_B,st.FINDER_PAT_B,st.FINDER_PAT_C,st.FINDER_PAT_D,st.FINDER_PAT_D,st.FINDER_PAT_E,st.FINDER_PAT_E,st.FINDER_PAT_F,st.FINDER_PAT_F]],st.MAX_PAIRS=11;class Fr extends ha{constructor(d,h,m){super(d,h),this.count=0,this.finderPattern=m}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Rr extends dn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(d,h,m){const v=this.decodePair(h,!1,d,m);Rr.addOrTally(this.possibleLeftPairs,v),h.reverse();let w=this.decodePair(h,!0,d,m);Rr.addOrTally(this.possibleRightPairs,w),h.reverse();for(let S of this.possibleLeftPairs)if(S.getCount()>1){for(let j of this.possibleRightPairs)if(j.getCount()>1&&Rr.checkChecksum(S,j))return Rr.constructResult(S,j)}throw new V}static addOrTally(d,h){if(h==null)return;let m=!1;for(let v of d)if(v.getValue()===h.getValue()){v.incrementCount(),m=!0;break}m||d.push(h)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(d,h){let m=4537077*d.getValue()+h.getValue(),v=new String(m).toString(),w=new q;for(let z=13-v.length;z>0;z--)w.append("0");w.append(v);let S=0;for(let z=0;z<13;z++){let X=w.charAt(z).charCodeAt(0)-48;S+=z&1?X:3*X}S=10-S%10,S===10&&(S=0),w.append(S.toString());let j=d.getFinderPattern().getResultPoints(),M=h.getFinderPattern().getResultPoints();return new Z(w.toString(),null,0,[j[0],j[1],M[0],M[1]],le.RSS_14,new Date().getTime())}static checkChecksum(d,h){let m=(d.getChecksumPortion()+16*h.getChecksumPortion())%79,v=9*d.getFinderPattern().getValue()+h.getFinderPattern().getValue();return v>72&&v--,v>8&&v--,m===v}decodePair(d,h,m,v){try{let w=this.findFinderPattern(d,h),S=this.parseFoundFinderPattern(d,m,h,w),j=v==null?null:v.get(D.NEED_RESULT_POINT_CALLBACK);if(j!=null){let X=(w[0]+w[1])/2;h&&(X=d.getSize()-1-X),j.foundPossibleResultPoint(new ke(X,m))}let M=this.decodeDataCharacter(d,S,!0),z=this.decodeDataCharacter(d,S,!1);return new Fr(1597*M.getValue()+z.getValue(),M.getChecksumPortion()+4*z.getChecksumPortion(),S)}catch{return null}}decodeDataCharacter(d,h,m){let v=this.getDataCharacterCounters();for(let ot=0;ot<v.length;ot++)v[ot]=0;if(m)ne.recordPatternInReverse(d,h.getStartEnd()[0],v);else{ne.recordPattern(d,h.getStartEnd()[1]+1,v);for(let ot=0,St=v.length-1;ot<St;ot++,St--){let Ft=v[ot];v[ot]=v[St],v[St]=Ft}}let w=m?16:15,S=Ce.sum(new Int32Array(v))/w,j=this.getOddCounts(),M=this.getEvenCounts(),z=this.getOddRoundingErrors(),X=this.getEvenRoundingErrors();for(let ot=0;ot<v.length;ot++){let St=v[ot]/S,Ft=Math.floor(St+.5);Ft<1?Ft=1:Ft>8&&(Ft=8);let Wt=Math.floor(ot/2);ot&1?(M[Wt]=Ft,X[Wt]=St-Ft):(j[Wt]=Ft,z[Wt]=St-Ft)}this.adjustOddEvenCounts(m,w);let ie=0,pe=0;for(let ot=j.length-1;ot>=0;ot--)pe*=9,pe+=j[ot],ie+=j[ot];let $e=0,Xe=0;for(let ot=M.length-1;ot>=0;ot--)$e*=9,$e+=M[ot],Xe+=M[ot];let Qe=pe+3*$e;if(m){if(ie&1||ie>12||ie<4)throw new V;let ot=(12-ie)/2,St=Rr.OUTSIDE_ODD_WIDEST[ot],Ft=9-St,Wt=dr.getRSSvalue(j,St,!1),$t=dr.getRSSvalue(M,Ft,!0),En=Rr.OUTSIDE_EVEN_TOTAL_SUBSET[ot],sn=Rr.OUTSIDE_GSUM[ot];return new ha(Wt*En+$t+sn,Qe)}else{if(Xe&1||Xe>10||Xe<4)throw new V;let ot=(10-Xe)/2,St=Rr.INSIDE_ODD_WIDEST[ot],Ft=9-St,Wt=dr.getRSSvalue(j,St,!0),$t=dr.getRSSvalue(M,Ft,!1),En=Rr.INSIDE_ODD_TOTAL_SUBSET[ot],sn=Rr.INSIDE_GSUM[ot];return new ha($t*En+Wt+sn,Qe)}}findFinderPattern(d,h){let m=this.getDecodeFinderCounters();m[0]=0,m[1]=0,m[2]=0,m[3]=0;let v=d.getSize(),w=!1,S=0;for(;S<v&&(w=!d.get(S),h!==w);)S++;let j=0,M=S;for(let z=S;z<v;z++)if(d.get(z)!==w)m[j]++;else{if(j===3){if(dn.isFinderPattern(m))return[M,z];M+=m[0]+m[1],m[0]=m[2],m[1]=m[3],m[2]=0,m[3]=0,j--}else j++;m[j]=1,w=!w}throw new V}parseFoundFinderPattern(d,h,m,v){let w=d.get(v[0]),S=v[0]-1;for(;S>=0&&w!==d.get(S);)S--;S++;const j=v[0]-S,M=this.getDecodeFinderCounters(),z=new Int32Array(M.length);y.arraycopy(M,0,z,1,M.length-1),z[0]=j;const X=this.parseFinderValue(z,Rr.FINDER_PATTERNS);let ie=S,pe=v[1];return m&&(ie=d.getSize()-1-ie,pe=d.getSize()-1-pe),new li(X,[S,v[1]],ie,pe,h)}adjustOddEvenCounts(d,h){let m=Ce.sum(new Int32Array(this.getOddCounts())),v=Ce.sum(new Int32Array(this.getEvenCounts())),w=!1,S=!1,j=!1,M=!1;d?(m>12?S=!0:m<4&&(w=!0),v>12?M=!0:v<4&&(j=!0)):(m>11?S=!0:m<5&&(w=!0),v>10?M=!0:v<4&&(j=!0));let z=m+v-h,X=(m&1)===(d?1:0),ie=(v&1)===1;if(z===1)if(X){if(ie)throw new V;S=!0}else{if(!ie)throw new V;M=!0}else if(z===-1)if(X){if(ie)throw new V;w=!0}else{if(!ie)throw new V;j=!0}else if(z===0){if(X){if(!ie)throw new V;m<v?(w=!0,M=!0):(S=!0,j=!0)}else if(ie)throw new V}else throw new V;if(w){if(S)throw new V;dn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(S&&dn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),j){if(M)throw new V;dn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}M&&dn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Rr.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Rr.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Rr.OUTSIDE_GSUM=[0,161,961,2015,2715],Rr.INSIDE_GSUM=[0,336,1036,1516],Rr.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Rr.INSIDE_ODD_WIDEST=[2,4,6,8],Rr.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ji extends ne{constructor(d,h){super(),this.readers=[],this.verbose=h===!0;const m=d?d.get(D.POSSIBLE_FORMATS):null,v=d&&d.get(D.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;m?((m.includes(le.EAN_13)||m.includes(le.UPC_A)||m.includes(le.EAN_8)||m.includes(le.UPC_E))&&this.readers.push(new Sa(d)),m.includes(le.CODE_39)&&this.readers.push(new gt(v)),m.includes(le.CODE_128)&&this.readers.push(new De),m.includes(le.ITF)&&this.readers.push(new Nt),m.includes(le.RSS_14)&&this.readers.push(new Rr),m.includes(le.RSS_EXPANDED)&&this.readers.push(new st(this.verbose))):(this.readers.push(new Sa(d)),this.readers.push(new gt),this.readers.push(new Sa(d)),this.readers.push(new De),this.readers.push(new Nt),this.readers.push(new Rr),this.readers.push(new st(this.verbose)))}decodeRow(d,h,m){for(let v=0;v<this.readers.length;v++)try{return this.readers[v].decodeRow(d,h,m)}catch{}throw new V}reset(){this.readers.forEach(d=>d.reset())}}class cl extends Q{constructor(d=500,h){super(new ji(h),d,h)}}class yn{constructor(d,h,m){this.ecCodewords=d,this.ecBlocks=[h],m&&this.ecBlocks.push(m)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class pn{constructor(d,h){this.count=d,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class en{constructor(d,h,m,v,w,S){this.versionNumber=d,this.symbolSizeRows=h,this.symbolSizeColumns=m,this.dataRegionSizeRows=v,this.dataRegionSizeColumns=w,this.ecBlocks=S;let j=0;const M=S.getECCodewords(),z=S.getECBlocks();for(let X of z)j+=X.getCount()*(X.getDataCodewords()+M);this.totalCodewords=j}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(d,h){if(d&1||h&1)throw new k;for(let m of en.VERSIONS)if(m.symbolSizeRows===d&&m.symbolSizeColumns===h)return m;throw new k}toString(){return""+this.versionNumber}static buildVersions(){return[new en(1,10,10,8,8,new yn(5,new pn(1,3))),new en(2,12,12,10,10,new yn(7,new pn(1,5))),new en(3,14,14,12,12,new yn(10,new pn(1,8))),new en(4,16,16,14,14,new yn(12,new pn(1,12))),new en(5,18,18,16,16,new yn(14,new pn(1,18))),new en(6,20,20,18,18,new yn(18,new pn(1,22))),new en(7,22,22,20,20,new yn(20,new pn(1,30))),new en(8,24,24,22,22,new yn(24,new pn(1,36))),new en(9,26,26,24,24,new yn(28,new pn(1,44))),new en(10,32,32,14,14,new yn(36,new pn(1,62))),new en(11,36,36,16,16,new yn(42,new pn(1,86))),new en(12,40,40,18,18,new yn(48,new pn(1,114))),new en(13,44,44,20,20,new yn(56,new pn(1,144))),new en(14,48,48,22,22,new yn(68,new pn(1,174))),new en(15,52,52,24,24,new yn(42,new pn(2,102))),new en(16,64,64,14,14,new yn(56,new pn(2,140))),new en(17,72,72,16,16,new yn(36,new pn(4,92))),new en(18,80,80,18,18,new yn(48,new pn(4,114))),new en(19,88,88,20,20,new yn(56,new pn(4,144))),new en(20,96,96,22,22,new yn(68,new pn(4,174))),new en(21,104,104,24,24,new yn(56,new pn(6,136))),new en(22,120,120,18,18,new yn(68,new pn(6,175))),new en(23,132,132,20,20,new yn(62,new pn(8,163))),new en(24,144,144,22,22,new yn(62,new pn(8,156),new pn(2,155))),new en(25,8,18,6,16,new yn(7,new pn(1,5))),new en(26,8,32,6,14,new yn(11,new pn(1,10))),new en(27,12,26,10,24,new yn(14,new pn(1,16))),new en(28,12,36,10,16,new yn(18,new pn(1,22))),new en(29,16,36,14,16,new yn(24,new pn(1,32))),new en(30,16,48,14,22,new yn(28,new pn(1,49)))]}}en.VERSIONS=en.buildVersions();class Ga{constructor(d){const h=d.getHeight();if(h<8||h>144||h&1)throw new k;this.version=Ga.readVersion(d),this.mappingBitMatrix=this.extractDataRegion(d),this.readMappingMatrix=new K(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(d){const h=d.getHeight(),m=d.getWidth();return en.getVersionForDimensions(h,m)}readCodewords(){const d=new Int8Array(this.version.getTotalCodewords());let h=0,m=4,v=0;const w=this.mappingBitMatrix.getHeight(),S=this.mappingBitMatrix.getWidth();let j=!1,M=!1,z=!1,X=!1;do if(m===w&&v===0&&!j)d[h++]=this.readCorner1(w,S)&255,m-=2,v+=2,j=!0;else if(m===w-2&&v===0&&S&3&&!M)d[h++]=this.readCorner2(w,S)&255,m-=2,v+=2,M=!0;else if(m===w+4&&v===2&&!(S&7)&&!z)d[h++]=this.readCorner3(w,S)&255,m-=2,v+=2,z=!0;else if(m===w-2&&v===0&&(S&7)===4&&!X)d[h++]=this.readCorner4(w,S)&255,m-=2,v+=2,X=!0;else{do m<w&&v>=0&&!this.readMappingMatrix.get(v,m)&&(d[h++]=this.readUtah(m,v,w,S)&255),m-=2,v+=2;while(m>=0&&v<S);m+=1,v+=3;do m>=0&&v<S&&!this.readMappingMatrix.get(v,m)&&(d[h++]=this.readUtah(m,v,w,S)&255),m+=2,v-=2;while(m<w&&v>=0);m+=3,v+=1}while(m<w||v<S);if(h!==this.version.getTotalCodewords())throw new k;return d}readModule(d,h,m,v){return d<0&&(d+=m,h+=4-(m+4&7)),h<0&&(h+=v,d+=4-(v+4&7)),this.readMappingMatrix.set(h,d),this.mappingBitMatrix.get(h,d)}readUtah(d,h,m,v){let w=0;return this.readModule(d-2,h-2,m,v)&&(w|=1),w<<=1,this.readModule(d-2,h-1,m,v)&&(w|=1),w<<=1,this.readModule(d-1,h-2,m,v)&&(w|=1),w<<=1,this.readModule(d-1,h-1,m,v)&&(w|=1),w<<=1,this.readModule(d-1,h,m,v)&&(w|=1),w<<=1,this.readModule(d,h-2,m,v)&&(w|=1),w<<=1,this.readModule(d,h-1,m,v)&&(w|=1),w<<=1,this.readModule(d,h,m,v)&&(w|=1),w}readCorner1(d,h){let m=0;return this.readModule(d-1,0,d,h)&&(m|=1),m<<=1,this.readModule(d-1,1,d,h)&&(m|=1),m<<=1,this.readModule(d-1,2,d,h)&&(m|=1),m<<=1,this.readModule(0,h-2,d,h)&&(m|=1),m<<=1,this.readModule(0,h-1,d,h)&&(m|=1),m<<=1,this.readModule(1,h-1,d,h)&&(m|=1),m<<=1,this.readModule(2,h-1,d,h)&&(m|=1),m<<=1,this.readModule(3,h-1,d,h)&&(m|=1),m}readCorner2(d,h){let m=0;return this.readModule(d-3,0,d,h)&&(m|=1),m<<=1,this.readModule(d-2,0,d,h)&&(m|=1),m<<=1,this.readModule(d-1,0,d,h)&&(m|=1),m<<=1,this.readModule(0,h-4,d,h)&&(m|=1),m<<=1,this.readModule(0,h-3,d,h)&&(m|=1),m<<=1,this.readModule(0,h-2,d,h)&&(m|=1),m<<=1,this.readModule(0,h-1,d,h)&&(m|=1),m<<=1,this.readModule(1,h-1,d,h)&&(m|=1),m}readCorner3(d,h){let m=0;return this.readModule(d-1,0,d,h)&&(m|=1),m<<=1,this.readModule(d-1,h-1,d,h)&&(m|=1),m<<=1,this.readModule(0,h-3,d,h)&&(m|=1),m<<=1,this.readModule(0,h-2,d,h)&&(m|=1),m<<=1,this.readModule(0,h-1,d,h)&&(m|=1),m<<=1,this.readModule(1,h-3,d,h)&&(m|=1),m<<=1,this.readModule(1,h-2,d,h)&&(m|=1),m<<=1,this.readModule(1,h-1,d,h)&&(m|=1),m}readCorner4(d,h){let m=0;return this.readModule(d-3,0,d,h)&&(m|=1),m<<=1,this.readModule(d-2,0,d,h)&&(m|=1),m<<=1,this.readModule(d-1,0,d,h)&&(m|=1),m<<=1,this.readModule(0,h-2,d,h)&&(m|=1),m<<=1,this.readModule(0,h-1,d,h)&&(m|=1),m<<=1,this.readModule(1,h-1,d,h)&&(m|=1),m<<=1,this.readModule(2,h-1,d,h)&&(m|=1),m<<=1,this.readModule(3,h-1,d,h)&&(m|=1),m}extractDataRegion(d){const h=this.version.getSymbolSizeRows(),m=this.version.getSymbolSizeColumns();if(d.getHeight()!==h)throw new p("Dimension of bitMatrix must match the version size");const v=this.version.getDataRegionSizeRows(),w=this.version.getDataRegionSizeColumns(),S=h/v|0,j=m/w|0,M=S*v,z=j*w,X=new K(z,M);for(let ie=0;ie<S;++ie){const pe=ie*v;for(let $e=0;$e<j;++$e){const Xe=$e*w;for(let Qe=0;Qe<v;++Qe){const ot=ie*(v+2)+1+Qe,St=pe+Qe;for(let Ft=0;Ft<w;++Ft){const Wt=$e*(w+2)+1+Ft;if(d.get(Wt,ot)){const $t=Xe+Ft;X.set($t,St)}}}}}return X}}class Ti{constructor(d,h){this.numDataCodewords=d,this.codewords=h}static getDataBlocks(d,h){const m=h.getECBlocks();let v=0;const w=m.getECBlocks();for(let Qe of w)v+=Qe.getCount();const S=new Array(v);let j=0;for(let Qe of w)for(let ot=0;ot<Qe.getCount();ot++){const St=Qe.getDataCodewords(),Ft=m.getECCodewords()+St;S[j++]=new Ti(St,new Uint8Array(Ft))}const z=S[0].codewords.length-m.getECCodewords(),X=z-1;let ie=0;for(let Qe=0;Qe<X;Qe++)for(let ot=0;ot<j;ot++)S[ot].codewords[Qe]=d[ie++];const pe=h.getVersionNumber()===24,$e=pe?8:j;for(let Qe=0;Qe<$e;Qe++)S[Qe].codewords[z-1]=d[ie++];const Xe=S[0].codewords.length;for(let Qe=z;Qe<Xe;Qe++)for(let ot=0;ot<j;ot++){const St=pe?(ot+8)%j:ot,Ft=pe&&St>7?Qe-1:Qe;S[St].codewords[Ft]=d[ie++]}if(ie!==d.length)throw new p;return S}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ec{constructor(d){this.bytes=d,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(d){if(d<1||d>32||d>this.available())throw new p(""+d);let h=0,m=this.bitOffset,v=this.byteOffset;const w=this.bytes;if(m>0){const S=8-m,j=d<S?d:S,M=S-j,z=255>>8-j<<M;h=(w[v]&z)>>M,d-=j,m+=j,m===8&&(m=0,v++)}if(d>0){for(;d>=8;)h=h<<8|w[v]&255,v++,d-=8;if(d>0){const S=8-d,j=255>>S<<S;h=h<<d|(w[v]&j)>>S,m+=d}}return this.bitOffset=m,this.byteOffset=v,h}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Mi;(function(ae){ae[ae.PAD_ENCODE=0]="PAD_ENCODE",ae[ae.ASCII_ENCODE=1]="ASCII_ENCODE",ae[ae.C40_ENCODE=2]="C40_ENCODE",ae[ae.TEXT_ENCODE=3]="TEXT_ENCODE",ae[ae.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",ae[ae.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",ae[ae.BASE256_ENCODE=6]="BASE256_ENCODE"})(Mi||(Mi={}));class qs{static decode(d){const h=new Ec(d),m=new q,v=new q,w=new Array;let S=Mi.ASCII_ENCODE;do if(S===Mi.ASCII_ENCODE)S=this.decodeAsciiSegment(h,m,v);else{switch(S){case Mi.C40_ENCODE:this.decodeC40Segment(h,m);break;case Mi.TEXT_ENCODE:this.decodeTextSegment(h,m);break;case Mi.ANSIX12_ENCODE:this.decodeAnsiX12Segment(h,m);break;case Mi.EDIFACT_ENCODE:this.decodeEdifactSegment(h,m);break;case Mi.BASE256_ENCODE:this.decodeBase256Segment(h,m,w);break;default:throw new k}S=Mi.ASCII_ENCODE}while(S!==Mi.PAD_ENCODE&&h.available()>0);return v.length()>0&&m.append(v.toString()),new ve(d,m.toString(),w.length===0?null:w,null)}static decodeAsciiSegment(d,h,m){let v=!1;do{let w=d.readBits(8);if(w===0)throw new k;if(w<=128)return v&&(w+=128),h.append(String.fromCharCode(w-1)),Mi.ASCII_ENCODE;if(w===129)return Mi.PAD_ENCODE;if(w<=229){const S=w-130;S<10&&h.append("0"),h.append(""+S)}else switch(w){case 230:return Mi.C40_ENCODE;case 231:return Mi.BASE256_ENCODE;case 232:h.append("");break;case 233:case 234:break;case 235:v=!0;break;case 236:h.append("[)>05"),m.insert(0,"");break;case 237:h.append("[)>06"),m.insert(0,"");break;case 238:return Mi.ANSIX12_ENCODE;case 239:return Mi.TEXT_ENCODE;case 240:return Mi.EDIFACT_ENCODE;case 241:break;default:if(w!==254||d.available()!==0)throw new k;break}}while(d.available()>0);return Mi.ASCII_ENCODE}static decodeC40Segment(d,h){let m=!1;const v=[];let w=0;do{if(d.available()===8)return;const S=d.readBits(8);if(S===254)return;this.parseTwoBytes(S,d.readBits(8),v);for(let j=0;j<3;j++){const M=v[j];switch(w){case 0:if(M<3)w=M+1;else if(M<this.C40_BASIC_SET_CHARS.length){const z=this.C40_BASIC_SET_CHARS[M];m?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),m=!1):h.append(z)}else throw new k;break;case 1:m?(h.append(String.fromCharCode(M+128)),m=!1):h.append(String.fromCharCode(M)),w=0;break;case 2:if(M<this.C40_SHIFT2_SET_CHARS.length){const z=this.C40_SHIFT2_SET_CHARS[M];m?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),m=!1):h.append(z)}else switch(M){case 27:h.append("");break;case 30:m=!0;break;default:throw new k}w=0;break;case 3:m?(h.append(String.fromCharCode(M+224)),m=!1):h.append(String.fromCharCode(M+96)),w=0;break;default:throw new k}}}while(d.available()>0)}static decodeTextSegment(d,h){let m=!1,v=[],w=0;do{if(d.available()===8)return;const S=d.readBits(8);if(S===254)return;this.parseTwoBytes(S,d.readBits(8),v);for(let j=0;j<3;j++){const M=v[j];switch(w){case 0:if(M<3)w=M+1;else if(M<this.TEXT_BASIC_SET_CHARS.length){const z=this.TEXT_BASIC_SET_CHARS[M];m?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),m=!1):h.append(z)}else throw new k;break;case 1:m?(h.append(String.fromCharCode(M+128)),m=!1):h.append(String.fromCharCode(M)),w=0;break;case 2:if(M<this.TEXT_SHIFT2_SET_CHARS.length){const z=this.TEXT_SHIFT2_SET_CHARS[M];m?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),m=!1):h.append(z)}else switch(M){case 27:h.append("");break;case 30:m=!0;break;default:throw new k}w=0;break;case 3:if(M<this.TEXT_SHIFT3_SET_CHARS.length){const z=this.TEXT_SHIFT3_SET_CHARS[M];m?(h.append(String.fromCharCode(z.charCodeAt(0)+128)),m=!1):h.append(z),w=0}else throw new k;break;default:throw new k}}}while(d.available()>0)}static decodeAnsiX12Segment(d,h){const m=[];do{if(d.available()===8)return;const v=d.readBits(8);if(v===254)return;this.parseTwoBytes(v,d.readBits(8),m);for(let w=0;w<3;w++){const S=m[w];switch(S){case 0:h.append("\r");break;case 1:h.append("*");break;case 2:h.append(">");break;case 3:h.append(" ");break;default:if(S<14)h.append(String.fromCharCode(S+44));else if(S<40)h.append(String.fromCharCode(S+51));else throw new k;break}}}while(d.available()>0)}static parseTwoBytes(d,h,m){let v=(d<<8)+h-1,w=Math.floor(v/1600);m[0]=w,v-=w*1600,w=Math.floor(v/40),m[1]=w,m[2]=v-w*40}static decodeEdifactSegment(d,h){do{if(d.available()<=16)return;for(let m=0;m<4;m++){let v=d.readBits(6);if(v===31){const w=8-d.getBitOffset();w!==8&&d.readBits(w);return}v&32||(v|=64),h.append(String.fromCharCode(v))}}while(d.available()>0)}static decodeBase256Segment(d,h,m){let v=1+d.getByteOffset();const w=this.unrandomize255State(d.readBits(8),v++);let S;if(w===0?S=d.available()/8|0:w<250?S=w:S=250*(w-249)+this.unrandomize255State(d.readBits(8),v++),S<0)throw new k;const j=new Uint8Array(S);for(let M=0;M<S;M++){if(d.available()<8)throw new k;j[M]=this.unrandomize255State(d.readBits(8),v++)}m.push(j);try{h.append(F.decode(j,U.ISO88591))}catch(M){throw new Ye("Platform does not support required encoding: "+M.message)}}static unrandomize255State(d,h){const m=149*h%255+1,v=d-m;return v>=0?v:v+256}}qs.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],qs.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],qs.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],qs.TEXT_SHIFT2_SET_CHARS=qs.C40_SHIFT2_SET_CHARS,qs.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class g0{constructor(){this.rsDecoder=new we(ye.DATA_MATRIX_FIELD_256)}decode(d){const h=new Ga(d),m=h.getVersion(),v=h.readCodewords(),w=Ti.getDataBlocks(v,m);let S=0;for(let z of w)S+=z.getNumDataCodewords();const j=new Uint8Array(S),M=w.length;for(let z=0;z<M;z++){const X=w[z],ie=X.getCodewords(),pe=X.getNumDataCodewords();this.correctErrors(ie,pe);for(let $e=0;$e<pe;$e++)j[$e*M+z]=ie[$e]}return qs.decode(j)}correctErrors(d,h){const m=new Int32Array(d);try{this.rsDecoder.decode(m,d.length-h)}catch{throw new x}for(let v=0;v<h;v++)d[v]=m[v]}}class Wi{constructor(d){this.image=d,this.rectangleDetector=new mt(this.image)}detect(){const d=this.rectangleDetector.detect();let h=this.detectSolid1(d);if(h=this.detectSolid2(h),h[3]=this.correctTopRight(h),!h[3])throw new V;h=this.shiftToModuleCenter(h);const m=h[0],v=h[1],w=h[2],S=h[3];let j=this.transitionsBetween(m,S)+1,M=this.transitionsBetween(w,S)+1;(j&1)===1&&(j+=1),(M&1)===1&&(M+=1),4*j<7*M&&4*M<7*j&&(j=M=Math.max(j,M));let z=Wi.sampleGrid(this.image,m,v,w,S,j,M);return new He(z,[m,v,w,S])}static shiftPoint(d,h,m){let v=(h.getX()-d.getX())/(m+1),w=(h.getY()-d.getY())/(m+1);return new ke(d.getX()+v,d.getY()+w)}static moveAway(d,h,m){let v=d.getX(),w=d.getY();return v<h?v-=1:v+=1,w<m?w-=1:w+=1,new ke(v,w)}detectSolid1(d){let h=d[0],m=d[1],v=d[3],w=d[2],S=this.transitionsBetween(h,m),j=this.transitionsBetween(m,v),M=this.transitionsBetween(v,w),z=this.transitionsBetween(w,h),X=S,ie=[w,h,m,v];return X>j&&(X=j,ie[0]=h,ie[1]=m,ie[2]=v,ie[3]=w),X>M&&(X=M,ie[0]=m,ie[1]=v,ie[2]=w,ie[3]=h),X>z&&(ie[0]=v,ie[1]=w,ie[2]=h,ie[3]=m),ie}detectSolid2(d){let h=d[0],m=d[1],v=d[2],w=d[3],S=this.transitionsBetween(h,w),j=Wi.shiftPoint(m,v,(S+1)*4),M=Wi.shiftPoint(v,m,(S+1)*4),z=this.transitionsBetween(j,h),X=this.transitionsBetween(M,w);return z<X?(d[0]=h,d[1]=m,d[2]=v,d[3]=w):(d[0]=m,d[1]=v,d[2]=w,d[3]=h),d}correctTopRight(d){let h=d[0],m=d[1],v=d[2],w=d[3],S=this.transitionsBetween(h,w),j=this.transitionsBetween(m,w),M=Wi.shiftPoint(h,m,(j+1)*4),z=Wi.shiftPoint(v,m,(S+1)*4);S=this.transitionsBetween(M,w),j=this.transitionsBetween(z,w);let X=new ke(w.getX()+(v.getX()-m.getX())/(S+1),w.getY()+(v.getY()-m.getY())/(S+1)),ie=new ke(w.getX()+(h.getX()-m.getX())/(j+1),w.getY()+(h.getY()-m.getY())/(j+1));if(!this.isValid(X))return this.isValid(ie)?ie:null;if(!this.isValid(ie))return X;let pe=this.transitionsBetween(M,X)+this.transitionsBetween(z,X),$e=this.transitionsBetween(M,ie)+this.transitionsBetween(z,ie);return pe>$e?X:ie}shiftToModuleCenter(d){let h=d[0],m=d[1],v=d[2],w=d[3],S=this.transitionsBetween(h,w)+1,j=this.transitionsBetween(v,w)+1,M=Wi.shiftPoint(h,m,j*4),z=Wi.shiftPoint(v,m,S*4);S=this.transitionsBetween(M,w)+1,j=this.transitionsBetween(z,w)+1,(S&1)===1&&(S+=1),(j&1)===1&&(j+=1);let X=(h.getX()+m.getX()+v.getX()+w.getX())/4,ie=(h.getY()+m.getY()+v.getY()+w.getY())/4;h=Wi.moveAway(h,X,ie),m=Wi.moveAway(m,X,ie),v=Wi.moveAway(v,X,ie),w=Wi.moveAway(w,X,ie);let pe,$e;return M=Wi.shiftPoint(h,m,j*4),M=Wi.shiftPoint(M,w,S*4),pe=Wi.shiftPoint(m,h,j*4),pe=Wi.shiftPoint(pe,v,S*4),z=Wi.shiftPoint(v,w,j*4),z=Wi.shiftPoint(z,m,S*4),$e=Wi.shiftPoint(w,v,j*4),$e=Wi.shiftPoint($e,h,S*4),[M,pe,z,$e]}isValid(d){return d.getX()>=0&&d.getX()<this.image.getWidth()&&d.getY()>0&&d.getY()<this.image.getHeight()}static sampleGrid(d,h,m,v,w,S,j){return ar.getInstance().sampleGrid(d,S,j,.5,.5,S-.5,.5,S-.5,j-.5,.5,j-.5,h.getX(),h.getY(),w.getX(),w.getY(),v.getX(),v.getY(),m.getX(),m.getY())}transitionsBetween(d,h){let m=Math.trunc(d.getX()),v=Math.trunc(d.getY()),w=Math.trunc(h.getX()),S=Math.trunc(h.getY()),j=Math.abs(S-v)>Math.abs(w-m);if(j){let Qe=m;m=v,v=Qe,Qe=w,w=S,S=Qe}let M=Math.abs(w-m),z=Math.abs(S-v),X=-M/2,ie=v<S?1:-1,pe=m<w?1:-1,$e=0,Xe=this.image.get(j?v:m,j?m:v);for(let Qe=m,ot=v;Qe!==w;Qe+=pe){let St=this.image.get(j?ot:Qe,j?Qe:ot);if(St!==Xe&&($e++,Xe=St),X+=z,X>0){if(ot===S)break;ot+=ie,X-=M}}return $e}}class Ya{constructor(){this.decoder=new g0}decode(d,h=null){let m,v;if(h!=null&&h.has(D.PURE_BARCODE)){const z=Ya.extractPureBits(d.getBlackMatrix());m=this.decoder.decode(z),v=Ya.NO_POINTS}else{const z=new Wi(d.getBlackMatrix()).detect();m=this.decoder.decode(z.getBits()),v=z.getPoints()}const w=m.getRawBytes(),S=new Z(m.getText(),w,8*w.length,v,le.DATA_MATRIX,y.currentTimeMillis()),j=m.getByteSegments();j!=null&&S.putMetadata(Ae.BYTE_SEGMENTS,j);const M=m.getECLevel();return M!=null&&S.putMetadata(Ae.ERROR_CORRECTION_LEVEL,M),S}reset(){}static extractPureBits(d){const h=d.getTopLeftOnBit(),m=d.getBottomRightOnBit();if(h==null||m==null)throw new V;const v=this.moduleSize(h,d);let w=h[1];const S=m[1];let j=h[0];const z=(m[0]-j+1)/v,X=(S-w+1)/v;if(z<=0||X<=0)throw new V;const ie=v/2;w+=ie,j+=ie;const pe=new K(z,X);for(let $e=0;$e<X;$e++){const Xe=w+$e*v;for(let Qe=0;Qe<z;Qe++)d.get(j+Qe*v,Xe)&&pe.set(Qe,$e)}return pe}static moduleSize(d,h){const m=h.getWidth();let v=d[0];const w=d[1];for(;v<m&&h.get(v,w);)v++;if(v===m)throw new V;const S=v-d[0];if(S===0)throw new V;return S}}Ya.NO_POINTS=[];class Tf extends Q{constructor(d=500){super(new Ya,d)}}var Da;(function(ae){ae[ae.L=0]="L",ae[ae.M=1]="M",ae[ae.Q=2]="Q",ae[ae.H=3]="H"})(Da||(Da={}));class Jn{constructor(d,h,m){this.value=d,this.stringValue=h,this.bits=m,Jn.FOR_BITS.set(m,this),Jn.FOR_VALUE.set(d,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(d){switch(d){case"L":return Jn.L;case"M":return Jn.M;case"Q":return Jn.Q;case"H":return Jn.H;default:throw new f(d+"not available")}}toString(){return this.stringValue}equals(d){if(!(d instanceof Jn))return!1;const h=d;return this.value===h.value}static forBits(d){if(d<0||d>=Jn.FOR_BITS.size)throw new p;return Jn.FOR_BITS.get(d)}}Jn.FOR_BITS=new Map,Jn.FOR_VALUE=new Map,Jn.L=new Jn(Da.L,"L",1),Jn.M=new Jn(Da.M,"M",0),Jn.Q=new Jn(Da.Q,"Q",3),Jn.H=new Jn(Da.H,"H",2);class La{constructor(d){this.errorCorrectionLevel=Jn.forBits(d>>3&3),this.dataMask=d&7}static numBitsDiffering(d,h){return C.bitCount(d^h)}static decodeFormatInformation(d,h){const m=La.doDecodeFormatInformation(d,h);return m!==null?m:La.doDecodeFormatInformation(d^La.FORMAT_INFO_MASK_QR,h^La.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(d,h){let m=Number.MAX_SAFE_INTEGER,v=0;for(const w of La.FORMAT_INFO_DECODE_LOOKUP){const S=w[0];if(S===d||S===h)return new La(w[1]);let j=La.numBitsDiffering(d,S);j<m&&(v=w[1],m=j),d!==h&&(j=La.numBitsDiffering(h,S),j<m&&(v=w[1],m=j))}return m<=3?new La(v):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(d){if(!(d instanceof La))return!1;const h=d;return this.errorCorrectionLevel===h.errorCorrectionLevel&&this.dataMask===h.dataMask}}La.FORMAT_INFO_MASK_QR=21522,La.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class pt{constructor(d,...h){this.ecCodewordsPerBlock=d,this.ecBlocks=h}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let d=0;const h=this.ecBlocks;for(const m of h)d+=m.getCount();return d}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Re{constructor(d,h){this.count=d,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Br{constructor(d,h,...m){this.versionNumber=d,this.alignmentPatternCenters=h,this.ecBlocks=m;let v=0;const w=m[0].getECCodewordsPerBlock(),S=m[0].getECBlocks();for(const j of S)v+=j.getCount()*(j.getDataCodewords()+w);this.totalCodewords=v}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(d){return this.ecBlocks[d.getValue()]}static getProvisionalVersionForDimension(d){if(d%4!==1)throw new k;try{return this.getVersionForNumber((d-17)/4)}catch{throw new k}}static getVersionForNumber(d){if(d<1||d>40)throw new p;return Br.VERSIONS[d-1]}static decodeVersionInformation(d){let h=Number.MAX_SAFE_INTEGER,m=0;for(let v=0;v<Br.VERSION_DECODE_INFO.length;v++){const w=Br.VERSION_DECODE_INFO[v];if(w===d)return Br.getVersionForNumber(v+7);const S=La.numBitsDiffering(d,w);S<h&&(m=v+7,h=S)}return h<=3?Br.getVersionForNumber(m):null}buildFunctionPattern(){const d=this.getDimensionForVersion(),h=new K(d);h.setRegion(0,0,9,9),h.setRegion(d-8,0,8,9),h.setRegion(0,d-8,9,8);const m=this.alignmentPatternCenters.length;for(let v=0;v<m;v++){const w=this.alignmentPatternCenters[v]-2;for(let S=0;S<m;S++)v===0&&(S===0||S===m-1)||v===m-1&&S===0||h.setRegion(this.alignmentPatternCenters[S]-2,w,5,5)}return h.setRegion(6,9,1,d-17),h.setRegion(9,6,d-17,1),this.versionNumber>6&&(h.setRegion(d-11,0,3,6),h.setRegion(0,d-11,6,3)),h}toString(){return""+this.versionNumber}}Br.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Br.VERSIONS=[new Br(1,new Int32Array(0),new pt(7,new Re(1,19)),new pt(10,new Re(1,16)),new pt(13,new Re(1,13)),new pt(17,new Re(1,9))),new Br(2,Int32Array.from([6,18]),new pt(10,new Re(1,34)),new pt(16,new Re(1,28)),new pt(22,new Re(1,22)),new pt(28,new Re(1,16))),new Br(3,Int32Array.from([6,22]),new pt(15,new Re(1,55)),new pt(26,new Re(1,44)),new pt(18,new Re(2,17)),new pt(22,new Re(2,13))),new Br(4,Int32Array.from([6,26]),new pt(20,new Re(1,80)),new pt(18,new Re(2,32)),new pt(26,new Re(2,24)),new pt(16,new Re(4,9))),new Br(5,Int32Array.from([6,30]),new pt(26,new Re(1,108)),new pt(24,new Re(2,43)),new pt(18,new Re(2,15),new Re(2,16)),new pt(22,new Re(2,11),new Re(2,12))),new Br(6,Int32Array.from([6,34]),new pt(18,new Re(2,68)),new pt(16,new Re(4,27)),new pt(24,new Re(4,19)),new pt(28,new Re(4,15))),new Br(7,Int32Array.from([6,22,38]),new pt(20,new Re(2,78)),new pt(18,new Re(4,31)),new pt(18,new Re(2,14),new Re(4,15)),new pt(26,new Re(4,13),new Re(1,14))),new Br(8,Int32Array.from([6,24,42]),new pt(24,new Re(2,97)),new pt(22,new Re(2,38),new Re(2,39)),new pt(22,new Re(4,18),new Re(2,19)),new pt(26,new Re(4,14),new Re(2,15))),new Br(9,Int32Array.from([6,26,46]),new pt(30,new Re(2,116)),new pt(22,new Re(3,36),new Re(2,37)),new pt(20,new Re(4,16),new Re(4,17)),new pt(24,new Re(4,12),new Re(4,13))),new Br(10,Int32Array.from([6,28,50]),new pt(18,new Re(2,68),new Re(2,69)),new pt(26,new Re(4,43),new Re(1,44)),new pt(24,new Re(6,19),new Re(2,20)),new pt(28,new Re(6,15),new Re(2,16))),new Br(11,Int32Array.from([6,30,54]),new pt(20,new Re(4,81)),new pt(30,new Re(1,50),new Re(4,51)),new pt(28,new Re(4,22),new Re(4,23)),new pt(24,new Re(3,12),new Re(8,13))),new Br(12,Int32Array.from([6,32,58]),new pt(24,new Re(2,92),new Re(2,93)),new pt(22,new Re(6,36),new Re(2,37)),new pt(26,new Re(4,20),new Re(6,21)),new pt(28,new Re(7,14),new Re(4,15))),new Br(13,Int32Array.from([6,34,62]),new pt(26,new Re(4,107)),new pt(22,new Re(8,37),new Re(1,38)),new pt(24,new Re(8,20),new Re(4,21)),new pt(22,new Re(12,11),new Re(4,12))),new Br(14,Int32Array.from([6,26,46,66]),new pt(30,new Re(3,115),new Re(1,116)),new pt(24,new Re(4,40),new Re(5,41)),new pt(20,new Re(11,16),new Re(5,17)),new pt(24,new Re(11,12),new Re(5,13))),new Br(15,Int32Array.from([6,26,48,70]),new pt(22,new Re(5,87),new Re(1,88)),new pt(24,new Re(5,41),new Re(5,42)),new pt(30,new Re(5,24),new Re(7,25)),new pt(24,new Re(11,12),new Re(7,13))),new Br(16,Int32Array.from([6,26,50,74]),new pt(24,new Re(5,98),new Re(1,99)),new pt(28,new Re(7,45),new Re(3,46)),new pt(24,new Re(15,19),new Re(2,20)),new pt(30,new Re(3,15),new Re(13,16))),new Br(17,Int32Array.from([6,30,54,78]),new pt(28,new Re(1,107),new Re(5,108)),new pt(28,new Re(10,46),new Re(1,47)),new pt(28,new Re(1,22),new Re(15,23)),new pt(28,new Re(2,14),new Re(17,15))),new Br(18,Int32Array.from([6,30,56,82]),new pt(30,new Re(5,120),new Re(1,121)),new pt(26,new Re(9,43),new Re(4,44)),new pt(28,new Re(17,22),new Re(1,23)),new pt(28,new Re(2,14),new Re(19,15))),new Br(19,Int32Array.from([6,30,58,86]),new pt(28,new Re(3,113),new Re(4,114)),new pt(26,new Re(3,44),new Re(11,45)),new pt(26,new Re(17,21),new Re(4,22)),new pt(26,new Re(9,13),new Re(16,14))),new Br(20,Int32Array.from([6,34,62,90]),new pt(28,new Re(3,107),new Re(5,108)),new pt(26,new Re(3,41),new Re(13,42)),new pt(30,new Re(15,24),new Re(5,25)),new pt(28,new Re(15,15),new Re(10,16))),new Br(21,Int32Array.from([6,28,50,72,94]),new pt(28,new Re(4,116),new Re(4,117)),new pt(26,new Re(17,42)),new pt(28,new Re(17,22),new Re(6,23)),new pt(30,new Re(19,16),new Re(6,17))),new Br(22,Int32Array.from([6,26,50,74,98]),new pt(28,new Re(2,111),new Re(7,112)),new pt(28,new Re(17,46)),new pt(30,new Re(7,24),new Re(16,25)),new pt(24,new Re(34,13))),new Br(23,Int32Array.from([6,30,54,78,102]),new pt(30,new Re(4,121),new Re(5,122)),new pt(28,new Re(4,47),new Re(14,48)),new pt(30,new Re(11,24),new Re(14,25)),new pt(30,new Re(16,15),new Re(14,16))),new Br(24,Int32Array.from([6,28,54,80,106]),new pt(30,new Re(6,117),new Re(4,118)),new pt(28,new Re(6,45),new Re(14,46)),new pt(30,new Re(11,24),new Re(16,25)),new pt(30,new Re(30,16),new Re(2,17))),new Br(25,Int32Array.from([6,32,58,84,110]),new pt(26,new Re(8,106),new Re(4,107)),new pt(28,new Re(8,47),new Re(13,48)),new pt(30,new Re(7,24),new Re(22,25)),new pt(30,new Re(22,15),new Re(13,16))),new Br(26,Int32Array.from([6,30,58,86,114]),new pt(28,new Re(10,114),new Re(2,115)),new pt(28,new Re(19,46),new Re(4,47)),new pt(28,new Re(28,22),new Re(6,23)),new pt(30,new Re(33,16),new Re(4,17))),new Br(27,Int32Array.from([6,34,62,90,118]),new pt(30,new Re(8,122),new Re(4,123)),new pt(28,new Re(22,45),new Re(3,46)),new pt(30,new Re(8,23),new Re(26,24)),new pt(30,new Re(12,15),new Re(28,16))),new Br(28,Int32Array.from([6,26,50,74,98,122]),new pt(30,new Re(3,117),new Re(10,118)),new pt(28,new Re(3,45),new Re(23,46)),new pt(30,new Re(4,24),new Re(31,25)),new pt(30,new Re(11,15),new Re(31,16))),new Br(29,Int32Array.from([6,30,54,78,102,126]),new pt(30,new Re(7,116),new Re(7,117)),new pt(28,new Re(21,45),new Re(7,46)),new pt(30,new Re(1,23),new Re(37,24)),new pt(30,new Re(19,15),new Re(26,16))),new Br(30,Int32Array.from([6,26,52,78,104,130]),new pt(30,new Re(5,115),new Re(10,116)),new pt(28,new Re(19,47),new Re(10,48)),new pt(30,new Re(15,24),new Re(25,25)),new pt(30,new Re(23,15),new Re(25,16))),new Br(31,Int32Array.from([6,30,56,82,108,134]),new pt(30,new Re(13,115),new Re(3,116)),new pt(28,new Re(2,46),new Re(29,47)),new pt(30,new Re(42,24),new Re(1,25)),new pt(30,new Re(23,15),new Re(28,16))),new Br(32,Int32Array.from([6,34,60,86,112,138]),new pt(30,new Re(17,115)),new pt(28,new Re(10,46),new Re(23,47)),new pt(30,new Re(10,24),new Re(35,25)),new pt(30,new Re(19,15),new Re(35,16))),new Br(33,Int32Array.from([6,30,58,86,114,142]),new pt(30,new Re(17,115),new Re(1,116)),new pt(28,new Re(14,46),new Re(21,47)),new pt(30,new Re(29,24),new Re(19,25)),new pt(30,new Re(11,15),new Re(46,16))),new Br(34,Int32Array.from([6,34,62,90,118,146]),new pt(30,new Re(13,115),new Re(6,116)),new pt(28,new Re(14,46),new Re(23,47)),new pt(30,new Re(44,24),new Re(7,25)),new pt(30,new Re(59,16),new Re(1,17))),new Br(35,Int32Array.from([6,30,54,78,102,126,150]),new pt(30,new Re(12,121),new Re(7,122)),new pt(28,new Re(12,47),new Re(26,48)),new pt(30,new Re(39,24),new Re(14,25)),new pt(30,new Re(22,15),new Re(41,16))),new Br(36,Int32Array.from([6,24,50,76,102,128,154]),new pt(30,new Re(6,121),new Re(14,122)),new pt(28,new Re(6,47),new Re(34,48)),new pt(30,new Re(46,24),new Re(10,25)),new pt(30,new Re(2,15),new Re(64,16))),new Br(37,Int32Array.from([6,28,54,80,106,132,158]),new pt(30,new Re(17,122),new Re(4,123)),new pt(28,new Re(29,46),new Re(14,47)),new pt(30,new Re(49,24),new Re(10,25)),new pt(30,new Re(24,15),new Re(46,16))),new Br(38,Int32Array.from([6,32,58,84,110,136,162]),new pt(30,new Re(4,122),new Re(18,123)),new pt(28,new Re(13,46),new Re(32,47)),new pt(30,new Re(48,24),new Re(14,25)),new pt(30,new Re(42,15),new Re(32,16))),new Br(39,Int32Array.from([6,26,54,82,110,138,166]),new pt(30,new Re(20,117),new Re(4,118)),new pt(28,new Re(40,47),new Re(7,48)),new pt(30,new Re(43,24),new Re(22,25)),new pt(30,new Re(10,15),new Re(67,16))),new Br(40,Int32Array.from([6,30,58,86,114,142,170]),new pt(30,new Re(19,118),new Re(6,119)),new pt(28,new Re(18,47),new Re(31,48)),new pt(30,new Re(34,24),new Re(34,25)),new pt(30,new Re(20,15),new Re(61,16)))];var pa;(function(ae){ae[ae.DATA_MASK_000=0]="DATA_MASK_000",ae[ae.DATA_MASK_001=1]="DATA_MASK_001",ae[ae.DATA_MASK_010=2]="DATA_MASK_010",ae[ae.DATA_MASK_011=3]="DATA_MASK_011",ae[ae.DATA_MASK_100=4]="DATA_MASK_100",ae[ae.DATA_MASK_101=5]="DATA_MASK_101",ae[ae.DATA_MASK_110=6]="DATA_MASK_110",ae[ae.DATA_MASK_111=7]="DATA_MASK_111"})(pa||(pa={}));class Gs{constructor(d,h){this.value=d,this.isMasked=h}unmaskBitMatrix(d,h){for(let m=0;m<h;m++)for(let v=0;v<h;v++)this.isMasked(m,v)&&d.flip(v,m)}}Gs.values=new Map([[pa.DATA_MASK_000,new Gs(pa.DATA_MASK_000,(ae,d)=>(ae+d&1)===0)],[pa.DATA_MASK_001,new Gs(pa.DATA_MASK_001,(ae,d)=>(ae&1)===0)],[pa.DATA_MASK_010,new Gs(pa.DATA_MASK_010,(ae,d)=>d%3===0)],[pa.DATA_MASK_011,new Gs(pa.DATA_MASK_011,(ae,d)=>(ae+d)%3===0)],[pa.DATA_MASK_100,new Gs(pa.DATA_MASK_100,(ae,d)=>(Math.floor(ae/2)+Math.floor(d/3)&1)===0)],[pa.DATA_MASK_101,new Gs(pa.DATA_MASK_101,(ae,d)=>ae*d%6===0)],[pa.DATA_MASK_110,new Gs(pa.DATA_MASK_110,(ae,d)=>ae*d%6<3)],[pa.DATA_MASK_111,new Gs(pa.DATA_MASK_111,(ae,d)=>(ae+d+ae*d%3&1)===0)]]);class x0{constructor(d){const h=d.getHeight();if(h<21||(h&3)!==1)throw new k;this.bitMatrix=d}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let d=0;for(let w=0;w<6;w++)d=this.copyBit(w,8,d);d=this.copyBit(7,8,d),d=this.copyBit(8,8,d),d=this.copyBit(8,7,d);for(let w=5;w>=0;w--)d=this.copyBit(8,w,d);const h=this.bitMatrix.getHeight();let m=0;const v=h-7;for(let w=h-1;w>=v;w--)m=this.copyBit(8,w,m);for(let w=h-8;w<h;w++)m=this.copyBit(w,8,m);if(this.parsedFormatInfo=La.decodeFormatInformation(d,m),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new k}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const d=this.bitMatrix.getHeight(),h=Math.floor((d-17)/4);if(h<=6)return Br.getVersionForNumber(h);let m=0;const v=d-11;for(let S=5;S>=0;S--)for(let j=d-9;j>=v;j--)m=this.copyBit(j,S,m);let w=Br.decodeVersionInformation(m);if(w!==null&&w.getDimensionForVersion()===d)return this.parsedVersion=w,w;m=0;for(let S=5;S>=0;S--)for(let j=d-9;j>=v;j--)m=this.copyBit(S,j,m);if(w=Br.decodeVersionInformation(m),w!==null&&w.getDimensionForVersion()===d)return this.parsedVersion=w,w;throw new k}copyBit(d,h,m){return(this.isMirror?this.bitMatrix.get(h,d):this.bitMatrix.get(d,h))?m<<1|1:m<<1}readCodewords(){const d=this.readFormatInformation(),h=this.readVersion(),m=Gs.values.get(d.getDataMask()),v=this.bitMatrix.getHeight();m.unmaskBitMatrix(this.bitMatrix,v);const w=h.buildFunctionPattern();let S=!0;const j=new Uint8Array(h.getTotalCodewords());let M=0,z=0,X=0;for(let ie=v-1;ie>0;ie-=2){ie===6&&ie--;for(let pe=0;pe<v;pe++){const $e=S?v-1-pe:pe;for(let Xe=0;Xe<2;Xe++)w.get(ie-Xe,$e)||(X++,z<<=1,this.bitMatrix.get(ie-Xe,$e)&&(z|=1),X===8&&(j[M++]=z,X=0,z=0))}S=!S}if(M!==h.getTotalCodewords())throw new k;return j}remask(){if(this.parsedFormatInfo===null)return;const d=Gs.values[this.parsedFormatInfo.getDataMask()],h=this.bitMatrix.getHeight();d.unmaskBitMatrix(this.bitMatrix,h)}setMirror(d){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=d}mirror(){const d=this.bitMatrix;for(let h=0,m=d.getWidth();h<m;h++)for(let v=h+1,w=d.getHeight();v<w;v++)d.get(h,v)!==d.get(v,h)&&(d.flip(v,h),d.flip(h,v))}}class v0{constructor(d,h){this.numDataCodewords=d,this.codewords=h}static getDataBlocks(d,h,m){if(d.length!==h.getTotalCodewords())throw new p;const v=h.getECBlocksForLevel(m);let w=0;const S=v.getECBlocks();for(const Xe of S)w+=Xe.getCount();const j=new Array(w);let M=0;for(const Xe of S)for(let Qe=0;Qe<Xe.getCount();Qe++){const ot=Xe.getDataCodewords(),St=v.getECCodewordsPerBlock()+ot;j[M++]=new v0(ot,new Uint8Array(St))}const z=j[0].codewords.length;let X=j.length-1;for(;X>=0&&j[X].codewords.length!==z;)X--;X++;const ie=z-v.getECCodewordsPerBlock();let pe=0;for(let Xe=0;Xe<ie;Xe++)for(let Qe=0;Qe<M;Qe++)j[Qe].codewords[Xe]=d[pe++];for(let Xe=X;Xe<M;Xe++)j[Xe].codewords[ie]=d[pe++];const $e=j[0].codewords.length;for(let Xe=ie;Xe<$e;Xe++)for(let Qe=0;Qe<M;Qe++){const ot=Qe<X?Xe:Xe+1;j[Qe].codewords[ot]=d[pe++]}return j}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ys;(function(ae){ae[ae.TERMINATOR=0]="TERMINATOR",ae[ae.NUMERIC=1]="NUMERIC",ae[ae.ALPHANUMERIC=2]="ALPHANUMERIC",ae[ae.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",ae[ae.BYTE=4]="BYTE",ae[ae.ECI=5]="ECI",ae[ae.KANJI=6]="KANJI",ae[ae.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",ae[ae.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",ae[ae.HANZI=9]="HANZI"})(Ys||(Ys={}));class zr{constructor(d,h,m,v){this.value=d,this.stringValue=h,this.characterCountBitsForVersions=m,this.bits=v,zr.FOR_BITS.set(v,this),zr.FOR_VALUE.set(d,this)}static forBits(d){const h=zr.FOR_BITS.get(d);if(h===void 0)throw new p;return h}getCharacterCountBits(d){const h=d.getVersionNumber();let m;return h<=9?m=0:h<=26?m=1:m=2,this.characterCountBitsForVersions[m]}getValue(){return this.value}getBits(){return this.bits}equals(d){if(!(d instanceof zr))return!1;const h=d;return this.value===h.value}toString(){return this.stringValue}}zr.FOR_BITS=new Map,zr.FOR_VALUE=new Map,zr.TERMINATOR=new zr(Ys.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),zr.NUMERIC=new zr(Ys.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),zr.ALPHANUMERIC=new zr(Ys.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),zr.STRUCTURED_APPEND=new zr(Ys.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),zr.BYTE=new zr(Ys.BYTE,"BYTE",Int32Array.from([8,16,16]),4),zr.ECI=new zr(Ys.ECI,"ECI",Int32Array.from([0,0,0]),7),zr.KANJI=new zr(Ys.KANJI,"KANJI",Int32Array.from([8,10,12]),8),zr.FNC1_FIRST_POSITION=new zr(Ys.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),zr.FNC1_SECOND_POSITION=new zr(Ys.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),zr.HANZI=new zr(Ys.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Yn{static decode(d,h,m,v){const w=new Ec(d);let S=new q;const j=new Array;let M=-1,z=-1;try{let X=null,ie=!1,pe;do{if(w.available()<4)pe=zr.TERMINATOR;else{const $e=w.readBits(4);pe=zr.forBits($e)}switch(pe){case zr.TERMINATOR:break;case zr.FNC1_FIRST_POSITION:case zr.FNC1_SECOND_POSITION:ie=!0;break;case zr.STRUCTURED_APPEND:if(w.available()<16)throw new k;M=w.readBits(8),z=w.readBits(8);break;case zr.ECI:const $e=Yn.parseECIValue(w);if(X=B.getCharacterSetECIByValue($e),X===null)throw new k;break;case zr.HANZI:const Xe=w.readBits(4),Qe=w.readBits(pe.getCharacterCountBits(h));Xe===Yn.GB2312_SUBSET&&Yn.decodeHanziSegment(w,S,Qe);break;default:const ot=w.readBits(pe.getCharacterCountBits(h));switch(pe){case zr.NUMERIC:Yn.decodeNumericSegment(w,S,ot);break;case zr.ALPHANUMERIC:Yn.decodeAlphanumericSegment(w,S,ot,ie);break;case zr.BYTE:Yn.decodeByteSegment(w,S,ot,X,j,v);break;case zr.KANJI:Yn.decodeKanjiSegment(w,S,ot);break;default:throw new k}break}}while(pe!==zr.TERMINATOR)}catch{throw new k}return new ve(d,S.toString(),j.length===0?null:j,m===null?null:m.toString(),M,z)}static decodeHanziSegment(d,h,m){if(m*13>d.available())throw new k;const v=new Uint8Array(2*m);let w=0;for(;m>0;){const S=d.readBits(13);let j=S/96<<8&4294967295|S%96;j<959?j+=41377:j+=42657,v[w]=j>>8&255,v[w+1]=j&255,w+=2,m--}try{h.append(F.decode(v,U.GB2312))}catch(S){throw new k(S)}}static decodeKanjiSegment(d,h,m){if(m*13>d.available())throw new k;const v=new Uint8Array(2*m);let w=0;for(;m>0;){const S=d.readBits(13);let j=S/192<<8&4294967295|S%192;j<7936?j+=33088:j+=49472,v[w]=j>>8,v[w+1]=j,w+=2,m--}try{h.append(F.decode(v,U.SHIFT_JIS))}catch(S){throw new k(S)}}static decodeByteSegment(d,h,m,v,w,S){if(8*m>d.available())throw new k;const j=new Uint8Array(m);for(let z=0;z<m;z++)j[z]=d.readBits(8);let M;v===null?M=U.guessEncoding(j,S):M=v.getName();try{h.append(F.decode(j,M))}catch(z){throw new k(z)}w.push(j)}static toAlphaNumericChar(d){if(d>=Yn.ALPHANUMERIC_CHARS.length)throw new k;return Yn.ALPHANUMERIC_CHARS[d]}static decodeAlphanumericSegment(d,h,m,v){const w=h.length();for(;m>1;){if(d.available()<11)throw new k;const S=d.readBits(11);h.append(Yn.toAlphaNumericChar(Math.floor(S/45))),h.append(Yn.toAlphaNumericChar(S%45)),m-=2}if(m===1){if(d.available()<6)throw new k;h.append(Yn.toAlphaNumericChar(d.readBits(6)))}if(v)for(let S=w;S<h.length();S++)h.charAt(S)==="%"&&(S<h.length()-1&&h.charAt(S+1)==="%"?h.deleteCharAt(S+1):h.setCharAt(S,""))}static decodeNumericSegment(d,h,m){for(;m>=3;){if(d.available()<10)throw new k;const v=d.readBits(10);if(v>=1e3)throw new k;h.append(Yn.toAlphaNumericChar(Math.floor(v/100))),h.append(Yn.toAlphaNumericChar(Math.floor(v/10)%10)),h.append(Yn.toAlphaNumericChar(v%10)),m-=3}if(m===2){if(d.available()<7)throw new k;const v=d.readBits(7);if(v>=100)throw new k;h.append(Yn.toAlphaNumericChar(Math.floor(v/10))),h.append(Yn.toAlphaNumericChar(v%10))}else if(m===1){if(d.available()<4)throw new k;const v=d.readBits(4);if(v>=10)throw new k;h.append(Yn.toAlphaNumericChar(v))}}static parseECIValue(d){const h=d.readBits(8);if(!(h&128))return h&127;if((h&192)===128){const m=d.readBits(8);return(h&63)<<8&4294967295|m}if((h&224)===192){const m=d.readBits(16);return(h&31)<<16&4294967295|m}throw new k}}Yn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Yn.GB2312_SUBSET=1;class md{constructor(d){this.mirrored=d}isMirrored(){return this.mirrored}applyMirroredCorrection(d){if(!this.mirrored||d===null||d.length<3)return;const h=d[0];d[0]=d[2],d[2]=h}}class Of{constructor(){this.rsDecoder=new we(ye.QR_CODE_FIELD_256)}decodeBooleanArray(d,h){return this.decodeBitMatrix(K.parseFromBooleanArray(d),h)}decodeBitMatrix(d,h){const m=new x0(d);let v=null;try{return this.decodeBitMatrixParser(m,h)}catch(w){v=w}try{m.remask(),m.setMirror(!0),m.readVersion(),m.readFormatInformation(),m.mirror();const w=this.decodeBitMatrixParser(m,h);return w.setOther(new md(!0)),w}catch(w){throw v!==null?v:w}}decodeBitMatrixParser(d,h){const m=d.readVersion(),v=d.readFormatInformation().getErrorCorrectionLevel(),w=d.readCodewords(),S=v0.getDataBlocks(w,m,v);let j=0;for(const X of S)j+=X.getNumDataCodewords();const M=new Uint8Array(j);let z=0;for(const X of S){const ie=X.getCodewords(),pe=X.getNumDataCodewords();this.correctErrors(ie,pe);for(let $e=0;$e<pe;$e++)M[z++]=ie[$e]}return Yn.decode(M,m,v,h)}correctErrors(d,h){const m=new Int32Array(d);try{this.rsDecoder.decode(m,d.length-h)}catch{throw new x}for(let v=0;v<h;v++)d[v]=m[v]}}class If extends ke{constructor(d,h,m){super(d,h),this.estimatedModuleSize=m}aboutEquals(d,h,m){if(Math.abs(h-this.getY())<=d&&Math.abs(m-this.getX())<=d){const v=Math.abs(d-this.estimatedModuleSize);return v<=1||v<=this.estimatedModuleSize}return!1}combineEstimate(d,h,m){const v=(this.getX()+h)/2,w=(this.getY()+d)/2,S=(this.estimatedModuleSize+m)/2;return new If(v,w,S)}}class Ra{constructor(d,h,m,v,w,S,j){this.image=d,this.startX=h,this.startY=m,this.width=v,this.height=w,this.moduleSize=S,this.resultPointCallback=j,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const d=this.startX,h=this.height,m=this.width,v=d+m,w=this.startY+h/2,S=new Int32Array(3),j=this.image;for(let M=0;M<h;M++){const z=w+(M&1?-Math.floor((M+1)/2):Math.floor((M+1)/2));S[0]=0,S[1]=0,S[2]=0;let X=d;for(;X<v&&!j.get(X,z);)X++;let ie=0;for(;X<v;){if(j.get(X,z))if(ie===1)S[1]++;else if(ie===2){if(this.foundPatternCross(S)){const pe=this.handlePossibleCenter(S,z,X);if(pe!==null)return pe}S[0]=S[2],S[1]=1,S[2]=0,ie=1}else S[++ie]++;else ie===1&&ie++,S[ie]++;X++}if(this.foundPatternCross(S)){const pe=this.handlePossibleCenter(S,z,v);if(pe!==null)return pe}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new V}static centerFromEnd(d,h){return h-d[2]-d[1]/2}foundPatternCross(d){const h=this.moduleSize,m=h/2;for(let v=0;v<3;v++)if(Math.abs(h-d[v])>=m)return!1;return!0}crossCheckVertical(d,h,m,v){const w=this.image,S=w.getHeight(),j=this.crossCheckStateCount;j[0]=0,j[1]=0,j[2]=0;let M=d;for(;M>=0&&w.get(h,M)&&j[1]<=m;)j[1]++,M--;if(M<0||j[1]>m)return NaN;for(;M>=0&&!w.get(h,M)&&j[0]<=m;)j[0]++,M--;if(j[0]>m)return NaN;for(M=d+1;M<S&&w.get(h,M)&&j[1]<=m;)j[1]++,M++;if(M===S||j[1]>m)return NaN;for(;M<S&&!w.get(h,M)&&j[2]<=m;)j[2]++,M++;if(j[2]>m)return NaN;const z=j[0]+j[1]+j[2];return 5*Math.abs(z-v)>=2*v?NaN:this.foundPatternCross(j)?Ra.centerFromEnd(j,M):NaN}handlePossibleCenter(d,h,m){const v=d[0]+d[1]+d[2],w=Ra.centerFromEnd(d,m),S=this.crossCheckVertical(h,w,2*d[1],v);if(!isNaN(S)){const j=(d[0]+d[1]+d[2])/3;for(const z of this.possibleCenters)if(z.aboutEquals(j,S,w))return z.combineEstimate(S,w,j);const M=new If(w,S,j);this.possibleCenters.push(M),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(M)}return null}}class y0 extends ke{constructor(d,h,m,v){super(d,h),this.estimatedModuleSize=m,this.count=v,v===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(d,h,m){if(Math.abs(h-this.getY())<=d&&Math.abs(m-this.getX())<=d){const v=Math.abs(d-this.estimatedModuleSize);return v<=1||v<=this.estimatedModuleSize}return!1}combineEstimate(d,h,m){const v=this.count+1,w=(this.count*this.getX()+h)/v,S=(this.count*this.getY()+d)/v,j=(this.count*this.estimatedModuleSize+m)/v;return new y0(w,S,j,v)}}class l1{constructor(d){this.bottomLeft=d[0],this.topLeft=d[1],this.topRight=d[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class kr{constructor(d,h){this.image=d,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=h}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(d){const h=d!=null&&d.get(D.TRY_HARDER)!==void 0,m=d!=null&&d.get(D.PURE_BARCODE)!==void 0,v=this.image,w=v.getHeight(),S=v.getWidth();let j=Math.floor(3*w/(4*kr.MAX_MODULES));(j<kr.MIN_SKIP||h)&&(j=kr.MIN_SKIP);let M=!1;const z=new Int32Array(5);for(let ie=j-1;ie<w&&!M;ie+=j){z[0]=0,z[1]=0,z[2]=0,z[3]=0,z[4]=0;let pe=0;for(let $e=0;$e<S;$e++)if(v.get($e,ie))(pe&1)===1&&pe++,z[pe]++;else if(pe&1)z[pe]++;else if(pe===4)if(kr.foundPatternCross(z)){if(this.handlePossibleCenter(z,ie,$e,m)===!0)if(j=2,this.hasSkipped===!0)M=this.haveMultiplyConfirmedCenters();else{const Qe=this.findRowSkip();Qe>z[2]&&(ie+=Qe-z[2]-j,$e=S-1)}else{z[0]=z[2],z[1]=z[3],z[2]=z[4],z[3]=1,z[4]=0,pe=3;continue}pe=0,z[0]=0,z[1]=0,z[2]=0,z[3]=0,z[4]=0}else z[0]=z[2],z[1]=z[3],z[2]=z[4],z[3]=1,z[4]=0,pe=3;else z[++pe]++;kr.foundPatternCross(z)&&this.handlePossibleCenter(z,ie,S,m)===!0&&(j=z[0],this.hasSkipped&&(M=this.haveMultiplyConfirmedCenters()))}const X=this.selectBestPatterns();return ke.orderBestPatterns(X),new l1(X)}static centerFromEnd(d,h){return h-d[4]-d[3]-d[2]/2}static foundPatternCross(d){let h=0;for(let w=0;w<5;w++){const S=d[w];if(S===0)return!1;h+=S}if(h<7)return!1;const m=h/7,v=m/2;return Math.abs(m-d[0])<v&&Math.abs(m-d[1])<v&&Math.abs(3*m-d[2])<3*v&&Math.abs(m-d[3])<v&&Math.abs(m-d[4])<v}getCrossCheckStateCount(){const d=this.crossCheckStateCount;return d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d}crossCheckDiagonal(d,h,m,v){const w=this.getCrossCheckStateCount();let S=0;const j=this.image;for(;d>=S&&h>=S&&j.get(h-S,d-S);)w[2]++,S++;if(d<S||h<S)return!1;for(;d>=S&&h>=S&&!j.get(h-S,d-S)&&w[1]<=m;)w[1]++,S++;if(d<S||h<S||w[1]>m)return!1;for(;d>=S&&h>=S&&j.get(h-S,d-S)&&w[0]<=m;)w[0]++,S++;if(w[0]>m)return!1;const M=j.getHeight(),z=j.getWidth();for(S=1;d+S<M&&h+S<z&&j.get(h+S,d+S);)w[2]++,S++;if(d+S>=M||h+S>=z)return!1;for(;d+S<M&&h+S<z&&!j.get(h+S,d+S)&&w[3]<m;)w[3]++,S++;if(d+S>=M||h+S>=z||w[3]>=m)return!1;for(;d+S<M&&h+S<z&&j.get(h+S,d+S)&&w[4]<m;)w[4]++,S++;if(w[4]>=m)return!1;const X=w[0]+w[1]+w[2]+w[3]+w[4];return Math.abs(X-v)<2*v&&kr.foundPatternCross(w)}crossCheckVertical(d,h,m,v){const w=this.image,S=w.getHeight(),j=this.getCrossCheckStateCount();let M=d;for(;M>=0&&w.get(h,M);)j[2]++,M--;if(M<0)return NaN;for(;M>=0&&!w.get(h,M)&&j[1]<=m;)j[1]++,M--;if(M<0||j[1]>m)return NaN;for(;M>=0&&w.get(h,M)&&j[0]<=m;)j[0]++,M--;if(j[0]>m)return NaN;for(M=d+1;M<S&&w.get(h,M);)j[2]++,M++;if(M===S)return NaN;for(;M<S&&!w.get(h,M)&&j[3]<m;)j[3]++,M++;if(M===S||j[3]>=m)return NaN;for(;M<S&&w.get(h,M)&&j[4]<m;)j[4]++,M++;if(j[4]>=m)return NaN;const z=j[0]+j[1]+j[2]+j[3]+j[4];return 5*Math.abs(z-v)>=2*v?NaN:kr.foundPatternCross(j)?kr.centerFromEnd(j,M):NaN}crossCheckHorizontal(d,h,m,v){const w=this.image,S=w.getWidth(),j=this.getCrossCheckStateCount();let M=d;for(;M>=0&&w.get(M,h);)j[2]++,M--;if(M<0)return NaN;for(;M>=0&&!w.get(M,h)&&j[1]<=m;)j[1]++,M--;if(M<0||j[1]>m)return NaN;for(;M>=0&&w.get(M,h)&&j[0]<=m;)j[0]++,M--;if(j[0]>m)return NaN;for(M=d+1;M<S&&w.get(M,h);)j[2]++,M++;if(M===S)return NaN;for(;M<S&&!w.get(M,h)&&j[3]<m;)j[3]++,M++;if(M===S||j[3]>=m)return NaN;for(;M<S&&w.get(M,h)&&j[4]<m;)j[4]++,M++;if(j[4]>=m)return NaN;const z=j[0]+j[1]+j[2]+j[3]+j[4];return 5*Math.abs(z-v)>=v?NaN:kr.foundPatternCross(j)?kr.centerFromEnd(j,M):NaN}handlePossibleCenter(d,h,m,v){const w=d[0]+d[1]+d[2]+d[3]+d[4];let S=kr.centerFromEnd(d,m),j=this.crossCheckVertical(h,Math.floor(S),d[2],w);if(!isNaN(j)&&(S=this.crossCheckHorizontal(Math.floor(S),Math.floor(j),d[2],w),!isNaN(S)&&(!v||this.crossCheckDiagonal(Math.floor(j),Math.floor(S),d[2],w)))){const M=w/7;let z=!1;const X=this.possibleCenters;for(let ie=0,pe=X.length;ie<pe;ie++){const $e=X[ie];if($e.aboutEquals(M,j,S)){X[ie]=$e.combineEstimate(j,S,M),z=!0;break}}if(!z){const ie=new y0(S,j,M);X.push(ie),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(ie)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let h=null;for(const m of this.possibleCenters)if(m.getCount()>=kr.CENTER_QUORUM)if(h==null)h=m;else return this.hasSkipped=!0,Math.floor((Math.abs(h.getX()-m.getX())-Math.abs(h.getY()-m.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let d=0,h=0;const m=this.possibleCenters.length;for(const S of this.possibleCenters)S.getCount()>=kr.CENTER_QUORUM&&(d++,h+=S.getEstimatedModuleSize());if(d<3)return!1;const v=h/m;let w=0;for(const S of this.possibleCenters)w+=Math.abs(S.getEstimatedModuleSize()-v);return w<=.05*h}selectBestPatterns(){const d=this.possibleCenters.length;if(d<3)throw new V;const h=this.possibleCenters;let m;if(d>3){let v=0,w=0;for(const M of this.possibleCenters){const z=M.getEstimatedModuleSize();v+=z,w+=z*z}m=v/d;let S=Math.sqrt(w/d-m*m);h.sort((M,z)=>{const X=Math.abs(z.getEstimatedModuleSize()-m),ie=Math.abs(M.getEstimatedModuleSize()-m);return X<ie?-1:X>ie?1:0});const j=Math.max(.2*m,S);for(let M=0;M<h.length&&h.length>3;M++){const z=h[M];Math.abs(z.getEstimatedModuleSize()-m)>j&&(h.splice(M,1),M--)}}if(h.length>3){let v=0;for(const w of h)v+=w.getEstimatedModuleSize();m=v/h.length,h.sort((w,S)=>{if(S.getCount()===w.getCount()){const j=Math.abs(S.getEstimatedModuleSize()-m),M=Math.abs(w.getEstimatedModuleSize()-m);return j<M?1:j>M?-1:0}else return S.getCount()-w.getCount()}),h.splice(3)}return[h[0],h[1],h[2]]}}kr.CENTER_QUORUM=2,kr.MIN_SKIP=3,kr.MAX_MODULES=57;class gd{constructor(d){this.image=d}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(d){this.resultPointCallback=d==null?null:d.get(D.NEED_RESULT_POINT_CALLBACK);const m=new kr(this.image,this.resultPointCallback).find(d);return this.processFinderPatternInfo(m)}processFinderPatternInfo(d){const h=d.getTopLeft(),m=d.getTopRight(),v=d.getBottomLeft(),w=this.calculateModuleSize(h,m,v);if(w<1)throw new V("No pattern found in proccess finder.");const S=gd.computeDimension(h,m,v,w),j=Br.getProvisionalVersionForDimension(S),M=j.getDimensionForVersion()-7;let z=null;if(j.getAlignmentPatternCenters().length>0){const $e=m.getX()-h.getX()+v.getX(),Xe=m.getY()-h.getY()+v.getY(),Qe=1-3/M,ot=Math.floor(h.getX()+Qe*($e-h.getX())),St=Math.floor(h.getY()+Qe*(Xe-h.getY()));for(let Ft=4;Ft<=16;Ft<<=1)try{z=this.findAlignmentInRegion(w,ot,St,Ft);break}catch(Wt){if(!(Wt instanceof V))throw Wt}}const X=gd.createTransform(h,m,v,z,S),ie=gd.sampleGrid(this.image,X,S);let pe;return z===null?pe=[v,h,m]:pe=[v,h,m,z],new He(ie,pe)}static createTransform(d,h,m,v,w){const S=w-3.5;let j,M,z,X;return v!==null?(j=v.getX(),M=v.getY(),z=S-3,X=z):(j=h.getX()-d.getX()+m.getX(),M=h.getY()-d.getY()+m.getY(),z=S,X=S),qt.quadrilateralToQuadrilateral(3.5,3.5,S,3.5,z,X,3.5,S,d.getX(),d.getY(),h.getX(),h.getY(),j,M,m.getX(),m.getY())}static sampleGrid(d,h,m){return ar.getInstance().sampleGridWithTransform(d,m,m,h)}static computeDimension(d,h,m,v){const w=Ce.round(ke.distance(d,h)/v),S=Ce.round(ke.distance(d,m)/v);let j=Math.floor((w+S)/2)+7;switch(j&3){case 0:j++;break;case 2:j--;break;case 3:throw new V("Dimensions could be not found.")}return j}calculateModuleSize(d,h,m){return(this.calculateModuleSizeOneWay(d,h)+this.calculateModuleSizeOneWay(d,m))/2}calculateModuleSizeOneWay(d,h){const m=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(d.getX()),Math.floor(d.getY()),Math.floor(h.getX()),Math.floor(h.getY())),v=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(h.getX()),Math.floor(h.getY()),Math.floor(d.getX()),Math.floor(d.getY()));return isNaN(m)?v/7:isNaN(v)?m/7:(m+v)/14}sizeOfBlackWhiteBlackRunBothWays(d,h,m,v){let w=this.sizeOfBlackWhiteBlackRun(d,h,m,v),S=1,j=d-(m-d);j<0?(S=d/(d-j),j=0):j>=this.image.getWidth()&&(S=(this.image.getWidth()-1-d)/(j-d),j=this.image.getWidth()-1);let M=Math.floor(h-(v-h)*S);return S=1,M<0?(S=h/(h-M),M=0):M>=this.image.getHeight()&&(S=(this.image.getHeight()-1-h)/(M-h),M=this.image.getHeight()-1),j=Math.floor(d+(j-d)*S),w+=this.sizeOfBlackWhiteBlackRun(d,h,j,M),w-1}sizeOfBlackWhiteBlackRun(d,h,m,v){const w=Math.abs(v-h)>Math.abs(m-d);if(w){let $e=d;d=h,h=$e,$e=m,m=v,v=$e}const S=Math.abs(m-d),j=Math.abs(v-h);let M=-S/2;const z=d<m?1:-1,X=h<v?1:-1;let ie=0;const pe=m+z;for(let $e=d,Xe=h;$e!==pe;$e+=z){const Qe=w?Xe:$e,ot=w?$e:Xe;if(ie===1===this.image.get(Qe,ot)){if(ie===2)return Ce.distance($e,Xe,d,h);ie++}if(M+=j,M>0){if(Xe===v)break;Xe+=X,M-=S}}return ie===2?Ce.distance(m+z,v,d,h):NaN}findAlignmentInRegion(d,h,m,v){const w=Math.floor(v*d),S=Math.max(0,h-w),j=Math.min(this.image.getWidth()-1,h+w);if(j-S<d*3)throw new V("Alignment top exceeds estimated module size.");const M=Math.max(0,m-w),z=Math.min(this.image.getHeight()-1,m+w);if(z-M<d*3)throw new V("Alignment bottom exceeds estimated module size.");return new Ra(this.image,S,M,j-S,z-M,d,this.resultPointCallback).find()}}class Vl{constructor(){this.decoder=new Of}getDecoder(){return this.decoder}decode(d,h){let m,v;if(h!=null&&h.get(D.PURE_BARCODE)!==void 0){const M=Vl.extractPureBits(d.getBlackMatrix());m=this.decoder.decodeBitMatrix(M,h),v=Vl.NO_POINTS}else{const M=new gd(d.getBlackMatrix()).detect(h);m=this.decoder.decodeBitMatrix(M.getBits(),h),v=M.getPoints()}m.getOther()instanceof md&&m.getOther().applyMirroredCorrection(v);const w=new Z(m.getText(),m.getRawBytes(),void 0,v,le.QR_CODE,void 0),S=m.getByteSegments();S!==null&&w.putMetadata(Ae.BYTE_SEGMENTS,S);const j=m.getECLevel();return j!==null&&w.putMetadata(Ae.ERROR_CORRECTION_LEVEL,j),m.hasStructuredAppend()&&(w.putMetadata(Ae.STRUCTURED_APPEND_SEQUENCE,m.getStructuredAppendSequenceNumber()),w.putMetadata(Ae.STRUCTURED_APPEND_PARITY,m.getStructuredAppendParity())),w}reset(){}static extractPureBits(d){const h=d.getTopLeftOnBit(),m=d.getBottomRightOnBit();if(h===null||m===null)throw new V;const v=this.moduleSize(h,d);let w=h[1],S=m[1],j=h[0],M=m[0];if(j>=M||w>=S)throw new V;if(S-w!==M-j&&(M=j+(S-w),M>=d.getWidth()))throw new V;const z=Math.round((M-j+1)/v),X=Math.round((S-w+1)/v);if(z<=0||X<=0)throw new V;if(X!==z)throw new V;const ie=Math.floor(v/2);w+=ie,j+=ie;const pe=j+Math.floor((z-1)*v)-M;if(pe>0){if(pe>ie)throw new V;j-=pe}const $e=w+Math.floor((X-1)*v)-S;if($e>0){if($e>ie)throw new V;w-=$e}const Xe=new K(z,X);for(let Qe=0;Qe<X;Qe++){const ot=w+Math.floor(Qe*v);for(let St=0;St<z;St++)d.get(j+Math.floor(St*v),ot)&&Xe.set(St,Qe)}return Xe}static moduleSize(d,h){const m=h.getHeight(),v=h.getWidth();let w=d[0],S=d[1],j=!0,M=0;for(;w<v&&S<m;){if(j!==h.get(w,S)){if(++M===5)break;j=!j}w++,S++}if(w===v||S===m)throw new V;return(w-d[0])/7}}Vl.NO_POINTS=new Array;class $r{PDF417Common(){}static getBitCountSum(d){return Ce.sum(d)}static toIntArray(d){if(d==null||!d.length)return $r.EMPTY_INT_ARRAY;const h=new Int32Array(d.length);let m=0;for(const v of d)h[m++]=v;return h}static getCodeword(d){const h=E.binarySearch($r.SYMBOL_TABLE,d&262143);return h<0?-1:($r.CODEWORD_TABLE[h]-1)%$r.NUMBER_OF_CODEWORDS}}$r.NUMBER_OF_CODEWORDS=929,$r.MAX_CODEWORDS_IN_BARCODE=$r.NUMBER_OF_CODEWORDS-1,$r.MIN_ROWS_IN_BARCODE=3,$r.MAX_ROWS_IN_BARCODE=90,$r.MODULES_IN_CODEWORD=17,$r.MODULES_IN_STOP_PATTERN=18,$r.BARS_IN_MODULE=8,$r.EMPTY_INT_ARRAY=new Int32Array([]),$r.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),$r.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class c1{constructor(d,h){this.bits=d,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class vn{static detectMultiple(d,h,m){let v=d.getBlackMatrix(),w=vn.detect(m,v);return w.length||(v=v.clone(),v.rotate180(),w=vn.detect(m,v)),new c1(v,w)}static detect(d,h){const m=new Array;let v=0,w=0,S=!1;for(;v<h.getHeight();){const j=vn.findVertices(h,v,w);if(j[0]==null&&j[3]==null){if(!S)break;S=!1,w=0;for(const M of m)M[1]!=null&&(v=Math.trunc(Math.max(v,M[1].getY()))),M[3]!=null&&(v=Math.max(v,Math.trunc(M[3].getY())));v+=vn.ROW_STEP;continue}if(S=!0,m.push(j),!d)break;j[2]!=null?(w=Math.trunc(j[2].getX()),v=Math.trunc(j[2].getY())):(w=Math.trunc(j[4].getX()),v=Math.trunc(j[4].getY()))}return m}static findVertices(d,h,m){const v=d.getHeight(),w=d.getWidth(),S=new Array(8);return vn.copyToResult(S,vn.findRowsWithPattern(d,v,w,h,m,vn.START_PATTERN),vn.INDEXES_START_PATTERN),S[4]!=null&&(m=Math.trunc(S[4].getX()),h=Math.trunc(S[4].getY())),vn.copyToResult(S,vn.findRowsWithPattern(d,v,w,h,m,vn.STOP_PATTERN),vn.INDEXES_STOP_PATTERN),S}static copyToResult(d,h,m){for(let v=0;v<m.length;v++)d[m[v]]=h[v]}static findRowsWithPattern(d,h,m,v,w,S){const j=new Array(4);let M=!1;const z=new Int32Array(S.length);for(;v<h;v+=vn.ROW_STEP){let ie=vn.findGuardPattern(d,w,v,m,!1,S,z);if(ie!=null){for(;v>0;){const pe=vn.findGuardPattern(d,w,--v,m,!1,S,z);if(pe!=null)ie=pe;else{v++;break}}j[0]=new ke(ie[0],v),j[1]=new ke(ie[1],v),M=!0;break}}let X=v+1;if(M){let ie=0,pe=Int32Array.from([Math.trunc(j[0].getX()),Math.trunc(j[1].getX())]);for(;X<h;X++){const $e=vn.findGuardPattern(d,pe[0],X,m,!1,S,z);if($e!=null&&Math.abs(pe[0]-$e[0])<vn.MAX_PATTERN_DRIFT&&Math.abs(pe[1]-$e[1])<vn.MAX_PATTERN_DRIFT)pe=$e,ie=0;else{if(ie>vn.SKIPPED_ROW_COUNT_MAX)break;ie++}}X-=ie+1,j[2]=new ke(pe[0],X),j[3]=new ke(pe[1],X)}return X-v<vn.BARCODE_MIN_HEIGHT&&E.fill(j,null),j}static findGuardPattern(d,h,m,v,w,S,j){E.fillWithin(j,0,j.length,0);let M=h,z=0;for(;d.get(M,m)&&M>0&&z++<vn.MAX_PIXEL_DRIFT;)M--;let X=M,ie=0,pe=S.length;for(let $e=w;X<v;X++)if(d.get(X,m)!==$e)j[ie]++;else{if(ie===pe-1){if(vn.patternMatchVariance(j,S,vn.MAX_INDIVIDUAL_VARIANCE)<vn.MAX_AVG_VARIANCE)return new Int32Array([M,X]);M+=j[0]+j[1],y.arraycopy(j,2,j,0,ie-1),j[ie-1]=0,j[ie]=0,ie--}else ie++;j[ie]=1,$e=!$e}return ie===pe-1&&vn.patternMatchVariance(j,S,vn.MAX_INDIVIDUAL_VARIANCE)<vn.MAX_AVG_VARIANCE?new Int32Array([M,X-1]):null}static patternMatchVariance(d,h,m){let v=d.length,w=0,S=0;for(let z=0;z<v;z++)w+=d[z],S+=h[z];if(w<S)return 1/0;let j=w/S;m*=j;let M=0;for(let z=0;z<v;z++){let X=d[z],ie=h[z]*j,pe=X>ie?X-ie:ie-X;if(pe>m)return 1/0;M+=pe}return M/w}}vn.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),vn.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),vn.MAX_AVG_VARIANCE=.42,vn.MAX_INDIVIDUAL_VARIANCE=.8,vn.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),vn.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),vn.MAX_PIXEL_DRIFT=3,vn.MAX_PATTERN_DRIFT=5,vn.SKIPPED_ROW_COUNT_MAX=25,vn.ROW_STEP=5,vn.BARCODE_MIN_HEIGHT=10;class ra{constructor(d,h){if(h.length===0)throw new p;this.field=d;let m=h.length;if(m>1&&h[0]===0){let v=1;for(;v<m&&h[v]===0;)v++;v===m?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(m-v),y.arraycopy(h,v,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(d){return this.coefficients[this.coefficients.length-1-d]}evaluateAt(d){if(d===0)return this.getCoefficient(0);if(d===1){let v=0;for(let w of this.coefficients)v=this.field.add(v,w);return v}let h=this.coefficients[0],m=this.coefficients.length;for(let v=1;v<m;v++)h=this.field.add(this.field.multiply(d,h),this.coefficients[v]);return h}add(d){if(!this.field.equals(d.field))throw new p("ModulusPolys do not have same ModulusGF field");if(this.isZero())return d;if(d.isZero())return this;let h=this.coefficients,m=d.coefficients;if(h.length>m.length){let S=h;h=m,m=S}let v=new Int32Array(m.length),w=m.length-h.length;y.arraycopy(m,0,v,0,w);for(let S=w;S<m.length;S++)v[S]=this.field.add(h[S-w],m[S]);return new ra(this.field,v)}subtract(d){if(!this.field.equals(d.field))throw new p("ModulusPolys do not have same ModulusGF field");return d.isZero()?this:this.add(d.negative())}multiply(d){return d instanceof ra?this.multiplyOther(d):this.multiplyScalar(d)}multiplyOther(d){if(!this.field.equals(d.field))throw new p("ModulusPolys do not have same ModulusGF field");if(this.isZero()||d.isZero())return new ra(this.field,new Int32Array([0]));let h=this.coefficients,m=h.length,v=d.coefficients,w=v.length,S=new Int32Array(m+w-1);for(let j=0;j<m;j++){let M=h[j];for(let z=0;z<w;z++)S[j+z]=this.field.add(S[j+z],this.field.multiply(M,v[z]))}return new ra(this.field,S)}negative(){let d=this.coefficients.length,h=new Int32Array(d);for(let m=0;m<d;m++)h[m]=this.field.subtract(0,this.coefficients[m]);return new ra(this.field,h)}multiplyScalar(d){if(d===0)return new ra(this.field,new Int32Array([0]));if(d===1)return this;let h=this.coefficients.length,m=new Int32Array(h);for(let v=0;v<h;v++)m[v]=this.field.multiply(this.coefficients[v],d);return new ra(this.field,m)}multiplyByMonomial(d,h){if(d<0)throw new p;if(h===0)return new ra(this.field,new Int32Array([0]));let m=this.coefficients.length,v=new Int32Array(m+d);for(let w=0;w<m;w++)v[w]=this.field.multiply(this.coefficients[w],h);return new ra(this.field,v)}toString(){let d=new q;for(let h=this.getDegree();h>=0;h--){let m=this.getCoefficient(h);m!==0&&(m<0?(d.append(" - "),m=-m):d.length()>0&&d.append(" + "),(h===0||m!==1)&&d.append(m),h!==0&&(h===1?d.append("x"):(d.append("x^"),d.append(h))))}return d.toString()}}class w0{add(d,h){return(d+h)%this.modulus}subtract(d,h){return(this.modulus+d-h)%this.modulus}exp(d){return this.expTable[d]}log(d){if(d===0)throw new p;return this.logTable[d]}inverse(d){if(d===0)throw new Se;return this.expTable[this.modulus-this.logTable[d]-1]}multiply(d,h){return d===0||h===0?0:this.expTable[(this.logTable[d]+this.logTable[h])%(this.modulus-1)]}getSize(){return this.modulus}equals(d){return d===this}}class b0 extends w0{constructor(d,h){super(),this.modulus=d,this.expTable=new Int32Array(d),this.logTable=new Int32Array(d);let m=1;for(let v=0;v<d;v++)this.expTable[v]=m,m=m*h%d;for(let v=0;v<d-1;v++)this.logTable[this.expTable[v]]=v;this.zero=new ra(this,new Int32Array([0])),this.one=new ra(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(d,h){if(d<0)throw new p;if(h===0)return this.zero;let m=new Int32Array(d+1);return m[0]=h,new ra(this,m)}}b0.PDF417_GF=new b0($r.NUMBER_OF_CODEWORDS,3);class u1{constructor(){this.field=b0.PDF417_GF}decode(d,h,m){let v=new ra(this.field,d),w=new Int32Array(h),S=!1;for(let Xe=h;Xe>0;Xe--){let Qe=v.evaluateAt(this.field.exp(Xe));w[h-Xe]=Qe,Qe!==0&&(S=!0)}if(!S)return 0;let j=this.field.getOne();if(m!=null)for(const Xe of m){let Qe=this.field.exp(d.length-1-Xe),ot=new ra(this.field,new Int32Array([this.field.subtract(0,Qe),1]));j=j.multiply(ot)}let M=new ra(this.field,w),z=this.runEuclideanAlgorithm(this.field.buildMonomial(h,1),M,h),X=z[0],ie=z[1],pe=this.findErrorLocations(X),$e=this.findErrorMagnitudes(ie,X,pe);for(let Xe=0;Xe<pe.length;Xe++){let Qe=d.length-1-this.field.log(pe[Xe]);if(Qe<0)throw x.getChecksumInstance();d[Qe]=this.field.subtract(d[Qe],$e[Xe])}return pe.length}runEuclideanAlgorithm(d,h,m){if(d.getDegree()<h.getDegree()){let pe=d;d=h,h=pe}let v=d,w=h,S=this.field.getZero(),j=this.field.getOne();for(;w.getDegree()>=Math.round(m/2);){let pe=v,$e=S;if(v=w,S=j,v.isZero())throw x.getChecksumInstance();w=pe;let Xe=this.field.getZero(),Qe=v.getCoefficient(v.getDegree()),ot=this.field.inverse(Qe);for(;w.getDegree()>=v.getDegree()&&!w.isZero();){let St=w.getDegree()-v.getDegree(),Ft=this.field.multiply(w.getCoefficient(w.getDegree()),ot);Xe=Xe.add(this.field.buildMonomial(St,Ft)),w=w.subtract(v.multiplyByMonomial(St,Ft))}j=Xe.multiply(S).subtract($e).negative()}let M=j.getCoefficient(0);if(M===0)throw x.getChecksumInstance();let z=this.field.inverse(M),X=j.multiply(z),ie=w.multiply(z);return[X,ie]}findErrorLocations(d){let h=d.getDegree(),m=new Int32Array(h),v=0;for(let w=1;w<this.field.getSize()&&v<h;w++)d.evaluateAt(w)===0&&(m[v]=this.field.inverse(w),v++);if(v!==h)throw x.getChecksumInstance();return m}findErrorMagnitudes(d,h,m){let v=h.getDegree(),w=new Int32Array(v);for(let z=1;z<=v;z++)w[v-z]=this.field.multiply(z,h.getCoefficient(z));let S=new ra(this.field,w),j=m.length,M=new Int32Array(j);for(let z=0;z<j;z++){let X=this.field.inverse(m[z]),ie=this.field.subtract(0,d.evaluateAt(X)),pe=this.field.inverse(S.evaluateAt(X));M[z]=this.field.multiply(ie,pe)}return M}}class Ac{constructor(d,h,m,v,w){d instanceof Ac?this.constructor_2(d):this.constructor_1(d,h,m,v,w)}constructor_1(d,h,m,v,w){const S=h==null||m==null,j=v==null||w==null;if(S&&j)throw new V;S?(h=new ke(0,v.getY()),m=new ke(0,w.getY())):j&&(v=new ke(d.getWidth()-1,h.getY()),w=new ke(d.getWidth()-1,m.getY())),this.image=d,this.topLeft=h,this.bottomLeft=m,this.topRight=v,this.bottomRight=w,this.minX=Math.trunc(Math.min(h.getX(),m.getX())),this.maxX=Math.trunc(Math.max(v.getX(),w.getX())),this.minY=Math.trunc(Math.min(h.getY(),v.getY())),this.maxY=Math.trunc(Math.max(m.getY(),w.getY()))}constructor_2(d){this.image=d.image,this.topLeft=d.getTopLeft(),this.bottomLeft=d.getBottomLeft(),this.topRight=d.getTopRight(),this.bottomRight=d.getBottomRight(),this.minX=d.getMinX(),this.maxX=d.getMaxX(),this.minY=d.getMinY(),this.maxY=d.getMaxY()}static merge(d,h){return d==null?h:h==null?d:new Ac(d.image,d.topLeft,d.bottomLeft,h.topRight,h.bottomRight)}addMissingRows(d,h,m){let v=this.topLeft,w=this.bottomLeft,S=this.topRight,j=this.bottomRight;if(d>0){let M=m?this.topLeft:this.topRight,z=Math.trunc(M.getY()-d);z<0&&(z=0);let X=new ke(M.getX(),z);m?v=X:S=X}if(h>0){let M=m?this.bottomLeft:this.bottomRight,z=Math.trunc(M.getY()+h);z>=this.image.getHeight()&&(z=this.image.getHeight()-1);let X=new ke(M.getX(),z);m?w=X:j=X}return new Ac(this.image,v,w,S,j)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class S0{constructor(d,h,m,v){this.columnCount=d,this.errorCorrectionLevel=v,this.rowCountUpperPart=h,this.rowCountLowerPart=m,this.rowCount=h+m}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ul{constructor(){this.buffer=""}static form(d,h){let m=-1;function v(S,j,M,z,X,ie){if(S==="%%")return"%";if(h[++m]===void 0)return;S=z?parseInt(z.substr(1)):void 0;let pe=X?parseInt(X.substr(1)):void 0,$e;switch(ie){case"s":$e=h[m];break;case"c":$e=h[m][0];break;case"f":$e=parseFloat(h[m]).toFixed(S);break;case"p":$e=parseFloat(h[m]).toPrecision(S);break;case"e":$e=parseFloat(h[m]).toExponential(S);break;case"x":$e=parseInt(h[m]).toString(pe||16);break;case"d":$e=parseFloat(parseInt(h[m],pe||10).toPrecision(S)).toFixed(0);break}$e=typeof $e=="object"?JSON.stringify($e):(+$e).toString(pe);let Xe=parseInt(M),Qe=M&&M[0]+""=="0"?"0":" ";for(;$e.length<Xe;)$e=j!==void 0?$e+Qe:Qe+$e;return $e}let w=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return d.replace(w,v)}format(d,...h){this.buffer+=ul.form(d,h)}toString(){return this.buffer}}class Ro{constructor(d){this.boundingBox=new Ac(d),this.codewords=new Array(d.getMaxY()-d.getMinY()+1)}getCodewordNearby(d){let h=this.getCodeword(d);if(h!=null)return h;for(let m=1;m<Ro.MAX_NEARBY_DISTANCE;m++){let v=this.imageRowToCodewordIndex(d)-m;if(v>=0&&(h=this.codewords[v],h!=null)||(v=this.imageRowToCodewordIndex(d)+m,v<this.codewords.length&&(h=this.codewords[v],h!=null)))return h}return null}imageRowToCodewordIndex(d){return d-this.boundingBox.getMinY()}setCodeword(d,h){this.codewords[this.imageRowToCodewordIndex(d)]=h}getCodeword(d){return this.codewords[this.imageRowToCodewordIndex(d)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const d=new ul;let h=0;for(const m of this.codewords){if(m==null){d.format("%3d:    |   %n",h++);continue}d.format("%3d: %3d|%3d%n",h++,m.getRowNumber(),m.getValue())}return d.toString()}}Ro.MAX_NEARBY_DISTANCE=5;class xd{constructor(){this.values=new Map}setValue(d){d=Math.trunc(d);let h=this.values.get(d);h==null&&(h=0),h++,this.values.set(d,h)}getValue(){let d=-1,h=new Array;for(const[m,v]of this.values.entries()){const w={getKey:()=>m,getValue:()=>v};w.getValue()>d?(d=w.getValue(),h=[],h.push(w.getKey())):w.getValue()===d&&h.push(w.getKey())}return $r.toIntArray(h)}getConfidence(d){return this.values.get(d)}}class yu extends Ro{constructor(d,h){super(d),this._isLeft=h}setRowNumbers(){for(let d of this.getCodewords())d!=null&&d.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(d){let h=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(h,d);let m=this.getBoundingBox(),v=this._isLeft?m.getTopLeft():m.getTopRight(),w=this._isLeft?m.getBottomLeft():m.getBottomRight(),S=this.imageRowToCodewordIndex(Math.trunc(v.getY())),j=this.imageRowToCodewordIndex(Math.trunc(w.getY())),M=-1,z=1,X=0;for(let ie=S;ie<j;ie++){if(h[ie]==null)continue;let pe=h[ie],$e=pe.getRowNumber()-M;if($e===0)X++;else if($e===1)z=Math.max(z,X),X=1,M=pe.getRowNumber();else if($e<0||pe.getRowNumber()>=d.getRowCount()||$e>ie)h[ie]=null;else{let Xe;z>2?Xe=(z-2)*$e:Xe=$e;let Qe=Xe>=ie;for(let ot=1;ot<=Xe&&!Qe;ot++)Qe=h[ie-ot]!=null;Qe?h[ie]=null:(M=pe.getRowNumber(),X=1)}}}getRowHeights(){let d=this.getBarcodeMetadata();if(d==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(d);let h=new Int32Array(d.getRowCount());for(let m of this.getCodewords())if(m!=null){let v=m.getRowNumber();if(v>=h.length)continue;h[v]++}return h}adjustIncompleteIndicatorColumnRowNumbers(d){let h=this.getBoundingBox(),m=this._isLeft?h.getTopLeft():h.getTopRight(),v=this._isLeft?h.getBottomLeft():h.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(m.getY())),S=this.imageRowToCodewordIndex(Math.trunc(v.getY())),j=this.getCodewords(),M=-1;for(let z=w;z<S;z++){if(j[z]==null)continue;let X=j[z];X.setRowNumberAsRowIndicatorColumn();let ie=X.getRowNumber()-M;ie===0||(ie===1?M=X.getRowNumber():X.getRowNumber()>=d.getRowCount()?j[z]=null:M=X.getRowNumber())}}getBarcodeMetadata(){let d=this.getCodewords(),h=new xd,m=new xd,v=new xd,w=new xd;for(let j of d){if(j==null)continue;j.setRowNumberAsRowIndicatorColumn();let M=j.getValue()%30,z=j.getRowNumber();switch(this._isLeft||(z+=2),z%3){case 0:m.setValue(M*3+1);break;case 1:w.setValue(M/3),v.setValue(M%3);break;case 2:h.setValue(M+1);break}}if(h.getValue().length===0||m.getValue().length===0||v.getValue().length===0||w.getValue().length===0||h.getValue()[0]<1||m.getValue()[0]+v.getValue()[0]<$r.MIN_ROWS_IN_BARCODE||m.getValue()[0]+v.getValue()[0]>$r.MAX_ROWS_IN_BARCODE)return null;let S=new S0(h.getValue()[0],m.getValue()[0],v.getValue()[0],w.getValue()[0]);return this.removeIncorrectCodewords(d,S),S}removeIncorrectCodewords(d,h){for(let m=0;m<d.length;m++){let v=d[m];if(d[m]==null)continue;let w=v.getValue()%30,S=v.getRowNumber();if(S>h.getRowCount()){d[m]=null;continue}switch(this._isLeft||(S+=2),S%3){case 0:w*3+1!==h.getRowCountUpperPart()&&(d[m]=null);break;case 1:(Math.trunc(w/3)!==h.getErrorCorrectionLevel()||w%3!==h.getRowCountLowerPart())&&(d[m]=null);break;case 2:w+1!==h.getColumnCount()&&(d[m]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Cc{constructor(d,h){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=d,this.barcodeColumnCount=d.getColumnCount(),this.boundingBox=h,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let d=$r.MAX_CODEWORDS_IN_BARCODE,h;do h=d,d=this.adjustRowNumbersAndGetCount();while(d>0&&d<h);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(d){d!=null&&d.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let d=this.adjustRowNumbersByRow();if(d===0)return 0;for(let h=1;h<this.barcodeColumnCount+1;h++){let m=this.detectionResultColumns[h].getCodewords();for(let v=0;v<m.length;v++)m[v]!=null&&(m[v].hasValidRowNumber()||this.adjustRowNumbers(h,v,m))}return d}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let d=this.detectionResultColumns[0].getCodewords(),h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let m=0;m<d.length;m++)if(d[m]!=null&&h[m]!=null&&d[m].getRowNumber()===h[m].getRowNumber())for(let v=1;v<=this.barcodeColumnCount;v++){let w=this.detectionResultColumns[v].getCodewords()[m];w!=null&&(w.setRowNumber(d[m].getRowNumber()),w.hasValidRowNumber()||(this.detectionResultColumns[v].getCodewords()[m]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let d=0,h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let m=0;m<h.length;m++){if(h[m]==null)continue;let v=h[m].getRowNumber(),w=0;for(let S=this.barcodeColumnCount+1;S>0&&w<this.ADJUST_ROW_NUMBER_SKIP;S--){let j=this.detectionResultColumns[S].getCodewords()[m];j!=null&&(w=Cc.adjustRowNumberIfValid(v,w,j),j.hasValidRowNumber()||d++)}}return d}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let d=0,h=this.detectionResultColumns[0].getCodewords();for(let m=0;m<h.length;m++){if(h[m]==null)continue;let v=h[m].getRowNumber(),w=0;for(let S=1;S<this.barcodeColumnCount+1&&w<this.ADJUST_ROW_NUMBER_SKIP;S++){let j=this.detectionResultColumns[S].getCodewords()[m];j!=null&&(w=Cc.adjustRowNumberIfValid(v,w,j),j.hasValidRowNumber()||d++)}}return d}static adjustRowNumberIfValid(d,h,m){return m==null||m.hasValidRowNumber()||(m.isValidRowNumber(d)?(m.setRowNumber(d),h=0):++h),h}adjustRowNumbers(d,h,m){if(!this.detectionResultColumns[d-1])return;let v=m[h],w=this.detectionResultColumns[d-1].getCodewords(),S=w;this.detectionResultColumns[d+1]!=null&&(S=this.detectionResultColumns[d+1].getCodewords());let j=new Array(14);j[2]=w[h],j[3]=S[h],h>0&&(j[0]=m[h-1],j[4]=w[h-1],j[5]=S[h-1]),h>1&&(j[8]=m[h-2],j[10]=w[h-2],j[11]=S[h-2]),h<m.length-1&&(j[1]=m[h+1],j[6]=w[h+1],j[7]=S[h+1]),h<m.length-2&&(j[9]=m[h+2],j[12]=w[h+2],j[13]=S[h+2]);for(let M of j)if(Cc.adjustRowNumber(v,M))return}static adjustRowNumber(d,h){return h==null?!1:h.hasValidRowNumber()&&h.getBucket()===d.getBucket()?(d.setRowNumber(h.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(d){this.boundingBox=d}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(d,h){this.detectionResultColumns[d]=h}getDetectionResultColumn(d){return this.detectionResultColumns[d]}toString(){let d=this.detectionResultColumns[0];d==null&&(d=this.detectionResultColumns[this.barcodeColumnCount+1]);let h=new ul;for(let m=0;m<d.getCodewords().length;m++){h.format("CW %3d:",m);for(let v=0;v<this.barcodeColumnCount+2;v++){if(this.detectionResultColumns[v]==null){h.format("    |   ");continue}let w=this.detectionResultColumns[v].getCodewords()[m];if(w==null){h.format("    |   ");continue}h.format(" %3d|%3d",w.getRowNumber(),w.getValue())}h.format("%n")}return h.toString()}}class Wl{constructor(d,h,m,v){this.rowNumber=Wl.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(d),this.endX=Math.trunc(h),this.bucket=Math.trunc(m),this.value=Math.trunc(v)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(d){return d!==Wl.BARCODE_ROW_UNKNOWN&&this.bucket===d%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(d){this.rowNumber=d}toString(){return this.rowNumber+"|"+this.value}}Wl.BARCODE_ROW_UNKNOWN=-1;class ns{static initialize(){for(let d=0;d<$r.SYMBOL_TABLE.length;d++){let h=$r.SYMBOL_TABLE[d],m=h&1;for(let v=0;v<$r.BARS_IN_MODULE;v++){let w=0;for(;(h&1)===m;)w+=1,h>>=1;m=h&1,ns.RATIOS_TABLE[d]||(ns.RATIOS_TABLE[d]=new Array($r.BARS_IN_MODULE)),ns.RATIOS_TABLE[d][$r.BARS_IN_MODULE-v-1]=Math.fround(w/$r.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(d){let h=ns.getDecodedCodewordValue(ns.sampleBitCounts(d));return h!==-1?h:ns.getClosestDecodedValue(d)}static sampleBitCounts(d){let h=Ce.sum(d),m=new Int32Array($r.BARS_IN_MODULE),v=0,w=0;for(let S=0;S<$r.MODULES_IN_CODEWORD;S++){let j=h/(2*$r.MODULES_IN_CODEWORD)+S*h/$r.MODULES_IN_CODEWORD;w+d[v]<=j&&(w+=d[v],v++),m[v]++}return m}static getDecodedCodewordValue(d){let h=ns.getBitValue(d);return $r.getCodeword(h)===-1?-1:h}static getBitValue(d){let h=0;for(let m=0;m<d.length;m++)for(let v=0;v<d[m];v++)h=h<<1|(m%2===0?1:0);return Math.trunc(h)}static getClosestDecodedValue(d){let h=Ce.sum(d),m=new Array($r.BARS_IN_MODULE);if(h>1)for(let S=0;S<m.length;S++)m[S]=Math.fround(d[S]/h);let v=fe.MAX_VALUE,w=-1;this.bSymbolTableReady||ns.initialize();for(let S=0;S<ns.RATIOS_TABLE.length;S++){let j=0,M=ns.RATIOS_TABLE[S];for(let z=0;z<$r.BARS_IN_MODULE;z++){let X=Math.fround(M[z]-m[z]);if(j+=Math.fround(X*X),j>=v)break}j<v&&(v=j,w=$r.SYMBOL_TABLE[S])}return w}}ns.bSymbolTableReady=!1,ns.RATIOS_TABLE=new Array($r.SYMBOL_TABLE.length).map(ae=>new Array($r.BARS_IN_MODULE));class _0{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(d){this.segmentIndex=d}getFileId(){return this.fileId}setFileId(d){this.fileId=d}getOptionalData(){return this.optionalData}setOptionalData(d){this.optionalData=d}isLastSegment(){return this.lastSegment}setLastSegment(d){this.lastSegment=d}getSegmentCount(){return this.segmentCount}setSegmentCount(d){this.segmentCount=d}getSender(){return this.sender||null}setSender(d){this.sender=d}getAddressee(){return this.addressee||null}setAddressee(d){this.addressee=d}getFileName(){return this.fileName}setFileName(d){this.fileName=d}getFileSize(){return this.fileSize}setFileSize(d){this.fileSize=d}getChecksum(){return this.checksum}setChecksum(d){this.checksum=d}getTimestamp(){return this.timestamp}setTimestamp(d){this.timestamp=d}}class N0{static parseLong(d,h=void 0){return parseInt(d,h)}}class E0 extends u{}E0.kind="NullPointerException";class Hl{writeBytes(d){this.writeBytesOffset(d,0,d.length)}writeBytesOffset(d,h,m){if(d==null)throw new E0;if(h<0||h>d.length||m<0||h+m>d.length||h+m<0)throw new _;if(m===0)return;for(let v=0;v<m;v++)this.write(d[h+v])}flush(){}close(){}}class jc extends u{}class vx extends Hl{constructor(d=32){if(super(),this.count=0,d<0)throw new p("Negative initial size: "+d);this.buf=new Uint8Array(d)}ensureCapacity(d){d-this.buf.length>0&&this.grow(d)}grow(d){let m=this.buf.length<<1;if(m-d<0&&(m=d),m<0){if(d<0)throw new jc;m=C.MAX_VALUE}this.buf=E.copyOfUint8Array(this.buf,m)}write(d){this.ensureCapacity(this.count+1),this.buf[this.count]=d,this.count+=1}writeBytesOffset(d,h,m){if(h<0||h>d.length||m<0||h+m-d.length>0)throw new _;this.ensureCapacity(this.count+m),y.arraycopy(d,h,this.buf,this.count,m),this.count+=m}writeTo(d){d.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return E.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(d){return d?typeof d=="string"?this.toString_string(d):this.toString_number(d):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(d){return new String(this.buf).toString()}toString_number(d){return new String(this.buf).toString()}close(){}}var Rn;(function(ae){ae[ae.ALPHA=0]="ALPHA",ae[ae.LOWER=1]="LOWER",ae[ae.MIXED=2]="MIXED",ae[ae.PUNCT=3]="PUNCT",ae[ae.ALPHA_SHIFT=4]="ALPHA_SHIFT",ae[ae.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Rn||(Rn={}));function Fo(){if(typeof window<"u")return window.BigInt||null;if(typeof Dd<"u")return Dd.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let wu;function Xs(ae){if(typeof wu>"u"&&(wu=Fo()),wu===null)throw new Error("BigInt is not supported!");return wu(ae)}function yx(){let ae=[];ae[0]=Xs(1);let d=Xs(900);ae[1]=d;for(let h=2;h<16;h++)ae[h]=ae[h-1]*d;return ae}class bt{static decode(d,h){let m=new q(""),v=B.ISO8859_1;m.enableDecoding(v);let w=1,S=d[w++],j=new _0;for(;w<d[0];){switch(S){case bt.TEXT_COMPACTION_MODE_LATCH:w=bt.textCompaction(d,w,m);break;case bt.BYTE_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:w=bt.byteCompaction(S,d,v,w,m);break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(d[w++]);break;case bt.NUMERIC_COMPACTION_MODE_LATCH:w=bt.numericCompaction(d,w,m);break;case bt.ECI_CHARSET:B.getCharacterSetECIByValue(d[w++]);break;case bt.ECI_GENERAL_PURPOSE:w+=2;break;case bt.ECI_USER_DEFINED:w++;break;case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:w=bt.decodeMacroBlock(d,w,j);break;case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:throw new k;default:w--,w=bt.textCompaction(d,w,m);break}if(w<d.length)S=d[w++];else throw k.getFormatInstance()}if(m.length()===0)throw k.getFormatInstance();let M=new ve(null,m.toString(),null,h);return M.setOther(j),M}static decodeMacroBlock(d,h,m){if(h+bt.NUMBER_OF_SEQUENCE_CODEWORDS>d[0])throw k.getFormatInstance();let v=new Int32Array(bt.NUMBER_OF_SEQUENCE_CODEWORDS);for(let j=0;j<bt.NUMBER_OF_SEQUENCE_CODEWORDS;j++,h++)v[j]=d[h];m.setSegmentIndex(C.parseInt(bt.decodeBase900toBase10(v,bt.NUMBER_OF_SEQUENCE_CODEWORDS)));let w=new q;h=bt.textCompaction(d,h,w),m.setFileId(w.toString());let S=-1;for(d[h]===bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(S=h+1);h<d[0];)switch(d[h]){case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(h++,d[h]){case bt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let j=new q;h=bt.textCompaction(d,h+1,j),m.setFileName(j.toString());break;case bt.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let M=new q;h=bt.textCompaction(d,h+1,M),m.setSender(M.toString());break;case bt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let z=new q;h=bt.textCompaction(d,h+1,z),m.setAddressee(z.toString());break;case bt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let X=new q;h=bt.numericCompaction(d,h+1,X),m.setSegmentCount(C.parseInt(X.toString()));break;case bt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let ie=new q;h=bt.numericCompaction(d,h+1,ie),m.setTimestamp(N0.parseLong(ie.toString()));break;case bt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let pe=new q;h=bt.numericCompaction(d,h+1,pe),m.setChecksum(C.parseInt(pe.toString()));break;case bt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let $e=new q;h=bt.numericCompaction(d,h+1,$e),m.setFileSize(N0.parseLong($e.toString()));break;default:throw k.getFormatInstance()}break;case bt.MACRO_PDF417_TERMINATOR:h++,m.setLastSegment(!0);break;default:throw k.getFormatInstance()}if(S!==-1){let j=h-S;m.isLastSegment()&&j--,m.setOptionalData(E.copyOfRange(d,S,S+j))}return h}static textCompaction(d,h,m){let v=new Int32Array((d[0]-h)*2),w=new Int32Array((d[0]-h)*2),S=0,j=!1;for(;h<d[0]&&!j;){let M=d[h++];if(M<bt.TEXT_COMPACTION_MODE_LATCH)v[S]=M/30,v[S+1]=M%30,S+=2;else switch(M){case bt.TEXT_COMPACTION_MODE_LATCH:v[S++]=bt.TEXT_COMPACTION_MODE_LATCH;break;case bt.BYTE_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:case bt.NUMERIC_COMPACTION_MODE_LATCH:case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:h--,j=!0;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v[S]=bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,M=d[h++],w[S]=M,S++;break}}return bt.decodeTextCompaction(v,w,S,m),h}static decodeTextCompaction(d,h,m,v){let w=Rn.ALPHA,S=Rn.ALPHA,j=0;for(;j<m;){let M=d[j],z="";switch(w){case Rn.ALPHA:if(M<26)z=String.fromCharCode(65+M);else switch(M){case 26:z=" ";break;case bt.LL:w=Rn.LOWER;break;case bt.ML:w=Rn.MIXED;break;case bt.PS:S=w,w=Rn.PUNCT_SHIFT;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[j]);break;case bt.TEXT_COMPACTION_MODE_LATCH:w=Rn.ALPHA;break}break;case Rn.LOWER:if(M<26)z=String.fromCharCode(97+M);else switch(M){case 26:z=" ";break;case bt.AS:S=w,w=Rn.ALPHA_SHIFT;break;case bt.ML:w=Rn.MIXED;break;case bt.PS:S=w,w=Rn.PUNCT_SHIFT;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[j]);break;case bt.TEXT_COMPACTION_MODE_LATCH:w=Rn.ALPHA;break}break;case Rn.MIXED:if(M<bt.PL)z=bt.MIXED_CHARS[M];else switch(M){case bt.PL:w=Rn.PUNCT;break;case 26:z=" ";break;case bt.LL:w=Rn.LOWER;break;case bt.AL:w=Rn.ALPHA;break;case bt.PS:S=w,w=Rn.PUNCT_SHIFT;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[j]);break;case bt.TEXT_COMPACTION_MODE_LATCH:w=Rn.ALPHA;break}break;case Rn.PUNCT:if(M<bt.PAL)z=bt.PUNCT_CHARS[M];else switch(M){case bt.PAL:w=Rn.ALPHA;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[j]);break;case bt.TEXT_COMPACTION_MODE_LATCH:w=Rn.ALPHA;break}break;case Rn.ALPHA_SHIFT:if(w=S,M<26)z=String.fromCharCode(65+M);else switch(M){case 26:z=" ";break;case bt.TEXT_COMPACTION_MODE_LATCH:w=Rn.ALPHA;break}break;case Rn.PUNCT_SHIFT:if(w=S,M<bt.PAL)z=bt.PUNCT_CHARS[M];else switch(M){case bt.PAL:w=Rn.ALPHA;break;case bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:v.append(h[j]);break;case bt.TEXT_COMPACTION_MODE_LATCH:w=Rn.ALPHA;break}break}z!==""&&v.append(z),j++}}static byteCompaction(d,h,m,v,w){let S=new vx,j=0,M=0,z=!1;switch(d){case bt.BYTE_COMPACTION_MODE_LATCH:let X=new Int32Array(6),ie=h[v++];for(;v<h[0]&&!z;)switch(X[j++]=ie,M=900*M+ie,ie=h[v++],ie){case bt.TEXT_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH:case bt.NUMERIC_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:v--,z=!0;break;default:if(j%5===0&&j>0){for(let pe=0;pe<6;++pe)S.write(Number(Xs(M)>>Xs(8*(5-pe))));M=0,j=0}break}v===h[0]&&ie<bt.TEXT_COMPACTION_MODE_LATCH&&(X[j++]=ie);for(let pe=0;pe<j;pe++)S.write(X[pe]);break;case bt.BYTE_COMPACTION_MODE_LATCH_6:for(;v<h[0]&&!z;){let pe=h[v++];if(pe<bt.TEXT_COMPACTION_MODE_LATCH)j++,M=900*M+pe;else switch(pe){case bt.TEXT_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH:case bt.NUMERIC_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:v--,z=!0;break}if(j%5===0&&j>0){for(let $e=0;$e<6;++$e)S.write(Number(Xs(M)>>Xs(8*(5-$e))));M=0,j=0}}break}return w.append(F.decode(S.toByteArray(),m)),v}static numericCompaction(d,h,m){let v=0,w=!1,S=new Int32Array(bt.MAX_NUMERIC_CODEWORDS);for(;h<d[0]&&!w;){let j=d[h++];if(h===d[0]&&(w=!0),j<bt.TEXT_COMPACTION_MODE_LATCH)S[v]=j,v++;else switch(j){case bt.TEXT_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH:case bt.BYTE_COMPACTION_MODE_LATCH_6:case bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case bt.MACRO_PDF417_TERMINATOR:h--,w=!0;break}(v%bt.MAX_NUMERIC_CODEWORDS===0||j===bt.NUMERIC_COMPACTION_MODE_LATCH||w)&&v>0&&(m.append(bt.decodeBase900toBase10(S,v)),v=0)}return h}static decodeBase900toBase10(d,h){let m=Xs(0);for(let w=0;w<h;w++)m+=bt.EXP900[h-w-1]*Xs(d[w]);let v=m.toString();if(v.charAt(0)!=="1")throw new k;return v.substring(1)}}bt.TEXT_COMPACTION_MODE_LATCH=900,bt.BYTE_COMPACTION_MODE_LATCH=901,bt.NUMERIC_COMPACTION_MODE_LATCH=902,bt.BYTE_COMPACTION_MODE_LATCH_6=924,bt.ECI_USER_DEFINED=925,bt.ECI_GENERAL_PURPOSE=926,bt.ECI_CHARSET=927,bt.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,bt.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,bt.MACRO_PDF417_TERMINATOR=922,bt.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,bt.MAX_NUMERIC_CODEWORDS=15,bt.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,bt.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,bt.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,bt.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,bt.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,bt.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,bt.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,bt.PL=25,bt.LL=27,bt.AS=27,bt.ML=28,bt.AL=28,bt.PS=29,bt.PAL=29,bt.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,bt.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",bt.EXP900=Fo()?yx():[],bt.NUMBER_OF_SEQUENCE_CODEWORDS=2;class bn{constructor(){}static decode(d,h,m,v,w,S,j){let M=new Ac(d,h,m,v,w),z=null,X=null,ie;for(let Xe=!0;;Xe=!1){if(h!=null&&(z=bn.getRowIndicatorColumn(d,M,h,!0,S,j)),v!=null&&(X=bn.getRowIndicatorColumn(d,M,v,!1,S,j)),ie=bn.merge(z,X),ie==null)throw V.getNotFoundInstance();let Qe=ie.getBoundingBox();if(Xe&&Qe!=null&&(Qe.getMinY()<M.getMinY()||Qe.getMaxY()>M.getMaxY()))M=Qe;else break}ie.setBoundingBox(M);let pe=ie.getBarcodeColumnCount()+1;ie.setDetectionResultColumn(0,z),ie.setDetectionResultColumn(pe,X);let $e=z!=null;for(let Xe=1;Xe<=pe;Xe++){let Qe=$e?Xe:pe-Xe;if(ie.getDetectionResultColumn(Qe)!==void 0)continue;let ot;Qe===0||Qe===pe?ot=new yu(M,Qe===0):ot=new Ro(M),ie.setDetectionResultColumn(Qe,ot);let St=-1,Ft=St;for(let Wt=M.getMinY();Wt<=M.getMaxY();Wt++){if(St=bn.getStartColumn(ie,Qe,Wt,$e),St<0||St>M.getMaxX()){if(Ft===-1)continue;St=Ft}let $t=bn.detectCodeword(d,M.getMinX(),M.getMaxX(),$e,St,Wt,S,j);$t!=null&&(ot.setCodeword(Wt,$t),Ft=St,S=Math.min(S,$t.getWidth()),j=Math.max(j,$t.getWidth()))}}return bn.createDecoderResult(ie)}static merge(d,h){if(d==null&&h==null)return null;let m=bn.getBarcodeMetadata(d,h);if(m==null)return null;let v=Ac.merge(bn.adjustBoundingBox(d),bn.adjustBoundingBox(h));return new Cc(m,v)}static adjustBoundingBox(d){if(d==null)return null;let h=d.getRowHeights();if(h==null)return null;let m=bn.getMax(h),v=0;for(let j of h)if(v+=m-j,j>0)break;let w=d.getCodewords();for(let j=0;v>0&&w[j]==null;j++)v--;let S=0;for(let j=h.length-1;j>=0&&(S+=m-h[j],!(h[j]>0));j--);for(let j=w.length-1;S>0&&w[j]==null;j--)S--;return d.getBoundingBox().addMissingRows(v,S,d.isLeft())}static getMax(d){let h=-1;for(let m of d)h=Math.max(h,m);return h}static getBarcodeMetadata(d,h){let m;if(d==null||(m=d.getBarcodeMetadata())==null)return h==null?null:h.getBarcodeMetadata();let v;return h==null||(v=h.getBarcodeMetadata())==null?m:m.getColumnCount()!==v.getColumnCount()&&m.getErrorCorrectionLevel()!==v.getErrorCorrectionLevel()&&m.getRowCount()!==v.getRowCount()?null:m}static getRowIndicatorColumn(d,h,m,v,w,S){let j=new yu(h,v);for(let M=0;M<2;M++){let z=M===0?1:-1,X=Math.trunc(Math.trunc(m.getX()));for(let ie=Math.trunc(Math.trunc(m.getY()));ie<=h.getMaxY()&&ie>=h.getMinY();ie+=z){let pe=bn.detectCodeword(d,0,d.getWidth(),v,X,ie,w,S);pe!=null&&(j.setCodeword(ie,pe),v?X=pe.getStartX():X=pe.getEndX())}}return j}static adjustCodewordCount(d,h){let m=h[0][1],v=m.getValue(),w=d.getBarcodeColumnCount()*d.getBarcodeRowCount()-bn.getNumberOfECCodeWords(d.getBarcodeECLevel());if(v.length===0){if(w<1||w>$r.MAX_CODEWORDS_IN_BARCODE)throw V.getNotFoundInstance();m.setValue(w)}else v[0]!==w&&m.setValue(w)}static createDecoderResult(d){let h=bn.createBarcodeMatrix(d);bn.adjustCodewordCount(d,h);let m=new Array,v=new Int32Array(d.getBarcodeRowCount()*d.getBarcodeColumnCount()),w=[],S=new Array;for(let M=0;M<d.getBarcodeRowCount();M++)for(let z=0;z<d.getBarcodeColumnCount();z++){let X=h[M][z+1].getValue(),ie=M*d.getBarcodeColumnCount()+z;X.length===0?m.push(ie):X.length===1?v[ie]=X[0]:(S.push(ie),w.push(X))}let j=new Array(w.length);for(let M=0;M<j.length;M++)j[M]=w[M];return bn.createDecoderResultFromAmbiguousValues(d.getBarcodeECLevel(),v,$r.toIntArray(m),$r.toIntArray(S),j)}static createDecoderResultFromAmbiguousValues(d,h,m,v,w){let S=new Int32Array(v.length),j=100;for(;j-- >0;){for(let M=0;M<S.length;M++)h[v[M]]=w[M][S[M]];try{return bn.decodeCodewords(h,d,m)}catch(M){if(!(M instanceof x))throw M}if(S.length===0)throw x.getChecksumInstance();for(let M=0;M<S.length;M++)if(S[M]<w[M].length-1){S[M]++;break}else if(S[M]=0,M===S.length-1)throw x.getChecksumInstance()}throw x.getChecksumInstance()}static createBarcodeMatrix(d){let h=Array.from({length:d.getBarcodeRowCount()},()=>new Array(d.getBarcodeColumnCount()+2));for(let v=0;v<h.length;v++)for(let w=0;w<h[v].length;w++)h[v][w]=new xd;let m=0;for(let v of d.getDetectionResultColumns()){if(v!=null){for(let w of v.getCodewords())if(w!=null){let S=w.getRowNumber();if(S>=0){if(S>=h.length)continue;h[S][m].setValue(w.getValue())}}}m++}return h}static isValidBarcodeColumn(d,h){return h>=0&&h<=d.getBarcodeColumnCount()+1}static getStartColumn(d,h,m,v){let w=v?1:-1,S=null;if(bn.isValidBarcodeColumn(d,h-w)&&(S=d.getDetectionResultColumn(h-w).getCodeword(m)),S!=null)return v?S.getEndX():S.getStartX();if(S=d.getDetectionResultColumn(h).getCodewordNearby(m),S!=null)return v?S.getStartX():S.getEndX();if(bn.isValidBarcodeColumn(d,h-w)&&(S=d.getDetectionResultColumn(h-w).getCodewordNearby(m)),S!=null)return v?S.getEndX():S.getStartX();let j=0;for(;bn.isValidBarcodeColumn(d,h-w);){h-=w;for(let M of d.getDetectionResultColumn(h).getCodewords())if(M!=null)return(v?M.getEndX():M.getStartX())+w*j*(M.getEndX()-M.getStartX());j++}return v?d.getBoundingBox().getMinX():d.getBoundingBox().getMaxX()}static detectCodeword(d,h,m,v,w,S,j,M){w=bn.adjustCodewordStartColumn(d,h,m,v,w,S);let z=bn.getModuleBitCount(d,h,m,v,w,S);if(z==null)return null;let X,ie=Ce.sum(z);if(v)X=w+ie;else{for(let Xe=0;Xe<z.length/2;Xe++){let Qe=z[Xe];z[Xe]=z[z.length-1-Xe],z[z.length-1-Xe]=Qe}X=w,w=X-ie}if(!bn.checkCodewordSkew(ie,j,M))return null;let pe=ns.getDecodedValue(z),$e=$r.getCodeword(pe);return $e===-1?null:new Wl(w,X,bn.getCodewordBucketNumber(pe),$e)}static getModuleBitCount(d,h,m,v,w,S){let j=w,M=new Int32Array(8),z=0,X=v?1:-1,ie=v;for(;(v?j<m:j>=h)&&z<M.length;)d.get(j,S)===ie?(M[z]++,j+=X):(z++,ie=!ie);return z===M.length||j===(v?m:h)&&z===M.length-1?M:null}static getNumberOfECCodeWords(d){return 2<<d}static adjustCodewordStartColumn(d,h,m,v,w,S){let j=w,M=v?-1:1;for(let z=0;z<2;z++){for(;(v?j>=h:j<m)&&v===d.get(j,S);){if(Math.abs(w-j)>bn.CODEWORD_SKEW_SIZE)return w;j+=M}M=-M,v=!v}return j}static checkCodewordSkew(d,h,m){return h-bn.CODEWORD_SKEW_SIZE<=d&&d<=m+bn.CODEWORD_SKEW_SIZE}static decodeCodewords(d,h,m){if(d.length===0)throw k.getFormatInstance();let v=1<<h+1,w=bn.correctErrors(d,m,v);bn.verifyCodewordCount(d,v);let S=bt.decode(d,""+h);return S.setErrorsCorrected(w),S.setErasures(m.length),S}static correctErrors(d,h,m){if(h!=null&&h.length>m/2+bn.MAX_ERRORS||m<0||m>bn.MAX_EC_CODEWORDS)throw x.getChecksumInstance();return bn.errorCorrection.decode(d,m,h)}static verifyCodewordCount(d,h){if(d.length<4)throw k.getFormatInstance();let m=d[0];if(m>d.length)throw k.getFormatInstance();if(m===0)if(h<d.length)d[0]=d.length-h;else throw k.getFormatInstance()}static getBitCountForCodeword(d){let h=new Int32Array(8),m=0,v=h.length-1;for(;!((d&1)!==m&&(m=d&1,v--,v<0));)h[v]++,d>>=1;return h}static getCodewordBucketNumber(d){return d instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(d):this.getCodewordBucketNumber_number(d)}static getCodewordBucketNumber_number(d){return bn.getCodewordBucketNumber(bn.getBitCountForCodeword(d))}static getCodewordBucketNumber_Int32Array(d){return(d[0]-d[2]+d[4]-d[6]+9)%9}static toString(d){let h=new ul;for(let m=0;m<d.length;m++){h.format("Row %2d: ",m);for(let v=0;v<d[m].length;v++){let w=d[m][v];w.getValue().length===0?h.format("        ",null):h.format("%4d(%2d)",w.getValue()[0],w.getConfidence(w.getValue()[0]))}h.format("%n")}return h.toString()}}bn.CODEWORD_SKEW_SIZE=2,bn.MAX_ERRORS=3,bn.MAX_EC_CODEWORDS=512,bn.errorCorrection=new u1;class ma{decode(d,h=null){let m=ma.decode(d,h,!1);if(m==null||m.length===0||m[0]==null)throw V.getNotFoundInstance();return m[0]}decodeMultiple(d,h=null){try{return ma.decode(d,h,!0)}catch(m){throw m instanceof k||m instanceof x?V.getNotFoundInstance():m}}static decode(d,h,m){const v=new Array,w=vn.detectMultiple(d,h,m);for(const S of w.getPoints()){const j=bn.decode(w.getBits(),S[4],S[5],S[6],S[7],ma.getMinCodewordWidth(S),ma.getMaxCodewordWidth(S)),M=new Z(j.getText(),j.getRawBytes(),void 0,S,le.PDF_417);M.putMetadata(Ae.ERROR_CORRECTION_LEVEL,j.getECLevel());const z=j.getOther();z!=null&&M.putMetadata(Ae.PDF417_EXTRA_METADATA,z),v.push(M)}return v.map(S=>S)}static getMaxWidth(d,h){return d==null||h==null?0:Math.trunc(Math.abs(d.getX()-h.getX()))}static getMinWidth(d,h){return d==null||h==null?C.MAX_VALUE:Math.trunc(Math.abs(d.getX()-h.getX()))}static getMaxCodewordWidth(d){return Math.floor(Math.max(Math.max(ma.getMaxWidth(d[0],d[4]),ma.getMaxWidth(d[6],d[2])*$r.MODULES_IN_CODEWORD/$r.MODULES_IN_STOP_PATTERN),Math.max(ma.getMaxWidth(d[1],d[5]),ma.getMaxWidth(d[7],d[3])*$r.MODULES_IN_CODEWORD/$r.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(d){return Math.floor(Math.min(Math.min(ma.getMinWidth(d[0],d[4]),ma.getMinWidth(d[6],d[2])*$r.MODULES_IN_CODEWORD/$r.MODULES_IN_STOP_PATTERN),Math.min(ma.getMinWidth(d[1],d[5]),ma.getMinWidth(d[7],d[3])*$r.MODULES_IN_CODEWORD/$r.MODULES_IN_STOP_PATTERN)))}reset(){}}class bu extends u{}bu.kind="ReaderException";class A0{constructor(d,h){this.verbose=d===!0,h&&this.setHints(h)}decode(d,h){return h&&this.setHints(h),this.decodeInternal(d)}decodeWithState(d){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(d)}setHints(d){this.hints=d;const h=!n(d)&&d.get(D.TRY_HARDER)===!0,m=n(d)?null:d.get(D.POSSIBLE_FORMATS),v=new Array;if(!n(m)){const w=m.some(S=>S===le.UPC_A||S===le.UPC_E||S===le.EAN_13||S===le.EAN_8||S===le.CODABAR||S===le.CODE_39||S===le.CODE_93||S===le.CODE_128||S===le.ITF||S===le.RSS_14||S===le.RSS_EXPANDED);w&&!h&&v.push(new ji(d,this.verbose)),m.includes(le.QR_CODE)&&v.push(new Vl),m.includes(le.DATA_MATRIX)&&v.push(new Ya),m.includes(le.AZTEC)&&v.push(new dt),m.includes(le.PDF_417)&&v.push(new ma),w&&h&&v.push(new ji(d,this.verbose))}v.length===0&&(h||v.push(new ji(d,this.verbose)),v.push(new Vl),v.push(new Ya),v.push(new dt),v.push(new ma),h&&v.push(new ji(d,this.verbose))),this.readers=v}reset(){if(this.readers!==null)for(const d of this.readers)d.reset()}decodeInternal(d){if(this.readers===null)throw new bu("No readers where selected, nothing can be read.");for(const h of this.readers)try{return h.decode(d,this.hints)}catch(m){if(m instanceof bu)continue}throw new V("No MultiFormat Readers were able to detect the code.")}}class Pf extends Q{constructor(d=null,h=500){const m=new A0;m.setHints(d),super(m,h)}decodeBitmap(d){return this.reader.decodeWithState(d)}}class C0 extends Q{constructor(d=500){super(new ma,d)}}class j0 extends Q{constructor(d=500){super(new Vl,d)}}var kf;(function(ae){ae[ae.ERROR_CORRECTION=0]="ERROR_CORRECTION",ae[ae.CHARACTER_SET=1]="CHARACTER_SET",ae[ae.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",ae[ae.MIN_SIZE=3]="MIN_SIZE",ae[ae.MAX_SIZE=4]="MAX_SIZE",ae[ae.MARGIN=5]="MARGIN",ae[ae.PDF417_COMPACT=6]="PDF417_COMPACT",ae[ae.PDF417_COMPACTION=7]="PDF417_COMPACTION",ae[ae.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",ae[ae.AZTEC_LAYERS=9]="AZTEC_LAYERS",ae[ae.QR_VERSION=10]="QR_VERSION"})(kf||(kf={}));var ga=kf;class Su{constructor(d){this.field=d,this.cachedGenerators=[],this.cachedGenerators.push(new Le(d,Int32Array.from([1])))}buildGenerator(d){const h=this.cachedGenerators;if(d>=h.length){let m=h[h.length-1];const v=this.field;for(let w=h.length;w<=d;w++){const S=m.multiply(new Le(v,Int32Array.from([1,v.exp(w-1+v.getGeneratorBase())])));h.push(S),m=S}}return h[d]}encode(d,h){if(h===0)throw new p("No error correction bytes");const m=d.length-h;if(m<=0)throw new p("No data bytes provided");const v=this.buildGenerator(h),w=new Int32Array(m);y.arraycopy(d,0,w,0,m);let S=new Le(this.field,w);S=S.multiplyByMonomial(h,1);const M=S.divide(v)[1].getCoefficients(),z=h-M.length;for(let X=0;X<z;X++)d[m+X]=0;y.arraycopy(M,0,d,m+z,M.length)}}class ci{constructor(){}static applyMaskPenaltyRule1(d){return ci.applyMaskPenaltyRule1Internal(d,!0)+ci.applyMaskPenaltyRule1Internal(d,!1)}static applyMaskPenaltyRule2(d){let h=0;const m=d.getArray(),v=d.getWidth(),w=d.getHeight();for(let S=0;S<w-1;S++){const j=m[S];for(let M=0;M<v-1;M++){const z=j[M];z===j[M+1]&&z===m[S+1][M]&&z===m[S+1][M+1]&&h++}}return ci.N2*h}static applyMaskPenaltyRule3(d){let h=0;const m=d.getArray(),v=d.getWidth(),w=d.getHeight();for(let S=0;S<w;S++)for(let j=0;j<v;j++){const M=m[S];j+6<v&&M[j]===1&&M[j+1]===0&&M[j+2]===1&&M[j+3]===1&&M[j+4]===1&&M[j+5]===0&&M[j+6]===1&&(ci.isWhiteHorizontal(M,j-4,j)||ci.isWhiteHorizontal(M,j+7,j+11))&&h++,S+6<w&&m[S][j]===1&&m[S+1][j]===0&&m[S+2][j]===1&&m[S+3][j]===1&&m[S+4][j]===1&&m[S+5][j]===0&&m[S+6][j]===1&&(ci.isWhiteVertical(m,j,S-4,S)||ci.isWhiteVertical(m,j,S+7,S+11))&&h++}return h*ci.N3}static isWhiteHorizontal(d,h,m){h=Math.max(h,0),m=Math.min(m,d.length);for(let v=h;v<m;v++)if(d[v]===1)return!1;return!0}static isWhiteVertical(d,h,m,v){m=Math.max(m,0),v=Math.min(v,d.length);for(let w=m;w<v;w++)if(d[w][h]===1)return!1;return!0}static applyMaskPenaltyRule4(d){let h=0;const m=d.getArray(),v=d.getWidth(),w=d.getHeight();for(let M=0;M<w;M++){const z=m[M];for(let X=0;X<v;X++)z[X]===1&&h++}const S=d.getHeight()*d.getWidth();return Math.floor(Math.abs(h*2-S)*10/S)*ci.N4}static getDataMaskBit(d,h,m){let v,w;switch(d){case 0:v=m+h&1;break;case 1:v=m&1;break;case 2:v=h%3;break;case 3:v=(m+h)%3;break;case 4:v=Math.floor(m/2)+Math.floor(h/3)&1;break;case 5:w=m*h,v=(w&1)+w%3;break;case 6:w=m*h,v=(w&1)+w%3&1;break;case 7:w=m*h,v=w%3+(m+h&1)&1;break;default:throw new p("Invalid mask pattern: "+d)}return v===0}static applyMaskPenaltyRule1Internal(d,h){let m=0;const v=h?d.getHeight():d.getWidth(),w=h?d.getWidth():d.getHeight(),S=d.getArray();for(let j=0;j<v;j++){let M=0,z=-1;for(let X=0;X<w;X++){const ie=h?S[j][X]:S[X][j];ie===z?M++:(M>=5&&(m+=ci.N1+(M-5)),M=1,z=ie)}M>=5&&(m+=ci.N1+(M-5))}return m}}ci.N1=3,ci.N2=3,ci.N3=40,ci.N4=10;class _u{constructor(d,h){this.width=d,this.height=h;const m=new Array(h);for(let v=0;v!==h;v++)m[v]=new Uint8Array(d);this.bytes=m}getHeight(){return this.height}getWidth(){return this.width}get(d,h){return this.bytes[h][d]}getArray(){return this.bytes}setNumber(d,h,m){this.bytes[h][d]=m}setBoolean(d,h,m){this.bytes[h][d]=m?1:0}clear(d){for(const h of this.bytes)E.fill(h,d)}equals(d){if(!(d instanceof _u))return!1;const h=d;if(this.width!==h.width||this.height!==h.height)return!1;for(let m=0,v=this.height;m<v;++m){const w=this.bytes[m],S=h.bytes[m];for(let j=0,M=this.width;j<M;++j)if(w[j]!==S[j])return!1}return!0}toString(){const d=new q;for(let h=0,m=this.height;h<m;++h){const v=this.bytes[h];for(let w=0,S=this.width;w<S;++w)switch(v[w]){case 0:d.append(" 0");break;case 1:d.append(" 1");break;default:d.append("  ");break}d.append(`
`)}return d.toString()}}class Ks{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const d=new q;return d.append(`<<
`),d.append(" mode: "),d.append(this.mode?this.mode.toString():"null"),d.append(`
 ecLevel: `),d.append(this.ecLevel?this.ecLevel.toString():"null"),d.append(`
 version: `),d.append(this.version?this.version.toString():"null"),d.append(`
 maskPattern: `),d.append(this.maskPattern.toString()),this.matrix?(d.append(`
 matrix:
`),d.append(this.matrix.toString())):d.append(`
 matrix: null
`),d.append(`>>
`),d.toString()}setMode(d){this.mode=d}setECLevel(d){this.ecLevel=d}setVersion(d){this.version=d}setMaskPattern(d){this.maskPattern=d}setMatrix(d){this.matrix=d}static isValidMaskPattern(d){return d>=0&&d<Ks.NUM_MASK_PATTERNS}}Ks.NUM_MASK_PATTERNS=8;class Xn extends u{}Xn.kind="WriterException";class R{constructor(){}static clearMatrix(d){d.clear(255)}static buildMatrix(d,h,m,v,w){R.clearMatrix(w),R.embedBasicPatterns(m,w),R.embedTypeInfo(h,v,w),R.maybeEmbedVersionInfo(m,w),R.embedDataBits(d,v,w)}static embedBasicPatterns(d,h){R.embedPositionDetectionPatternsAndSeparators(h),R.embedDarkDotAtLeftBottomCorner(h),R.maybeEmbedPositionAdjustmentPatterns(d,h),R.embedTimingPatterns(h)}static embedTypeInfo(d,h,m){const v=new I;R.makeTypeInfoBits(d,h,v);for(let w=0,S=v.getSize();w<S;++w){const j=v.get(v.getSize()-1-w),M=R.TYPE_INFO_COORDINATES[w],z=M[0],X=M[1];if(m.setBoolean(z,X,j),w<8){const ie=m.getWidth()-w-1;m.setBoolean(ie,8,j)}else{const pe=m.getHeight()-7+(w-8);m.setBoolean(8,pe,j)}}}static maybeEmbedVersionInfo(d,h){if(d.getVersionNumber()<7)return;const m=new I;R.makeVersionInfoBits(d,m);let v=6*3-1;for(let w=0;w<6;++w)for(let S=0;S<3;++S){const j=m.get(v);v--,h.setBoolean(w,h.getHeight()-11+S,j),h.setBoolean(h.getHeight()-11+S,w,j)}}static embedDataBits(d,h,m){let v=0,w=-1,S=m.getWidth()-1,j=m.getHeight()-1;for(;S>0;){for(S===6&&(S-=1);j>=0&&j<m.getHeight();){for(let M=0;M<2;++M){const z=S-M;if(!R.isEmpty(m.get(z,j)))continue;let X;v<d.getSize()?(X=d.get(v),++v):X=!1,h!==255&&ci.getDataMaskBit(h,z,j)&&(X=!X),m.setBoolean(z,j,X)}j+=w}w=-w,j+=w,S-=2}if(v!==d.getSize())throw new Xn("Not all bits consumed: "+v+"/"+d.getSize())}static findMSBSet(d){return 32-C.numberOfLeadingZeros(d)}static calculateBCHCode(d,h){if(h===0)throw new p("0 polynomial");const m=R.findMSBSet(h);for(d<<=m-1;R.findMSBSet(d)>=m;)d^=h<<R.findMSBSet(d)-m;return d}static makeTypeInfoBits(d,h,m){if(!Ks.isValidMaskPattern(h))throw new Xn("Invalid mask pattern");const v=d.getBits()<<3|h;m.appendBits(v,5);const w=R.calculateBCHCode(v,R.TYPE_INFO_POLY);m.appendBits(w,10);const S=new I;if(S.appendBits(R.TYPE_INFO_MASK_PATTERN,15),m.xor(S),m.getSize()!==15)throw new Xn("should not happen but we got: "+m.getSize())}static makeVersionInfoBits(d,h){h.appendBits(d.getVersionNumber(),6);const m=R.calculateBCHCode(d.getVersionNumber(),R.VERSION_INFO_POLY);if(h.appendBits(m,12),h.getSize()!==18)throw new Xn("should not happen but we got: "+h.getSize())}static isEmpty(d){return d===255}static embedTimingPatterns(d){for(let h=8;h<d.getWidth()-8;++h){const m=(h+1)%2;R.isEmpty(d.get(h,6))&&d.setNumber(h,6,m),R.isEmpty(d.get(6,h))&&d.setNumber(6,h,m)}}static embedDarkDotAtLeftBottomCorner(d){if(d.get(8,d.getHeight()-8)===0)throw new Xn;d.setNumber(8,d.getHeight()-8,1)}static embedHorizontalSeparationPattern(d,h,m){for(let v=0;v<8;++v){if(!R.isEmpty(m.get(d+v,h)))throw new Xn;m.setNumber(d+v,h,0)}}static embedVerticalSeparationPattern(d,h,m){for(let v=0;v<7;++v){if(!R.isEmpty(m.get(d,h+v)))throw new Xn;m.setNumber(d,h+v,0)}}static embedPositionAdjustmentPattern(d,h,m){for(let v=0;v<5;++v){const w=R.POSITION_ADJUSTMENT_PATTERN[v];for(let S=0;S<5;++S)m.setNumber(d+S,h+v,w[S])}}static embedPositionDetectionPattern(d,h,m){for(let v=0;v<7;++v){const w=R.POSITION_DETECTION_PATTERN[v];for(let S=0;S<7;++S)m.setNumber(d+S,h+v,w[S])}}static embedPositionDetectionPatternsAndSeparators(d){const h=R.POSITION_DETECTION_PATTERN[0].length;R.embedPositionDetectionPattern(0,0,d),R.embedPositionDetectionPattern(d.getWidth()-h,0,d),R.embedPositionDetectionPattern(0,d.getWidth()-h,d);const m=8;R.embedHorizontalSeparationPattern(0,m-1,d),R.embedHorizontalSeparationPattern(d.getWidth()-m,m-1,d),R.embedHorizontalSeparationPattern(0,d.getWidth()-m,d);const v=7;R.embedVerticalSeparationPattern(v,0,d),R.embedVerticalSeparationPattern(d.getHeight()-v-1,0,d),R.embedVerticalSeparationPattern(v,d.getHeight()-v,d)}static maybeEmbedPositionAdjustmentPatterns(d,h){if(d.getVersionNumber()<2)return;const m=d.getVersionNumber()-1,v=R.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[m];for(let w=0,S=v.length;w!==S;w++){const j=v[w];if(j>=0)for(let M=0;M!==S;M++){const z=v[M];z>=0&&R.isEmpty(h.get(z,j))&&R.embedPositionAdjustmentPattern(z-2,j-2,h)}}}}R.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),R.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),R.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),R.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),R.VERSION_INFO_POLY=7973,R.TYPE_INFO_POLY=1335,R.TYPE_INFO_MASK_PATTERN=21522;class oe{constructor(d,h){this.dataBytes=d,this.errorCorrectionBytes=h}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Be{constructor(){}static calculateMaskPenalty(d){return ci.applyMaskPenaltyRule1(d)+ci.applyMaskPenaltyRule2(d)+ci.applyMaskPenaltyRule3(d)+ci.applyMaskPenaltyRule4(d)}static encode(d,h,m=null){let v=Be.DEFAULT_BYTE_MODE_ENCODING;const w=m!==null&&m.get(ga.CHARACTER_SET)!==void 0;w&&(v=m.get(ga.CHARACTER_SET).toString());const S=this.chooseMode(d,v),j=new I;if(S===zr.BYTE&&(w||Be.DEFAULT_BYTE_MODE_ENCODING!==v)){const Wt=B.getCharacterSetECIByName(v);Wt!==void 0&&this.appendECI(Wt,j)}this.appendModeInfo(S,j);const M=new I;this.appendBytes(d,S,M,v);let z;if(m!==null&&m.get(ga.QR_VERSION)!==void 0){const Wt=Number.parseInt(m.get(ga.QR_VERSION).toString(),10);z=Br.getVersionForNumber(Wt);const $t=this.calculateBitsNeeded(S,j,M,z);if(!this.willFit($t,z,h))throw new Xn("Data too big for requested version")}else z=this.recommendVersion(h,S,j,M);const X=new I;X.appendBitArray(j);const ie=S===zr.BYTE?M.getSizeInBytes():d.length;this.appendLengthInfo(ie,z,S,X),X.appendBitArray(M);const pe=z.getECBlocksForLevel(h),$e=z.getTotalCodewords()-pe.getTotalECCodewords();this.terminateBits($e,X);const Xe=this.interleaveWithECBytes(X,z.getTotalCodewords(),$e,pe.getNumBlocks()),Qe=new Ks;Qe.setECLevel(h),Qe.setMode(S),Qe.setVersion(z);const ot=z.getDimensionForVersion(),St=new _u(ot,ot),Ft=this.chooseMaskPattern(Xe,h,z,St);return Qe.setMaskPattern(Ft),R.buildMatrix(Xe,h,z,Ft,St),Qe.setMatrix(St),Qe}static recommendVersion(d,h,m,v){const w=this.calculateBitsNeeded(h,m,v,Br.getVersionForNumber(1)),S=this.chooseVersion(w,d),j=this.calculateBitsNeeded(h,m,v,S);return this.chooseVersion(j,d)}static calculateBitsNeeded(d,h,m,v){return h.getSize()+d.getCharacterCountBits(v)+m.getSize()}static getAlphanumericCode(d){return d<Be.ALPHANUMERIC_TABLE.length?Be.ALPHANUMERIC_TABLE[d]:-1}static chooseMode(d,h=null){if(B.SJIS.getName()===h&&this.isOnlyDoubleByteKanji(d))return zr.KANJI;let m=!1,v=!1;for(let w=0,S=d.length;w<S;++w){const j=d.charAt(w);if(Be.isDigit(j))m=!0;else if(this.getAlphanumericCode(j.charCodeAt(0))!==-1)v=!0;else return zr.BYTE}return v?zr.ALPHANUMERIC:m?zr.NUMERIC:zr.BYTE}static isOnlyDoubleByteKanji(d){let h;try{h=F.encode(d,B.SJIS)}catch{return!1}const m=h.length;if(m%2!==0)return!1;for(let v=0;v<m;v+=2){const w=h[v]&255;if((w<129||w>159)&&(w<224||w>235))return!1}return!0}static chooseMaskPattern(d,h,m,v){let w=Number.MAX_SAFE_INTEGER,S=-1;for(let j=0;j<Ks.NUM_MASK_PATTERNS;j++){R.buildMatrix(d,h,m,j,v);let M=this.calculateMaskPenalty(v);M<w&&(w=M,S=j)}return S}static chooseVersion(d,h){for(let m=1;m<=40;m++){const v=Br.getVersionForNumber(m);if(Be.willFit(d,v,h))return v}throw new Xn("Data too big")}static willFit(d,h,m){const v=h.getTotalCodewords(),S=h.getECBlocksForLevel(m).getTotalECCodewords(),j=v-S,M=(d+7)/8;return j>=M}static terminateBits(d,h){const m=d*8;if(h.getSize()>m)throw new Xn("data bits cannot fit in the QR Code"+h.getSize()+" > "+m);for(let S=0;S<4&&h.getSize()<m;++S)h.appendBit(!1);const v=h.getSize()&7;if(v>0)for(let S=v;S<8;S++)h.appendBit(!1);const w=d-h.getSizeInBytes();for(let S=0;S<w;++S)h.appendBits(S&1?17:236,8);if(h.getSize()!==m)throw new Xn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(d,h,m,v,w,S){if(v>=m)throw new Xn("Block ID too large");const j=d%m,M=m-j,z=Math.floor(d/m),X=z+1,ie=Math.floor(h/m),pe=ie+1,$e=z-ie,Xe=X-pe;if($e!==Xe)throw new Xn("EC bytes mismatch");if(m!==M+j)throw new Xn("RS blocks mismatch");if(d!==(ie+$e)*M+(pe+Xe)*j)throw new Xn("Total bytes mismatch");v<M?(w[0]=ie,S[0]=$e):(w[0]=pe,S[0]=Xe)}static interleaveWithECBytes(d,h,m,v){if(d.getSizeInBytes()!==m)throw new Xn("Number of bits and data bytes does not match");let w=0,S=0,j=0;const M=new Array;for(let X=0;X<v;++X){const ie=new Int32Array(1),pe=new Int32Array(1);Be.getNumDataBytesAndNumECBytesForBlockID(h,m,v,X,ie,pe);const $e=ie[0],Xe=new Uint8Array($e);d.toBytes(8*w,Xe,0,$e);const Qe=Be.generateECBytes(Xe,pe[0]);M.push(new oe(Xe,Qe)),S=Math.max(S,$e),j=Math.max(j,Qe.length),w+=ie[0]}if(m!==w)throw new Xn("Data bytes does not match offset");const z=new I;for(let X=0;X<S;++X)for(const ie of M){const pe=ie.getDataBytes();X<pe.length&&z.appendBits(pe[X],8)}for(let X=0;X<j;++X)for(const ie of M){const pe=ie.getErrorCorrectionBytes();X<pe.length&&z.appendBits(pe[X],8)}if(h!==z.getSizeInBytes())throw new Xn("Interleaving error: "+h+" and "+z.getSizeInBytes()+" differ.");return z}static generateECBytes(d,h){const m=d.length,v=new Int32Array(m+h);for(let S=0;S<m;S++)v[S]=d[S]&255;new Su(ye.QR_CODE_FIELD_256).encode(v,h);const w=new Uint8Array(h);for(let S=0;S<h;S++)w[S]=v[m+S];return w}static appendModeInfo(d,h){h.appendBits(d.getBits(),4)}static appendLengthInfo(d,h,m,v){const w=m.getCharacterCountBits(h);if(d>=1<<w)throw new Xn(d+" is bigger than "+((1<<w)-1));v.appendBits(d,w)}static appendBytes(d,h,m,v){switch(h){case zr.NUMERIC:Be.appendNumericBytes(d,m);break;case zr.ALPHANUMERIC:Be.appendAlphanumericBytes(d,m);break;case zr.BYTE:Be.append8BitBytes(d,m,v);break;case zr.KANJI:Be.appendKanjiBytes(d,m);break;default:throw new Xn("Invalid mode: "+h)}}static getDigit(d){return d.charCodeAt(0)-48}static isDigit(d){const h=Be.getDigit(d);return h>=0&&h<=9}static appendNumericBytes(d,h){const m=d.length;let v=0;for(;v<m;){const w=Be.getDigit(d.charAt(v));if(v+2<m){const S=Be.getDigit(d.charAt(v+1)),j=Be.getDigit(d.charAt(v+2));h.appendBits(w*100+S*10+j,10),v+=3}else if(v+1<m){const S=Be.getDigit(d.charAt(v+1));h.appendBits(w*10+S,7),v+=2}else h.appendBits(w,4),v++}}static appendAlphanumericBytes(d,h){const m=d.length;let v=0;for(;v<m;){const w=Be.getAlphanumericCode(d.charCodeAt(v));if(w===-1)throw new Xn;if(v+1<m){const S=Be.getAlphanumericCode(d.charCodeAt(v+1));if(S===-1)throw new Xn;h.appendBits(w*45+S,11),v+=2}else h.appendBits(w,6),v++}}static append8BitBytes(d,h,m){let v;try{v=F.encode(d,m)}catch(w){throw new Xn(w)}for(let w=0,S=v.length;w!==S;w++){const j=v[w];h.appendBits(j,8)}}static appendKanjiBytes(d,h){let m;try{m=F.encode(d,B.SJIS)}catch(w){throw new Xn(w)}const v=m.length;for(let w=0;w<v;w+=2){const S=m[w]&255,j=m[w+1]&255,M=S<<8&4294967295|j;let z=-1;if(M>=33088&&M<=40956?z=M-33088:M>=57408&&M<=60351&&(z=M-49472),z===-1)throw new Xn("Invalid byte sequence");const X=(z>>8)*192+(z&255);h.appendBits(X,13)}}static appendECI(d,h){h.appendBits(zr.ECI.getBits(),4),h.appendBits(d.getValue(),8)}}Be.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Be.DEFAULT_BYTE_MODE_ENCODING=B.UTF8.getName();class Ke{write(d,h,m,v=null){if(d.length===0)throw new p("Found empty contents");if(h<0||m<0)throw new p("Requested dimensions are too small: "+h+"x"+m);let w=Jn.L,S=Ke.QUIET_ZONE_SIZE;v!==null&&(v.get(ga.ERROR_CORRECTION)!==void 0&&(w=Jn.fromString(v.get(ga.ERROR_CORRECTION).toString())),v.get(ga.MARGIN)!==void 0&&(S=Number.parseInt(v.get(ga.MARGIN).toString(),10)));const j=Be.encode(d,w,v);return this.renderResult(j,h,m,S)}writeToDom(d,h,m,v,w=null){typeof d=="string"&&(d=document.querySelector(d));const S=this.write(h,m,v,w);d&&d.appendChild(S)}renderResult(d,h,m,v){const w=d.getMatrix();if(w===null)throw new Ye;const S=w.getWidth(),j=w.getHeight(),M=S+v*2,z=j+v*2,X=Math.max(h,M),ie=Math.max(m,z),pe=Math.min(Math.floor(X/M),Math.floor(ie/z)),$e=Math.floor((X-S*pe)/2),Xe=Math.floor((ie-j*pe)/2),Qe=this.createSVGElement(X,ie);for(let ot=0,St=Xe;ot<j;ot++,St+=pe)for(let Ft=0,Wt=$e;Ft<S;Ft++,Wt+=pe)if(w.get(Ft,ot)===1){const $t=this.createSvgRectElement(Wt,St,pe,pe);Qe.appendChild($t)}return Qe}createSVGElement(d,h){const m=document.createElementNS(Ke.SVG_NS,"svg");return m.setAttributeNS(null,"height",d.toString()),m.setAttributeNS(null,"width",h.toString()),m}createSvgRectElement(d,h,m,v){const w=document.createElementNS(Ke.SVG_NS,"rect");return w.setAttributeNS(null,"x",d.toString()),w.setAttributeNS(null,"y",h.toString()),w.setAttributeNS(null,"height",m.toString()),w.setAttributeNS(null,"width",v.toString()),w.setAttributeNS(null,"fill","#000000"),w}}Ke.QUIET_ZONE_SIZE=4,Ke.SVG_NS="http://www.w3.org/2000/svg";class ut{encode(d,h,m,v,w){if(d.length===0)throw new p("Found empty contents");if(h!==le.QR_CODE)throw new p("Can only encode QR_CODE, but got "+h);if(m<0||v<0)throw new p(`Requested dimensions are too small: ${m}x${v}`);let S=Jn.L,j=ut.QUIET_ZONE_SIZE;w!==null&&(w.get(ga.ERROR_CORRECTION)!==void 0&&(S=Jn.fromString(w.get(ga.ERROR_CORRECTION).toString())),w.get(ga.MARGIN)!==void 0&&(j=Number.parseInt(w.get(ga.MARGIN).toString(),10)));const M=Be.encode(d,S,w);return ut.renderResult(M,m,v,j)}static renderResult(d,h,m,v){const w=d.getMatrix();if(w===null)throw new Ye;const S=w.getWidth(),j=w.getHeight(),M=S+v*2,z=j+v*2,X=Math.max(h,M),ie=Math.max(m,z),pe=Math.min(Math.floor(X/M),Math.floor(ie/z)),$e=Math.floor((X-S*pe)/2),Xe=Math.floor((ie-j*pe)/2),Qe=new K(X,ie);for(let ot=0,St=Xe;ot<j;ot++,St+=pe)for(let Ft=0,Wt=$e;Ft<S;Ft++,Wt+=pe)w.get(Ft,ot)===1&&Qe.setRegion(Wt,St,pe,pe);return Qe}}ut.QUIET_ZONE_SIZE=4;class Ct{encode(d,h,m,v,w){let S;switch(h){case le.QR_CODE:S=new ut;break;default:throw new p("No encoder available for format "+h)}return S.encode(d,h,m,v,w)}}class Lt extends J{constructor(d,h,m,v,w,S,j,M){if(super(S,j),this.yuvData=d,this.dataWidth=h,this.dataHeight=m,this.left=v,this.top=w,v+S>h||w+j>m)throw new p("Crop rectangle does not fit within image data.");M&&this.reverseHorizontal(S,j)}getRow(d,h){if(d<0||d>=this.getHeight())throw new p("Requested row is outside the image: "+d);const m=this.getWidth();(h==null||h.length<m)&&(h=new Uint8ClampedArray(m));const v=(d+this.top)*this.dataWidth+this.left;return y.arraycopy(this.yuvData,v,h,0,m),h}getMatrix(){const d=this.getWidth(),h=this.getHeight();if(d===this.dataWidth&&h===this.dataHeight)return this.yuvData;const m=d*h,v=new Uint8ClampedArray(m);let w=this.top*this.dataWidth+this.left;if(d===this.dataWidth)return y.arraycopy(this.yuvData,w,v,0,m),v;for(let S=0;S<h;S++){const j=S*d;y.arraycopy(this.yuvData,w,v,j,d),w+=this.dataWidth}return v}isCropSupported(){return!0}crop(d,h,m,v){return new Lt(this.yuvData,this.dataWidth,this.dataHeight,this.left+d,this.top+h,m,v,!1)}renderThumbnail(){const d=this.getWidth()/Lt.THUMBNAIL_SCALE_FACTOR,h=this.getHeight()/Lt.THUMBNAIL_SCALE_FACTOR,m=new Int32Array(d*h),v=this.yuvData;let w=this.top*this.dataWidth+this.left;for(let S=0;S<h;S++){const j=S*d;for(let M=0;M<d;M++){const z=v[w+M*Lt.THUMBNAIL_SCALE_FACTOR]&255;m[j+M]=4278190080|z*65793}w+=this.dataWidth*Lt.THUMBNAIL_SCALE_FACTOR}return m}getThumbnailWidth(){return this.getWidth()/Lt.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Lt.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(d,h){const m=this.yuvData;for(let v=0,w=this.top*this.dataWidth+this.left;v<h;v++,w+=this.dataWidth){const S=w+d/2;for(let j=w,M=w+d-1;j<S;j++,M--){const z=m[j];m[j]=m[M],m[M]=z}}}invert(){return new ge(this)}}Lt.THUMBNAIL_SCALE_FACTOR=2;class pr extends J{constructor(d,h,m,v,w,S,j){if(super(h,m),this.dataWidth=v,this.dataHeight=w,this.left=S,this.top=j,d.BYTES_PER_ELEMENT===4){const M=h*m,z=new Uint8ClampedArray(M);for(let X=0;X<M;X++){const ie=d[X],pe=ie>>16&255,$e=ie>>7&510,Xe=ie&255;z[X]=(pe+$e+Xe)/4&255}this.luminances=z}else this.luminances=d;if(v===void 0&&(this.dataWidth=h),w===void 0&&(this.dataHeight=m),S===void 0&&(this.left=0),j===void 0&&(this.top=0),this.left+h>this.dataWidth||this.top+m>this.dataHeight)throw new p("Crop rectangle does not fit within image data.")}getRow(d,h){if(d<0||d>=this.getHeight())throw new p("Requested row is outside the image: "+d);const m=this.getWidth();(h==null||h.length<m)&&(h=new Uint8ClampedArray(m));const v=(d+this.top)*this.dataWidth+this.left;return y.arraycopy(this.luminances,v,h,0,m),h}getMatrix(){const d=this.getWidth(),h=this.getHeight();if(d===this.dataWidth&&h===this.dataHeight)return this.luminances;const m=d*h,v=new Uint8ClampedArray(m);let w=this.top*this.dataWidth+this.left;if(d===this.dataWidth)return y.arraycopy(this.luminances,w,v,0,m),v;for(let S=0;S<h;S++){const j=S*d;y.arraycopy(this.luminances,w,v,j,d),w+=this.dataWidth}return v}isCropSupported(){return!0}crop(d,h,m,v){return new pr(this.luminances,m,v,this.dataWidth,this.dataHeight,this.left+d,this.top+h)}invert(){return new ge(this)}}class Ur extends B{static forName(d){return this.getCharacterSetECIByName(d)}}class fn{}fn.ISO_8859_1=B.ISO8859_1;class hn{isCompact(){return this.compact}setCompact(d){this.compact=d}getSize(){return this.size}setSize(d){this.size=d}getLayers(){return this.layers}setLayers(d){this.layers=d}getCodeWords(){return this.codeWords}setCodeWords(d){this.codeWords=d}getMatrix(){return this.matrix}setMatrix(d){this.matrix=d}}class Fn{static singletonList(d){return[d]}static min(d,h){return d.sort(h)[0]}}class Hi{constructor(d){this.previous=d}getPrevious(){return this.previous}}class hi extends Hi{constructor(d,h,m){super(d),this.value=h,this.bitCount=m}appendTo(d,h){d.appendBits(this.value,this.bitCount)}add(d,h){return new hi(this,d,h)}addBinaryShift(d,h){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new hi(this,d,h)}toString(){let d=this.value&(1<<this.bitCount)-1;return d|=1<<this.bitCount,"<"+C.toBinaryString(d|1<<this.bitCount).substring(1)+">"}}class na extends hi{constructor(d,h,m){super(d,0,0),this.binaryShiftStart=h,this.binaryShiftByteCount=m}appendTo(d,h){for(let m=0;m<this.binaryShiftByteCount;m++)(m===0||m===31&&this.binaryShiftByteCount<=62)&&(d.appendBits(31,5),this.binaryShiftByteCount>62?d.appendBits(this.binaryShiftByteCount-31,16):m===0?d.appendBits(Math.min(this.binaryShiftByteCount,31),5):d.appendBits(this.binaryShiftByteCount-31,5)),d.appendBits(h[this.binaryShiftStart+m],8)}addBinaryShift(d,h){return new na(this,d,h)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ms(ae,d,h){return new na(ae,d,h)}function ia(ae,d,h){return new hi(ae,d,h)}const dl=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Na=0,mo=1,Is=2,Mf=3,Qs=4,Df=new hi(null,0,0),vd=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function T0(ae){for(let d of ae)E.fill(d,-1);return ae[Na][Qs]=0,ae[mo][Qs]=0,ae[mo][Na]=28,ae[Mf][Qs]=0,ae[Is][Qs]=0,ae[Is][Na]=15,ae}const yd=T0(E.createInt32Array(6,6));class Oi{constructor(d,h,m,v){this.token=d,this.mode=h,this.binaryShiftByteCount=m,this.bitCount=v}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(d,h){let m=this.bitCount,v=this.token;if(d!==this.mode){let S=vd[this.mode][d];v=ia(v,S&65535,S>>16),m+=S>>16}let w=d===Is?4:5;return v=ia(v,h,w),new Oi(v,d,0,m+w)}shiftAndAppend(d,h){let m=this.token,v=this.mode===Is?4:5;return m=ia(m,yd[this.mode][d],v),m=ia(m,h,5),new Oi(m,this.mode,0,this.bitCount+v+5)}addBinaryShiftChar(d){let h=this.token,m=this.mode,v=this.bitCount;if(this.mode===Qs||this.mode===Is){let j=vd[m][Na];h=ia(h,j&65535,j>>16),v+=j>>16,m=Na}let w=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,S=new Oi(h,m,this.binaryShiftByteCount+1,v+w);return S.binaryShiftByteCount===2078&&(S=S.endBinaryShift(d+1)),S}endBinaryShift(d){if(this.binaryShiftByteCount===0)return this;let h=this.token;return h=ms(h,d-this.binaryShiftByteCount,this.binaryShiftByteCount),new Oi(h,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(d){let h=this.bitCount+(vd[this.mode][d.mode]>>16);return this.binaryShiftByteCount<d.binaryShiftByteCount?h+=Oi.calculateBinaryShiftCost(d)-Oi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>d.binaryShiftByteCount&&d.binaryShiftByteCount>0&&(h+=10),h<=d.bitCount}toBitArray(d){let h=[];for(let v=this.endBinaryShift(d.length).token;v!==null;v=v.getPrevious())h.unshift(v);let m=new I;for(const v of h)v.appendTo(m,d);return m}toString(){return U.format("%s bits=%d bytes=%d",dl[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(d){return d.binaryShiftByteCount>62?21:d.binaryShiftByteCount>31?20:d.binaryShiftByteCount>0?10:0}}Oi.INITIAL_STATE=new Oi(Df,Na,0,0);function Lf(ae){const d=U.getCharCode(" "),h=U.getCharCode("."),m=U.getCharCode(",");ae[Na][d]=1;const v=U.getCharCode("Z"),w=U.getCharCode("A");for(let pe=w;pe<=v;pe++)ae[Na][pe]=pe-w+2;ae[mo][d]=1;const S=U.getCharCode("z"),j=U.getCharCode("a");for(let pe=j;pe<=S;pe++)ae[mo][pe]=pe-j+2;ae[Is][d]=1;const M=U.getCharCode("9"),z=U.getCharCode("0");for(let pe=z;pe<=M;pe++)ae[Is][pe]=pe-z+2;ae[Is][m]=12,ae[Is][h]=13;const X=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let pe=0;pe<X.length;pe++)ae[Mf][U.getCharCode(X[pe])]=pe;const ie=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let pe=0;pe<ie.length;pe++)U.getCharCode(ie[pe])>0&&(ae[Qs][U.getCharCode(ie[pe])]=pe);return ae}const Nu=Lf(E.createInt32Array(5,256));class ql{constructor(d){this.text=d}encode(){const d=U.getCharCode(" "),h=U.getCharCode(`
`);let m=Fn.singletonList(Oi.INITIAL_STATE);for(let w=0;w<this.text.length;w++){let S,j=w+1<this.text.length?this.text[w+1]:0;switch(this.text[w]){case U.getCharCode("\r"):S=j===h?2:0;break;case U.getCharCode("."):S=j===d?3:0;break;case U.getCharCode(","):S=j===d?4:0;break;case U.getCharCode(":"):S=j===d?5:0;break;default:S=0}S>0?(m=ql.updateStateListForPair(m,w,S),w++):m=this.updateStateListForChar(m,w)}return Fn.min(m,(w,S)=>w.getBitCount()-S.getBitCount()).toBitArray(this.text)}updateStateListForChar(d,h){const m=[];for(let v of d)this.updateStateForChar(v,h,m);return ql.simplifyStates(m)}updateStateForChar(d,h,m){let v=this.text[h]&255,w=Nu[d.getMode()][v]>0,S=null;for(let j=0;j<=Qs;j++){let M=Nu[j][v];if(M>0){if(S==null&&(S=d.endBinaryShift(h)),!w||j===d.getMode()||j===Is){const z=S.latchAndAppend(j,M);m.push(z)}if(!w&&yd[d.getMode()][j]>=0){const z=S.shiftAndAppend(j,M);m.push(z)}}}if(d.getBinaryShiftByteCount()>0||Nu[d.getMode()][v]===0){let j=d.addBinaryShiftChar(h);m.push(j)}}static updateStateListForPair(d,h,m){const v=[];for(let w of d)this.updateStateForPair(w,h,m,v);return this.simplifyStates(v)}static updateStateForPair(d,h,m,v){let w=d.endBinaryShift(h);if(v.push(w.latchAndAppend(Qs,m)),d.getMode()!==Qs&&v.push(w.shiftAndAppend(Qs,m)),m===3||m===4){let S=w.latchAndAppend(Is,16-m).latchAndAppend(Is,1);v.push(S)}if(d.getBinaryShiftByteCount()>0){let S=d.addBinaryShiftChar(h).addBinaryShiftChar(h+1);v.push(S)}}static simplifyStates(d){let h=[];for(const m of d){let v=!0;for(const w of h){if(w.isBetterThanOrEqualTo(m)){v=!1;break}m.isBetterThanOrEqualTo(w)&&(h=h.filter(S=>S!==w))}v&&h.push(m)}return h}}class In{constructor(){}static encodeBytes(d){return In.encode(d,In.DEFAULT_EC_PERCENT,In.DEFAULT_AZTEC_LAYERS)}static encode(d,h,m){let v=new ql(d).encode(),w=C.truncDivision(v.getSize()*h,100)+11,S=v.getSize()+w,j,M,z,X,ie;if(m!==In.DEFAULT_AZTEC_LAYERS){if(j=m<0,M=Math.abs(m),M>(j?In.MAX_NB_BITS_COMPACT:In.MAX_NB_BITS))throw new p(U.format("Illegal value %s for layers",m));z=In.totalBitsInLayer(M,j),X=In.WORD_SIZE[M];let $t=z-z%X;if(ie=In.stuffBits(v,X),ie.getSize()+w>$t)throw new p("Data to large for user specified layer");if(j&&ie.getSize()>X*64)throw new p("Data to large for user specified layer")}else{X=0,ie=null;for(let $t=0;;$t++){if($t>In.MAX_NB_BITS)throw new p("Data too large for an Aztec code");if(j=$t<=3,M=j?$t+1:$t,z=In.totalBitsInLayer(M,j),S>z)continue;(ie==null||X!==In.WORD_SIZE[M])&&(X=In.WORD_SIZE[M],ie=In.stuffBits(v,X));let En=z-z%X;if(!(j&&ie.getSize()>X*64)&&ie.getSize()+w<=En)break}}let pe=In.generateCheckWords(ie,z,X),$e=ie.getSize()/X,Xe=In.generateModeMessage(j,M,$e),Qe=(j?11:14)+M*4,ot=new Int32Array(Qe),St;if(j){St=Qe;for(let $t=0;$t<ot.length;$t++)ot[$t]=$t}else{St=Qe+1+2*C.truncDivision(C.truncDivision(Qe,2)-1,15);let $t=C.truncDivision(Qe,2),En=C.truncDivision(St,2);for(let sn=0;sn<$t;sn++){let Ea=sn+C.truncDivision(sn,15);ot[$t-sn-1]=En-Ea-1,ot[$t+sn]=En+Ea+1}}let Ft=new K(St);for(let $t=0,En=0;$t<M;$t++){let sn=(M-$t)*4+(j?9:12);for(let Ea=0;Ea<sn;Ea++){let as=Ea*2;for(let xa=0;xa<2;xa++)pe.get(En+as+xa)&&Ft.set(ot[$t*2+xa],ot[$t*2+Ea]),pe.get(En+sn*2+as+xa)&&Ft.set(ot[$t*2+Ea],ot[Qe-1-$t*2-xa]),pe.get(En+sn*4+as+xa)&&Ft.set(ot[Qe-1-$t*2-xa],ot[Qe-1-$t*2-Ea]),pe.get(En+sn*6+as+xa)&&Ft.set(ot[Qe-1-$t*2-Ea],ot[$t*2+xa])}En+=sn*8}if(In.drawModeMessage(Ft,j,St,Xe),j)In.drawBullsEye(Ft,C.truncDivision(St,2),5);else{In.drawBullsEye(Ft,C.truncDivision(St,2),7);for(let $t=0,En=0;$t<C.truncDivision(Qe,2)-1;$t+=15,En+=16)for(let sn=C.truncDivision(St,2)&1;sn<St;sn+=2)Ft.set(C.truncDivision(St,2)-En,sn),Ft.set(C.truncDivision(St,2)+En,sn),Ft.set(sn,C.truncDivision(St,2)-En),Ft.set(sn,C.truncDivision(St,2)+En)}let Wt=new hn;return Wt.setCompact(j),Wt.setSize(St),Wt.setLayers(M),Wt.setCodeWords($e),Wt.setMatrix(Ft),Wt}static drawBullsEye(d,h,m){for(let v=0;v<m;v+=2)for(let w=h-v;w<=h+v;w++)d.set(w,h-v),d.set(w,h+v),d.set(h-v,w),d.set(h+v,w);d.set(h-m,h-m),d.set(h-m+1,h-m),d.set(h-m,h-m+1),d.set(h+m,h-m),d.set(h+m,h-m+1),d.set(h+m,h+m-1)}static generateModeMessage(d,h,m){let v=new I;return d?(v.appendBits(h-1,2),v.appendBits(m-1,6),v=In.generateCheckWords(v,28,4)):(v.appendBits(h-1,5),v.appendBits(m-1,11),v=In.generateCheckWords(v,40,4)),v}static drawModeMessage(d,h,m,v){let w=C.truncDivision(m,2);if(h)for(let S=0;S<7;S++){let j=w-3+S;v.get(S)&&d.set(j,w-5),v.get(S+7)&&d.set(w+5,j),v.get(20-S)&&d.set(j,w+5),v.get(27-S)&&d.set(w-5,j)}else for(let S=0;S<10;S++){let j=w-5+S+C.truncDivision(S,5);v.get(S)&&d.set(j,w-7),v.get(S+10)&&d.set(w+7,j),v.get(29-S)&&d.set(j,w+7),v.get(39-S)&&d.set(w-7,j)}}static generateCheckWords(d,h,m){let v=d.getSize()/m,w=new Su(In.getGF(m)),S=C.truncDivision(h,m),j=In.bitsToWords(d,m,S);w.encode(j,S-v);let M=h%m,z=new I;z.appendBits(0,M);for(const X of Array.from(j))z.appendBits(X,m);return z}static bitsToWords(d,h,m){let v=new Int32Array(m),w,S;for(w=0,S=d.getSize()/h;w<S;w++){let j=0;for(let M=0;M<h;M++)j|=d.get(w*h+M)?1<<h-M-1:0;v[w]=j}return v}static getGF(d){switch(d){case 4:return ye.AZTEC_PARAM;case 6:return ye.AZTEC_DATA_6;case 8:return ye.AZTEC_DATA_8;case 10:return ye.AZTEC_DATA_10;case 12:return ye.AZTEC_DATA_12;default:throw new p("Unsupported word size "+d)}}static stuffBits(d,h){let m=new I,v=d.getSize(),w=(1<<h)-2;for(let S=0;S<v;S+=h){let j=0;for(let M=0;M<h;M++)(S+M>=v||d.get(S+M))&&(j|=1<<h-1-M);(j&w)===w?(m.appendBits(j&w,h),S--):j&w?m.appendBits(j,h):(m.appendBits(j|1,h),S--)}return m}static totalBitsInLayer(d,h){return((h?88:112)+16*d)*d}}In.DEFAULT_EC_PERCENT=33,In.DEFAULT_AZTEC_LAYERS=0,In.MAX_NB_BITS=32,In.MAX_NB_BITS_COMPACT=4,In.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class is{encode(d,h,m,v){return this.encodeWithHints(d,h,m,v,null)}encodeWithHints(d,h,m,v,w){let S=fn.ISO_8859_1,j=In.DEFAULT_EC_PERCENT,M=In.DEFAULT_AZTEC_LAYERS;return w!=null&&(w.has(ga.CHARACTER_SET)&&(S=Ur.forName(w.get(ga.CHARACTER_SET).toString())),w.has(ga.ERROR_CORRECTION)&&(j=C.parseInt(w.get(ga.ERROR_CORRECTION).toString())),w.has(ga.AZTEC_LAYERS)&&(M=C.parseInt(w.get(ga.AZTEC_LAYERS).toString()))),is.encodeLayers(d,h,m,v,S,j,M)}static encodeLayers(d,h,m,v,w,S,j){if(h!==le.AZTEC)throw new p("Can only encode AZTEC, but got "+h);let M=In.encode(U.getBytes(d,w),S,j);return is.renderResult(M,m,v)}static renderResult(d,h,m){let v=d.getMatrix();if(v==null)throw new Ye;let w=v.getWidth(),S=v.getHeight(),j=Math.max(h,w),M=Math.max(m,S),z=Math.min(j/w,M/S),X=(j-w*z)/2,ie=(M-S*z)/2,pe=new K(j,M);for(let $e=0,Xe=ie;$e<S;$e++,Xe+=z)for(let Qe=0,ot=X;Qe<w;Qe++,ot+=z)v.get(Qe,$e)&&pe.setRegion(ot,Xe,z,z);return pe}}r.AbstractExpandedDecoder=Me,r.ArgumentException=f,r.ArithmeticException=Se,r.AztecCode=hn,r.AztecCodeReader=dt,r.AztecCodeWriter=is,r.AztecDecoder=ce,r.AztecDetector=tt,r.AztecDetectorResult=nt,r.AztecEncoder=In,r.AztecHighLevelEncoder=ql,r.AztecPoint=ze,r.BarcodeFormat=le,r.Binarizer=b,r.BinaryBitmap=g,r.BitArray=I,r.BitMatrix=K,r.BitSource=Ec,r.BrowserAztecCodeReader=Zt,r.BrowserBarcodeReader=cl,r.BrowserCodeReader=Q,r.BrowserDatamatrixCodeReader=Tf,r.BrowserMultiFormatReader=Pf,r.BrowserPDF417Reader=C0,r.BrowserQRCodeReader=j0,r.BrowserQRCodeSvgWriter=Ke,r.CharacterSetECI=B,r.ChecksumException=x,r.Code128Reader=De,r.Code39Reader=gt,r.DataMatrixDecodedBitStreamParser=qs,r.DataMatrixReader=Ya,r.DecodeHintType=D,r.DecoderResult=ve,r.DefaultGridSampler=mr,r.DetectorResult=He,r.EAN13Reader=it,r.EncodeHintType=ga,r.Exception=u,r.FormatException=k,r.GenericGF=ye,r.GenericGFPoly=Le,r.GlobalHistogramBinarizer=ee,r.GridSampler=At,r.GridSamplerInstance=ar,r.HTMLCanvasElementLuminanceSource=Ie,r.HybridBinarizer=te,r.ITFReader=Nt,r.IllegalArgumentException=p,r.IllegalStateException=Ye,r.InvertedLuminanceSource=ge,r.LuminanceSource=J,r.MathUtils=Ce,r.MultiFormatOneDReader=ji,r.MultiFormatReader=A0,r.MultiFormatWriter=Ct,r.NotFoundException=V,r.OneDReader=ne,r.PDF417DecodedBitStreamParser=bt,r.PDF417DecoderErrorCorrection=u1,r.PDF417Reader=ma,r.PDF417ResultMetadata=_0,r.PerspectiveTransform=qt,r.PlanarYUVLuminanceSource=Lt,r.QRCodeByteMatrix=_u,r.QRCodeDataMask=Gs,r.QRCodeDecodedBitStreamParser=Yn,r.QRCodeDecoderErrorCorrectionLevel=Jn,r.QRCodeDecoderFormatInformation=La,r.QRCodeEncoder=Be,r.QRCodeEncoderQRCode=Ks,r.QRCodeMaskUtil=ci,r.QRCodeMatrixUtil=R,r.QRCodeMode=zr,r.QRCodeReader=Vl,r.QRCodeVersion=Br,r.QRCodeWriter=ut,r.RGBLuminanceSource=pr,r.RSS14Reader=Rr,r.RSSExpandedReader=st,r.ReaderException=bu,r.ReedSolomonDecoder=we,r.ReedSolomonEncoder=Su,r.ReedSolomonException=We,r.Result=Z,r.ResultMetadataType=Ae,r.ResultPoint=ke,r.StringUtils=U,r.UnsupportedOperationException=G,r.VideoInputDevice=Ge,r.WhiteRectangleDetector=mt,r.WriterException=Xn,r.ZXingArrays=E,r.ZXingCharset=Ur,r.ZXingInteger=C,r.ZXingStandardCharsets=fn,r.ZXingStringBuilder=q,r.ZXingStringEncoding=F,r.ZXingSystem=y,r.createAbstractExpandedDecoder=at,Object.defineProperty(r,"__esModule",{value:!0})})})(vT,vT.exports);var Yi=vT.exports;const eUe=Zn(Yi),tUe=jB({__proto__:null,default:eUe},[Yi]);var h9=function(){function e(t,r,n){if(this.formatMap=new Map([[_r.QR_CODE,Yi.BarcodeFormat.QR_CODE],[_r.AZTEC,Yi.BarcodeFormat.AZTEC],[_r.CODABAR,Yi.BarcodeFormat.CODABAR],[_r.CODE_39,Yi.BarcodeFormat.CODE_39],[_r.CODE_93,Yi.BarcodeFormat.CODE_93],[_r.CODE_128,Yi.BarcodeFormat.CODE_128],[_r.DATA_MATRIX,Yi.BarcodeFormat.DATA_MATRIX],[_r.MAXICODE,Yi.BarcodeFormat.MAXICODE],[_r.ITF,Yi.BarcodeFormat.ITF],[_r.EAN_13,Yi.BarcodeFormat.EAN_13],[_r.EAN_8,Yi.BarcodeFormat.EAN_8],[_r.PDF_417,Yi.BarcodeFormat.PDF_417],[_r.RSS_14,Yi.BarcodeFormat.RSS_14],[_r.RSS_EXPANDED,Yi.BarcodeFormat.RSS_EXPANDED],[_r.UPC_A,Yi.BarcodeFormat.UPC_A],[_r.UPC_E,Yi.BarcodeFormat.UPC_E],[_r.UPC_EAN_EXTENSION,Yi.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!tUe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),a=new Map;a.set(Yi.DecodeHintType.POSSIBLE_FORMATS,i),a.set(Yi.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(a){i(a)}})},e.prototype.decode=function(t){var r=new Yi.MultiFormatReader(this.verbose,this.hints),n=new Yi.HTMLCanvasElementLuminanceSource(t),i=new Yi.BinaryBitmap(new Yi.HybridBinarizer(n)),a=r.decode(i);return{text:a.text,format:VQ.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),rUe=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?a(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},nUe=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},p9=function(){function e(t,r,n){if(this.formatMap=new Map([[_r.QR_CODE,"qr_code"],[_r.AZTEC,"aztec"],[_r.CODABAR,"codabar"],[_r.CODE_39,"code_39"],[_r.CODE_93,"code_93"],[_r.CODE_128,"code_128"],[_r.DATA_MATRIX,"data_matrix"],[_r.ITF,"itf"],[_r.EAN_13,"ean_13"],[_r.EAN_8,"ean_8"],[_r.PDF_417,"pdf417"],[_r.UPC_A,"upc_a"],[_r.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return rUe(this,void 0,void 0,function(){var r,n;return nUe(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:VQ.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,a=t;i<a.length;i++){var o=a[i],l=o.boundingBox.width*o.boundingBox.height;l>n&&(n=l,r=o)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),m9=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?a(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},g9=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},iUe=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&p9.isSupported()?(this.primaryDecoder=new p9(t,n,i),this.secondaryDecoder=new h9(t,n,i)):this.primaryDecoder=new h9(t,n,i)}return e.prototype.decodeAsync=function(t){return m9(this,void 0,void 0,function(){var r;return g9(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return m9(this,void 0,void 0,function(){var r,n;return g9(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];t+=i}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),P8=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),o4=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?a(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},l4=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},GQ=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),aUe=function(e){P8(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(GQ),sUe=function(e){P8(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(aUe),oUe=function(e){P8(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(GQ),lUe=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new sUe(this.track)},e.prototype.torchFeature=function(){return new oUe(this.track)},e}(),cUe=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,i),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return o4(this,void 0,void 0,function(){var a,o;return l4(this,function(l){switch(l.label){case 0:return a=new e(t,r,i),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:l.sent(),l.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return o4(this,void 0,void 0,function(){return l4(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var i=t.mediaStream.getVideoTracks(),a=i.length,o=0;t.mediaStream.getVideoTracks().forEach(function(l){t.mediaStream.removeTrack(l),l.stop(),++o,o>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new lUe(this.getFirstTrackOrFail())},e}(),uUe=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return o4(this,void 0,void 0,function(){return l4(this,function(i){return[2,cUe.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return o4(this,void 0,void 0,function(){var r,n;return l4(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new e(n)]}})})},e}(),x9=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?a(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},v9=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},dUe=function(){function e(){}return e.failIfNotSupported=function(){return x9(this,void 0,void 0,function(){return v9(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return x9(this,void 0,void 0,function(){return v9(this,function(r){return[2,uUe.create(t)]})})},e}(),fUe=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?a(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},hUe=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},pUe=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=im.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=im.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return fUe(this,void 0,void 0,function(){var t,r,n,i,a,o,l;return hUe(this,function(c){switch(c.label){case 0:return t=function(u){for(var f=u.getVideoTracks(),p=0,g=f;p<g.length;p++){var x=g[p];x.enabled=!1,x.stop(),u.removeTrack(x)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=c.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=c.sent(),i=[],a=0,o=n;a<o.length;a++)l=o[a],l.kind==="videoinput"&&i.push({id:l.deviceId,label:l.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var o=[],l=0,c=a;l<c.length;l++){var u=c[l];u.kind==="video"&&o.push({id:u.id,label:u.label})}t(o)},i=MediaStreamTrack;i.getSources(n)})},e}(),Ta;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Ta||(Ta={}));var mUe=function(){function e(){this.state=Ta.NOT_STARTED,this.onGoingTransactionNewState=Ta.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Ta.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ta.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ta.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ta.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ta.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Ta.UNKNOWN:throw"Transition from unknown is not allowed";case Ta.NOT_STARTED:this.failIfNewStateIs(t,[Ta.PAUSED]);break;case Ta.SCANNING:break;case Ta.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++){var a=i[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),gUe=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Ta.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Ta.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ta.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Ta.PAUSED},e}(),xUe=function(){function e(){}return e.create=function(){return new gUe(new mUe)},e}(),vUe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gl=function(e){vUe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Vc),yUe=function(){function e(t,r){this.logger=r,this.fps=gl.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=gl.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?qQ.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Iu(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),y9=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new HQ(this.verbose),this.qrcode=new iUe(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=xUe.create()}return e.prototype.start=function(t,r,n,i){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var l=yUe.create(r,this.logger);this.clearElement();var c=!1;l.videoConstraints&&(l.isMediaStreamConstraintsValid()?c=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=c,f=document.getElementById(this.elementId);f.clientWidth?f.clientWidth:gl.DEFAULT_WIDTH,f.style.position="relative",this.shouldScan=!0,this.element=f;var p=this,g=this.stateManagerProxy.startTransition(Ta.SCANNING);return new Promise(function(x,b){var y=u?l.videoConstraints:p.createVideoConstraints(t);if(!y){g.cancel(),b("videoConstraints should be defined");return}var _={};(!u||l.aspectRatio)&&(_.aspectRatio=l.aspectRatio);var N={onRenderSurfaceReady:function(E,C){p.setupUi(E,C,l),p.isScanning=!0,p.foreverScan(l,n,o)}};dUe.failIfNotSupported().then(function(E){E.create(y).then(function(C){return C.render(a.element,_,N).then(function(I){p.renderedCamera=I,g.execute(),x(null)}).catch(function(I){g.cancel(),b(I)})}).catch(function(C){g.cancel(),b(im.errorGettingUserMedia(C))})}).catch(function(E){g.cancel(),b(im.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ta.PAUSED),this.showPausedState(),(Iu(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Ta.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Ta.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(gl.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Iu(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var l=o.width,c=o.height,u=document.getElementById(n.elementId),f=u.clientWidth?u.clientWidth:gl.DEFAULT_WIDTH,p=Math.max(u.clientHeight?u.clientHeight:c,gl.FILE_SCAN_MIN_HEIGHT),g=n.computeCanvasDrawConfig(l,c,f,p);if(r){var x=n.createCanvasElement(f,p,"qr-canvas-visible");x.style.display="inline-block",u.appendChild(x);var b=x.getContext("2d");if(!b)throw"Unable to get 2d context from canvas";b.canvas.width=f,b.canvas.height=p,b.drawImage(o,0,0,l,c,g.x,g.y,g.width,g.height)}var y=gl.FILE_SCAN_HIDDEN_CANVAS_PADDING,_=Math.max(o.width,g.width),N=Math.max(o.height,g.height),E=_+2*y,C=N+2*y,I=n.createCanvasElement(E,C);u.appendChild(I);var P=I.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=E,P.canvas.height=C,P.drawImage(o,0,0,l,c,y,y,_,N);try{n.qrcode.decodeRobustlyAsync(I).then(function(D){i(d9.createFromQrcodeResult(D))}).catch(a)}catch(D){a("QR code parse error, error = ".concat(D))}},o.onerror=a,o.onabort=a,o.onstalled=a,o.onsuspend=a,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return pUe.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!qQ.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[_r.QR_CODE,_r.AZTEC,_r.CODABAR,_r.CODE_39,_r.CODE_93,_r.CODE_128,_r.DATA_MATRIX,_r.MAXICODE,_r.ITF,_r.EAN_13,_r.EAN_8,_r.PDF_417,_r.RSS_14,_r.RSS_EXPANDED,_r.UPC_A,_r.UPC_E,_r.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,a=t.formatsToSupport;i<a.length;i++){var o=a[i];Z$e(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Iu(t))return!0;if(!Iu(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Iu(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return Iu(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var i=this,a=n.qrbox;this.validateQrboxConfig(a);var o=this.toQrdimensions(t,r,a),l=function(u){if(u<gl.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(gl.MIN_QR_BOX_SIZE,"px.")},c=function(u){return u>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=t),u};l(o.width),l(o.height),o.width=c(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=Iu(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(t,r,i);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&a.height<=r,l={x:0,y:0,width:t,height:r},c=o?this.getShadedRegionBounds(t,r,a):l,u=this.createCanvasElement(c.width,c.height),f={willReadFrequently:!0},p=u.getContext("2d",f);p.canvas.width=c.width,p.canvas.height=c.height,this.element.append(u),o&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=c,this.context=p,this.canvasElement=u},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=im.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,d9.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var a=im.codeParseError(i);return r(a,WQ.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),o=a.videoWidth/a.clientWidth,l=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var c=this.qrRegion.width*o,u=this.qrRegion.height*l,f=this.qrRegion.x*o,p=this.qrRegion.y*l;this.context.drawImage(a,f,p,c,u,0,0,this.qrRegion.width,this.qrRegion.height);var g=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(x){!x&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){g()})):g()}).catch(function(x){i.logger.logError("Error happend while scanning context",x),g()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},a="exact",o=function(b){if(b in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(b,"'")},l=Object.keys(t);if(l.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(l.length," keys");var c=Object.keys(t)[0];if(c!==r&&c!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(c===r){var u=t.facingMode;if(typeof u=="string"){if(o(u))return{facingMode:u}}else if(typeof u=="object")if(a in u){if(o(u["".concat(a)]))return{facingMode:{exact:u["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var f=typeof u;throw"Invalid type of 'facingMode' = ".concat(f)}}else{var p=t.deviceId;if(typeof p=="string")return{deviceId:p};if(typeof p=="object"){if(a in p)return{deviceId:{exact:p["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var g=typeof p;throw"Invalid type of 'deviceId' = ".concat(g)}}}var x=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(x)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i){var a=(n-t)/2,o=(i-r)/2;return{x:a,y:o,width:t,height:r}}else{var l=t,c=r;return t>n&&(r=n/t*r,t=n),r>i&&(t=i/r*t,r=i),this.logger.log("Image downsampled from "+"".concat(l,"X").concat(c)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?gl.BORDER_SHADER_MATCH_COLOR:gl.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,a=r,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(a,"px"),o.style.display="none",o.id=Iu(n)?"qr-canvas":n,o},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var a=document.createElement("div");a.style.position="absolute";var o=(r-i.width)/2,l=(n-i.height)/2;if(a.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(gl.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var c=5,u=40;this.insertShaderBorders(a,u,c,-c,null,0,!0),this.insertShaderBorders(a,u,c,-c,null,0,!1),this.insertShaderBorders(a,u,c,null,-c,0,!0),this.insertShaderBorders(a,u,c,null,-c,0,!1),this.insertShaderBorders(a,c,u+c,-c,null,-c,!0),this.insertShaderBorders(a,c,u+c,null,-c,-c,!0),this.insertShaderBorders(a,c,u+c,-c,null,-c,!1),this.insertShaderBorders(a,c,u+c,null,-c,-c,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,i,a,o,l){var c=document.createElement("div");c.style.position="absolute",c.style.backgroundColor=gl.BORDER_SHADER_DEFAULT_COLOR,c.style.width="".concat(r,"px"),c.style.height="".concat(n,"px"),i!==null&&(c.style.top="".concat(i,"px")),a!==null&&(c.style.bottom="".concat(a,"px")),l?c.style.left="".concat(o,"px"):c.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(c),t.appendChild(c)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),k8="data:image/svg+xml;base64,",wUe=k8+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",bUe=k8+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",w9=k8+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",SUe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",b9=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),_Ue=function(){function e(){this.data=b9.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=b9.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),NUe=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=f9.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var n=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(i);var a=document.createElement("a");a.innerText=f9.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),EUe=function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=w9,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return r.onHoverIn()},this.infoIcon.onmouseout=function(n){return r.onHoverOut()},this.infoIcon.onclick=function(n){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=SUe,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=w9,this.infoIcon.style.opacity="0.6")},e}(),AUe=function(){function e(){var t=this;this.infoDiv=new NUe,this.infoIcon=new EUe(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),CUe=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?a(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},jUe=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},S9=function(){function e(){}return e.hasPermissions=function(){return CUe(this,void 0,void 0,function(){var t,r,n,i;return jUe(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=a.sent(),r=0,n=t;r<n.length;r++)if(i=n[r],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},e}(),Kf=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var n=r[t];if(e.isCameraScanType(n))return!0}return!1},e.isCameraScanType=function(t){return t===Zh.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Zh.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Vc.DEFAULT_SUPPORTED_SCAN_TYPE;var r=Vc.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var n=0,i=t;n<i.length;n++){var a=i[n];if(!Vc.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return t},e}(),Ol=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),zd=function(){function e(){}return e.createElement=function(t,r){var n=document.createElement(t);return n.id=r,n.classList.add(Ol.ALL_ELEMENT_CLASS),t==="button"&&n.setAttribute("type","button"),n},e}(),YQ=function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?a(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})},XQ=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return c([u,f])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},_9=function(){function e(t,r,n){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=n}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return YQ(this,void 0,void 0,function(){var t,r;return XQ(this,function(n){switch(n.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=n.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?yi.torchOffButton():yi.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var n=t?yi.torchOnFailedMessage():yi.torchOffFailedMessage();r&&(n+="; Error = "+r),this.onTorchActionFailureCallback(n)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),TUe=function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=zd.createElement("button",Ol.TORCH_BUTTON_ID),this.torchController=new _9(t,this,r)}return e.prototype.render=function(t,r){var n=this;this.torchButton.innerText=yi.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var i=this;this.torchButton.addEventListener("click",function(a){return YQ(n,void 0,void 0,function(){return XQ(this,function(o){switch(o.label){case 0:return[4,i.torchController.flipState()];case 1:return o.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Ol.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Ol.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Ol.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Ol.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new _9(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=yi.torchOnButton(),this.torchController.reset()},e.create=function(t,r,n,i){var a=new e(r,i);return a.render(t,n),a},e}(),OUe=function(){function e(t,r,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=zd.createElement("button",Ol.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(l){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=zd.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(l){if(!(l==null||l.target==null)){var c=l.target;if(!(c.files&&c.files.length===0)){var u=c.files,f=u[0],p=f.name;a.setImageNameToButton(p),n(f)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(l){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),l.stopPropagation(),l.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(l){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),l.stopPropagation(),l.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(l){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),l.stopPropagation(),l.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(l){l.stopPropagation(),l.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var c=l.dataTransfer;if(c){var u=c.files;if(!u||u.length===0)return;for(var f=!1,p=0;p<u.length;++p){var g=u.item(p);if(g){var x=/image.*/;if(g.type.match(x)){f=!0;var b=g.name;a.setImageNameToButton(b),n(g),o.innerText=yi.dragAndDropMessage();break}}}f||(o.innerText=yi.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=yi.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var n=t.substring(0,8),i=t.length,a=t.substring(i-8,i);t="".concat(n,"....").concat(a)}var o=yi.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=o},e.prototype.setInitialValueToButton=function(){var t=yi.fileSelectionChooseImage()+" - "+yi.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,n){var i=new e(t,r,n);return i},e}(),IUe=function(){function e(t){this.selectElement=zd.createElement("select",Ol.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var n=this.cameras.length;if(n===0)throw new Error("No cameras found");if(n===1)r.style.display="none";else{var i=yi.selectCamera();r.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var a=1,o=0,l=this.cameras;o<l.length;o++){var c=l[o],u=c.id,f=c.label==null?u:c.label;(!f||f==="")&&(f=[yi.anonymousCameraPrefix(),a++].join(" "));var p=document.createElement("option");p.value=u,p.innerText=f,this.options.push(p),this.selectElement.appendChild(p)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,n=this.options;r<n.length;r++){var i=n[r];if(i.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var n=new e(r);return n.render(t),n},e}(),PUe=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=zd.createElement("input",Ol.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=yi.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=yi.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,n,i){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var n=new e;return n.render(t,r),n},e}(),xl;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(xl||(xl={}));function kUe(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function MUe(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var DUe=function(){function e(t,r,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=n===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Kf(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new HQ(this.verbose),this.persistedDataManager=new _Ue,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,o){if(t)t(a,o);else{if(n.lastMatchFound===a)return;n.lastMatchFound=a,n.setHeaderMessage(yi.lastMatch(a),xl.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,o){r&&r(a,o)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new y9(this.getScanRegionId(),MUe(this.config,this.verbose))},e.prototype.pause=function(t){(Iu(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var n=document.getElementById(t.elementId);n&&(n.innerHTML="",t.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,i){if(!t.html5Qrcode){n();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(a){if(!t.html5Qrcode){n();return}t.html5Qrcode.clear(),r(),n()}).catch(function(a){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",a),i(a)}):(t.html5Qrcode.clear(),r(),n())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Vc.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Vc.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Vc.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Vc.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Vc.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Vc.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Vc.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),n=this.getScanRegionId();r.id=n,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),Kf.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),a=this.getDashboardId();i.id=a,i.style.width="100%",t.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var n=new AUe;n.renderInto(r);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",r.appendChild(i)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,n){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(yi.cameraPermissionRequesting());var a=function(){n||i.createPermissionButton(t,r)};y9.getCameras().then(function(o){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),o&&o.length>0?(t.removeChild(r),i.renderCameraSelection(o)):(i.setHeaderMessage(yi.noCameraFound(),xl.STATUS_WARNING),a())}).catch(function(o){i.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:a(),i.setHeaderMessage(o,xl.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var n=this,i=zd.createElement("button",this.getCameraPermissionButtonId());i.innerText=yi.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,n.createCameraListUi(t,r,i)}),r.appendChild(i)},e.prototype.createPermissionsUi=function(t,r){var n=this;if(Kf.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){S9.hasPermissions().then(function(i){i?n.createCameraListUi(t,r):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r))}).catch(function(i){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=Kf.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(n);var i=document.createElement("div");i.style.textAlign="center",n.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,i),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=Kf.isFileScanType(this.currentScanType),n=this,i=function(a){if(!n.html5Qrcode)throw"html5Qrcode not defined";Kf.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(yi.loadingImage()),n.html5Qrcode.scanFileV2(a,!0).then(function(o){n.resetHeaderMessage(),n.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){n.setHeaderMessage(o,xl.STATUS_WARNING),n.qrCodeErrorCallback(o,WQ.createFrom(o))}))};this.fileSelectionUi=OUe.create(t,r,i)},e.prototype.renderCameraSelection=function(t){var r=this,n=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var a=PUe.create(i,!1),o=function(y){var _=y.zoomFeature();if(_.isSupported()){a.setOnCameraZoomValueChangeCallback(function(E){_.apply(E)});var N=1;r.config.defaultZoomValueIfSupported&&(N=r.config.defaultZoomValueIfSupported),N=J$e(N,_.min(),_.max()),a.setValues(_.min(),_.max(),N,_.step()),a.show()}},l=IUe.create(i,t),c=document.createElement("span"),u=zd.createElement("button",Ol.CAMERA_START_BUTTON_ID);u.innerText=yi.scanButtonStartScanningText(),c.appendChild(u);var f=zd.createElement("button",Ol.CAMERA_STOP_BUTTON_ID);f.innerText=yi.scanButtonStopScanningText(),f.style.display="none",f.disabled=!0,c.appendChild(f);var p,g=function(y){if(!y.torchFeature().isSupported()){p&&p.hide();return}p?p.updateTorchCapability(y.torchFeature()):p=TUe.create(c,y.torchFeature(),{display:"none",marginLeft:"5px"},function(_){n.setHeaderMessage(_,xl.STATUS_WARNING)}),p.show()};i.appendChild(c);var x=function(y){y||(u.style.display="none"),u.innerText=yi.scanButtonStartScanningText(),u.style.opacity="1",u.disabled=!1,y&&(u.style.display="inline-block")};if(u.addEventListener("click",function(y){u.innerText=yi.scanButtonScanningStarting(),l.disable(),u.disabled=!0,u.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var _=l.getValue();n.persistedDataManager.setLastUsedCameraId(_),n.html5Qrcode.start(_,kUe(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(N){f.disabled=!1,f.style.display="inline-block",x(!1);var E=n.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&g(E),r.config.showZoomSliderIfSupported===!0&&o(E)}).catch(function(N){n.showHideScanTypeSwapLink(!0),l.enable(),x(!0),n.setHeaderMessage(N,xl.STATUS_WARNING)})}),l.hasSingleItem()&&u.click(),f.addEventListener("click",function(y){if(!n.html5Qrcode)throw"html5Qrcode not defined";f.disabled=!0,n.html5Qrcode.stop().then(function(_){r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),l.enable(),u.disabled=!1,f.style.display="none",u.style.display="inline-block",p&&(p.reset(),p.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(_){f.disabled=!1,n.setHeaderMessage(_,xl.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var b=n.persistedDataManager.getLastUsedCameraId();l.hasValue(b)?(l.setValue(b),u.click()):n.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=yi.textIfCameraScanSelected(),n=yi.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var o=zd.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=Kf.isCameraScanType(this.currentScanType)?r:n,o.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Kf.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),o.innerText=n,t.currentScanType=Zh.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),o.innerText=r,t.currentScanType=Zh.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),a.appendChild(o),i.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){S9.hasPermissions().then(function(n){if(n){var i=document.getElementById(r.getCameraPermissionButtonId());if(!i)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(n){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=xl.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=t,n.style.display="block",r){case xl.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case xl.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case xl.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=wUe,this.cameraScanImage.alt=yi.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=bUe,this.fileScanImage.alt=yi.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Ol.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Ol.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const LUe=or.object({partId:or.string().min(1,"Part ID required"),name:or.string().min(1,"Name required"),description:or.string().optional(),quantity:or.number().min(0),unitCost:or.string().optional(),reorderLevel:or.number().min(0).optional(),category:or.string().optional(),supplier:or.string().optional()});function N9(){const[e,t]=O.useState("location-assignment"),[r,n]=O.useState(null),[i,a]=O.useState(null),[o,l]=O.useState(null),[c,u]=O.useState(null),[f,p]=O.useState([]),[g,x]=O.useState("manual"),[b,y]=O.useState(""),[_,N]=O.useState(!1),[E,C]=O.useState(!1),[I,P]=O.useState("location"),[D,k]=O.useState(null),[L,B]=O.useState(!1),[G,F]=O.useState(null),[U,q]=O.useState(""),[K,V]=O.useState("1"),ee=O.useRef(null),te=O.useRef(null),[J,ge]=O.useState(!0),[Ie,Ge]=O.useState(0),[W,Q]=O.useState([]),[Z,re]=O.useState(!1),le=O.useRef(null),[Ne,Ae]=O.useState(""),[ve,xe]=O.useState(!1),{data:Le=[],isLoading:Se,error:ye}=Er({queryKey:["/api/storage-locations"],staleTime:5*60*1e3,refetchOnWindowFocus:!1}),{data:We=[],isLoading:Ye,error:we}=Er({queryKey:["/api/shelves"],staleTime:5*60*1e3,refetchOnWindowFocus:!1});console.log("Bulk Inventory Data Debug:",{locations:Le,locationsLength:Array.isArray(Le)?Le.length:"Not array",locationsLoading:Se,locationsError:(ye==null?void 0:ye.message)||null,shelves:We,shelvesLength:Array.isArray(We)?We.length:"Not array",shelvesLoading:Ye,shelvesError:(we==null?void 0:we.message)||null});const Pe=Array.isArray(We)?We.filter(ne=>r?ne.locationId===r:!1):[],ce=Array.isArray(We)?We.filter(ne=>o?ne.locationId===o:!1):[];O.useEffect(()=>{if(Array.isArray(Le)&&Le.length>0&&!o){localStorage.getItem("bulkInventoryAutoSet")||(localStorage.removeItem("bulkInventoryDefaultLocation"),localStorage.removeItem("bulkInventoryDefaultShelf"),localStorage.setItem("bulkInventoryAutoSet","cleared"));const De=localStorage.getItem("bulkInventoryDefaultLocation"),gt=localStorage.getItem("bulkInventoryDefaultShelf"),Nt=localStorage.getItem("bulkInventoryUserChosen");if(De&&gt&&Nt==="true"){const Pr=parseInt(De),Jr=parseInt(gt),fa=Le.find(Te=>Te.id===Pr),Ln=Array.isArray(We)?We.find(Te=>Te.id===Jr):null;fa&&Ln&&(l(Pr),u(Jr))}}},[Le,We,o]),O.useEffect(()=>{o&&(localStorage.setItem("bulkInventoryDefaultLocation",o.toString()),localStorage.setItem("bulkInventoryUserChosen","true"))},[o]),O.useEffect(()=>{c&&(localStorage.setItem("bulkInventoryDefaultShelf",c.toString()),localStorage.setItem("bulkInventoryUserChosen","true"))},[c]),O.useEffect(()=>{const ne=De=>{le.current&&!le.current.contains(De.target)&&re(!1)};return document.addEventListener("mousedown",ne),()=>document.removeEventListener("mousedown",ne)},[]);const Ce=ne=>{const De=Array.isArray(Le)?Le.find(gt=>gt.id===ne):null;return De?De.name:"Unknown Location"},fe=ne=>{const De=Array.isArray(We)?We.find(gt=>gt.id===ne):null;return De?De.name:"Unknown Shelf"},ke=()=>{o&&c&&(n(o),a(c),gi({title:"Default Location Applied",description:`Using ${Ce(o)} - ${fe(c)} as target location`}))},He=_s({resolver:Ns(LUe),defaultValues:{partId:"",name:"",description:"",quantity:0,unitCost:"",reorderLevel:0,category:"",supplier:""}});O.useEffect(()=>(_&&te.current&&g==="camera"&&(async()=>{try{ee.current=new DUe("barcode-scanner",{fps:10,qrbox:{width:300,height:300},aspectRatio:1},!1),ee.current.render(De=>{const gt=Date.now();gt-Ie<1e3||!J||(Ge(gt),ge(!1),console.log("Bulk inventory barcode scanned:",De),nt(De),setTimeout(()=>{ge(!0)},1e3))},De=>{De&&De.includes("NotAllowedError")&&(console.warn("Camera permission denied"),ee.current&&(ee.current.clear(),ee.current=null),N(!1),x("manual"),gi({title:"Camera Access Denied",description:"Switched to manual entry mode. You can enter barcodes manually.",variant:"destructive"}))})}catch(De){console.error("Scanner initialization error:",De),N(!1),x("manual"),gi({title:"Camera Error",description:"Unable to access camera. Using manual entry mode.",variant:"destructive"})}})(),()=>{ee.current&&(ee.current.clear(),ee.current=null)}),[_,g]);const nt=async ne=>{(!r||!i)&&ke();try{const De=await fetch(`/api/parts-lookup/${ne}`);if(De.ok){const gt=await De.json();F(gt),q(ne),V("1"),B(!0),gi({title:"Part Found",description:`${gt.name} - Enter quantity received`})}else He.setValue("partId",ne),He.setValue("name",""),He.setValue("description",""),He.setValue("quantity",1),He.setValue("unitCost",""),He.setValue("reorderLevel",0),C(!0),gi({title:"New Part",description:`Part ${ne} not found - adding new part`})}catch(De){console.error("Scan error:",De),gi({title:"Scan Error",description:"Failed to process barcode",variant:"destructive"})}},mt=()=>{if(!G||!K)return;const ne=parseInt(K);if(isNaN(ne)||ne<=0){gi({title:"Invalid Quantity",description:"Please enter a valid quantity",variant:"destructive"});return}const De=f.findIndex(gt=>gt.partId===G.partId);if(De>=0){const gt=[...f];gt[De].quantity+=ne,p(gt),gi({title:"Quantity Added",description:`Added ${ne} more ${G.name} (total: ${gt[De].quantity})`})}else{const gt={id:Date.now().toString(),partId:G.partId,name:G.name,description:G.description,barcode:U,quantity:ne,unitCost:G.unitCost,reorderLevel:G.reorderLevel,currentQuantity:G.quantity,action:"update"};p(Nt=>[...Nt,gt]),gi({title:"Part Added",description:`Added ${G.name} with quantity ${ne}`})}B(!1),F(null),q(""),V("1")},At=async ne=>{if(y(ne),!ne.trim()){Q([]),re(!1);return}try{const De=await fetch(`/api/parts-lookup/${ne}`);if(De.ok){const Nt=await De.json();Q([Nt]),re(!0);return}const gt=await fetch(`/api/parts/search?q=${encodeURIComponent(ne)}`);if(gt.ok){const Nt=await gt.json();Q(Nt),re(Nt.length>0)}}catch(De){console.error("Search error:",De),Q([]),re(!1)}},qt=ne=>{(!r||!i)&&ke(),ar(ne,ne.partId),y(""),Q([]),re(!1)},mr=()=>{const ne=b.trim();He.setValue("partId",ne),He.setValue("name",""),He.setValue("description",""),He.setValue("quantity",1),He.setValue("unitCost",""),He.setValue("reorderLevel",0),C(!0),y(""),Q([]),re(!1),gi({title:"New Part",description:`Part ${ne} not found - adding new part`})},ar=(ne,De)=>{F(ne),q(De),V("1"),B(!0),gi({title:"Part Found",description:`${ne.name} - Enter quantity received`})},ze=ne=>{p(De=>De.filter(gt=>gt.id!==ne)),gi({title:"Item Removed",description:"Item removed from scan list"})},tt=()=>{if(e==="physical-count"){const gt=Array.isArray(Le)?Le.find(Pr=>Pr.id===r):null,Nt=Array.isArray(We)?We.find(Pr=>Pr.id===i):null;return gt&&Nt?`Counting: ${gt.name} - ${Nt.name}`:I==="all"?"Counting: All inventory":"Select location for focused count"}const ne=Array.isArray(Le)?Le.find(gt=>gt.id===r):null,De=Array.isArray(We)?We.find(gt=>gt.id===i):null;return ne&&De?`${ne.name} - ${De.name}`:"No location selected"},dt=async()=>{if(!r||!i){gi({title:"Select Location",description:"Please select location and shelf first",variant:"destructive"});return}try{const ne=await fetch(`/api/parts?locationId=${r}&shelfId=${i}`);if(ne.ok){const De=await ne.json(),gt=De.map(Nt=>({id:`loaded-${Nt.id}`,partId:Nt.partId,name:Nt.name,description:Nt.description,barcode:Nt.partId,quantity:Nt.quantity,unitCost:Nt.unitCost,reorderLevel:Nt.reorderLevel,currentQuantity:Nt.quantity,action:"update"}));p(gt),gi({title:"Inventory Loaded",description:`Loaded ${De.length} parts from ${tt()}`})}}catch(ne){console.error("Load error:",ne),gi({title:"Load Error",description:"Failed to load existing inventory",variant:"destructive"})}},Zt=Sr({mutationFn:async()=>{if(console.log("Starting bulk inventory update..."),console.log("Scanned items:",f),console.log("Workflow mode:",e),console.log("Location ID:",r),console.log("Shelf ID:",i),f.length===0)throw new Error("No items to process");if(!r||!i)throw new Error("Please select location and shelf first");const ne=f.map(Nt=>({partId:Nt.partId,name:Nt.name,description:Nt.description,quantity:Nt.quantity,unitCost:Nt.unitCost,reorderLevel:Nt.reorderLevel,locationId:r,shelfId:i,action:Nt.action}));console.log("Sending updates:",ne);const De=await nn("POST","/api/bulk-inventory-update",{updates:ne,workflowMode:e,locationId:r,shelfId:i});if(!De.ok){const Nt=await De.text();throw console.error("API error response:",Nt),new Error(`Server error: ${De.status} - ${Nt}`)}const gt=await De.json();return console.log("API response:",gt),gt},onSuccess:ne=>{const De=f.length;p([]),ur.invalidateQueries({queryKey:["/api/parts"]}),ur.invalidateQueries({queryKey:["/api/parts/low-stock"]}),ur.invalidateQueries({queryKey:["/api/stats"]}),console.log("Bulk inventory update successful:",ne),gi({title:"Bulk Update Complete",description:`Successfully processed ${De} items. Inventory updated!`})},onError:ne=>{gi({title:"Update Failed",description:ne.message||"Failed to process bulk update",variant:"destructive"})}});return s.jsxs("div",{className:"p-4 max-w-6xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ao,{className:"h-8 w-8 text-orange-600"}),s.jsx("h1",{className:"text-3xl font-bold",children:"Bulk Inventory Management"})]}),s.jsxs(Pt,{children:[s.jsx(Gt,{children:s.jsx(Yt,{className:"text-xl",children:"Select Workflow"})}),s.jsx(zt,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(Ee,{variant:e==="location-assignment"?"default":"outline",className:"h-auto p-3 text-left flex flex-col items-center gap-2",onClick:()=>t("location-assignment"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hd,{className:"h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:"Assign Location"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Scan parts to assign them to a shelf location"})]}),s.jsxs(Ee,{variant:e==="physical-count"?"default":"outline",className:"h-auto p-3 text-left flex flex-col items-center gap-2",onClick:()=>t("physical-count"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bz,{className:"h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:"Physical Count"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Count inventory by scanning items and updating quantities"})]}),s.jsxs(Ee,{variant:e==="receiving"?"default":"outline",className:"h-auto p-3 text-left flex flex-col items-center gap-2",onClick:()=>t("receiving"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(MO,{className:"h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:"Receiving"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Process incoming shipments and add to inventory"})]}),s.jsxs(Ee,{variant:e==="reorganizing"?"default":"outline",className:"h-auto p-3 text-left flex flex-col items-center gap-2",onClick:()=>t("reorganizing"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(W4,{className:"h-5 w-5"}),s.jsx("span",{className:"font-semibold",children:"Reorganizing"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Move existing parts to new locations"})]})]})})]}),s.jsxs(Pt,{children:[s.jsx(Gt,{children:s.jsxs(Yt,{className:"flex items-center gap-2",children:[s.jsx(Hd,{className:"h-5 w-5"}),"Target Location & Shelf"]})}),s.jsxs(zt,{className:"space-y-6",children:[s.jsxs("div",{className:"border rounded-lg p-4 bg-blue-50",children:[s.jsx("h3",{className:"text-sm font-semibold mb-3 text-blue-900",children:"Default Location (Auto-applies when scanning)"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ht,{htmlFor:"defaultLocation",children:"Default Location"}),s.jsxs(Bn,{value:(o==null?void 0:o.toString())||"",onValueChange:ne=>{const De=Number(ne);l(De),u(null),localStorage.removeItem("bulkInventoryDefaultShelf")},children:[s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select default location"})}),s.jsx(Dn,{children:Array.isArray(Le)&&Le.length>0?Le.map(ne=>s.jsx(er,{value:ne.id.toString(),children:ne.name},ne.id)):s.jsx(er,{value:"none",disabled:!0,children:"No locations available"})})]})]}),s.jsxs("div",{children:[s.jsx(Ht,{htmlFor:"defaultShelf",children:"Default Shelf"}),s.jsxs(Bn,{value:(c==null?void 0:c.toString())||"",onValueChange:ne=>{const De=Number(ne);u(De)},disabled:!o,children:[s.jsx(Mn,{children:s.jsx($n,{placeholder:o?"Select default shelf":"Select location first"})}),s.jsx(Dn,{children:ce.length>0?ce.map(ne=>s.jsx(er,{value:ne.id.toString(),children:ne.name},ne.id)):s.jsx(er,{value:"none",disabled:!0,children:o?"No shelves in this location":"Select location first"})})]})]})]}),o&&c?s.jsxs("div",{className:"mt-3 space-y-2",children:[s.jsxs("div",{className:"p-2 bg-blue-100 rounded text-sm text-blue-800",children:["Default: ",Ce(o)," - ",fe(c)]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(Ee,{onClick:ke,variant:"outline",size:"sm",children:"Apply Default to Current Target"}),s.jsx(Ee,{onClick:()=>{l(null),u(null),localStorage.removeItem("bulkInventoryDefaultLocation"),localStorage.removeItem("bulkInventoryDefaultShelf"),localStorage.removeItem("bulkInventoryUserChosen"),gi({title:"Default Cleared",description:"Default location has been cleared"})},variant:"outline",size:"sm",children:"Clear Default"})]})]}):s.jsx("div",{className:"mt-3 p-2 bg-gray-100 rounded text-sm text-gray-600",children:"No default location set. Select location and shelf above to set a default."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold mb-3",children:"Current Target Location"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Ht,{htmlFor:"location",children:"Location"}),s.jsxs(Bn,{value:(r==null?void 0:r.toString())||"",onValueChange:ne=>{n(Number(ne)),a(null)},children:[s.jsx(Mn,{children:s.jsx($n,{placeholder:Se?"Loading locations...":"Select location"})}),s.jsx(Dn,{children:Se?s.jsx(er,{value:"loading",disabled:!0,children:"Loading locations..."}):Array.isArray(Le)&&Le.length>0?Le.map(ne=>s.jsx(er,{value:ne.id.toString(),children:ne.name},ne.id)):s.jsx(er,{value:"none",disabled:!0,children:"No locations available"})})]}),Se&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Loading locations..."}),!Se&&(!Array.isArray(Le)||Le.length===0)&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:"No locations found"})]}),s.jsxs("div",{children:[s.jsx(Ht,{htmlFor:"shelf",children:"Shelf"}),s.jsxs(Bn,{value:(i==null?void 0:i.toString())||"",onValueChange:ne=>a(Number(ne)),disabled:!r||Ye,children:[s.jsx(Mn,{children:s.jsx($n,{placeholder:r?Ye?"Loading shelves...":"Select shelf":"Select location first"})}),s.jsx(Dn,{children:Ye?s.jsx(er,{value:"loading",disabled:!0,children:"Loading shelves..."}):Pe.length>0?Pe.map(ne=>s.jsx(er,{value:ne.id.toString(),children:ne.name},ne.id)):r?s.jsx(er,{value:"none",disabled:!0,children:"No shelves available for this location"}):s.jsx(er,{value:"none",disabled:!0,children:"Select location first"})})]}),Ye&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Loading shelves..."}),!Ye&&r&&Pe.length===0&&s.jsx("p",{className:"text-sm text-red-600 mt-1",children:"No shelves found for selected location"})]}),r&&i&&s.jsxs("div",{className:"mt-3 p-2 bg-green-100 rounded text-sm text-green-800",children:["Current Target: ",Ce(r)," - ",fe(i)]})]}),!1,s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ti,{variant:"outline",className:"text-sm",children:tt()}),e==="physical-count"&&s.jsx(Ee,{variant:"outline",size:"sm",onClick:dt,disabled:!r||!i,children:"Load Existing Inventory"})]})]})]})]}),s.jsxs(Pt,{children:[s.jsx(Gt,{children:s.jsxs(Yt,{className:"flex items-center gap-2",children:[s.jsx(pM,{className:"h-5 w-5"}),"Barcode Scanner"]})}),s.jsx(zt,{className:"space-y-4",children:s.jsxs(Af,{value:g,onValueChange:ne=>x(ne),children:[s.jsxs(hd,{className:"grid w-full grid-cols-2",children:[s.jsx(ri,{value:"manual",children:"Manual Entry"}),s.jsx(ri,{value:"camera",children:"Camera Scanner"})]}),s.jsx(ua,{value:"camera",className:"space-y-4",children:s.jsx("div",{className:"text-center py-8",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-lg font-medium",children:"Camera Scanner"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Point your camera at a barcode to scan parts"}),_?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{id:"barcode-scanner",ref:te,className:"w-full min-h-[300px] border rounded-lg bg-gray-50"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(Ee,{onClick:()=>{ee.current&&(ee.current.clear(),ee.current=null),N(!1)},variant:"outline",children:"Stop Scanning"}),s.jsx(Ee,{onClick:()=>{ee.current&&(ee.current.clear(),ee.current=null),N(!1),x("manual")},variant:"secondary",children:"Use Manual Entry"})]})]}):s.jsxs(Ee,{onClick:()=>N(!0),className:"flex items-center gap-2",children:[s.jsx(pM,{className:"h-4 w-4"}),"Start Camera Scanner"]})]})})}),s.jsx(ua,{value:"manual",className:"space-y-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative",ref:le,children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Rt,{placeholder:"Enter barcode, part number, or description...",value:b,onChange:ne=>At(ne.target.value),className:"flex-1"}),Z&&W.length>0&&s.jsxs("div",{className:"absolute top-full left-0 right-0 z-50 border rounded-md bg-white shadow-lg overflow-hidden mt-1",children:[s.jsxs("div",{className:"bg-muted/50 px-3 py-1 text-xs font-medium border-b",children:[W.length," part(s) found"]}),s.jsx("div",{className:"max-h-[200px] overflow-y-auto",children:W.slice(0,10).map(ne=>s.jsxs("button",{type:"button",className:"w-full text-left px-3 py-2 border-b last:border-0 hover:bg-muted/50 focus:bg-muted/50 focus:outline-none",onClick:()=>qt(ne),children:[s.jsx("div",{className:"font-medium truncate",children:ne.name}),s.jsxs("div",{className:"text-xs text-muted-foreground flex justify-between",children:[s.jsx("span",{children:ne.partId}),s.jsxs("span",{className:ne.quantity<ne.reorderLevel?"text-red-500":"",children:[ne.quantity," in stock"]})]})]},ne.id))})]})]}),b.trim()&&(!Z||W.length===0)&&s.jsxs(Ee,{onClick:mr,variant:"outline",children:[s.jsx(Si,{className:"h-4 w-4 mr-2"}),"Add New Part"]})]})}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Start typing to search for parts by barcode, part number, or description. Select from the dropdown or create a new part."})]})})]})})]}),f.length>0&&s.jsxs(Pt,{children:[s.jsx(Gt,{children:s.jsxs(Yt,{children:["Scanned Items (",f.length,")"]})}),s.jsxs(zt,{children:[s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:f.map(ne=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:ne.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[ne.partId,"  Qty: ",ne.quantity,ne.unitCost&&`  $${ne.unitCost}`]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ee,{size:"sm",variant:"outline",onClick:()=>k(ne),children:s.jsx(Ip,{className:"h-4 w-4"})}),s.jsx(Ee,{size:"sm",variant:"outline",onClick:()=>ze(ne.id),children:s.jsx(Oo,{className:"h-4 w-4"})})]})]},ne.id))}),s.jsxs("div",{className:"flex gap-2 mt-4",children:[s.jsx(Ee,{onClick:()=>{console.log("Apply Changes clicked"),console.log("Current state:",{scannedItemsCount:f.length,selectedLocationId:r,selectedShelfId:i,workflowMode:e,isPending:Zt.isPending}),Zt.mutate()},disabled:!r||!i||Zt.isPending||f.length===0,className:"flex-1",children:Zt.isPending?"Processing...":`Apply Changes (${f.length} items)`}),s.jsx(Ee,{variant:"outline",onClick:()=>p([]),children:"Clear All"})]})]})]}),s.jsx(Qr,{open:L,onOpenChange:B,children:s.jsxs(qr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Enter Quantity"}),s.jsx(gn,{children:G&&`How many ${G.name} did you receive?`})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ht,{htmlFor:"quantity",children:"Quantity Received"}),s.jsx(Rt,{id:"quantity",type:"number",value:K,onChange:ne=>V(ne.target.value),min:"1",className:"mt-1",autoFocus:!0,onKeyDown:ne=>{ne.key==="Enter"&&mt()}})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>{B(!1),F(null),q(""),V("1")},children:"Cancel"}),s.jsx(Ee,{onClick:mt,children:"Add to List"})]})]})]})}),s.jsx(Qr,{open:!!D,onOpenChange:ne=>{ne||(k(null),Ae(""),xe(!1))},children:s.jsxs(qr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Edit Item"}),s.jsxs(gn,{children:["Update the quantity and details for ",D==null?void 0:D.name]})]}),D&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs(Ht,{htmlFor:"edit-quantity",children:["Quantity (Current: ",D.quantity,")"]}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(Rt,{id:"edit-quantity",type:"number",value:D.quantity,onChange:ne=>{const De=parseInt(ne.target.value)||0;k({...D,quantity:De})},min:"0",className:"flex-1"}),s.jsx(Ee,{type:"button",variant:"outline",size:"sm",onClick:()=>xe(!ve),children:ve?"Cancel":"Add More"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Enter total quantity or click "Add More" to add additional items'}),ve&&s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Rt,{type:"number",placeholder:"Additional quantity",value:Ne,onChange:ne=>Ae(ne.target.value),min:"1",className:"flex-1",onKeyDown:ne=>{if(ne.key==="Enter"){const De=parseInt(Ne);De&&De>0&&(k({...D,quantity:D.quantity+De}),Ae(""),xe(!1),gi({title:"Quantity Added",description:`Added ${De} more items`}))}}}),s.jsx(Ee,{type:"button",size:"sm",onClick:()=>{const ne=parseInt(Ne);ne&&ne>0&&(k({...D,quantity:D.quantity+ne}),Ae(""),xe(!1),gi({title:"Quantity Added",description:`Added ${ne} more items`}))},children:"Add"})]})]}),s.jsxs("div",{children:[s.jsx(Ht,{htmlFor:"edit-cost",children:"Unit Cost ($)"}),s.jsx(Rt,{id:"edit-cost",type:"number",step:"0.01",value:D.unitCost||"",onChange:ne=>{k({...D,unitCost:ne.target.value})},min:"0",className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(Ht,{htmlFor:"edit-reorder",children:"Reorder Level"}),s.jsx(Rt,{id:"edit-reorder",type:"number",value:D.reorderLevel||0,onChange:ne=>{const De=parseInt(ne.target.value)||0;k({...D,reorderLevel:De})},min:"0",className:"mt-1"})]}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>{k(null),Ae(""),xe(!1)},children:"Cancel"}),s.jsx(Ee,{onClick:()=>{p(ne=>ne.map(De=>De.id===D.id?D:De)),k(null),Ae(""),xe(!1),gi({title:"Item Updated",description:`${D.name} has been updated`})},children:"Save Changes"})]})]})]})}),s.jsx(Qr,{open:E,onOpenChange:C,children:s.jsxs(qr,{children:[s.jsxs(Gr,{children:[s.jsx(Yr,{children:"Add New Part"}),s.jsx(gn,{children:"This barcode was not found. Please provide part details."})]}),s.jsx(Us,{...He,children:s.jsxs("form",{onSubmit:He.handleSubmit(ne=>{const De={id:Date.now().toString(),partId:ne.partId,name:ne.name,description:ne.description,barcode:ne.partId,quantity:ne.quantity,unitCost:ne.unitCost,reorderLevel:ne.reorderLevel,action:"add"};p(gt=>[...gt,De]),C(!1),He.reset(),gi({title:"Part Added",description:`${ne.name} added to scan list`})}),className:"space-y-4",children:[s.jsx(Dr,{control:He.control,name:"partId",render:({field:ne})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Part ID"}),s.jsx(Ir,{children:s.jsx(Rt,{...ne})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:He.control,name:"name",render:({field:ne})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Name"}),s.jsx(Ir,{children:s.jsx(Rt,{...ne})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:He.control,name:"quantity",render:({field:ne})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Quantity"}),s.jsx(Ir,{children:s.jsx(Rt,{type:"number",...ne,onChange:De=>ne.onChange(Number(De.target.value))})}),s.jsx(Lr,{})]})}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>C(!1),children:"Cancel"}),s.jsx(Ee,{type:"submit",children:"Add Part"})]})]})})]})})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var c4={};c4.version="0.18.5";var KQ=1252,RUe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],QQ=function(e){RUe.indexOf(e)!=-1&&(KQ=e)};function FUe(){QQ(1252)}var f2=function(e){QQ(e)};function BUe(){f2(1200),FUe()}var Eb=function(t){return String.fromCharCode(t)},E9=function(t){return String.fromCharCode(t)},$0,Nh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function h2(e){for(var t="",r=0,n=0,i=0,a=0,o=0,l=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),a=r>>2,n=e.charCodeAt(u++),o=(r&3)<<4|n>>4,i=e.charCodeAt(u++),l=(n&15)<<2|i>>6,c=i&63,isNaN(n)?l=c=64:isNaN(i)&&(c=64),t+=Nh.charAt(a)+Nh.charAt(o)+Nh.charAt(l)+Nh.charAt(c);return t}function wf(e){var t="",r=0,n=0,i=0,a=0,o=0,l=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)a=Nh.indexOf(e.charAt(u++)),o=Nh.indexOf(e.charAt(u++)),r=a<<2|o>>4,t+=String.fromCharCode(r),l=Nh.indexOf(e.charAt(u++)),n=(o&15)<<4|l>>2,l!==64&&(t+=String.fromCharCode(n)),c=Nh.indexOf(e.charAt(u++)),i=(l&3)<<6|c,c!==64&&(t+=String.fromCharCode(i));return t}var ai=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),jf=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function zp(e){return ai?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function A9(e){return ai?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Xc=function(t){return ai?jf(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function wN(e){if(typeof ArrayBuffer>"u")return Xc(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function ew(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function $Ue(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Rs=ai?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:jf(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function UUe(e){for(var t=[],r=0,n=e.length+250,i=zp(e.length+255),a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o<128)i[r++]=o;else if(o<2048)i[r++]=192|o>>6&31,i[r++]=128|o&63;else if(o>=55296&&o<57344){o=(o&1023)+64;var l=e.charCodeAt(++a)&1023;i[r++]=240|o>>8&7,i[r++]=128|o>>2&63,i[r++]=128|l>>6&15|(o&3)<<4,i[r++]=128|l&63}else i[r++]=224|o>>12&15,i[r++]=128|o>>6&63,i[r++]=128|o&63;r>n&&(t.push(i.slice(0,r)),r=0,i=zp(65535),n=65530)}return t.push(i.slice(0,r)),Rs(t)}var Lv=/\u0000/g,Ab=/[\u0001-\u0006]/g;function Tm(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function eu(e,t){var r=""+e;return r.length>=t?r:ka("0",t-r.length)+r}function M8(e,t){var r=""+e;return r.length>=t?r:ka(" ",t-r.length)+r}function u4(e,t){var r=""+e;return r.length>=t?r:r+ka(" ",t-r.length)}function zUe(e,t){var r=""+Math.round(e);return r.length>=t?r:ka("0",t-r.length)+r}function VUe(e,t){var r=""+e;return r.length>=t?r:ka("0",t-r.length)+r}var C9=Math.pow(2,32);function P1(e,t){if(e>C9||e<-C9)return zUe(e,t);var r=Math.round(e);return VUe(r,t)}function d4(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var j9=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],BA=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function WUe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ma={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},T9={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},HUe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function f4(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,o=1,l=0,c=1,u=0,f=0,p=Math.floor(i);u<t&&(p=Math.floor(i),l=p*o+a,f=p*u+c,!(i-p<5e-8));)i=1/(i-p),a=o,o=l,c=u,u=f;if(f>t&&(u>t?(f=c,l=a):(f=u,l=o)),!r)return[0,n*l,f];var g=Math.floor(n*l/f);return[g,n*l-g*f,f]}function Cb(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,o=[],l={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),t&&t.date1904&&(n+=1462),l.u>.9999&&(l.u=0,++i==86400&&(l.T=i=0,++n,++l.D)),n===60)o=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)o=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),o=[c.getFullYear(),c.getMonth()+1,c.getDate()],a=c.getDay(),n<60&&(a=(a+6)%7),r&&(a=ZUe(c,o))}return l.y=o[0],l.m=o[1],l.d=o[2],l.S=i%60,i=Math.floor(i/60),l.M=i%60,i=Math.floor(i/60),l.H=i,l.q=a,l}var ZQ=new Date(1899,11,31,0,0,0),qUe=ZQ.getTime(),GUe=new Date(1900,2,1,0,0,0);function JQ(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=GUe&&(r+=24*60*60*1e3),(r-(qUe+(e.getTimezoneOffset()-ZQ.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function D8(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function YUe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function XUe(e){var t=e<0?12:11,r=D8(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function KUe(e){var t=D8(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function QUe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=XUe(e):t===10?r=e.toFixed(10).substr(0,12):r=KUe(e),D8(YUe(r.toUpperCase()))}function yT(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):QUe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Jh(14,JQ(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function ZUe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function JUe(e,t,r,n){var i="",a=0,o=0,l=r.y,c,u=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:c=l%100,u=2;break;default:c=l%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return BA[r.m-1][1];case 5:return BA[r.m-1][0];default:return BA[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return j9[r.q][0];default:return j9[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?eu(r.S,t.length):(n>=2?o=n===3?1e3:100:o=n===1?10:1,a=Math.round(o*(r.S+r.u)),a>=60*o&&(a=0),t==="s"?a===0?"0":""+a/o:(i=eu(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=l,u=1;break}var f=u>0?eu(c,u):"";return f}function Eh(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var eZ=/%/g;function eze(e,t,r){var n=t.replace(eZ,""),i=t.length-n.length;return Kd(e,n,r*Math.pow(10,2*i))+ka("%",i)}function tze(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Kd(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function tZ(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+tZ(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var o=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,f){return c+u+f.substr(0,(i+a)%i)+"."+f.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var rZ=/# (\?+)( ?)\/( ?)(\d+)/;function rze(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),o=i-a*n,l=n;return r+(a===0?"":""+a)+" "+(o===0?ka(" ",e[1].length+1+e[4].length):M8(o,e[1].length)+e[2]+"/"+e[3]+eu(l,e[4].length))}function nze(e,t,r){return r+(t===0?"":""+t)+ka(" ",e[1].length+2+e[4].length)}var nZ=/^#*0*\.([0#]+)/,iZ=/\).*[0#]/,aZ=/\(###\) ###\\?-####/;function No(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function O9(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function I9(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function ize(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function aze(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ec(e,t,r){if(e.charCodeAt(0)===40&&!t.match(iZ)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ec("n",n,r):"("+ec("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return tze(e,t,r);if(t.indexOf("%")!==-1)return eze(e,t,r);if(t.indexOf("E")!==-1)return tZ(t,r);if(t.charCodeAt(0)===36)return"$"+ec(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+P1(c,t.length);if(t.match(/^[#?]+$/))return i=P1(r,0),i==="0"&&(i=""),i.length>t.length?i:No(t.substr(0,t.length-i.length))+i;if(a=t.match(rZ))return rze(a,c,u);if(t.match(/^#+0+$/))return u+P1(c,t.length-t.indexOf("0"));if(a=t.match(nZ))return i=O9(r,a[1].length).replace(/^([^\.]+)$/,"$1."+No(a[1])).replace(/\.$/,"."+No(a[1])).replace(/\.(\d*)$/,function(b,y){return"."+y+ka("0",No(a[1]).length-y.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+O9(c,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Eh(P1(c,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ec(e,t,-r):Eh(""+(Math.floor(r)+ize(r,a[1].length)))+"."+eu(I9(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return ec(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Tm(ec(e,t.replace(/[\\-]/g,""),r)),o=0,Tm(Tm(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return o<i.length?i.charAt(o++):b==="0"?"0":""}));if(t.match(aZ))return i=ec(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),l=f4(c,Math.pow(10,o)-1,!1),i=""+u,f=Kd("n",a[1],l[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+a[2]+"/"+a[3],f=u4(l[2],o),f.length<a[4].length&&(f=No(a[4].substr(a[4].length-f.length))+f),i+=f,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),l=f4(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?M8(l[1],o)+a[2]+"/"+a[3]+u4(l[2],o):ka(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=P1(r,0),t.length<=i.length?i:No(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var p=t.indexOf(".")-o,g=t.length-i.length-p;return No(t.substr(0,p)+i+t.substr(t.length-g))}if(a=t.match(/^00,000\.([#0]*0)$/))return o=I9(r,a[1].length),r<0?"-"+ec(e,t,-r):Eh(aze(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?eu(0,3-b.length):"")+b})+"."+eu(o,a[1].length);switch(t){case"###,##0.00":return ec(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var x=Eh(P1(c,0));return x!=="0"?u+x:"";case"###,###.00":return ec(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ec(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function sze(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Kd(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function oze(e,t,r){var n=t.replace(eZ,""),i=t.length-n.length;return Kd(e,n,r*Math.pow(10,2*i))+ka("%",i)}function sZ(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+sZ(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var o=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(o-r.length+a):r+="E+"+(o-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,c,u,f){return c+u+f.substr(0,(i+a)%i)+"."+f.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ju(e,t,r){if(e.charCodeAt(0)===40&&!t.match(iZ)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ju("n",n,r):"("+ju("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return sze(e,t,r);if(t.indexOf("%")!==-1)return oze(e,t,r);if(t.indexOf("E")!==-1)return sZ(t,r);if(t.charCodeAt(0)===36)return"$"+ju(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,o,l,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+eu(c,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:No(t.substr(0,t.length-i.length))+i;if(a=t.match(rZ))return nze(a,c,u);if(t.match(/^#+0+$/))return u+eu(c,t.length-t.indexOf("0"));if(a=t.match(nZ))return i=(""+r).replace(/^([^\.]+)$/,"$1."+No(a[1])).replace(/\.$/,"."+No(a[1])),i=i.replace(/\.(\d*)$/,function(b,y){return"."+y+ka("0",No(a[1]).length-y.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return u+Eh(""+c);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ju(e,t,-r):Eh(""+r)+"."+ka("0",a[1].length);if(a=t.match(/^#,#*,#0/))return ju(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Tm(ju(e,t.replace(/[\\-]/g,""),r)),o=0,Tm(Tm(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return o<i.length?i.charAt(o++):b==="0"?"0":""}));if(t.match(aZ))return i=ju(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(a[4].length,7),l=f4(c,Math.pow(10,o)-1,!1),i=""+u,f=Kd("n",a[1],l[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+a[2]+"/"+a[3],f=u4(l[2],o),f.length<a[4].length&&(f=No(a[4].substr(a[4].length-f.length))+f),i+=f,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return o=Math.min(Math.max(a[1].length,a[4].length),7),l=f4(c,Math.pow(10,o)-1,!0),u+(l[0]||(l[1]?"":"0"))+" "+(l[1]?M8(l[1],o)+a[2]+"/"+a[3]+u4(l[2],o):ka(" ",2*o+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:No(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),o=i.indexOf(".");var p=t.indexOf(".")-o,g=t.length-i.length-p;return No(t.substr(0,p)+i+t.substr(t.length-g))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ju(e,t,-r):Eh(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?eu(0,3-b.length):"")+b})+"."+eu(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var x=Eh(""+c);return x!=="0"?u+x:"";default:if(t.match(/\.[0#?]*$/))return ju(e,t.slice(0,t.lastIndexOf(".")),r)+No(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Kd(e,t,r){return(r|0)===r?ju(e,t,r):ec(e,t,r)}function lze(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var oZ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function lZ(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":d4(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(oZ))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function cze(e,t,r,n){for(var i=[],a="",o=0,l="",c="t",u,f,p,g="H";o<e.length;)switch(l=e.charAt(o)){case"G":if(!d4(e,o))throw new Error("unrecognized character "+l+" in "+e);i[i.length]={t:"G",v:"General"},o+=7;break;case'"':for(a="";(p=e.charCodeAt(++o))!==34&&o<e.length;)a+=String.fromCharCode(p);i[i.length]={t:"t",v:a},++o;break;case"\\":var x=e.charAt(++o),b=x==="("||x===")"?x:"t";i[i.length]={t:b,v:x},++o;break;case"_":i[i.length]={t:"t",v:" "},o+=2;break;case"@":i[i.length]={t:"T",v:t},++o;break;case"B":case"b":if(e.charAt(o+1)==="1"||e.charAt(o+1)==="2"){if(u==null&&(u=Cb(t,r,e.charAt(o+1)==="2"),u==null))return"";i[i.length]={t:"X",v:e.substr(o,2)},c=l,o+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=Cb(t,r),u==null))return"";for(a=l;++o<e.length&&e.charAt(o).toLowerCase()===l;)a+=l;l==="m"&&c.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=g),i[i.length]={t:l,v:a},c=l;break;case"A":case"a":case"":var y={t:l,v:l};if(u==null&&(u=Cb(t,r)),e.substr(o,3).toUpperCase()==="A/P"?(u!=null&&(y.v=u.H>=12?"P":"A"),y.t="T",g="h",o+=3):e.substr(o,5).toUpperCase()==="AM/PM"?(u!=null&&(y.v=u.H>=12?"PM":"AM"),y.t="T",o+=5,g="h"):e.substr(o,5).toUpperCase()==="/"?(u!=null&&(y.v=u.H>=12?"":""),y.t="T",o+=5,g="h"):(y.t="t",++o),u==null&&y.t==="T")return"";i[i.length]=y,c=l;break;case"[":for(a=l;e.charAt(o++)!=="]"&&o<e.length;)a+=e.charAt(o);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(oZ)){if(u==null&&(u=Cb(t,r),u==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},c=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",lZ(e)||(i[i.length]={t:"t",v:a}));break;case".":if(u!=null){for(a=l;++o<e.length&&(l=e.charAt(o))==="0";)a+=l;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=l;++o<e.length&&"0#?.,E+-%".indexOf(l=e.charAt(o))>-1;)a+=l;i[i.length]={t:"n",v:a};break;case"?":for(a=l;e.charAt(++o)===l;)a+=l;i[i.length]={t:l,v:a},c=l;break;case"*":++o,(e.charAt(o)==" "||e.charAt(o)=="*")&&++o;break;case"(":case")":i[i.length]={t:n===1?"t":l,v:l},++o;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=l;o<e.length&&"0123456789".indexOf(e.charAt(++o))>-1;)a+=e.charAt(o);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:l,v:l},++o;break;case"$":i[i.length]={t:"t",v:"$"},++o;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+e);i[i.length]={t:"t",v:l},++o;break}var _=0,N=0,E;for(o=i.length-1,c="t";o>=0;--o)switch(i[o].t){case"h":case"H":i[o].t=g,c="h",_<1&&(_=1);break;case"s":(E=i[o].v.match(/\.0+$/))&&(N=Math.max(N,E[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":c=i[o].t;break;case"m":c==="s"&&(i[o].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&i[o].v.match(/[Hh]/)&&(_=1),_<2&&i[o].v.match(/[Mm]/)&&(_=2),_<3&&i[o].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var C="",I;for(o=0;o<i.length;++o)switch(i[o].t){case"t":case"T":case" ":case"D":break;case"X":i[o].v="",i[o].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[o].v=JUe(i[o].t.charCodeAt(0),i[o].v,u,N),i[o].t="t";break;case"n":case"?":for(I=o+1;i[I]!=null&&((l=i[I].t)==="?"||l==="D"||(l===" "||l==="t")&&i[I+1]!=null&&(i[I+1].t==="?"||i[I+1].t==="t"&&i[I+1].v==="/")||i[o].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(i[I].v==="/"||i[I].v===" "&&i[I+1]!=null&&i[I+1].t=="?"));)i[o].v+=i[I].v,i[I]={v:"",t:";"},++I;C+=i[o].v,o=I-1;break;case"G":i[o].t="t",i[o].v=yT(t,r);break}var P="",D,k;if(C.length>0){C.charCodeAt(0)==40?(D=t<0&&C.charCodeAt(0)===45?-t:t,k=Kd("n",C,D)):(D=t<0&&n>1?-t:t,k=Kd("n",C,D),D<0&&i[0]&&i[0].t=="t"&&(k=k.substr(1),i[0].v="-"+i[0].v)),I=k.length-1;var L=i.length;for(o=0;o<i.length;++o)if(i[o]!=null&&i[o].t!="t"&&i[o].v.indexOf(".")>-1){L=o;break}var B=i.length;if(L===i.length&&k.indexOf("E")===-1){for(o=i.length-1;o>=0;--o)i[o]==null||"n?".indexOf(i[o].t)===-1||(I>=i[o].v.length-1?(I-=i[o].v.length,i[o].v=k.substr(I+1,i[o].v.length)):I<0?i[o].v="":(i[o].v=k.substr(0,I+1),I=-1),i[o].t="t",B=o);I>=0&&B<i.length&&(i[B].v=k.substr(0,I+1)+i[B].v)}else if(L!==i.length&&k.indexOf("E")===-1){for(I=k.indexOf(".")-1,o=L;o>=0;--o)if(!(i[o]==null||"n?".indexOf(i[o].t)===-1)){for(f=i[o].v.indexOf(".")>-1&&o===L?i[o].v.indexOf(".")-1:i[o].v.length-1,P=i[o].v.substr(f+1);f>=0;--f)I>=0&&(i[o].v.charAt(f)==="0"||i[o].v.charAt(f)==="#")&&(P=k.charAt(I--)+P);i[o].v=P,i[o].t="t",B=o}for(I>=0&&B<i.length&&(i[B].v=k.substr(0,I+1)+i[B].v),I=k.indexOf(".")+1,o=L;o<i.length;++o)if(!(i[o]==null||"n?(".indexOf(i[o].t)===-1&&o!==L)){for(f=i[o].v.indexOf(".")>-1&&o===L?i[o].v.indexOf(".")+1:0,P=i[o].v.substr(0,f);f<i[o].v.length;++f)I<k.length&&(P+=k.charAt(I++));i[o].v=P,i[o].t="t",B=o}}}for(o=0;o<i.length;++o)i[o]!=null&&"n?".indexOf(i[o].t)>-1&&(D=n>1&&t<0&&o>0&&i[o-1].v==="-"?-t:t,i[o].v=Kd(i[o].t,i[o].v,D),i[o].t="t");var G="";for(o=0;o!==i.length;++o)i[o]!=null&&(G+=i[o].v);return G}var P9=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function k9(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function uze(e,t){var r=lze(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var o=r[0].match(P9),l=r[1].match(P9);return k9(t,o)?[n,r[0]]:k9(t,l)?[n,r[1]]:[n,r[o!=null&&l!=null?2:1]]}return[n,a]}function Jh(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ma)[e],n==null&&(n=r.table&&r.table[T9[e]]||Ma[T9[e]]),n==null&&(n=HUe[e]||"General");break}if(d4(n,0))return yT(t,r);t instanceof Date&&(t=JQ(t,r.date1904));var i=uze(n,t);if(d4(i[1]))return yT(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return cze(i[1],t,r,i[0])}function cZ(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ma[r]==null){t<0&&(t=r);continue}if(Ma[r]==e){t=r;break}}t<0&&(t=391)}return Ma[t]=e,t}function bN(e){for(var t=0;t!=392;++t)e[t]!==void 0&&cZ(e[t],t)}function SN(){Ma=WUe()}var uZ=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function dze(e){var t=typeof e=="number"?Ma[e]:e;return t=t.replace(uZ,"(\\d+)"),new RegExp("^"+t+"$")}function fze(e,t,r){var n=-1,i=-1,a=-1,o=-1,l=-1,c=-1;(t.match(uZ)||[]).forEach(function(p,g){var x=parseInt(r[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=x;break;case"d":a=x;break;case"h":o=x;break;case"s":c=x;break;case"m":o>=0?l=x:i=x;break}}),c>=0&&l==-1&&i>=0&&(l=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return o==-1&&l==-1&&c==-1?u:n==-1&&i==-1&&a==-1?f:u+"T"+f}var hze=function(){var e={};e.version="1.2.0";function t(){for(var k=0,L=new Array(256),B=0;B!=256;++B)k=B,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,L[B]=k;return typeof Int32Array<"u"?new Int32Array(L):L}var r=t();function n(k){var L=0,B=0,G=0,F=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(G=0;G!=256;++G)F[G]=k[G];for(G=0;G!=256;++G)for(B=k[G],L=256+G;L<4096;L+=256)B=F[L]=B>>>8^k[B&255];var U=[];for(G=1;G!=16;++G)U[G-1]=typeof Int32Array<"u"?F.subarray(G*256,G*256+256):F.slice(G*256,G*256+256);return U}var i=n(r),a=i[0],o=i[1],l=i[2],c=i[3],u=i[4],f=i[5],p=i[6],g=i[7],x=i[8],b=i[9],y=i[10],_=i[11],N=i[12],E=i[13],C=i[14];function I(k,L){for(var B=L^-1,G=0,F=k.length;G<F;)B=B>>>8^r[(B^k.charCodeAt(G++))&255];return~B}function P(k,L){for(var B=L^-1,G=k.length-15,F=0;F<G;)B=C[k[F++]^B&255]^E[k[F++]^B>>8&255]^N[k[F++]^B>>16&255]^_[k[F++]^B>>>24]^y[k[F++]]^b[k[F++]]^x[k[F++]]^g[k[F++]]^p[k[F++]]^f[k[F++]]^u[k[F++]]^c[k[F++]]^l[k[F++]]^o[k[F++]]^a[k[F++]]^r[k[F++]];for(G+=15;F<G;)B=B>>>8^r[(B^k[F++])&255];return~B}function D(k,L){for(var B=L^-1,G=0,F=k.length,U=0,q=0;G<F;)U=k.charCodeAt(G++),U<128?B=B>>>8^r[(B^U)&255]:U<2048?(B=B>>>8^r[(B^(192|U>>6&31))&255],B=B>>>8^r[(B^(128|U&63))&255]):U>=55296&&U<57344?(U=(U&1023)+64,q=k.charCodeAt(G++)&1023,B=B>>>8^r[(B^(240|U>>8&7))&255],B=B>>>8^r[(B^(128|U>>2&63))&255],B=B>>>8^r[(B^(128|q>>6&15|(U&3)<<4))&255],B=B>>>8^r[(B^(128|q&63))&255]):(B=B>>>8^r[(B^(224|U>>12&15))&255],B=B>>>8^r[(B^(128|U>>6&63))&255],B=B>>>8^r[(B^(128|U&63))&255]);return~B}return e.table=r,e.bstr=I,e.buf=P,e.str=D,e}(),ki=function(){var t={};t.version="1.2.1";function r(ue,_e){for(var Oe=ue.split("/"),Me=_e.split("/"),Fe=0,Ve=0,ft=Math.min(Oe.length,Me.length);Fe<ft;++Fe){if(Ve=Oe[Fe].length-Me[Fe].length)return Ve;if(Oe[Fe]!=Me[Fe])return Oe[Fe]<Me[Fe]?-1:1}return Oe.length-Me.length}function n(ue){if(ue.charAt(ue.length-1)=="/")return ue.slice(0,-1).indexOf("/")===-1?ue:n(ue.slice(0,-1));var _e=ue.lastIndexOf("/");return _e===-1?ue:ue.slice(0,_e+1)}function i(ue){if(ue.charAt(ue.length-1)=="/")return i(ue.slice(0,-1));var _e=ue.lastIndexOf("/");return _e===-1?ue:ue.slice(_e+1)}function a(ue,_e){typeof _e=="string"&&(_e=new Date(_e));var Oe=_e.getHours();Oe=Oe<<6|_e.getMinutes(),Oe=Oe<<5|_e.getSeconds()>>>1,ue.write_shift(2,Oe);var Me=_e.getFullYear()-1980;Me=Me<<4|_e.getMonth()+1,Me=Me<<5|_e.getDate(),ue.write_shift(2,Me)}function o(ue){var _e=ue.read_shift(2)&65535,Oe=ue.read_shift(2)&65535,Me=new Date,Fe=Oe&31;Oe>>>=5;var Ve=Oe&15;Oe>>>=4,Me.setMilliseconds(0),Me.setFullYear(Oe+1980),Me.setMonth(Ve-1),Me.setDate(Fe);var ft=_e&31;_e>>>=5;var _t=_e&63;return _e>>>=6,Me.setHours(_e),Me.setMinutes(_t),Me.setSeconds(ft<<1),Me}function l(ue){Nl(ue,0);for(var _e={},Oe=0;ue.l<=ue.length-4;){var Me=ue.read_shift(2),Fe=ue.read_shift(2),Ve=ue.l+Fe,ft={};switch(Me){case 21589:Oe=ue.read_shift(1),Oe&1&&(ft.mtime=ue.read_shift(4)),Fe>5&&(Oe&2&&(ft.atime=ue.read_shift(4)),Oe&4&&(ft.ctime=ue.read_shift(4))),ft.mtime&&(ft.mt=new Date(ft.mtime*1e3));break}ue.l=Ve,_e[Me]=ft}return _e}var c;function u(){return c||(c={})}function f(ue,_e){if(ue[0]==80&&ue[1]==75)return Ln(ue,_e);if((ue[0]|32)==109&&(ue[1]|32)==105)return li(ue,_e);if(ue.length<512)throw new Error("CFB file size "+ue.length+" < 512");var Oe=3,Me=512,Fe=0,Ve=0,ft=0,_t=0,ct=0,xt=[],wt=ue.slice(0,512);Nl(wt,0);var kt=p(wt);switch(Oe=kt[0],Oe){case 3:Me=512;break;case 4:Me=4096;break;case 0:if(kt[1]==0)return Ln(ue,_e);default:throw new Error("Major Version: Expected 3 or 4 saw "+Oe)}Me!==512&&(wt=ue.slice(0,Me),Nl(wt,28));var Vt=ue.slice(0,Me);g(wt,Oe);var de=wt.read_shift(4,"i");if(Oe===3&&de!==0)throw new Error("# Directory Sectors: Expected 0 saw "+de);wt.l+=4,ft=wt.read_shift(4,"i"),wt.l+=4,wt.chk("00100000","Mini Stream Cutoff Size: "),_t=wt.read_shift(4,"i"),Fe=wt.read_shift(4,"i"),ct=wt.read_shift(4,"i"),Ve=wt.read_shift(4,"i");for(var at=-1,ht=0;ht<109&&(at=wt.read_shift(4,"i"),!(at<0));++ht)xt[ht]=at;var Xt=x(ue,Me);_(ct,Ve,Xt,Me,xt);var st=E(Xt,ft,xt,Me);st[ft].name="!Directory",Fe>0&&_t!==q&&(st[_t].name="!MiniFAT"),st[xt[0]].name="!FAT",st.fat_addrs=xt,st.ssz=Me;var Fr={},Rr=[],ji=[],cl=[];C(ft,st,Xt,Rr,Fe,Fr,ji,_t),b(ji,cl,Rr),Rr.shift();var yn={FileIndex:ji,FullPaths:cl};return _e&&_e.raw&&(yn.raw={header:Vt,sectors:Xt}),yn}function p(ue){if(ue[ue.l]==80&&ue[ue.l+1]==75)return[0,0];ue.chk(K,"Header Signature: "),ue.l+=16;var _e=ue.read_shift(2,"u");return[ue.read_shift(2,"u"),_e]}function g(ue,_e){var Oe=9;switch(ue.l+=2,Oe=ue.read_shift(2)){case 9:if(_e!=3)throw new Error("Sector Shift: Expected 9 saw "+Oe);break;case 12:if(_e!=4)throw new Error("Sector Shift: Expected 12 saw "+Oe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Oe)}ue.chk("0600","Mini Sector Shift: "),ue.chk("000000000000","Reserved: ")}function x(ue,_e){for(var Oe=Math.ceil(ue.length/_e)-1,Me=[],Fe=1;Fe<Oe;++Fe)Me[Fe-1]=ue.slice(Fe*_e,(Fe+1)*_e);return Me[Oe-1]=ue.slice(Oe*_e),Me}function b(ue,_e,Oe){for(var Me=0,Fe=0,Ve=0,ft=0,_t=0,ct=Oe.length,xt=[],wt=[];Me<ct;++Me)xt[Me]=wt[Me]=Me,_e[Me]=Oe[Me];for(;_t<wt.length;++_t)Me=wt[_t],Fe=ue[Me].L,Ve=ue[Me].R,ft=ue[Me].C,xt[Me]===Me&&(Fe!==-1&&xt[Fe]!==Fe&&(xt[Me]=xt[Fe]),Ve!==-1&&xt[Ve]!==Ve&&(xt[Me]=xt[Ve])),ft!==-1&&(xt[ft]=Me),Fe!==-1&&Me!=xt[Me]&&(xt[Fe]=xt[Me],wt.lastIndexOf(Fe)<_t&&wt.push(Fe)),Ve!==-1&&Me!=xt[Me]&&(xt[Ve]=xt[Me],wt.lastIndexOf(Ve)<_t&&wt.push(Ve));for(Me=1;Me<ct;++Me)xt[Me]===Me&&(Ve!==-1&&xt[Ve]!==Ve?xt[Me]=xt[Ve]:Fe!==-1&&xt[Fe]!==Fe&&(xt[Me]=xt[Fe]));for(Me=1;Me<ct;++Me)if(ue[Me].type!==0){if(_t=Me,_t!=xt[_t])do _t=xt[_t],_e[Me]=_e[_t]+"/"+_e[Me];while(_t!==0&&xt[_t]!==-1&&_t!=xt[_t]);xt[Me]=-1}for(_e[0]+="/",Me=1;Me<ct;++Me)ue[Me].type!==2&&(_e[Me]+="/")}function y(ue,_e,Oe){for(var Me=ue.start,Fe=ue.size,Ve=[],ft=Me;Oe&&Fe>0&&ft>=0;)Ve.push(_e.slice(ft*U,ft*U+U)),Fe-=U,ft=U0(Oe,ft*4);return Ve.length===0?Tt(0):Rs(Ve).slice(0,ue.size)}function _(ue,_e,Oe,Me,Fe){var Ve=q;if(ue===q){if(_e!==0)throw new Error("DIFAT chain shorter than expected")}else if(ue!==-1){var ft=Oe[ue],_t=(Me>>>2)-1;if(!ft)return;for(var ct=0;ct<_t&&(Ve=U0(ft,ct*4))!==q;++ct)Fe.push(Ve);_(U0(ft,Me-4),_e-1,Oe,Me,Fe)}}function N(ue,_e,Oe,Me,Fe){var Ve=[],ft=[];Fe||(Fe=[]);var _t=Me-1,ct=0,xt=0;for(ct=_e;ct>=0;){Fe[ct]=!0,Ve[Ve.length]=ct,ft.push(ue[ct]);var wt=Oe[Math.floor(ct*4/Me)];if(xt=ct*4&_t,Me<4+xt)throw new Error("FAT boundary crossed: "+ct+" 4 "+Me);if(!ue[wt])break;ct=U0(ue[wt],xt)}return{nodes:Ve,data:U9([ft])}}function E(ue,_e,Oe,Me){var Fe=ue.length,Ve=[],ft=[],_t=[],ct=[],xt=Me-1,wt=0,kt=0,Vt=0,de=0;for(wt=0;wt<Fe;++wt)if(_t=[],Vt=wt+_e,Vt>=Fe&&(Vt-=Fe),!ft[Vt]){ct=[];var at=[];for(kt=Vt;kt>=0;){at[kt]=!0,ft[kt]=!0,_t[_t.length]=kt,ct.push(ue[kt]);var ht=Oe[Math.floor(kt*4/Me)];if(de=kt*4&xt,Me<4+de)throw new Error("FAT boundary crossed: "+kt+" 4 "+Me);if(!ue[ht]||(kt=U0(ue[ht],de),at[kt]))break}Ve[Vt]={nodes:_t,data:U9([ct])}}return Ve}function C(ue,_e,Oe,Me,Fe,Ve,ft,_t){for(var ct=0,xt=Me.length?2:0,wt=_e[ue].data,kt=0,Vt=0,de;kt<wt.length;kt+=128){var at=wt.slice(kt,kt+128);Nl(at,64),Vt=at.read_shift(2),de=$8(at,0,Vt-xt),Me.push(de);var ht={name:de,type:at.read_shift(1),color:at.read_shift(1),L:at.read_shift(4,"i"),R:at.read_shift(4,"i"),C:at.read_shift(4,"i"),clsid:at.read_shift(16),state:at.read_shift(4,"i"),start:0,size:0},Xt=at.read_shift(2)+at.read_shift(2)+at.read_shift(2)+at.read_shift(2);Xt!==0&&(ht.ct=I(at,at.l-8));var st=at.read_shift(2)+at.read_shift(2)+at.read_shift(2)+at.read_shift(2);st!==0&&(ht.mt=I(at,at.l-8)),ht.start=at.read_shift(4,"i"),ht.size=at.read_shift(4,"i"),ht.size<0&&ht.start<0&&(ht.size=ht.type=0,ht.start=q,ht.name=""),ht.type===5?(ct=ht.start,Fe>0&&ct!==q&&(_e[ct].name="!StreamData")):ht.size>=4096?(ht.storage="fat",_e[ht.start]===void 0&&(_e[ht.start]=N(Oe,ht.start,_e.fat_addrs,_e.ssz)),_e[ht.start].name=ht.name,ht.content=_e[ht.start].data.slice(0,ht.size)):(ht.storage="minifat",ht.size<0?ht.size=0:ct!==q&&ht.start!==q&&_e[ct]&&(ht.content=y(ht,_e[ct].data,(_e[_t]||{}).data))),ht.content&&Nl(ht.content,0),Ve[de]=ht,ft.push(ht)}}function I(ue,_e){return new Date((Cl(ue,_e+4)/1e7*Math.pow(2,32)+Cl(ue,_e)/1e7-11644473600)*1e3)}function P(ue,_e){return u(),f(c.readFileSync(ue),_e)}function D(ue,_e){var Oe=_e&&_e.type;switch(Oe||ai&&Buffer.isBuffer(ue)&&(Oe="buffer"),Oe||"base64"){case"file":return P(ue,_e);case"base64":return f(Xc(wf(ue)),_e);case"binary":return f(Xc(ue),_e)}return f(ue,_e)}function k(ue,_e){var Oe=_e||{},Me=Oe.root||"Root Entry";if(ue.FullPaths||(ue.FullPaths=[]),ue.FileIndex||(ue.FileIndex=[]),ue.FullPaths.length!==ue.FileIndex.length)throw new Error("inconsistent CFB structure");ue.FullPaths.length===0&&(ue.FullPaths[0]=Me+"/",ue.FileIndex[0]={name:Me,type:5}),Oe.CLSID&&(ue.FileIndex[0].clsid=Oe.CLSID),L(ue)}function L(ue){var _e="Sh33tJ5";if(!ki.find(ue,"/"+_e)){var Oe=Tt(4);Oe[0]=55,Oe[1]=Oe[3]=50,Oe[2]=54,ue.FileIndex.push({name:_e,type:2,content:Oe,size:4,L:69,R:69,C:69}),ue.FullPaths.push(ue.FullPaths[0]+_e),B(ue)}}function B(ue,_e){k(ue);for(var Oe=!1,Me=!1,Fe=ue.FullPaths.length-1;Fe>=0;--Fe){var Ve=ue.FileIndex[Fe];switch(Ve.type){case 0:Me?Oe=!0:(ue.FileIndex.pop(),ue.FullPaths.pop());break;case 1:case 2:case 5:Me=!0,isNaN(Ve.R*Ve.L*Ve.C)&&(Oe=!0),Ve.R>-1&&Ve.L>-1&&Ve.R==Ve.L&&(Oe=!0);break;default:Oe=!0;break}}if(!(!Oe&&!_e)){var ft=new Date(1987,1,19),_t=0,ct=Object.create?Object.create(null):{},xt=[];for(Fe=0;Fe<ue.FullPaths.length;++Fe)ct[ue.FullPaths[Fe]]=!0,ue.FileIndex[Fe].type!==0&&xt.push([ue.FullPaths[Fe],ue.FileIndex[Fe]]);for(Fe=0;Fe<xt.length;++Fe){var wt=n(xt[Fe][0]);Me=ct[wt],Me||(xt.push([wt,{name:i(wt).replace("/",""),type:1,clsid:ee,ct:ft,mt:ft,content:null}]),ct[wt]=!0)}for(xt.sort(function(de,at){return r(de[0],at[0])}),ue.FullPaths=[],ue.FileIndex=[],Fe=0;Fe<xt.length;++Fe)ue.FullPaths[Fe]=xt[Fe][0],ue.FileIndex[Fe]=xt[Fe][1];for(Fe=0;Fe<xt.length;++Fe){var kt=ue.FileIndex[Fe],Vt=ue.FullPaths[Fe];if(kt.name=i(Vt).replace("/",""),kt.L=kt.R=kt.C=-(kt.color=1),kt.size=kt.content?kt.content.length:0,kt.start=0,kt.clsid=kt.clsid||ee,Fe===0)kt.C=xt.length>1?1:-1,kt.size=0,kt.type=5;else if(Vt.slice(-1)=="/"){for(_t=Fe+1;_t<xt.length&&n(ue.FullPaths[_t])!=Vt;++_t);for(kt.C=_t>=xt.length?-1:_t,_t=Fe+1;_t<xt.length&&n(ue.FullPaths[_t])!=n(Vt);++_t);kt.R=_t>=xt.length?-1:_t,kt.type=1}else n(ue.FullPaths[Fe+1]||"")==n(Vt)&&(kt.R=Fe+1),kt.type=2}}}function G(ue,_e){var Oe=_e||{};if(Oe.fileType=="mad")return dr(ue,Oe);switch(B(ue),Oe.fileType){case"zip":return it(ue,Oe)}var Me=function(de){for(var at=0,ht=0,Xt=0;Xt<de.FileIndex.length;++Xt){var st=de.FileIndex[Xt];if(st.content){var Fr=st.content.length;Fr>0&&(Fr<4096?at+=Fr+63>>6:ht+=Fr+511>>9)}}for(var Rr=de.FullPaths.length+3>>2,ji=at+7>>3,cl=at+127>>7,yn=ji+ht+Rr+cl,pn=yn+127>>7,en=pn<=109?0:Math.ceil((pn-109)/127);yn+pn+en+127>>7>pn;)en=++pn<=109?0:Math.ceil((pn-109)/127);var Ga=[1,en,pn,cl,Rr,ht,at,0];return de.FileIndex[0].size=at<<6,Ga[7]=(de.FileIndex[0].start=Ga[0]+Ga[1]+Ga[2]+Ga[3]+Ga[4]+Ga[5])+(Ga[6]+7>>3),Ga}(ue),Fe=Tt(Me[7]<<9),Ve=0,ft=0;{for(Ve=0;Ve<8;++Ve)Fe.write_shift(1,V[Ve]);for(Ve=0;Ve<8;++Ve)Fe.write_shift(2,0);for(Fe.write_shift(2,62),Fe.write_shift(2,3),Fe.write_shift(2,65534),Fe.write_shift(2,9),Fe.write_shift(2,6),Ve=0;Ve<3;++Ve)Fe.write_shift(2,0);for(Fe.write_shift(4,0),Fe.write_shift(4,Me[2]),Fe.write_shift(4,Me[0]+Me[1]+Me[2]+Me[3]-1),Fe.write_shift(4,0),Fe.write_shift(4,4096),Fe.write_shift(4,Me[3]?Me[0]+Me[1]+Me[2]-1:q),Fe.write_shift(4,Me[3]),Fe.write_shift(-4,Me[1]?Me[0]-1:q),Fe.write_shift(4,Me[1]),Ve=0;Ve<109;++Ve)Fe.write_shift(-4,Ve<Me[2]?Me[1]+Ve:-1)}if(Me[1])for(ft=0;ft<Me[1];++ft){for(;Ve<236+ft*127;++Ve)Fe.write_shift(-4,Ve<Me[2]?Me[1]+Ve:-1);Fe.write_shift(-4,ft===Me[1]-1?q:ft+1)}var _t=function(de){for(ft+=de;Ve<ft-1;++Ve)Fe.write_shift(-4,Ve+1);de&&(++Ve,Fe.write_shift(-4,q))};for(ft=Ve=0,ft+=Me[1];Ve<ft;++Ve)Fe.write_shift(-4,te.DIFSECT);for(ft+=Me[2];Ve<ft;++Ve)Fe.write_shift(-4,te.FATSECT);_t(Me[3]),_t(Me[4]);for(var ct=0,xt=0,wt=ue.FileIndex[0];ct<ue.FileIndex.length;++ct)wt=ue.FileIndex[ct],wt.content&&(xt=wt.content.length,!(xt<4096)&&(wt.start=ft,_t(xt+511>>9)));for(_t(Me[6]+7>>3);Fe.l&511;)Fe.write_shift(-4,te.ENDOFCHAIN);for(ft=Ve=0,ct=0;ct<ue.FileIndex.length;++ct)wt=ue.FileIndex[ct],wt.content&&(xt=wt.content.length,!(!xt||xt>=4096)&&(wt.start=ft,_t(xt+63>>6)));for(;Fe.l&511;)Fe.write_shift(-4,te.ENDOFCHAIN);for(Ve=0;Ve<Me[4]<<2;++Ve){var kt=ue.FullPaths[Ve];if(!kt||kt.length===0){for(ct=0;ct<17;++ct)Fe.write_shift(4,0);for(ct=0;ct<3;++ct)Fe.write_shift(4,-1);for(ct=0;ct<12;++ct)Fe.write_shift(4,0);continue}wt=ue.FileIndex[Ve],Ve===0&&(wt.start=wt.size?wt.start-1:q);var Vt=Ve===0&&Oe.root||wt.name;if(xt=2*(Vt.length+1),Fe.write_shift(64,Vt,"utf16le"),Fe.write_shift(2,xt),Fe.write_shift(1,wt.type),Fe.write_shift(1,wt.color),Fe.write_shift(-4,wt.L),Fe.write_shift(-4,wt.R),Fe.write_shift(-4,wt.C),wt.clsid)Fe.write_shift(16,wt.clsid,"hex");else for(ct=0;ct<4;++ct)Fe.write_shift(4,0);Fe.write_shift(4,wt.state||0),Fe.write_shift(4,0),Fe.write_shift(4,0),Fe.write_shift(4,0),Fe.write_shift(4,0),Fe.write_shift(4,wt.start),Fe.write_shift(4,wt.size),Fe.write_shift(4,0)}for(Ve=1;Ve<ue.FileIndex.length;++Ve)if(wt=ue.FileIndex[Ve],wt.size>=4096)if(Fe.l=wt.start+1<<9,ai&&Buffer.isBuffer(wt.content))wt.content.copy(Fe,Fe.l,0,wt.size),Fe.l+=wt.size+511&-512;else{for(ct=0;ct<wt.size;++ct)Fe.write_shift(1,wt.content[ct]);for(;ct&511;++ct)Fe.write_shift(1,0)}for(Ve=1;Ve<ue.FileIndex.length;++Ve)if(wt=ue.FileIndex[Ve],wt.size>0&&wt.size<4096)if(ai&&Buffer.isBuffer(wt.content))wt.content.copy(Fe,Fe.l,0,wt.size),Fe.l+=wt.size+63&-64;else{for(ct=0;ct<wt.size;++ct)Fe.write_shift(1,wt.content[ct]);for(;ct&63;++ct)Fe.write_shift(1,0)}if(ai)Fe.l=Fe.length;else for(;Fe.l<Fe.length;)Fe.write_shift(1,0);return Fe}function F(ue,_e){var Oe=ue.FullPaths.map(function(ct){return ct.toUpperCase()}),Me=Oe.map(function(ct){var xt=ct.split("/");return xt[xt.length-(ct.slice(-1)=="/"?2:1)]}),Fe=!1;_e.charCodeAt(0)===47?(Fe=!0,_e=Oe[0].slice(0,-1)+_e):Fe=_e.indexOf("/")!==-1;var Ve=_e.toUpperCase(),ft=Fe===!0?Oe.indexOf(Ve):Me.indexOf(Ve);if(ft!==-1)return ue.FileIndex[ft];var _t=!Ve.match(Ab);for(Ve=Ve.replace(Lv,""),_t&&(Ve=Ve.replace(Ab,"!")),ft=0;ft<Oe.length;++ft)if((_t?Oe[ft].replace(Ab,"!"):Oe[ft]).replace(Lv,"")==Ve||(_t?Me[ft].replace(Ab,"!"):Me[ft]).replace(Lv,"")==Ve)return ue.FileIndex[ft];return null}var U=64,q=-2,K="d0cf11e0a1b11ae1",V=[208,207,17,224,161,177,26,225],ee="00000000000000000000000000000000",te={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:q,FREESECT:-1,HEADER_SIGNATURE:K,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ee,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function J(ue,_e,Oe){u();var Me=G(ue,Oe);c.writeFileSync(_e,Me)}function ge(ue){for(var _e=new Array(ue.length),Oe=0;Oe<ue.length;++Oe)_e[Oe]=String.fromCharCode(ue[Oe]);return _e.join("")}function Ie(ue,_e){var Oe=G(ue,_e);switch(_e&&_e.type||"buffer"){case"file":return u(),c.writeFileSync(_e.filename,Oe),Oe;case"binary":return typeof Oe=="string"?Oe:ge(Oe);case"base64":return h2(typeof Oe=="string"?Oe:ge(Oe));case"buffer":if(ai)return Buffer.isBuffer(Oe)?Oe:jf(Oe);case"array":return typeof Oe=="string"?Xc(Oe):Oe}return Oe}var Ge;function W(ue){try{var _e=ue.InflateRaw,Oe=new _e;if(Oe._processChunk(new Uint8Array([3,0]),Oe._finishFlushFlag),Oe.bytesRead)Ge=ue;else throw new Error("zlib does not expose bytesRead")}catch(Me){console.error("cannot use native zlib: "+(Me.message||Me))}}function Q(ue,_e){if(!Ge)return Jr(ue,_e);var Oe=Ge.InflateRaw,Me=new Oe,Fe=Me._processChunk(ue.slice(ue.l),Me._finishFlushFlag);return ue.l+=Me.bytesRead,Fe}function Z(ue){return Ge?Ge.deflateRawSync(ue):tt(ue)}var re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ne=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Ae(ue){var _e=(ue<<1|ue<<11)&139536|(ue<<5|ue<<15)&558144;return(_e>>16|_e>>8|_e)&255}for(var ve=typeof Uint8Array<"u",xe=ve?new Uint8Array(256):[],Le=0;Le<256;++Le)xe[Le]=Ae(Le);function Se(ue,_e){var Oe=xe[ue&255];return _e<=8?Oe>>>8-_e:(Oe=Oe<<8|xe[ue>>8&255],_e<=16?Oe>>>16-_e:(Oe=Oe<<8|xe[ue>>16&255],Oe>>>24-_e))}function ye(ue,_e){var Oe=_e&7,Me=_e>>>3;return(ue[Me]|(Oe<=6?0:ue[Me+1]<<8))>>>Oe&3}function We(ue,_e){var Oe=_e&7,Me=_e>>>3;return(ue[Me]|(Oe<=5?0:ue[Me+1]<<8))>>>Oe&7}function Ye(ue,_e){var Oe=_e&7,Me=_e>>>3;return(ue[Me]|(Oe<=4?0:ue[Me+1]<<8))>>>Oe&15}function we(ue,_e){var Oe=_e&7,Me=_e>>>3;return(ue[Me]|(Oe<=3?0:ue[Me+1]<<8))>>>Oe&31}function Pe(ue,_e){var Oe=_e&7,Me=_e>>>3;return(ue[Me]|(Oe<=1?0:ue[Me+1]<<8))>>>Oe&127}function ce(ue,_e,Oe){var Me=_e&7,Fe=_e>>>3,Ve=(1<<Oe)-1,ft=ue[Fe]>>>Me;return Oe<8-Me||(ft|=ue[Fe+1]<<8-Me,Oe<16-Me)||(ft|=ue[Fe+2]<<16-Me,Oe<24-Me)||(ft|=ue[Fe+3]<<24-Me),ft&Ve}function Ce(ue,_e,Oe){var Me=_e&7,Fe=_e>>>3;return Me<=5?ue[Fe]|=(Oe&7)<<Me:(ue[Fe]|=Oe<<Me&255,ue[Fe+1]=(Oe&7)>>8-Me),_e+3}function fe(ue,_e,Oe){var Me=_e&7,Fe=_e>>>3;return Oe=(Oe&1)<<Me,ue[Fe]|=Oe,_e+1}function ke(ue,_e,Oe){var Me=_e&7,Fe=_e>>>3;return Oe<<=Me,ue[Fe]|=Oe&255,Oe>>>=8,ue[Fe+1]=Oe,_e+8}function He(ue,_e,Oe){var Me=_e&7,Fe=_e>>>3;return Oe<<=Me,ue[Fe]|=Oe&255,Oe>>>=8,ue[Fe+1]=Oe&255,ue[Fe+2]=Oe>>>8,_e+16}function nt(ue,_e){var Oe=ue.length,Me=2*Oe>_e?2*Oe:_e+5,Fe=0;if(Oe>=_e)return ue;if(ai){var Ve=A9(Me);if(ue.copy)ue.copy(Ve);else for(;Fe<ue.length;++Fe)Ve[Fe]=ue[Fe];return Ve}else if(ve){var ft=new Uint8Array(Me);if(ft.set)ft.set(ue);else for(;Fe<Oe;++Fe)ft[Fe]=ue[Fe];return ft}return ue.length=Me,ue}function mt(ue){for(var _e=new Array(ue),Oe=0;Oe<ue;++Oe)_e[Oe]=0;return _e}function At(ue,_e,Oe){var Me=1,Fe=0,Ve=0,ft=0,_t=0,ct=ue.length,xt=ve?new Uint16Array(32):mt(32);for(Ve=0;Ve<32;++Ve)xt[Ve]=0;for(Ve=ct;Ve<Oe;++Ve)ue[Ve]=0;ct=ue.length;var wt=ve?new Uint16Array(ct):mt(ct);for(Ve=0;Ve<ct;++Ve)xt[Fe=ue[Ve]]++,Me<Fe&&(Me=Fe),wt[Ve]=0;for(xt[0]=0,Ve=1;Ve<=Me;++Ve)xt[Ve+16]=_t=_t+xt[Ve-1]<<1;for(Ve=0;Ve<ct;++Ve)_t=ue[Ve],_t!=0&&(wt[Ve]=xt[_t+16]++);var kt=0;for(Ve=0;Ve<ct;++Ve)if(kt=ue[Ve],kt!=0)for(_t=Se(wt[Ve],Me)>>Me-kt,ft=(1<<Me+4-kt)-1;ft>=0;--ft)_e[_t|ft<<kt]=kt&15|Ve<<4;return Me}var qt=ve?new Uint16Array(512):mt(512),mr=ve?new Uint16Array(32):mt(32);if(!ve){for(var ar=0;ar<512;++ar)qt[ar]=0;for(ar=0;ar<32;++ar)mr[ar]=0}(function(){for(var ue=[],_e=0;_e<32;_e++)ue.push(5);At(ue,mr,32);var Oe=[];for(_e=0;_e<=143;_e++)Oe.push(8);for(;_e<=255;_e++)Oe.push(9);for(;_e<=279;_e++)Oe.push(7);for(;_e<=287;_e++)Oe.push(8);At(Oe,qt,288)})();var ze=function(){for(var _e=ve?new Uint8Array(32768):[],Oe=0,Me=0;Oe<Ne.length-1;++Oe)for(;Me<Ne[Oe+1];++Me)_e[Me]=Oe;for(;Me<32768;++Me)_e[Me]=29;var Fe=ve?new Uint8Array(259):[];for(Oe=0,Me=0;Oe<le.length-1;++Oe)for(;Me<le[Oe+1];++Me)Fe[Me]=Oe;function Ve(_t,ct){for(var xt=0;xt<_t.length;){var wt=Math.min(65535,_t.length-xt),kt=xt+wt==_t.length;for(ct.write_shift(1,+kt),ct.write_shift(2,wt),ct.write_shift(2,~wt&65535);wt-- >0;)ct[ct.l++]=_t[xt++]}return ct.l}function ft(_t,ct){for(var xt=0,wt=0,kt=ve?new Uint16Array(32768):[];wt<_t.length;){var Vt=Math.min(65535,_t.length-wt);if(Vt<10){for(xt=Ce(ct,xt,+(wt+Vt==_t.length)),xt&7&&(xt+=8-(xt&7)),ct.l=xt/8|0,ct.write_shift(2,Vt),ct.write_shift(2,~Vt&65535);Vt-- >0;)ct[ct.l++]=_t[wt++];xt=ct.l*8;continue}xt=Ce(ct,xt,+(wt+Vt==_t.length)+2);for(var de=0;Vt-- >0;){var at=_t[wt];de=(de<<5^at)&32767;var ht=-1,Xt=0;if((ht=kt[de])&&(ht|=wt&-32768,ht>wt&&(ht-=32768),ht<wt))for(;_t[ht+Xt]==_t[wt+Xt]&&Xt<250;)++Xt;if(Xt>2){at=Fe[Xt],at<=22?xt=ke(ct,xt,xe[at+1]>>1)-1:(ke(ct,xt,3),xt+=5,ke(ct,xt,xe[at-23]>>5),xt+=3);var st=at<8?0:at-4>>2;st>0&&(He(ct,xt,Xt-le[at]),xt+=st),at=_e[wt-ht],xt=ke(ct,xt,xe[at]>>3),xt-=3;var Fr=at<4?0:at-2>>1;Fr>0&&(He(ct,xt,wt-ht-Ne[at]),xt+=Fr);for(var Rr=0;Rr<Xt;++Rr)kt[de]=wt&32767,de=(de<<5^_t[wt])&32767,++wt;Vt-=Xt-1}else at<=143?at=at+48:xt=fe(ct,xt,1),xt=ke(ct,xt,xe[at]),kt[de]=wt&32767,++wt}xt=ke(ct,xt,0)-1}return ct.l=(xt+7)/8|0,ct.l}return function(ct,xt){return ct.length<8?Ve(ct,xt):ft(ct,xt)}}();function tt(ue){var _e=Tt(50+Math.floor(ue.length*1.1)),Oe=ze(ue,_e);return _e.slice(0,Oe)}var dt=ve?new Uint16Array(32768):mt(32768),Zt=ve?new Uint16Array(32768):mt(32768),ne=ve?new Uint16Array(128):mt(128),De=1,gt=1;function Nt(ue,_e){var Oe=we(ue,_e)+257;_e+=5;var Me=we(ue,_e)+1;_e+=5;var Fe=Ye(ue,_e)+4;_e+=4;for(var Ve=0,ft=ve?new Uint8Array(19):mt(19),_t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ct=1,xt=ve?new Uint8Array(8):mt(8),wt=ve?new Uint8Array(8):mt(8),kt=ft.length,Vt=0;Vt<Fe;++Vt)ft[re[Vt]]=Ve=We(ue,_e),ct<Ve&&(ct=Ve),xt[Ve]++,_e+=3;var de=0;for(xt[0]=0,Vt=1;Vt<=ct;++Vt)wt[Vt]=de=de+xt[Vt-1]<<1;for(Vt=0;Vt<kt;++Vt)(de=ft[Vt])!=0&&(_t[Vt]=wt[de]++);var at=0;for(Vt=0;Vt<kt;++Vt)if(at=ft[Vt],at!=0){de=xe[_t[Vt]]>>8-at;for(var ht=(1<<7-at)-1;ht>=0;--ht)ne[de|ht<<at]=at&7|Vt<<3}var Xt=[];for(ct=1;Xt.length<Oe+Me;)switch(de=ne[Pe(ue,_e)],_e+=de&7,de>>>=3){case 16:for(Ve=3+ye(ue,_e),_e+=2,de=Xt[Xt.length-1];Ve-- >0;)Xt.push(de);break;case 17:for(Ve=3+We(ue,_e),_e+=3;Ve-- >0;)Xt.push(0);break;case 18:for(Ve=11+Pe(ue,_e),_e+=7;Ve-- >0;)Xt.push(0);break;default:Xt.push(de),ct<de&&(ct=de);break}var st=Xt.slice(0,Oe),Fr=Xt.slice(Oe);for(Vt=Oe;Vt<286;++Vt)st[Vt]=0;for(Vt=Me;Vt<30;++Vt)Fr[Vt]=0;return De=At(st,dt,286),gt=At(Fr,Zt,30),_e}function Pr(ue,_e){if(ue[0]==3&&!(ue[1]&3))return[zp(_e),2];for(var Oe=0,Me=0,Fe=A9(_e||1<<18),Ve=0,ft=Fe.length>>>0,_t=0,ct=0;!(Me&1);){if(Me=We(ue,Oe),Oe+=3,Me>>>1)Me>>1==1?(_t=9,ct=5):(Oe=Nt(ue,Oe),_t=De,ct=gt);else{Oe&7&&(Oe+=8-(Oe&7));var xt=ue[Oe>>>3]|ue[(Oe>>>3)+1]<<8;if(Oe+=32,xt>0)for(!_e&&ft<Ve+xt&&(Fe=nt(Fe,Ve+xt),ft=Fe.length);xt-- >0;)Fe[Ve++]=ue[Oe>>>3],Oe+=8;continue}for(;;){!_e&&ft<Ve+32767&&(Fe=nt(Fe,Ve+32767),ft=Fe.length);var wt=ce(ue,Oe,_t),kt=Me>>>1==1?qt[wt]:dt[wt];if(Oe+=kt&15,kt>>>=4,!(kt>>>8&255))Fe[Ve++]=kt;else{if(kt==256)break;kt-=257;var Vt=kt<8?0:kt-4>>2;Vt>5&&(Vt=0);var de=Ve+le[kt];Vt>0&&(de+=ce(ue,Oe,Vt),Oe+=Vt),wt=ce(ue,Oe,ct),kt=Me>>>1==1?mr[wt]:Zt[wt],Oe+=kt&15,kt>>>=4;var at=kt<4?0:kt-2>>1,ht=Ne[kt];for(at>0&&(ht+=ce(ue,Oe,at),Oe+=at),!_e&&ft<de&&(Fe=nt(Fe,de+100),ft=Fe.length);Ve<de;)Fe[Ve]=Fe[Ve-ht],++Ve}}}return _e?[Fe,Oe+7>>>3]:[Fe.slice(0,Ve),Oe+7>>>3]}function Jr(ue,_e){var Oe=ue.slice(ue.l||0),Me=Pr(Oe,_e);return ue.l+=Me[1],Me[0]}function fa(ue,_e){if(ue)typeof console<"u"&&console.error(_e);else throw new Error(_e)}function Ln(ue,_e){var Oe=ue;Nl(Oe,0);var Me=[],Fe=[],Ve={FileIndex:Me,FullPaths:Fe};k(Ve,{root:_e.root});for(var ft=Oe.length-4;(Oe[ft]!=80||Oe[ft+1]!=75||Oe[ft+2]!=5||Oe[ft+3]!=6)&&ft>=0;)--ft;Oe.l=ft+4,Oe.l+=4;var _t=Oe.read_shift(2);Oe.l+=6;var ct=Oe.read_shift(4);for(Oe.l=ct,ft=0;ft<_t;++ft){Oe.l+=20;var xt=Oe.read_shift(4),wt=Oe.read_shift(4),kt=Oe.read_shift(2),Vt=Oe.read_shift(2),de=Oe.read_shift(2);Oe.l+=8;var at=Oe.read_shift(4),ht=l(Oe.slice(Oe.l+kt,Oe.l+kt+Vt));Oe.l+=kt+Vt+de;var Xt=Oe.l;Oe.l=at+4,Te(Oe,xt,wt,Ve,ht),Oe.l=Xt}return Ve}function Te(ue,_e,Oe,Me,Fe){ue.l+=2;var Ve=ue.read_shift(2),ft=ue.read_shift(2),_t=o(ue);if(Ve&8257)throw new Error("Unsupported ZIP encryption");for(var ct=ue.read_shift(4),xt=ue.read_shift(4),wt=ue.read_shift(4),kt=ue.read_shift(2),Vt=ue.read_shift(2),de="",at=0;at<kt;++at)de+=String.fromCharCode(ue[ue.l++]);if(Vt){var ht=l(ue.slice(ue.l,ue.l+Vt));(ht[21589]||{}).mt&&(_t=ht[21589].mt),((Fe||{})[21589]||{}).mt&&(_t=Fe[21589].mt)}ue.l+=Vt;var Xt=ue.slice(ue.l,ue.l+xt);switch(ft){case 8:Xt=Q(ue,wt);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ft)}var st=!1;Ve&8&&(ct=ue.read_shift(4),ct==134695760&&(ct=ue.read_shift(4),st=!0),xt=ue.read_shift(4),wt=ue.read_shift(4)),xt!=_e&&fa(st,"Bad compressed size: "+_e+" != "+xt),wt!=Oe&&fa(st,"Bad uncompressed size: "+Oe+" != "+wt),Fi(Me,de,Xt,{unsafe:!0,mt:_t})}function it(ue,_e){var Oe=_e||{},Me=[],Fe=[],Ve=Tt(1),ft=Oe.compression?8:0,_t=0,ct=0,xt=0,wt=0,kt=0,Vt=ue.FullPaths[0],de=Vt,at=ue.FileIndex[0],ht=[],Xt=0;for(ct=1;ct<ue.FullPaths.length;++ct)if(de=ue.FullPaths[ct].slice(Vt.length),at=ue.FileIndex[ct],!(!at.size||!at.content||de=="Sh33tJ5")){var st=wt,Fr=Tt(de.length);for(xt=0;xt<de.length;++xt)Fr.write_shift(1,de.charCodeAt(xt)&127);Fr=Fr.slice(0,Fr.l),ht[kt]=hze.buf(at.content,0);var Rr=at.content;ft==8&&(Rr=Z(Rr)),Ve=Tt(30),Ve.write_shift(4,67324752),Ve.write_shift(2,20),Ve.write_shift(2,_t),Ve.write_shift(2,ft),at.mt?a(Ve,at.mt):Ve.write_shift(4,0),Ve.write_shift(-4,ht[kt]),Ve.write_shift(4,Rr.length),Ve.write_shift(4,at.content.length),Ve.write_shift(2,Fr.length),Ve.write_shift(2,0),wt+=Ve.length,Me.push(Ve),wt+=Fr.length,Me.push(Fr),wt+=Rr.length,Me.push(Rr),Ve=Tt(46),Ve.write_shift(4,33639248),Ve.write_shift(2,0),Ve.write_shift(2,20),Ve.write_shift(2,_t),Ve.write_shift(2,ft),Ve.write_shift(4,0),Ve.write_shift(-4,ht[kt]),Ve.write_shift(4,Rr.length),Ve.write_shift(4,at.content.length),Ve.write_shift(2,Fr.length),Ve.write_shift(2,0),Ve.write_shift(2,0),Ve.write_shift(2,0),Ve.write_shift(2,0),Ve.write_shift(4,0),Ve.write_shift(4,st),Xt+=Ve.l,Fe.push(Ve),Xt+=Fr.length,Fe.push(Fr),++kt}return Ve=Tt(22),Ve.write_shift(4,101010256),Ve.write_shift(2,0),Ve.write_shift(2,0),Ve.write_shift(2,kt),Ve.write_shift(2,kt),Ve.write_shift(4,Xt),Ve.write_shift(4,wt),Ve.write_shift(2,0),Rs([Rs(Me),Rs(Fe),Ve])}var jt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function lr(ue,_e){if(ue.ctype)return ue.ctype;var Oe=ue.name||"",Me=Oe.match(/\.([^\.]+)$/);return Me&&jt[Me[1]]||_e&&(Me=(Oe=_e).match(/[\.\\]([^\.\\])+$/),Me&&jt[Me[1]])?jt[Me[1]]:"application/octet-stream"}function xr(ue){for(var _e=h2(ue),Oe=[],Me=0;Me<_e.length;Me+=76)Oe.push(_e.slice(Me,Me+76));return Oe.join(`\r
`)+`\r
`}function Sa(ue){var _e=ue.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(xt){var wt=xt.charCodeAt(0).toString(16).toUpperCase();return"="+(wt.length==1?"0"+wt:wt)});_e=_e.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),_e.charAt(0)==`
`&&(_e="=0D"+_e.slice(1)),_e=_e.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Oe=[],Me=_e.split(`\r
`),Fe=0;Fe<Me.length;++Fe){var Ve=Me[Fe];if(Ve.length==0){Oe.push("");continue}for(var ft=0;ft<Ve.length;){var _t=76,ct=Ve.slice(ft,ft+_t);ct.charAt(_t-1)=="="?_t--:ct.charAt(_t-2)=="="?_t-=2:ct.charAt(_t-3)=="="&&(_t-=3),ct=Ve.slice(ft,ft+_t),ft+=_t,ft<Ve.length&&(ct+="="),Oe.push(ct)}}return Oe.join(`\r
`)}function dn(ue){for(var _e=[],Oe=0;Oe<ue.length;++Oe){for(var Me=ue[Oe];Oe<=ue.length&&Me.charAt(Me.length-1)=="=";)Me=Me.slice(0,Me.length-1)+ue[++Oe];_e.push(Me)}for(var Fe=0;Fe<_e.length;++Fe)_e[Fe]=_e[Fe].replace(/[=][0-9A-Fa-f]{2}/g,function(Ve){return String.fromCharCode(parseInt(Ve.slice(1),16))});return Xc(_e.join(`\r
`))}function ha(ue,_e,Oe){for(var Me="",Fe="",Ve="",ft,_t=0;_t<10;++_t){var ct=_e[_t];if(!ct||ct.match(/^\s*$/))break;var xt=ct.match(/^(.*?):\s*([^\s].*)$/);if(xt)switch(xt[1].toLowerCase()){case"content-location":Me=xt[2].trim();break;case"content-type":Ve=xt[2].trim();break;case"content-transfer-encoding":Fe=xt[2].trim();break}}switch(++_t,Fe.toLowerCase()){case"base64":ft=Xc(wf(_e.slice(_t).join("")));break;case"quoted-printable":ft=dn(_e.slice(_t));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Fe)}var wt=Fi(ue,Me.slice(Oe.length),ft,{unsafe:!0});Ve&&(wt.ctype=Ve)}function li(ue,_e){if(ge(ue.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Oe=_e&&_e.root||"",Me=(ai&&Buffer.isBuffer(ue)?ue.toString("binary"):ge(ue)).split(`\r
`),Fe=0,Ve="";for(Fe=0;Fe<Me.length;++Fe)if(Ve=Me[Fe],!!/^Content-Location:/i.test(Ve)&&(Ve=Ve.slice(Ve.indexOf("file")),Oe||(Oe=Ve.slice(0,Ve.lastIndexOf("/")+1)),Ve.slice(0,Oe.length)!=Oe))for(;Oe.length>0&&(Oe=Oe.slice(0,Oe.length-1),Oe=Oe.slice(0,Oe.lastIndexOf("/")+1),Ve.slice(0,Oe.length)!=Oe););var ft=(Me[1]||"").match(/boundary="(.*?)"/);if(!ft)throw new Error("MAD cannot find boundary");var _t="--"+(ft[1]||""),ct=[],xt=[],wt={FileIndex:ct,FullPaths:xt};k(wt);var kt,Vt=0;for(Fe=0;Fe<Me.length;++Fe){var de=Me[Fe];de!==_t&&de!==_t+"--"||(Vt++&&ha(wt,Me.slice(kt,Fe),Oe),kt=Fe)}return wt}function dr(ue,_e){var Oe=_e||{},Me=Oe.boundary||"SheetJS";Me="------="+Me;for(var Fe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Me.slice(2)+'"',"","",""],Ve=ue.FullPaths[0],ft=Ve,_t=ue.FileIndex[0],ct=1;ct<ue.FullPaths.length;++ct)if(ft=ue.FullPaths[ct].slice(Ve.length),_t=ue.FileIndex[ct],!(!_t.size||!_t.content||ft=="Sh33tJ5")){ft=ft.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Xt){return"_x"+Xt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Xt){return"_u"+Xt.charCodeAt(0).toString(16)+"_"});for(var xt=_t.content,wt=ai&&Buffer.isBuffer(xt)?xt.toString("binary"):ge(xt),kt=0,Vt=Math.min(1024,wt.length),de=0,at=0;at<=Vt;++at)(de=wt.charCodeAt(at))>=32&&de<128&&++kt;var ht=kt>=Vt*4/5;Fe.push(Me),Fe.push("Content-Location: "+(Oe.root||"file:///C:/SheetJS/")+ft),Fe.push("Content-Transfer-Encoding: "+(ht?"quoted-printable":"base64")),Fe.push("Content-Type: "+lr(_t,ft)),Fe.push(""),Fe.push(ht?Sa(wt):xr(wt))}return Fe.push(Me+`--\r
`),Fe.join(`\r
`)}function qa(ue){var _e={};return k(_e,ue),_e}function Fi(ue,_e,Oe,Me){var Fe=Me&&Me.unsafe;Fe||k(ue);var Ve=!Fe&&ki.find(ue,_e);if(!Ve){var ft=ue.FullPaths[0];_e.slice(0,ft.length)==ft?ft=_e:(ft.slice(-1)!="/"&&(ft+="/"),ft=(ft+_e).replace("//","/")),Ve={name:i(_e),type:2},ue.FileIndex.push(Ve),ue.FullPaths.push(ft),Fe||ki.utils.cfb_gc(ue)}return Ve.content=Oe,Ve.size=Oe?Oe.length:0,Me&&(Me.CLSID&&(Ve.clsid=Me.CLSID),Me.mt&&(Ve.mt=Me.mt),Me.ct&&(Ve.ct=Me.ct)),Ve}function _a(ue,_e){k(ue);var Oe=ki.find(ue,_e);if(Oe){for(var Me=0;Me<ue.FileIndex.length;++Me)if(ue.FileIndex[Me]==Oe)return ue.FileIndex.splice(Me,1),ue.FullPaths.splice(Me,1),!0}return!1}function On(ue,_e,Oe){k(ue);var Me=ki.find(ue,_e);if(Me){for(var Fe=0;Fe<ue.FileIndex.length;++Fe)if(ue.FileIndex[Fe]==Me)return ue.FileIndex[Fe].name=i(Oe),ue.FullPaths[Fe]=Oe,!0}return!1}function Gn(ue){B(ue,!0)}return t.find=F,t.read=D,t.parse=f,t.write=Ie,t.writeFile=J,t.utils={cfb_new:qa,cfb_add:Fi,cfb_del:_a,cfb_mov:On,cfb_gc:Gn,ReadShift:Fv,CheckField:jZ,prep_blob:Nl,bconcat:Rs,use_zlib:W,_deflateRaw:tt,_inflateRaw:Jr,consts:te},t}();function pze(e){return typeof e=="string"?wN(e):Array.isArray(e)?$Ue(e):e}function tw(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=wN(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?m2(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var i=new Blob([pze(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var o=document.createElement("a");if(o.download!=null)return o.download=e,o.href=a,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(e);return l.open("w"),l.encoding="binary",Array.isArray(t)&&(t=ew(t)),l.write(t),l.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Hs(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function M9(e,t){for(var r=[],n=Hs(e),i=0;i!==n.length;++i)r[e[n[i]][t]]==null&&(r[e[n[i]][t]]=n[i]);return r}function L8(e){for(var t=[],r=Hs(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function _N(e){for(var t=[],r=Hs(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function mze(e){for(var t=[],r=Hs(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var h4=new Date(1899,11,30,0,0,0);function al(e,t){var r=e.getTime(),n=h4.getTime()+(e.getTimezoneOffset()-h4.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var dZ=new Date,gze=h4.getTime()+(dZ.getTimezoneOffset()-h4.getTimezoneOffset())*6e4,D9=dZ.getTimezoneOffset();function fZ(e){var t=new Date;return t.setTime(e*24*60*60*1e3+gze),t.getTimezoneOffset()!==D9&&t.setTime(t.getTime()+(t.getTimezoneOffset()-D9)*6e4),t}var L9=new Date("2017-02-19T19:06:09.000Z"),hZ=isNaN(L9.getFullYear())?new Date("2/19/17"):L9,xze=hZ.getFullYear()==2017;function Io(e,t){var r=new Date(e);if(xze)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(hZ.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function NN(e,t){if(ai&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function sl(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=sl(e[r]));return t}function ka(e,t){for(var r="";r.length<t;)r+=e;return r}function Qd(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var vze=["january","february","march","april","may","june","july","august","september","october","november","december"];function p2(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var o=e.toLowerCase();if(o.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(o=o.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),o.length>3&&vze.indexOf(o)==-1)return r}else if(o.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function jn(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return ai?n=jf(r):n=UUe(r),ki.utils.cfb_add(e,t,n)}ki.utils.cfb_add(e,t,r)}else e.file(t,r)}function R8(){return ki.utils.cfb_new()}var rs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,yze={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},F8=L8(yze),B8=/[&<>'"]/g,wze=/[\u0000-\u0008\u000b-\u001f]/g;function Ni(e){var t=e+"";return t.replace(B8,function(r){return F8[r]}).replace(wze,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function R9(e){return Ni(e).replace(/ /g,"_x0020_")}var pZ=/[\u0000-\u001f]/g;function bze(e){var t=e+"";return t.replace(B8,function(r){return F8[r]}).replace(/\n/g,"<br/>").replace(pZ,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Sze(e){var t=e+"";return t.replace(B8,function(r){return F8[r]}).replace(pZ,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function _ze(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Nze(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function $A(e){for(var t="",r=0,n=0,i=0,a=0,o=0,l=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){o=(n&31)<<6,o|=i&63,t+=String.fromCharCode(o);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}o=e.charCodeAt(r++),l=((n&7)<<18|(i&63)<<12|(a&63)<<6|o&63)-65536,t+=String.fromCharCode(55296+(l>>>10&1023)),t+=String.fromCharCode(56320+(l&1023))}return t}function F9(e){var t=zp(2*e.length),r,n,i=1,a=0,o=0,l;for(n=0;n<e.length;n+=i)i=1,(l=e.charCodeAt(n))<128?r=l:l<224?(r=(l&31)*64+(e.charCodeAt(n+1)&63),i=2):l<240?(r=(l&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(l&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,o=55296+(r>>>10&1023),r=56320+(r&1023)),o!==0&&(t[a++]=o&255,t[a++]=o>>>8,o=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function B9(e){return jf(e,"binary").toString("utf8")}var jb="foo bar baz",Rv=ai&&(B9(jb)==$A(jb)&&B9||F9(jb)==$A(jb)&&F9)||$A,m2=ai?function(e){return jf(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Eze=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}}(),mZ=/(^\s|\s$|\n)/;function Fs(e,t){return"<"+e+(t.match(mZ)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function g2(e){return Hs(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function tr(e,t,r){return"<"+e+(r!=null?g2(r):"")+(t!=null?(t.match(mZ)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function wT(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Aze(e,t){switch(typeof e){case"string":var r=tr("vt:lpwstr",Ni(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return tr((e|0)==e?"vt:i4":"vt:r8",Ni(String(e)));case"boolean":return tr("vt:bool",e?"true":"false")}if(e instanceof Date)return tr("vt:filetime",wT(e));throw new Error("Unable to serialize "+e)}var Ss={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},px=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Al={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Cze(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function jze(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,o=n?-t:t;isFinite(o)?o==0?i=a=0:(i=Math.floor(Math.log(o)/Math.LN2),a=o*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var l=0;l<=5;++l,a/=256)e[r+l]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var $9=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},U9=ai?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:jf(t)})):$9(e)}:$9,z9=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(gv(e,i)));return n.join("").replace(Lv,"")},$8=ai?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Lv,""):z9(e,t,r)}:z9,V9=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},gZ=ai?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):V9(e,t,r)}:V9,W9=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(F1(e,i)));return n.join("")},rw=ai?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):W9(t,r,n)}:W9,xZ=function(e,t){var r=Cl(e,t);return r>0?rw(e,t+4,t+4+r-1):""},vZ=xZ,yZ=function(e,t){var r=Cl(e,t);return r>0?rw(e,t+4,t+4+r-1):""},wZ=yZ,bZ=function(e,t){var r=2*Cl(e,t);return r>0?rw(e,t+4,t+4+r-1):""},SZ=bZ,_Z=function(t,r){var n=Cl(t,r);return n>0?$8(t,r+4,r+4+n):""},NZ=_Z,EZ=function(e,t){var r=Cl(e,t);return r>0?rw(e,t+4,t+4+r):""},AZ=EZ,CZ=function(e,t){return Cze(e,t)},p4=CZ,U8=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};ai&&(vZ=function(t,r){if(!Buffer.isBuffer(t))return xZ(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},wZ=function(t,r){if(!Buffer.isBuffer(t))return yZ(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},SZ=function(t,r){if(!Buffer.isBuffer(t))return bZ(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},NZ=function(t,r){if(!Buffer.isBuffer(t))return _Z(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},AZ=function(t,r){if(!Buffer.isBuffer(t))return EZ(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},p4=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):CZ(t,r)},U8=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var F1=function(e,t){return e[t]},gv=function(e,t){return e[t+1]*256+e[t]},Tze=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Cl=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},U0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Oze=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Fv(e,t){var r="",n,i,a=[],o,l,c,u;switch(t){case"dbcs":if(u=this.l,ai&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode(gv(this,u)),u+=2;e*=2;break;case"utf8":r=rw(this,this.l,this.l+e);break;case"utf16le":e*=2,r=$8(this,this.l,this.l+e);break;case"wstr":return Fv.call(this,e,"dbcs");case"lpstr-ansi":r=vZ(this,this.l),e=4+Cl(this,this.l);break;case"lpstr-cp":r=wZ(this,this.l),e=4+Cl(this,this.l);break;case"lpwstr":r=SZ(this,this.l),e=4+2*Cl(this,this.l);break;case"lpp4":e=4+Cl(this,this.l),r=NZ(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Cl(this,this.l),r=AZ(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(o=F1(this,this.l+e++))!==0;)a.push(Eb(o));r=a.join("");break;case"_wstr":for(e=0,r="";(o=gv(this,this.l+e))!==0;)a.push(Eb(o)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=F1(this,u),this.l=u+1,l=Fv.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(Eb(gv(this,u))),u+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return o=F1(this,u),this.l=u+1,l=Fv.call(this,e-c,o?"dbcs-cont":"sbcs-cont"),a.join("")+l;a.push(Eb(F1(this,u))),u+=1}r=a.join("");break;default:switch(e){case 1:return n=F1(this,this.l),this.l++,n;case 2:return n=(t==="i"?Tze:gv)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?U0:Oze)(this,this.l),this.l+=4,n):(i=Cl(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=p4(this,this.l):i=p4([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=gZ(this,this.l,e);break}}return this.l+=e,r}var Ize=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Pze=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},kze=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Mze(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)kze(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var o=t.charCodeAt(i);this[this.l++]=o&255,this[this.l++]=o>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Ize(this,t,this.l);break;case 8:if(n=8,r==="f"){jze(this,t,this.l);break}case 16:break;case-4:n=4,Pze(this,t,this.l);break}return this.l+=n,this}function jZ(e,t){var r=gZ(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Nl(e,t){e.l=t,e.read_shift=Fv,e.chk=jZ,e.write_shift=Mze}function ld(e,t){e.l+=t}function Tt(e){var t=zp(e);return Nl(t,0),t}function nl(){var e=[],t=ai?256:2048,r=function(u){var f=Tt(u);return Nl(f,0),f},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,t)))},o=function(){return i(),Rs(e)},l=function(u){i(),n=u,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:l,end:o,_bufs:e}}function Bt(e,t,r,n){var i=+t,a;if(!isNaN(i)){n||(n=CYe[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var o=e.next(a);i<=127?o.write_shift(1,i):(o.write_shift(1,(i&127)+128),o.write_shift(1,i>>7));for(var l=0;l!=4;++l)if(n>=128)o.write_shift(1,(n&127)+128),n>>=7;else{o.write_shift(1,n);break}n>0&&U8(r)&&e.push(r)}}function Bv(e,t,r){var n=sl(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function H9(e,t,r){var n=sl(e);return n.s=Bv(n.s,t.s,r),n.e=Bv(n.e,t.s,r),n}function $v(e,t){if(e.cRel&&e.c<0)for(e=sl(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=sl(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Ai(e);return!e.cRel&&e.cRel!=null&&(r=Rze(r)),!e.rRel&&e.rRel!=null&&(r=Dze(r)),r}function UA(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+uo(e.s.c)+":"+(e.e.cRel?"":"$")+uo(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Vs(e.s.r)+":"+(e.e.rRel?"":"$")+Vs(e.e.r):$v(e.s,t.biff)+":"+$v(e.e,t.biff)}function z8(e){return parseInt(Lze(e),10)-1}function Vs(e){return""+(e+1)}function Dze(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Lze(e){return e.replace(/\$(\d+)$/,"$1")}function V8(e){for(var t=Fze(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function uo(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Rze(e){return e.replace(/^([A-Z])/,"$$$1")}function Fze(e){return e.replace(/^\$([A-Z])/,"$1")}function Bze(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Es(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function Ai(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function $l(e){var t=e.indexOf(":");return t==-1?{s:Es(e),e:Es(e)}:{s:Es(e.slice(0,t)),e:Es(e.slice(t+1))}}function ts(e,t){return typeof t>"u"||typeof t=="number"?ts(e.s,e.e):(typeof e!="string"&&(e=Ai(e)),typeof t!="string"&&(t=Ai(t)),e==t?e:e+":"+t)}function Ji(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function q9(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Jh(e.z,r?al(t):t)}catch{}try{return e.w=Jh((e.XF||{}).numFmtId||(r?14:0),r?al(t):t)}catch{return""+t}}function bf(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?nw[e.v]||e.v:t==null?q9(e,e.v):q9(e,t))}function n1(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function TZ(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),o=0,l=0;if(a&&n.origin!=null){if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Es(n.origin):n.origin;o=c.r,l=c.c}a["!ref"]||(a["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var f=Ji(a["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),o==-1&&(u.e.r=o=f.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[p].length;++g)if(!(typeof t[p][g]>"u")){var x={v:t[p][g]},b=o+p,y=l+g;if(u.s.r>b&&(u.s.r=b),u.s.c>y&&(u.s.c=y),u.e.r<b&&(u.e.r=b),u.e.c<y&&(u.e.c=y),t[p][g]&&typeof t[p][g]=="object"&&!Array.isArray(t[p][g])&&!(t[p][g]instanceof Date))x=t[p][g];else if(Array.isArray(x.v)&&(x.f=t[p][g][1],x.v=x.v[0]),x.v===null)if(x.f)x.t="n";else if(n.nullError)x.t="e",x.v=0;else if(n.sheetStubs)x.t="z";else continue;else typeof x.v=="number"?x.t="n":typeof x.v=="boolean"?x.t="b":x.v instanceof Date?(x.z=n.dateNF||Ma[14],n.cellDates?(x.t="d",x.w=Jh(x.z,al(x.v))):(x.t="n",x.v=al(x.v),x.w=Jh(x.z,x.v))):x.t="s";if(i)a[b]||(a[b]=[]),a[b][y]&&a[b][y].z&&(x.z=a[b][y].z),a[b][y]=x;else{var _=Ai({c:y,r:b});a[_]&&a[_].z&&(x.z=a[_].z),a[_]=x}}}return u.s.c<1e7&&(a["!ref"]=ts(u)),a}function mx(e,t){return TZ(null,e,t)}function $ze(e){return e.read_shift(4,"i")}function su(e,t){return t||(t=Tt(4)),t.write_shift(4,e),t}function fo(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function As(e,t){var r=!1;return t==null&&(r=!0,t=Tt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function Uze(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function zze(e,t){return t||(t=Tt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function W8(e,t){var r=e.l,n=e.read_shift(1),i=fo(e),a=[],o={t:i,h:i};if(n&1){for(var l=e.read_shift(4),c=0;c!=l;++c)a.push(Uze(e));o.r=a}else o.r=[{ich:0,ifnt:0}];return e.l=r+t,o}function Vze(e,t){var r=!1;return t==null&&(r=!0,t=Tt(15+4*e.t.length)),t.write_shift(1,0),As(e.t,t),r?t.slice(0,t.l):t}var Wze=W8;function Hze(e,t){var r=!1;return t==null&&(r=!0,t=Tt(23+4*e.t.length)),t.write_shift(1,1),As(e.t,t),t.write_shift(4,1),zze({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function Nc(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function i1(e,t){return t==null&&(t=Tt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function a1(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function s1(e,t){return t==null&&(t=Tt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var qze=fo,OZ=As;function H8(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function m4(e,t){var r=!1;return t==null&&(r=!0,t=Tt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var Gze=fo,bT=H8,q8=m4;function IZ(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?p4([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):U0(t,0)>>2;return r?i/100:i}function PZ(e,t){t==null&&(t=Tt(4));var r=0,n=0,i=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?i:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function kZ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function Yze(e,t){return t||(t=Tt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var o1=kZ,gx=Yze;function xx(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Vp(e,t){return(t||Tt(8)).write_shift(8,e,"f")}function Xze(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),o=e.read_shift(1),l=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var u=iVe[i];u&&(t.rgb=nB(u));break;case 2:t.rgb=nB([o,l,c]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function g4(e,t){if(t||(t=Tt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function Kze(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Qze(e,t){t||(t=Tt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var MZ=2,bl=3,Tb=11,x4=19,Ob=64,Zze=65,Jze=71,eVe=4108,tVe=4126,Ls=80,G9={1:{n:"CodePage",t:MZ},2:{n:"Category",t:Ls},3:{n:"PresentationFormat",t:Ls},4:{n:"ByteCount",t:bl},5:{n:"LineCount",t:bl},6:{n:"ParagraphCount",t:bl},7:{n:"SlideCount",t:bl},8:{n:"NoteCount",t:bl},9:{n:"HiddenCount",t:bl},10:{n:"MultimediaClipCount",t:bl},11:{n:"ScaleCrop",t:Tb},12:{n:"HeadingPairs",t:eVe},13:{n:"TitlesOfParts",t:tVe},14:{n:"Manager",t:Ls},15:{n:"Company",t:Ls},16:{n:"LinksUpToDate",t:Tb},17:{n:"CharacterCount",t:bl},19:{n:"SharedDoc",t:Tb},22:{n:"HyperlinksChanged",t:Tb},23:{n:"AppVersion",t:bl,p:"version"},24:{n:"DigSig",t:Zze},26:{n:"ContentType",t:Ls},27:{n:"ContentStatus",t:Ls},28:{n:"Language",t:Ls},29:{n:"Version",t:Ls},255:{},2147483648:{n:"Locale",t:x4},2147483651:{n:"Behavior",t:x4},1919054434:{}},Y9={1:{n:"CodePage",t:MZ},2:{n:"Title",t:Ls},3:{n:"Subject",t:Ls},4:{n:"Author",t:Ls},5:{n:"Keywords",t:Ls},6:{n:"Comments",t:Ls},7:{n:"Template",t:Ls},8:{n:"LastAuthor",t:Ls},9:{n:"RevNumber",t:Ls},10:{n:"EditTime",t:Ob},11:{n:"LastPrinted",t:Ob},12:{n:"CreatedDate",t:Ob},13:{n:"ModifiedDate",t:Ob},14:{n:"PageCount",t:bl},15:{n:"WordCount",t:bl},16:{n:"CharCount",t:bl},17:{n:"Thumbnail",t:Jze},18:{n:"Application",t:Ls},19:{n:"DocSecurity",t:bl},255:{},2147483648:{n:"Locale",t:x4},2147483651:{n:"Behavior",t:x4},1919054434:{}};function rVe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var nVe=rVe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),iVe=sl(nVe),nw={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},aVe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Ib={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function DZ(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function LZ(e,t){var r=mze(aVe),n=[],i;n[n.length]=rs,n[n.length]=tr("Types",null,{xmlns:Ss.CT,"xmlns:xsd":Ss.xsd,"xmlns:xsi":Ss.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return tr("Default",null,{Extension:c[0],ContentType:c[1]})}));var a=function(c){e[c]&&e[c].length>0&&(i=e[c][0],n[n.length]=tr("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Ib[c][t.bookType]||Ib[c].xlsx}))},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=tr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Ib[c][t.bookType]||Ib[c].xlsx})})},l=function(c){(e[c]||[]).forEach(function(u){n[n.length]=tr("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return a("workbooks"),o("sheets"),o("charts"),l("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),o("metadata"),l("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var ei={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function RZ(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Om(e){var t=[rs,tr("Relationships",null,{xmlns:Ss.RELS})];return Hs(e["!id"]).forEach(function(r){t[t.length]=tr("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function wi(e,t,r,n,i,a){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=n,i.Target=r,[ei.HLINK,ei.XPATH,ei.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function sVe(e){var t=[rs];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function X9(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function oVe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function lVe(e){var t=[rs];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(X9(e[r][0],e[r][1])),t.push(oVe("",e[r][0]));return t.push(X9("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function FZ(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+c4.version+"</meta:generator></office:meta></office:document-meta>"}var yp=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function zA(e,t,r,n,i){i[e]!=null||t==null||t===""||(i[e]=t,t=Ni(t),n[n.length]=r?tr(e,t,r):Fs(e,t))}function BZ(e,t){var r=t||{},n=[rs,tr("cp:coreProperties",null,{"xmlns:cp":Ss.CORE_PROPS,"xmlns:dc":Ss.dc,"xmlns:dcterms":Ss.dcterms,"xmlns:dcmitype":Ss.dcmitype,"xmlns:xsi":Ss.xsi})],i={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&zA("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:wT(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),e.ModifiedDate!=null&&zA("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:wT(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=yp.length;++a){var o=yp[a],l=r.Props&&r.Props[o[1]]!=null?r.Props[o[1]]:e?e[o[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&zA(o[0],l,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Im=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],$Z=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function UZ(e){var t=[],r=tr;return e||(e={}),e.Application="SheetJS",t[t.length]=rs,t[t.length]=tr("Properties",null,{xmlns:Ss.EXT_PROPS,"xmlns:vt":Ss.vt}),Im.forEach(function(n){if(e[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Ni(String(e[n[1]]));break;case"bool":i=e[n[1]]?"true":"false";break}i!==void 0&&(t[t.length]=r(n[0],i))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Ni(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function zZ(e){var t=[rs,tr("Properties",null,{xmlns:Ss.CUST_PROPS,"xmlns:vt":Ss.vt})];if(!e)return t.join("");var r=1;return Hs(e).forEach(function(i){++r,t[t.length]=tr("property",Aze(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Ni(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var K9={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function cVe(e,t){var r=[];return Hs(K9).map(function(n){for(var i=0;i<yp.length;++i)if(yp[i][1]==n)return yp[i];for(i=0;i<Im.length;++i)if(Im[i][1]==n)return Im[i];throw n}).forEach(function(n){if(e[n[1]]!=null){var i=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(Fs(K9[n[1]]||n[1],i))}}),tr("DocumentProperties",r.join(""),{xmlns:Al.o})}function uVe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return e&&Hs(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var o=0;o<yp.length;++o)if(a==yp[o][1])return;for(o=0;o<Im.length;++o)if(a==Im[o][1])return;for(o=0;o<r.length;++o)if(a==r[o])return;var l=e[a],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l=String(l),i.push(tr(R9(a),l,{"dt:dt":c}))}}),t&&Hs(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var o=t[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o instanceof Date?(l="dateTime.tz",o=o.toISOString()):o=String(o),i.push(tr(R9(a),o,{"dt:dt":l}))}}),"<"+n+' xmlns="'+Al.o+'">'+i.join("")+"</"+n+">"}function dVe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var o=Tt(8);return o.write_shift(4,n),o.write_shift(4,i),o}function Q9(e,t){var r=Tt(4),n=Tt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Tt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=dVe(t);break;case 31:case 80:for(n=Tt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Rs([r,n])}var VZ=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function fVe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function Z9(e,t,r){var n=Tt(8),i=[],a=[],o=8,l=0,c=Tt(8),u=Tt(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),a.push(c),i.push(u),o+=8+c.length,!t){u=Tt(8),u.write_shift(4,0),i.unshift(u);var f=[Tt(4)];for(f[0].write_shift(4,e.length),l=0;l<e.length;++l){var p=e[l][0];for(c=Tt(8+2*(p.length+1)+(p.length%2?0:2)),c.write_shift(4,l+2),c.write_shift(4,p.length+1),c.write_shift(0,p,"dbcs");c.l!=c.length;)c.write_shift(1,0);f.push(c)}c=Rs(f),a.unshift(c),o+=8+c.length}for(l=0;l<e.length;++l)if(!(t&&!t[e[l][0]])&&!(VZ.indexOf(e[l][0])>-1||$Z.indexOf(e[l][0])>-1)&&e[l][1]!=null){var g=e[l][1],x=0;if(t){x=+t[e[l][0]];var b=r[x];if(b.p=="version"&&typeof g=="string"){var y=g.split(".");g=(+y[0]<<16)+(+y[1]||0)}c=Q9(b.t,g)}else{var _=fVe(g);_==-1&&(_=31,g=String(g)),c=Q9(_,g)}a.push(c),u=Tt(8),u.write_shift(4,t?x:2+l),i.push(u),o+=8+c.length}var N=8*(a.length+1);for(l=0;l<a.length;++l)i[l].write_shift(4,N),N+=a[l].length;return n.write_shift(4,o),n.write_shift(4,a.length),Rs([n].concat(i).concat(a))}function J9(e,t,r,n,i,a){var o=Tt(i?68:48),l=[o];o.write_shift(2,65534),o.write_shift(2,0),o.write_shift(4,842412599),o.write_shift(16,ki.utils.consts.HEADER_CLSID,"hex"),o.write_shift(4,i?2:1),o.write_shift(16,t,"hex"),o.write_shift(4,i?68:48);var c=Z9(e,r,n);if(l.push(c),i){var u=Z9(i,null,null);o.write_shift(16,a,"hex"),o.write_shift(4,68+c.length),l.push(u)}return Rs(l)}function hVe(e,t){t||(t=Tt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function pVe(e,t){return e.read_shift(t)===1}function Eo(e,t){return t||(t=Tt(2)),t.write_shift(2,+!!e),t}function WZ(e){return e.read_shift(2,"u")}function nc(e,t){return t||(t=Tt(2)),t.write_shift(2,e),t}function HZ(e,t,r){return r||(r=Tt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function qZ(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var o=n?e.read_shift(n,i):"";return o}function mVe(e){var t=e.t||"",r=Tt(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Tt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var i=[r,n];return Rs(i)}function gVe(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function xVe(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):gVe(e,n,r)}function vVe(e,t,r){if(r.biff>5)return xVe(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function GZ(e,t,r){return r||(r=Tt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function eB(e,t){t||(t=Tt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function yVe(e){var t=Tt(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var o=[8,6815827,6619237,4849780,83];for(r=0;r<o.length;++r)t.write_shift(4,o[r]);if(a==28)n=n.slice(1),eB(n,t);else if(a&2){for(o="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));var l=i>-1?n.slice(0,i):n;for(t.write_shift(4,2*(l.length+1)),r=0;r<l.length;++r)t.write_shift(2,l.charCodeAt(r));t.write_shift(2,0),a&8&&eB(i>-1?n.slice(i+1):"",t)}else{for(o="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<o.length;++r)t.write_shift(1,parseInt(o[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Wp(e,t,r,n){return n||(n=Tt(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function wVe(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),o=e.read_shift(n,"i");return[i,a,o]}function bVe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function YZ(e,t){return t||(t=Tt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function G8(e,t,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=Tt(i);return a.write_shift(2,n),a.write_shift(2,t),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function SVe(e,t){var r=!t||t.biff==8,n=Tt(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function _Ve(e,t){var r=!t||t.biff>=8?2:1,n=Tt(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function NVe(e,t){var r=Tt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],i=0;i<e.length;++i)n[i]=mVe(e[i]);var a=Rs([r].concat(n));return a.parts=[r.length].concat(n.map(function(o){return o.length})),a}function EVe(){var e=Tt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function AVe(e){var t=Tt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function CVe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,i=n?15+r.length:16+2*r.length,a=Tt(i);return a.write_shift(2,(e.sz||12)*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function jVe(e,t,r,n){var i=Tt(10);return Wp(e,t,n,i),i.write_shift(4,r),i}function TVe(e,t,r,n,i){var a=!i||i.biff==8,o=Tt(8+ +a+(1+a)*r.length);return Wp(e,t,n,o),o.write_shift(2,r.length),a&&o.write_shift(1,1),o.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),o}function OVe(e,t,r,n){var i=r&&r.biff==5;n||(n=Tt(i?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(i?1:2,t.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}function IVe(e,t){var r=t.biff==8||!t.biff?4:2,n=Tt(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function tB(e,t,r,n){var i=r&&r.biff==5;n||(n=Tt(i?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function PVe(e){var t=Tt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function kVe(e,t,r,n,i,a){var o=Tt(8);return Wp(e,t,n,o),HZ(r,a,o),o}function MVe(e,t,r,n){var i=Tt(14);return Wp(e,t,n,i),Vp(r,i),i}function DVe(e,t,r){if(r.biff<8)return LVe(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(wVe(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function LVe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=qZ(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function RVe(e){var t=Tt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)YZ(e[r],t);return t}function FVe(e){var t=Tt(24),r=Es(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(n[i],16));return Rs([t,yVe(e[1])])}function BVe(e){var t=e[1].Tooltip,r=Tt(10+2*(t.length+1));r.write_shift(2,2048);var n=Es(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<t.length;++i)r.write_shift(2,t.charCodeAt(i));return r.write_shift(2,0),r}function $Ve(e){return e||(e=Tt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function UVe(e,t,r){if(!r.cellStyles)return ld(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:i,e:a,w:o,ixfe:l,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function zVe(e,t){var r=Tt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function VVe(e){for(var t=Tt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function WVe(e,t,r){var n=Tt(15);return aw(n,e,t),n.write_shift(8,r,"f"),n}function HVe(e,t,r){var n=Tt(9);return aw(n,e,t),n.write_shift(2,r),n}var qVe=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=L8({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(l,c){var u=[],f=zp(1);switch(c.type){case"base64":f=Xc(wf(l));break;case"binary":f=Xc(l);break;case"buffer":case"array":f=l;break}Nl(f,0);var p=f.read_shift(1),g=!!(p&136),x=!1,b=!1;switch(p){case 2:break;case 3:break;case 48:x=!0,g=!0;break;case 49:x=!0,g=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var y=0,_=521;p==2&&(y=f.read_shift(2)),f.l+=3,p!=2&&(y=f.read_shift(4)),y>1048576&&(y=1e6),p!=2&&(_=f.read_shift(2));var N=f.read_shift(2),E=c.codepage||1252;p!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(E=e[f[f.l]]),f.l+=1,f.l+=2),b&&(f.l+=36);for(var C=[],I={},P=Math.min(f.length,p==2?521:_-10-(x?264:0)),D=b?32:11;f.l<P&&f[f.l]!=13;)switch(I={},I.name=$0.utils.decode(E,f.slice(f.l,f.l+D)).replace(/[\u0000\r\n].*$/g,""),f.l+=D,I.type=String.fromCharCode(f.read_shift(1)),p!=2&&!b&&(I.offset=f.read_shift(4)),I.len=f.read_shift(1),p==2&&(I.offset=f.read_shift(2)),I.dec=f.read_shift(1),I.name.length&&C.push(I),p!=2&&(f.l+=b?13:14),I.type){case"B":(!x||I.len!=8)&&c.WTF&&console.log("Skipping "+I.name+":"+I.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+I.name+":"+I.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+I.type)}if(f[f.l]!==13&&(f.l=_-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=_;var k=0,L=0;for(u[0]=[],L=0;L!=C.length;++L)u[0][L]=C[L].name;for(;y-- >0;){if(f[f.l]===42){f.l+=N;continue}for(++f.l,u[++k]=[],L=0,L=0;L!=C.length;++L){var B=f.slice(f.l,f.l+C[L].len);f.l+=C[L].len,Nl(B,0);var G=$0.utils.decode(E,B);switch(C[L].type){case"C":G.trim().length&&(u[k][L]=G.replace(/\s+$/,""));break;case"D":G.length===8?u[k][L]=new Date(+G.slice(0,4),+G.slice(4,6)-1,+G.slice(6,8)):u[k][L]=G;break;case"F":u[k][L]=parseFloat(G.trim());break;case"+":case"I":u[k][L]=b?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(G.trim().toUpperCase()){case"Y":case"T":u[k][L]=!0;break;case"N":case"F":u[k][L]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+G+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));u[k][L]="##MEMO##"+(b?parseInt(G.trim(),10):B.read_shift(4));break;case"N":G=G.replace(/\u0000/g,"").trim(),G&&G!="."&&(u[k][L]=+G||0);break;case"@":u[k][L]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":u[k][L]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":u[k][L]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[k][L]=-B.read_shift(-8,"f");break;case"B":if(x&&C[L].len==8){u[k][L]=B.read_shift(8,"f");break}case"G":case"P":B.l+=C[L].len;break;case"0":if(C[L].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+C[L].type)}}}if(p!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=C,u}function n(l,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var f=mx(r(l,u),u);return f["!cols"]=u.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete u.DBF,f}function i(l,c){try{return n1(n(l,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function o(l,c){var u=c||{};if(+u.codepage>=0&&f2(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=nl(),p=S4(l,{header:1,raw:!0,cellDates:!0}),g=p[0],x=p.slice(1),b=l["!cols"]||[],y=0,_=0,N=0,E=1;for(y=0;y<g.length;++y){if(((b[y]||{}).DBF||{}).name){g[y]=b[y].DBF.name,++N;continue}if(g[y]!=null){if(++N,typeof g[y]=="number"&&(g[y]=g[y].toString(10)),typeof g[y]!="string")throw new Error("DBF Invalid column name "+g[y]+" |"+typeof g[y]+"|");if(g.indexOf(g[y])!==y){for(_=0;_<1024;++_)if(g.indexOf(g[y]+"_"+_)==-1){g[y]+="_"+_;break}}}}var C=Ji(l["!ref"]),I=[],P=[],D=[];for(y=0;y<=C.e.c-C.s.c;++y){var k="",L="",B=0,G=[];for(_=0;_<x.length;++_)x[_][y]!=null&&G.push(x[_][y]);if(G.length==0||g[y]==null){I[y]="?";continue}for(_=0;_<G.length;++_){switch(typeof G[_]){case"number":L="B";break;case"string":L="C";break;case"boolean":L="L";break;case"object":L=G[_]instanceof Date?"D":"C";break;default:L="C"}B=Math.max(B,String(G[_]).length),k=k&&k!=L?"C":L}B>250&&(B=250),L=((b[y]||{}).DBF||{}).type,L=="C"&&b[y].DBF.len>B&&(B=b[y].DBF.len),k=="B"&&L=="N"&&(k="N",D[y]=b[y].DBF.dec,B=b[y].DBF.len),P[y]=k=="C"||L=="N"?B:a[k]||0,E+=P[y],I[y]=k}var F=f.next(32);for(F.write_shift(4,318902576),F.write_shift(4,x.length),F.write_shift(2,296+32*N),F.write_shift(2,E),y=0;y<4;++y)F.write_shift(4,0);for(F.write_shift(4,0|(+t[KQ]||3)<<8),y=0,_=0;y<g.length;++y)if(g[y]!=null){var U=f.next(32),q=(g[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);U.write_shift(1,q,"sbcs"),U.write_shift(1,I[y]=="?"?"C":I[y],"sbcs"),U.write_shift(4,_),U.write_shift(1,P[y]||a[I[y]]||0),U.write_shift(1,D[y]||0),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(1,0),U.write_shift(4,0),U.write_shift(4,0),_+=P[y]||a[I[y]]||0}var K=f.next(264);for(K.write_shift(4,13),y=0;y<65;++y)K.write_shift(4,0);for(y=0;y<x.length;++y){var V=f.next(E);for(V.write_shift(1,0),_=0;_<g.length;++_)if(g[_]!=null)switch(I[_]){case"L":V.write_shift(1,x[y][_]==null?63:x[y][_]?84:70);break;case"B":V.write_shift(8,x[y][_]||0,"f");break;case"N":var ee="0";for(typeof x[y][_]=="number"&&(ee=x[y][_].toFixed(D[_]||0)),N=0;N<P[_]-ee.length;++N)V.write_shift(1,32);V.write_shift(1,ee,"sbcs");break;case"D":x[y][_]?(V.write_shift(4,("0000"+x[y][_].getFullYear()).slice(-4),"sbcs"),V.write_shift(2,("00"+(x[y][_].getMonth()+1)).slice(-2),"sbcs"),V.write_shift(2,("00"+x[y][_].getDate()).slice(-2),"sbcs")):V.write_shift(8,"00000000","sbcs");break;case"C":var te=String(x[y][_]!=null?x[y][_]:"").slice(0,P[_]);for(V.write_shift(1,te,"sbcs"),N=0;N<P[_]-te.length;++N)V.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:n,from_sheet:o}}(),GVe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Hs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,x){var b=e[x];return typeof b=="number"?E9(b):b},n=function(g,x,b){var y=x.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return y==59?g:E9(y)};e["|"]=254;function i(g,x){switch(x.type){case"base64":return a(wf(g),x);case"binary":return a(g,x);case"buffer":return a(ai&&Buffer.isBuffer(g)?g.toString("binary"):ew(g),x);case"array":return a(NN(g),x)}throw new Error("Unrecognized type "+x.type)}function a(g,x){var b=g.split(/[\n\r]+/),y=-1,_=-1,N=0,E=0,C=[],I=[],P=null,D={},k=[],L=[],B=[],G=0,F;for(+x.codepage>=0&&f2(+x.codepage);N!==b.length;++N){G=0;var U=b[N].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),q=U.replace(/;;/g,"\0").split(";").map(function(re){return re.replace(/\u0000/g,";")}),K=q[0],V;if(U.length>0)switch(K){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":q[1].charAt(0)=="P"&&I.push(U.slice(3).replace(/;;/g,";"));break;case"C":var ee=!1,te=!1,J=!1,ge=!1,Ie=-1,Ge=-1;for(E=1;E<q.length;++E)switch(q[E].charAt(0)){case"A":break;case"X":_=parseInt(q[E].slice(1))-1,te=!0;break;case"Y":for(y=parseInt(q[E].slice(1))-1,te||(_=0),F=C.length;F<=y;++F)C[F]=[];break;case"K":V=q[E].slice(1),V.charAt(0)==='"'?V=V.slice(1,V.length-1):V==="TRUE"?V=!0:V==="FALSE"?V=!1:isNaN(Qd(V))?isNaN(p2(V).getDate())||(V=Io(V)):(V=Qd(V),P!==null&&lZ(P)&&(V=fZ(V))),ee=!0;break;case"E":ge=!0;var W=HWe(q[E].slice(1),{r:y,c:_});C[y][_]=[C[y][_],W];break;case"S":J=!0,C[y][_]=[C[y][_],"S5S"];break;case"G":break;case"R":Ie=parseInt(q[E].slice(1))-1;break;case"C":Ge=parseInt(q[E].slice(1))-1;break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}if(ee&&(C[y][_]&&C[y][_].length==2?C[y][_][0]=V:C[y][_]=V,P=null),J){if(ge)throw new Error("SYLK shared formula cannot have own formula");var Q=Ie>-1&&C[Ie][Ge];if(!Q||!Q[1])throw new Error("SYLK shared formula cannot find base");C[y][_][1]=qWe(Q[1],{r:y-Ie,c:_-Ge})}break;case"F":var Z=0;for(E=1;E<q.length;++E)switch(q[E].charAt(0)){case"X":_=parseInt(q[E].slice(1))-1,++Z;break;case"Y":for(y=parseInt(q[E].slice(1))-1,F=C.length;F<=y;++F)C[F]=[];break;case"M":G=parseInt(q[E].slice(1))/20;break;case"F":break;case"G":break;case"P":P=I[parseInt(q[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=q[E].slice(1).split(" "),F=parseInt(B[0],10);F<=parseInt(B[1],10);++F)G=parseInt(B[2],10),L[F-1]=G===0?{hidden:!0}:{wch:G},Y8(L[F-1]);break;case"C":_=parseInt(q[E].slice(1))-1,L[_]||(L[_]={});break;case"R":y=parseInt(q[E].slice(1))-1,k[y]||(k[y]={}),G>0?(k[y].hpt=G,k[y].hpx=JZ(G)):G===0&&(k[y].hidden=!0);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}Z<1&&(P=null);break;default:if(x&&x.WTF)throw new Error("SYLK bad record "+U)}}return k.length>0&&(D["!rows"]=k),L.length>0&&(D["!cols"]=L),x&&x.sheetRows&&(C=C.slice(0,x.sheetRows)),[C,D]}function o(g,x){var b=i(g,x),y=b[0],_=b[1],N=mx(y,x);return Hs(_).forEach(function(E){N[E]=_[E]}),N}function l(g,x){return n1(o(g,x),x)}function c(g,x,b,y){var _="C;Y"+(b+1)+";X"+(y+1)+";K";switch(g.t){case"n":_+=g.v||0,g.f&&!g.F&&(_+=";E"+K8(g.f,{r:b,c:y}));break;case"b":_+=g.v?"TRUE":"FALSE";break;case"e":_+=g.w||g.v;break;case"d":_+='"'+(g.w||g.v)+'"';break;case"s":_+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function u(g,x){x.forEach(function(b,y){var _="F;W"+(y+1)+" "+(y+1)+" ";b.hidden?_+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=v4(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=y4(b.wpx)),typeof b.wch=="number"&&(_+=Math.round(b.wch))),_.charAt(_.length-1)!=" "&&g.push(_)})}function f(g,x){x.forEach(function(b,y){var _="F;";b.hidden?_+="M0;":b.hpt?_+="M"+20*b.hpt+";":b.hpx&&(_+="M"+20*w4(b.hpx)+";"),_.length>2&&g.push(_+"R"+(y+1))})}function p(g,x){var b=["ID;PWXL;N;E"],y=[],_=Ji(g["!ref"]),N,E=Array.isArray(g),C=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),g["!cols"]&&u(b,g["!cols"]),g["!rows"]&&f(b,g["!rows"]),b.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var I=_.s.r;I<=_.e.r;++I)for(var P=_.s.c;P<=_.e.c;++P){var D=Ai({r:I,c:P});N=E?(g[I]||[])[P]:g[D],!(!N||N.v==null&&(!N.f||N.F))&&y.push(c(N,g,I,P))}return b.join(C)+C+y.join(C)+C+"E"+C}return{to_workbook:l,to_sheet:o,from_sheet:p}}(),YVe=function(){function e(a,o){switch(o.type){case"base64":return t(wf(a),o);case"binary":return t(a,o);case"buffer":return t(ai&&Buffer.isBuffer(a)?a.toString("binary"):ew(a),o);case"array":return t(NN(a),o)}throw new Error("Unrecognized type "+o.type)}function t(a,o){for(var l=a.split(`
`),c=-1,u=-1,f=0,p=[];f!==l.length;++f){if(l[f].trim()==="BOT"){p[++c]=[],u=0;continue}if(!(c<0)){var g=l[f].trim().split(","),x=g[0],b=g[1];++f;for(var y=l[f]||"";(y.match(/["]/g)||[]).length&1&&f<l.length-1;)y+=`
`+l[++f];switch(y=y.trim(),+x){case-1:if(y==="BOT"){p[++c]=[],u=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?p[c][u]=!0:y==="FALSE"?p[c][u]=!1:isNaN(Qd(b))?isNaN(p2(b).getDate())?p[c][u]=b:p[c][u]=Io(b):p[c][u]=Qd(b),++u;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),p[c][u++]=y!==""?y:null;break}if(y==="EOD")break}}return o&&o.sheetRows&&(p=p.slice(0,o.sheetRows)),p}function r(a,o){return mx(e(a,o),o)}function n(a,o){return n1(r(a,o),o)}var i=function(){var a=function(c,u,f,p,g){c.push(u),c.push(f+","+p),c.push('"'+g.replace(/"/g,'""')+'"')},o=function(c,u,f,p){c.push(u+","+f),c.push(u==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(c){var u=[],f=Ji(c["!ref"]),p,g=Array.isArray(c);a(u,"TABLE",0,1,"sheetjs"),a(u,"VECTORS",0,f.e.r-f.s.r+1,""),a(u,"TUPLES",0,f.e.c-f.s.c+1,""),a(u,"DATA",0,0,"");for(var x=f.s.r;x<=f.e.r;++x){o(u,-1,0,"BOT");for(var b=f.s.c;b<=f.e.c;++b){var y=Ai({r:x,c:b});if(p=g?(c[x]||[])[b]:c[y],!p){o(u,1,0,"");continue}switch(p.t){case"n":var _=p.w;!_&&p.v!=null&&(_=p.v),_==null?p.f&&!p.F?o(u,1,0,"="+p.f):o(u,1,0,""):o(u,0,_,"V");break;case"b":o(u,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":o(u,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Jh(p.z||Ma[14],al(Io(p.v)))),o(u,0,p.w,"V");break;default:o(u,1,0,"")}}}o(u,-1,0,"EOD");var N=`\r
`,E=u.join(N);return E}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),XZ=function(){function e(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,g){for(var x=p.split(`
`),b=-1,y=-1,_=0,N=[];_!==x.length;++_){var E=x[_].trim().split(":");if(E[0]==="cell"){var C=Es(E[1]);if(N.length<=C.r)for(b=N.length;b<=C.r;++b)N[b]||(N[b]=[]);switch(b=C.r,y=C.c,E[2]){case"t":N[b][y]=e(E[3]);break;case"v":N[b][y]=+E[3];break;case"vtf":var I=E[E.length-1];case"vtc":switch(E[3]){case"nl":N[b][y]=!!+E[4];break;default:N[b][y]=+E[4];break}E[2]=="vtf"&&(N[b][y]=[N[b][y],I])}}}return g&&g.sheetRows&&(N=N.slice(0,g.sheetRows)),N}function n(p,g){return mx(r(p,g),g)}function i(p,g){return n1(n(p,g),g)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),o=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(p){if(!p||!p["!ref"])return"";for(var g=[],x=[],b,y="",_=$l(p["!ref"]),N=Array.isArray(p),E=_.s.r;E<=_.e.r;++E)for(var C=_.s.c;C<=_.e.c;++C)if(y=Ai({r:E,c:C}),b=N?(p[E]||[])[C]:p[y],!(!b||b.v==null||b.t==="z")){switch(x=["cell",y,"t"],b.t){case"s":case"str":x.push(t(b.v));break;case"n":b.f?(x[2]="vtf",x[3]="n",x[4]=b.v,x[5]=t(b.f)):(x[2]="v",x[3]=b.v);break;case"b":x[2]="vt"+(b.f?"f":"c"),x[3]="nl",x[4]=b.v?"1":"0",x[5]=t(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var I=al(Io(b.v));x[2]="vtc",x[3]="nd",x[4]=""+I,x[5]=b.w||Jh(b.z||Ma[14],I);break;case"e":continue}g.push(x.join(":"))}return g.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function f(p){return[a,o,l,o,u(p),c].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:f}}(),XVe=function(){function e(f,p,g,x,b){b.raw?p[g][x]=f:f===""||(f==="TRUE"?p[g][x]=!0:f==="FALSE"?p[g][x]=!1:isNaN(Qd(f))?isNaN(p2(f).getDate())?p[g][x]=f:p[g][x]=Io(f):p[g][x]=Qd(f))}function t(f,p){var g=p||{},x=[];if(!f||f.length===0)return x;for(var b=f.split(/[\r\n]/),y=b.length-1;y>=0&&b[y].length===0;)--y;for(var _=10,N=0,E=0;E<=y;++E)N=b[E].indexOf(" "),N==-1?N=b[E].length:N++,_=Math.max(_,N);for(E=0;E<=y;++E){x[E]=[];var C=0;for(e(b[E].slice(0,_).trim(),x,E,C,g),C=1;C<=(b[E].length-_)/10+1;++C)e(b[E].slice(_+(C-1)*10,_+C*10).trim(),x,E,C,g)}return g.sheetRows&&(x=x.slice(0,g.sheetRows)),x}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(f){for(var p={},g=!1,x=0,b=0;x<f.length;++x)(b=f.charCodeAt(x))==34?g=!g:!g&&b in r&&(p[b]=(p[b]||0)+1);b=[];for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&b.push([p[x],x]);if(!b.length){p=n;for(x in p)Object.prototype.hasOwnProperty.call(p,x)&&b.push([p[x],x])}return b.sort(function(y,_){return y[0]-_[0]||n[y[1]]-n[_[1]]}),r[b.pop()[1]]||44}function a(f,p){var g=p||{},x="",b=g.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(x=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(x=f.charAt(4),f=f.slice(6)):x=i(f.slice(0,1024)):g&&g.FS?x=g.FS:x=i(f.slice(0,1024));var _=0,N=0,E=0,C=0,I=0,P=x.charCodeAt(0),D=!1,k=0,L=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var B=g.dateNF!=null?dze(g.dateNF):null;function G(){var F=f.slice(C,I),U={};if(F.charAt(0)=='"'&&F.charAt(F.length-1)=='"'&&(F=F.slice(1,-1).replace(/""/g,'"')),F.length===0)U.t="z";else if(g.raw)U.t="s",U.v=F;else if(F.trim().length===0)U.t="s",U.v=F;else if(F.charCodeAt(0)==61)F.charCodeAt(1)==34&&F.charCodeAt(F.length-1)==34?(U.t="s",U.v=F.slice(2,-1).replace(/""/g,'"')):GWe(F)?(U.t="n",U.f=F.slice(1)):(U.t="s",U.v=F);else if(F=="TRUE")U.t="b",U.v=!0;else if(F=="FALSE")U.t="b",U.v=!1;else if(!isNaN(E=Qd(F)))U.t="n",g.cellText!==!1&&(U.w=F),U.v=E;else if(!isNaN(p2(F).getDate())||B&&F.match(B)){U.z=g.dateNF||Ma[14];var q=0;B&&F.match(B)&&(F=fze(F,g.dateNF,F.match(B)||[]),q=1),g.cellDates?(U.t="d",U.v=Io(F,q)):(U.t="n",U.v=al(Io(F,q))),g.cellText!==!1&&(U.w=Jh(U.z,U.v instanceof Date?al(U.v):U.v)),g.cellNF||delete U.z}else U.t="s",U.v=F;if(U.t=="z"||(g.dense?(b[_]||(b[_]=[]),b[_][N]=U):b[Ai({c:N,r:_})]=U),C=I+1,L=f.charCodeAt(C),y.e.c<N&&(y.e.c=N),y.e.r<_&&(y.e.r=_),k==P)++N;else if(N=0,++_,g.sheetRows&&g.sheetRows<=_)return!0}e:for(;I<f.length;++I)switch(k=f.charCodeAt(I)){case 34:L===34&&(D=!D);break;case P:case 10:case 13:if(!D&&G())break e;break}return I-C>0&&G(),b["!ref"]=ts(y),b}function o(f,p){return!(p&&p.PRN)||p.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?a(f,p):mx(t(f,p),p)}function l(f,p){var g="",x=p.type=="string"?[0,0,0,0]:oXe(f,p);switch(p.type){case"base64":g=wf(f);break;case"binary":g=f;break;case"buffer":p.codepage==65001?g=f.toString("utf8"):p.codepage&&typeof $0<"u"?g=$0.utils.decode(p.codepage,f):g=ai&&Buffer.isBuffer(f)?f.toString("binary"):ew(f);break;case"array":g=NN(f);break;case"string":g=f;break;default:throw new Error("Unrecognized type "+p.type)}return x[0]==239&&x[1]==187&&x[2]==191?g=Rv(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=Rv(g):p.type=="binary"&&typeof $0<"u"&&p.codepage&&(g=$0.utils.decode(p.codepage,$0.utils.encode(28591,g))),g.slice(0,19)=="socialcalc:version:"?XZ.to_sheet(p.type=="string"?g:Rv(g),p):o(g,p)}function c(f,p){return n1(l(f,p),p)}function u(f){for(var p=[],g=Ji(f["!ref"]),x,b=Array.isArray(f),y=g.s.r;y<=g.e.r;++y){for(var _=[],N=g.s.c;N<=g.e.c;++N){var E=Ai({r:y,c:N});if(x=b?(f[y]||[])[N]:f[E],!x||x.v==null){_.push("          ");continue}for(var C=(x.w||(bf(x),x.w)||"").slice(0,10);C.length<10;)C+=" ";_.push(C+(N===0?" ":""))}p.push(_.join(""))}return p.join(`
`)}return{to_workbook:c,to_sheet:l,from_sheet:u}}(),rB=function(){function e(W,Q,Z){if(W){Nl(W,W.l||0);for(var re=Z.Enum||Ie;W.l<W.length;){var le=W.read_shift(2),Ne=re[le]||re[65535],Ae=W.read_shift(2),ve=W.l+Ae,xe=Ne.f&&Ne.f(W,Ae,Z);if(W.l=ve,Q(xe,Ne,le))return}}}function t(W,Q){switch(Q.type){case"base64":return r(Xc(wf(W)),Q);case"binary":return r(Xc(W),Q);case"buffer":case"array":return r(W,Q)}throw"Unsupported type "+Q.type}function r(W,Q){if(!W)return W;var Z=Q||{},re=Z.dense?[]:{},le="Sheet1",Ne="",Ae=0,ve={},xe=[],Le=[],Se={s:{r:0,c:0},e:{r:0,c:0}},ye=Z.sheetRows||0;if(W[2]==0&&(W[3]==8||W[3]==9)&&W.length>=16&&W[14]==5&&W[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(W[2]==2)Z.Enum=Ie,e(W,function(Pe,ce,Ce){switch(Ce){case 0:Z.vers=Pe,Pe>=4096&&(Z.qpro=!0);break;case 6:Se=Pe;break;case 204:Pe&&(Ne=Pe);break;case 222:Ne=Pe;break;case 15:case 51:Z.qpro||(Pe[1].v=Pe[1].v.slice(1));case 13:case 14:case 16:Ce==14&&(Pe[2]&112)==112&&(Pe[2]&15)>1&&(Pe[2]&15)<15&&(Pe[1].z=Z.dateNF||Ma[14],Z.cellDates&&(Pe[1].t="d",Pe[1].v=fZ(Pe[1].v))),Z.qpro&&Pe[3]>Ae&&(re["!ref"]=ts(Se),ve[le]=re,xe.push(le),re=Z.dense?[]:{},Se={s:{r:0,c:0},e:{r:0,c:0}},Ae=Pe[3],le=Ne||"Sheet"+(Ae+1),Ne="");var fe=Z.dense?(re[Pe[0].r]||[])[Pe[0].c]:re[Ai(Pe[0])];if(fe){fe.t=Pe[1].t,fe.v=Pe[1].v,Pe[1].z!=null&&(fe.z=Pe[1].z),Pe[1].f!=null&&(fe.f=Pe[1].f);break}Z.dense?(re[Pe[0].r]||(re[Pe[0].r]=[]),re[Pe[0].r][Pe[0].c]=Pe[1]):re[Ai(Pe[0])]=Pe[1];break}},Z);else if(W[2]==26||W[2]==14)Z.Enum=Ge,W[2]==14&&(Z.qpro=!0,W.l=0),e(W,function(Pe,ce,Ce){switch(Ce){case 204:le=Pe;break;case 22:Pe[1].v=Pe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Pe[3]>Ae&&(re["!ref"]=ts(Se),ve[le]=re,xe.push(le),re=Z.dense?[]:{},Se={s:{r:0,c:0},e:{r:0,c:0}},Ae=Pe[3],le="Sheet"+(Ae+1)),ye>0&&Pe[0].r>=ye)break;Z.dense?(re[Pe[0].r]||(re[Pe[0].r]=[]),re[Pe[0].r][Pe[0].c]=Pe[1]):re[Ai(Pe[0])]=Pe[1],Se.e.c<Pe[0].c&&(Se.e.c=Pe[0].c),Se.e.r<Pe[0].r&&(Se.e.r=Pe[0].r);break;case 27:Pe[14e3]&&(Le[Pe[14e3][0]]=Pe[14e3][1]);break;case 1537:Le[Pe[0]]=Pe[1],Pe[0]==Ae&&(le=Pe[1]);break}},Z);else throw new Error("Unrecognized LOTUS BOF "+W[2]);if(re["!ref"]=ts(Se),ve[Ne||le]=re,xe.push(Ne||le),!Le.length)return{SheetNames:xe,Sheets:ve};for(var We={},Ye=[],we=0;we<Le.length;++we)ve[xe[we]]?(Ye.push(Le[we]||xe[we]),We[Le[we]]=ve[Le[we]]||ve[xe[we]]):(Ye.push(Le[we]),We[Le[we]]={"!ref":"A1"});return{SheetNames:Ye,Sheets:We}}function n(W,Q){var Z=Q||{};if(+Z.codepage>=0&&f2(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK1 to JS string");var re=nl(),le=Ji(W["!ref"]),Ne=Array.isArray(W),Ae=[];rr(re,0,a(1030)),rr(re,6,c(le));for(var ve=Math.min(le.e.r,8191),xe=le.s.r;xe<=ve;++xe)for(var Le=Vs(xe),Se=le.s.c;Se<=le.e.c;++Se){xe===le.s.r&&(Ae[Se]=uo(Se));var ye=Ae[Se]+Le,We=Ne?(W[xe]||[])[Se]:W[ye];if(!(!We||We.t=="z"))if(We.t=="n")(We.v|0)==We.v&&We.v>=-32768&&We.v<=32767?rr(re,13,x(xe,Se,We.v)):rr(re,14,y(xe,Se,We.v));else{var Ye=bf(We);rr(re,15,p(xe,Se,Ye.slice(0,239)))}}return rr(re,1),re.end()}function i(W,Q){var Z=Q||{};if(+Z.codepage>=0&&f2(+Z.codepage),Z.type=="string")throw new Error("Cannot write WK3 to JS string");var re=nl();rr(re,0,o(W));for(var le=0,Ne=0;le<W.SheetNames.length;++le)(W.Sheets[W.SheetNames[le]]||{})["!ref"]&&rr(re,27,ge(W.SheetNames[le],Ne++));var Ae=0;for(le=0;le<W.SheetNames.length;++le){var ve=W.Sheets[W.SheetNames[le]];if(!(!ve||!ve["!ref"])){for(var xe=Ji(ve["!ref"]),Le=Array.isArray(ve),Se=[],ye=Math.min(xe.e.r,8191),We=xe.s.r;We<=ye;++We)for(var Ye=Vs(We),we=xe.s.c;we<=xe.e.c;++we){We===xe.s.r&&(Se[we]=uo(we));var Pe=Se[we]+Ye,ce=Le?(ve[We]||[])[we]:ve[Pe];if(!(!ce||ce.t=="z"))if(ce.t=="n")rr(re,23,G(We,we,Ae,ce.v));else{var Ce=bf(ce);rr(re,22,k(We,we,Ae,Ce.slice(0,239)))}}++Ae}}return rr(re,1),re.end()}function a(W){var Q=Tt(2);return Q.write_shift(2,W),Q}function o(W){var Q=Tt(26);Q.write_shift(2,4096),Q.write_shift(2,4),Q.write_shift(4,0);for(var Z=0,re=0,le=0,Ne=0;Ne<W.SheetNames.length;++Ne){var Ae=W.SheetNames[Ne],ve=W.Sheets[Ae];if(!(!ve||!ve["!ref"])){++le;var xe=$l(ve["!ref"]);Z<xe.e.r&&(Z=xe.e.r),re<xe.e.c&&(re=xe.e.c)}}return Z>8191&&(Z=8191),Q.write_shift(2,Z),Q.write_shift(1,le),Q.write_shift(1,re),Q.write_shift(2,0),Q.write_shift(2,0),Q.write_shift(1,1),Q.write_shift(1,2),Q.write_shift(4,0),Q.write_shift(4,0),Q}function l(W,Q,Z){var re={s:{c:0,r:0},e:{c:0,r:0}};return Q==8&&Z.qpro?(re.s.c=W.read_shift(1),W.l++,re.s.r=W.read_shift(2),re.e.c=W.read_shift(1),W.l++,re.e.r=W.read_shift(2),re):(re.s.c=W.read_shift(2),re.s.r=W.read_shift(2),Q==12&&Z.qpro&&(W.l+=2),re.e.c=W.read_shift(2),re.e.r=W.read_shift(2),Q==12&&Z.qpro&&(W.l+=2),re.s.c==65535&&(re.s.c=re.e.c=re.s.r=re.e.r=0),re)}function c(W){var Q=Tt(8);return Q.write_shift(2,W.s.c),Q.write_shift(2,W.s.r),Q.write_shift(2,W.e.c),Q.write_shift(2,W.e.r),Q}function u(W,Q,Z){var re=[{c:0,r:0},{t:"n",v:0},0,0];return Z.qpro&&Z.vers!=20768?(re[0].c=W.read_shift(1),re[3]=W.read_shift(1),re[0].r=W.read_shift(2),W.l+=2):(re[2]=W.read_shift(1),re[0].c=W.read_shift(2),re[0].r=W.read_shift(2)),re}function f(W,Q,Z){var re=W.l+Q,le=u(W,Q,Z);if(le[1].t="s",Z.vers==20768){W.l++;var Ne=W.read_shift(1);return le[1].v=W.read_shift(Ne,"utf8"),le}return Z.qpro&&W.l++,le[1].v=W.read_shift(re-W.l,"cstr"),le}function p(W,Q,Z){var re=Tt(7+Z.length);re.write_shift(1,255),re.write_shift(2,Q),re.write_shift(2,W),re.write_shift(1,39);for(var le=0;le<re.length;++le){var Ne=Z.charCodeAt(le);re.write_shift(1,Ne>=128?95:Ne)}return re.write_shift(1,0),re}function g(W,Q,Z){var re=u(W,Q,Z);return re[1].v=W.read_shift(2,"i"),re}function x(W,Q,Z){var re=Tt(7);return re.write_shift(1,255),re.write_shift(2,Q),re.write_shift(2,W),re.write_shift(2,Z,"i"),re}function b(W,Q,Z){var re=u(W,Q,Z);return re[1].v=W.read_shift(8,"f"),re}function y(W,Q,Z){var re=Tt(13);return re.write_shift(1,255),re.write_shift(2,Q),re.write_shift(2,W),re.write_shift(8,Z,"f"),re}function _(W,Q,Z){var re=W.l+Q,le=u(W,Q,Z);if(le[1].v=W.read_shift(8,"f"),Z.qpro)W.l=re;else{var Ne=W.read_shift(2);I(W.slice(W.l,W.l+Ne),le),W.l+=Ne}return le}function N(W,Q,Z){var re=Q&32768;return Q&=-32769,Q=(re?W:0)+(Q>=8192?Q-16384:Q),(re?"":"$")+(Z?uo(Q):Vs(Q))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},C=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function I(W,Q){Nl(W,0);for(var Z=[],re=0,le="",Ne="",Ae="",ve="";W.l<W.length;){var xe=W[W.l++];switch(xe){case 0:Z.push(W.read_shift(8,"f"));break;case 1:Ne=N(Q[0].c,W.read_shift(2),!0),le=N(Q[0].r,W.read_shift(2),!1),Z.push(Ne+le);break;case 2:{var Le=N(Q[0].c,W.read_shift(2),!0),Se=N(Q[0].r,W.read_shift(2),!1);Ne=N(Q[0].c,W.read_shift(2),!0),le=N(Q[0].r,W.read_shift(2),!1),Z.push(Le+Se+":"+Ne+le)}break;case 3:if(W.l<W.length){console.error("WK1 premature formula end");return}break;case 4:Z.push("("+Z.pop()+")");break;case 5:Z.push(W.read_shift(2));break;case 6:{for(var ye="";xe=W[W.l++];)ye+=String.fromCharCode(xe);Z.push('"'+ye.replace(/"/g,'""')+'"')}break;case 8:Z.push("-"+Z.pop());break;case 23:Z.push("+"+Z.pop());break;case 22:Z.push("NOT("+Z.pop()+")");break;case 20:case 21:ve=Z.pop(),Ae=Z.pop(),Z.push(["AND","OR"][xe-20]+"("+Ae+","+ve+")");break;default:if(xe<32&&C[xe])ve=Z.pop(),Ae=Z.pop(),Z.push(Ae+C[xe]+ve);else if(E[xe]){if(re=E[xe][1],re==69&&(re=W[W.l++]),re>Z.length){console.error("WK1 bad formula parse 0x"+xe.toString(16)+":|"+Z.join("|")+"|");return}var We=Z.slice(-re);Z.length-=re,Z.push(E[xe][0]+"("+We.join(",")+")")}else return xe<=7?console.error("WK1 invalid opcode "+xe.toString(16)):xe<=24?console.error("WK1 unsupported op "+xe.toString(16)):xe<=30?console.error("WK1 invalid opcode "+xe.toString(16)):xe<=115?console.error("WK1 unsupported function opcode "+xe.toString(16)):console.error("WK1 unrecognized opcode "+xe.toString(16))}}Z.length==1?Q[1].f=""+Z[0]:console.error("WK1 bad formula parse |"+Z.join("|")+"|")}function P(W){var Q=[{c:0,r:0},{t:"n",v:0},0];return Q[0].r=W.read_shift(2),Q[3]=W[W.l++],Q[0].c=W[W.l++],Q}function D(W,Q){var Z=P(W);return Z[1].t="s",Z[1].v=W.read_shift(Q-4,"cstr"),Z}function k(W,Q,Z,re){var le=Tt(6+re.length);le.write_shift(2,W),le.write_shift(1,Z),le.write_shift(1,Q),le.write_shift(1,39);for(var Ne=0;Ne<re.length;++Ne){var Ae=re.charCodeAt(Ne);le.write_shift(1,Ae>=128?95:Ae)}return le.write_shift(1,0),le}function L(W,Q){var Z=P(W);Z[1].v=W.read_shift(2);var re=Z[1].v>>1;if(Z[1].v&1)switch(re&7){case 0:re=(re>>3)*5e3;break;case 1:re=(re>>3)*500;break;case 2:re=(re>>3)/20;break;case 3:re=(re>>3)/200;break;case 4:re=(re>>3)/2e3;break;case 5:re=(re>>3)/2e4;break;case 6:re=(re>>3)/16;break;case 7:re=(re>>3)/64;break}return Z[1].v=re,Z}function B(W,Q){var Z=P(W),re=W.read_shift(4),le=W.read_shift(4),Ne=W.read_shift(2);if(Ne==65535)return re===0&&le===3221225472?(Z[1].t="e",Z[1].v=15):re===0&&le===3489660928?(Z[1].t="e",Z[1].v=42):Z[1].v=0,Z;var Ae=Ne&32768;return Ne=(Ne&32767)-16446,Z[1].v=(1-Ae*2)*(le*Math.pow(2,Ne+32)+re*Math.pow(2,Ne)),Z}function G(W,Q,Z,re){var le=Tt(14);if(le.write_shift(2,W),le.write_shift(1,Z),le.write_shift(1,Q),re==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var Ne=0,Ae=0,ve=0,xe=0;return re<0&&(Ne=1,re=-re),Ae=Math.log2(re)|0,re/=Math.pow(2,Ae-31),xe=re>>>0,xe&2147483648||(re/=2,++Ae,xe=re>>>0),re-=xe,xe|=2147483648,xe>>>=0,re*=Math.pow(2,32),ve=re>>>0,le.write_shift(4,ve),le.write_shift(4,xe),Ae+=16383+(Ne?32768:0),le.write_shift(2,Ae),le}function F(W,Q){var Z=B(W);return W.l+=Q-14,Z}function U(W,Q){var Z=P(W),re=W.read_shift(4);return Z[1].v=re>>6,Z}function q(W,Q){var Z=P(W),re=W.read_shift(8,"f");return Z[1].v=re,Z}function K(W,Q){var Z=q(W);return W.l+=Q-10,Z}function V(W,Q){return W[W.l+Q-1]==0?W.read_shift(Q,"cstr"):""}function ee(W,Q){var Z=W[W.l++];Z>Q-1&&(Z=Q-1);for(var re="";re.length<Z;)re+=String.fromCharCode(W[W.l++]);return re}function te(W,Q,Z){if(!(!Z.qpro||Q<21)){var re=W.read_shift(1);W.l+=17,W.l+=1,W.l+=2;var le=W.read_shift(Q-21,"cstr");return[re,le]}}function J(W,Q){for(var Z={},re=W.l+Q;W.l<re;){var le=W.read_shift(2);if(le==14e3){for(Z[le]=[0,""],Z[le][0]=W.read_shift(2);W[W.l];)Z[le][1]+=String.fromCharCode(W[W.l]),W.l++;W.l++}}return Z}function ge(W,Q){var Z=Tt(5+W.length);Z.write_shift(2,14e3),Z.write_shift(2,Q);for(var re=0;re<W.length;++re){var le=W.charCodeAt(re);Z[Z.l++]=le>127?95:le}return Z[Z.l++]=0,Z}var Ie={0:{n:"BOF",f:WZ},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:b},15:{n:"LABEL",f},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:V},222:{n:"SHEETNAMELP",f:ee},65535:{n:""}},Ge={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:L},25:{n:"FORMULA19",f:F},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:J},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:U},38:{n:"??"},39:{n:"NUMBER27",f:q},40:{n:"FORMULA28",f:K},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:V},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:te},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}(),KVe=/^\s|\s$|[\t\n\r]/;function KZ(e,t){if(!t.bookSST)return"";var r=[rs];r[r.length]=tr("sst",null,{xmlns:px[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var i=e[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(KVe)&&(a+=' xml:space="preserve"'),a+=">"+Ni(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function QVe(e){return[e.read_shift(4),e.read_shift(4)]}function ZVe(e,t){return t||(t=Tt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var JVe=Vze;function eWe(e){var t=nl();Bt(t,159,ZVe(e));for(var r=0;r<e.length;++r)Bt(t,19,JVe(e[r]));return Bt(t,160),t.end()}function tWe(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function QZ(e){var t=0,r,n=tWe(e),i=n.length+1,a,o,l,c,u;for(r=zp(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)o=r[a],l=t&16384?1:0,c=t<<1&32767,u=l|c,t=u^o;return t^52811}var rWe=function(){function e(i,a){switch(a.type){case"base64":return t(wf(i),a);case"binary":return t(i,a);case"buffer":return t(ai&&Buffer.isBuffer(i)?i.toString("binary"):ew(i),a);case"array":return t(NN(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var o=a||{},l=o.dense?[]:{},c=i.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(f,p){Array.isArray(l)&&(l[p]=[]);for(var g=/\\\w+\b/g,x=0,b,y=-1;b=g.exec(f);){switch(b[0]){case"\\cell":var _=f.slice(x,g.lastIndex-b[0].length);if(_[0]==" "&&(_=_.slice(1)),++y,_.length){var N={v:_,t:"s"};Array.isArray(l)?l[p][y]=N:l[Ai({r:p,c:y})]=N}break}x=g.lastIndex}y>u.e.c&&(u.e.c=y)}),l["!ref"]=ts(u),l}function r(i,a){return n1(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],o=Ji(i["!ref"]),l,c=Array.isArray(i),u=o.s.r;u<=o.e.r;++u){a.push("\\trowd\\trautofit1");for(var f=o.s.c;f<=o.e.c;++f)a.push("\\cellx"+(f+1));for(a.push("\\pard\\intbl"),f=o.s.c;f<=o.e.c;++f){var p=Ai({r:u,c:f});l=c?(i[u]||[])[f]:i[p],!(!l||l.v==null&&(!l.f||l.F))&&(a.push(" "+(l.w||(bf(l),l.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function nB(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var nWe=6,Zd=nWe;function v4(e){return Math.floor((e+Math.round(128/Zd)/256)*Zd)}function y4(e){return Math.floor((e-5)/Zd*100+.5)/100}function ST(e){return Math.round((e*Zd+5)/Zd*256)/256}function Y8(e){e.width?(e.wpx=v4(e.width),e.wch=y4(e.wpx),e.MDW=Zd):e.wpx?(e.wch=y4(e.wpx),e.width=ST(e.wch),e.MDW=Zd):typeof e.wch=="number"&&(e.width=ST(e.wch),e.wpx=v4(e.width),e.MDW=Zd),e.customWidth&&delete e.customWidth}var iWe=96,ZZ=iWe;function w4(e){return e*96/ZZ}function JZ(e){return e*ZZ/96}function aWe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=tr("numFmt",null,{numFmtId:n,formatCode:Ni(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=tr("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function sWe(e){var t=[];return t[t.length]=tr("cellXfs",null),e.forEach(function(r){t[t.length]=tr("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=tr("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function eJ(e,t){var r=[rs,tr("styleSheet",null,{xmlns:px[0],"xmlns:vt":Ss.vt})],n;return e.SSF&&(n=aWe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=sWe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function oWe(e,t){var r=e.read_shift(2),n=fo(e);return[r,n]}function lWe(e,t,r){r||(r=Tt(6+4*t.length)),r.write_shift(2,e),As(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function cWe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=Kze(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var o=e.read_shift(1);o!=0&&(n.underline=o);var l=e.read_shift(1);l>0&&(n.family=l);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=Xze(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=fo(e),n}function uWe(e,t){t||(t=Tt(25+4*32)),t.write_shift(2,e.sz*20),Qze(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),g4(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),As(e.name,t),t.length>t.l?t.slice(0,t.l):t}var dWe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],VA,fWe=ld;function iB(e,t){t||(t=Tt(4*3+8*7+16*1)),VA||(VA=L8(dWe));var r=VA[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(g4({auto:1},t),g4({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function hWe(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}function tJ(e,t,r){r||(r=Tt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function av(e,t){return t||(t=Tt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var pWe=ld;function mWe(e,t){return t||(t=Tt(51)),t.write_shift(1,0),av(null,t),av(null,t),av(null,t),av(null,t),av(null,t),t.length>t.l?t.slice(0,t.l):t}function gWe(e,t){return t||(t=Tt(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),m4(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function xWe(e,t,r){var n=Tt(2052);return n.write_shift(4,e),m4(t,n),m4(r,n),n.length>n.l?n.slice(0,n.l):n}function vWe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&++r}),r!=0&&(Bt(e,615,su(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&Bt(e,44,lWe(i,t[i]))}),Bt(e,616))}}function yWe(e){var t=1;Bt(e,611,su(t)),Bt(e,43,uWe({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Bt(e,612)}function wWe(e){var t=2;Bt(e,603,su(t)),Bt(e,45,iB({patternType:"none"})),Bt(e,45,iB({patternType:"gray125"})),Bt(e,604)}function bWe(e){var t=1;Bt(e,613,su(t)),Bt(e,46,mWe()),Bt(e,614)}function SWe(e){var t=1;Bt(e,626,su(t)),Bt(e,47,tJ({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Bt(e,627)}function _We(e,t){Bt(e,617,su(t.length)),t.forEach(function(r){Bt(e,47,tJ(r,0))}),Bt(e,618)}function NWe(e){var t=1;Bt(e,619,su(t)),Bt(e,48,gWe({xfId:0,builtinId:0,name:"Normal"})),Bt(e,620)}function EWe(e){var t=0;Bt(e,505,su(t)),Bt(e,506)}function AWe(e){var t=0;Bt(e,508,xWe(t,"TableStyleMedium9","PivotStyleMedium4")),Bt(e,509)}function CWe(e,t){var r=nl();return Bt(r,278),vWe(r,e.SSF),yWe(r),wWe(r),bWe(r),SWe(r),_We(r,t.cellXfs),NWe(r),EWe(r),AWe(r),Bt(r,279),r.end()}function rJ(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[rs];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function jWe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:fo(e)}}function TWe(e){var t=Tt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),As(e.name,t),t.slice(0,t.l)}function OWe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function IWe(e){var t=Tt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function PWe(e,t){var r=Tt(8+2*t.length);return r.write_shift(4,e),As(t,r),r.slice(0,r.l)}function kWe(e){return e.l+=4,e.read_shift(4)!=0}function MWe(e,t){var r=Tt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function DWe(){var e=nl();return Bt(e,332),Bt(e,334,su(1)),Bt(e,335,TWe({name:"XLDAPR",version:12e4,flags:3496657072})),Bt(e,336),Bt(e,339,PWe(1,"XLDAPR")),Bt(e,52),Bt(e,35,su(514)),Bt(e,4096,su(0)),Bt(e,4097,nc(1)),Bt(e,36),Bt(e,53),Bt(e,340),Bt(e,337,MWe(1)),Bt(e,51,IWe([[1,0]])),Bt(e,338),Bt(e,333),e.end()}function nJ(){var e=[rs];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function LWe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Ai(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var am=1024;function iJ(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[tr("xml",null,{"xmlns:v":Al.v,"xmlns:o":Al.o,"xmlns:x":Al.x,"xmlns:mv":Al.mv}).replace(/\/>/,">"),tr("o:shapelayout",tr("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),tr("v:shapetype",[tr("v:stroke",null,{joinstyle:"miter"}),tr("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];am<e*1e3;)am+=1e3;return t.forEach(function(a){var o=Es(a[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var c=l.type=="gradient"?tr("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=tr("v:fill",c,l),f={on:"t",obscured:"t"};++am,i=i.concat(["<v:shape"+g2({id:"_x0000_s"+am,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,tr("v:shadow",null,f),tr("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Fs("x:Anchor",[o.c+1,0,o.r+1,0,o.c+3,20,o.r+5,20].join(",")),Fs("x:AutoFill","False"),Fs("x:Row",String(o.r)),Fs("x:Column",String(o.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function aJ(e){var t=[rs,tr("comments",null,{xmlns:px[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(i){var a=Ni(i.a);r.indexOf(a)==-1&&(r.push(a),t.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(i=r.indexOf(Ni(c.a))),a.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)t.push(Fs("t",Ni(a[0]||"")));else{for(var o=`Comment:
    `+a[0]+`
`,l=1;l<a.length;++l)o+=`Reply:
    `+a[l]+`
`;t.push(Fs("t",Ni(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function RWe(e,t,r){var n=[rs,tr("ThreadedComments",null,{xmlns:Ss.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var a="";(i[1]||[]).forEach(function(o,l){if(!o.T){delete o.ID;return}o.a&&t.indexOf(o.a)==-1&&t.push(o.a);var c={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};l==0?a=c.id:c.parentId=a,o.ID=c.id,o.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),n.push(tr("threadedComment",Fs("text",o.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function FWe(e){var t=[rs,tr("personList",null,{xmlns:Ss.TCMNT,"xmlns:x":px[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(tr("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function BWe(e){var t={};t.iauthor=e.read_shift(4);var r=o1(e);return t.rfx=r.s,t.ref=Ai(r.s),e.l+=16,t}function $We(e,t){return t==null&&(t=Tt(36)),t.write_shift(4,e[1].iauthor),gx(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var UWe=fo;function zWe(e){return As(e.slice(0,54))}function VWe(e){var t=nl(),r=[];return Bt(t,628),Bt(t,630),e.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),Bt(t,632,zWe(i.a)))})}),Bt(t,631),Bt(t,633),e.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:Es(n[0]),e:Es(n[0])};Bt(t,635,$We([a,i])),i.t&&i.t.length>0&&Bt(t,637,Hze(i)),Bt(t,636),delete i.iauthor})}),Bt(t,634),Bt(t,629),t.end()}function WWe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&ki.utils.cfb_add(e,i,t.FileIndex[n].content)}})}var sJ=["xlsb","xlsm","xlam","biff8","xla"],HWe=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,o){var l=!1,c=!1;a.length==0?c=!0:a.charAt(0)=="["&&(c=!0,a=a.slice(1,-1)),o.length==0?l=!0:o.charAt(0)=="["&&(l=!0,o=o.slice(1,-1));var u=a.length>0?parseInt(a,10)|0:0,f=o.length>0?parseInt(o,10)|0:0;return l?f+=t.c:--f,c?u+=t.r:--u,i+(l?"":"$")+uo(f)+(c?"":"$")+Vs(u)}return function(i,a){return t=a,i.replace(e,r)}}(),X8=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,K8=function(){return function(t,r){return t.replace(X8,function(n,i,a,o,l,c){var u=V8(o)-(a?0:r.c),f=z8(c)-(l?0:r.r),p=f==0?"":l?f+1:"["+f+"]",g=u==0?"":a?u+1:"["+u+"]";return i+"R"+p+"C"+g})}}();function qWe(e,t){return e.replace(X8,function(r,n,i,a,o,l){return n+(i=="$"?i+a:uo(V8(a)+t.c))+(o=="$"?o+l:Vs(z8(l)+t.r))})}function GWe(e){return e.length!=1}function Qa(e){e.l+=1}function e0(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function oJ(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return lJ(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),o=e0(e),l=e0(e);return{s:{r:i,c:o[0],cRel:o[1],rRel:o[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function lJ(e){var t=e0(e),r=e0(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function YWe(e,t,r){if(r.biff<8)return lJ(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=e0(e),o=e0(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function cJ(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return XWe(e);var n=e.read_shift(r&&r.biff==12?4:2),i=e0(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function XWe(e){var t=e0(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function KWe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function QWe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return ZWe(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),o=(a&16384)>>14,l=(a&32768)>>15;if(a&=16383,l==1)for(;i>524287;)i-=1048576;if(o==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:o,rRel:l}}function ZWe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function JWe(e,t,r){var n=(e[e.l++]&96)>>5,i=oJ(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function eHe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var o=oJ(e,a,r);return[n,i,o]}function tHe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function rHe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function nHe(e,t,r){var n=(e[e.l++]&96)>>5,i=YWe(e,t-1,r);return[n,i]}function iHe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function aB(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function aHe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function sHe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function oHe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function lHe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function cHe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function uJ(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function uHe(e){return e.read_shift(2),uJ(e)}function dHe(e){return e.read_shift(2),uJ(e)}function fHe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=cJ(e,0,r);return[n,i]}function hHe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=QWe(e,0,r);return[n,i]}function pHe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=cJ(e,0,r);return[n,i,a]}function mHe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[mqe[i],hJ[i],n]}function gHe(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:xHe(e);return[i,(a[0]===0?hJ:pqe)[a[1]]]}function xHe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function vHe(e,t,r){e.l+=r&&r.biff==2?3:4}function yHe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function wHe(e){return e.l++,nw[e.read_shift(1)]}function bHe(e){return e.l++,e.read_shift(2)}function SHe(e){return e.l++,e.read_shift(1)!==0}function _He(e){return e.l++,xx(e)}function NHe(e,t,r){return e.l++,qZ(e,t-1,r)}function EHe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=pVe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=nw[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=xx(e);break;case 2:r[1]=vVe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function AHe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?o1:bVe)(e));return i}function CHe(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,o=[];a!=n&&(o[a]=[]);++a)for(var l=0;l!=i;++l)o[a][l]=EHe(e,r.biff);return o}function jHe(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function THe(e,t,r){if(r.biff==5)return OHe(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function OHe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function IHe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function PHe(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function kHe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function MHe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var DHe=ld,LHe=ld,RHe=ld;function iw(e,t,r){return e.l+=2,[KWe(e)]}function Q8(e){return e.l+=6,[]}var FHe=iw,BHe=Q8,$He=Q8,UHe=iw;function dJ(e){return e.l+=2,[WZ(e),e.read_shift(2)&1]}var zHe=iw,VHe=dJ,WHe=Q8,HHe=iw,qHe=iw,GHe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function YHe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),o=GHe[r>>2&31];return{ixti:t,coltype:r&3,rt:o,idx:n,c:i,C:a}}function XHe(e){return e.l+=2,[e.read_shift(4)]}function KHe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function QHe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function ZHe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function JHe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function eqe(e){return e.l+=4,[0,0]}var sB={1:{n:"PtgExp",f:yHe},2:{n:"PtgTbl",f:RHe},3:{n:"PtgAdd",f:Qa},4:{n:"PtgSub",f:Qa},5:{n:"PtgMul",f:Qa},6:{n:"PtgDiv",f:Qa},7:{n:"PtgPower",f:Qa},8:{n:"PtgConcat",f:Qa},9:{n:"PtgLt",f:Qa},10:{n:"PtgLe",f:Qa},11:{n:"PtgEq",f:Qa},12:{n:"PtgGe",f:Qa},13:{n:"PtgGt",f:Qa},14:{n:"PtgNe",f:Qa},15:{n:"PtgIsect",f:Qa},16:{n:"PtgUnion",f:Qa},17:{n:"PtgRange",f:Qa},18:{n:"PtgUplus",f:Qa},19:{n:"PtgUminus",f:Qa},20:{n:"PtgPercent",f:Qa},21:{n:"PtgParen",f:Qa},22:{n:"PtgMissArg",f:Qa},23:{n:"PtgStr",f:NHe},26:{n:"PtgSheet",f:KHe},27:{n:"PtgEndSheet",f:QHe},28:{n:"PtgErr",f:wHe},29:{n:"PtgBool",f:SHe},30:{n:"PtgInt",f:bHe},31:{n:"PtgNum",f:_He},32:{n:"PtgArray",f:iHe},33:{n:"PtgFunc",f:mHe},34:{n:"PtgFuncVar",f:gHe},35:{n:"PtgName",f:jHe},36:{n:"PtgRef",f:fHe},37:{n:"PtgArea",f:JWe},38:{n:"PtgMemArea",f:IHe},39:{n:"PtgMemErr",f:DHe},40:{n:"PtgMemNoMem",f:LHe},41:{n:"PtgMemFunc",f:PHe},42:{n:"PtgRefErr",f:kHe},43:{n:"PtgAreaErr",f:tHe},44:{n:"PtgRefN",f:hHe},45:{n:"PtgAreaN",f:nHe},46:{n:"PtgMemAreaN",f:ZHe},47:{n:"PtgMemNoMemN",f:JHe},57:{n:"PtgNameX",f:THe},58:{n:"PtgRef3d",f:pHe},59:{n:"PtgArea3d",f:eHe},60:{n:"PtgRefErr3d",f:MHe},61:{n:"PtgAreaErr3d",f:rHe},255:{}},tqe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},rqe={1:{n:"PtgElfLel",f:dJ},2:{n:"PtgElfRw",f:HHe},3:{n:"PtgElfCol",f:FHe},6:{n:"PtgElfRwV",f:qHe},7:{n:"PtgElfColV",f:UHe},10:{n:"PtgElfRadical",f:zHe},11:{n:"PtgElfRadicalS",f:WHe},13:{n:"PtgElfColS",f:BHe},15:{n:"PtgElfColSV",f:$He},16:{n:"PtgElfRadicalLel",f:VHe},25:{n:"PtgList",f:YHe},29:{n:"PtgSxName",f:XHe},255:{}},nqe={0:{n:"PtgAttrNoop",f:eqe},1:{n:"PtgAttrSemi",f:cHe},2:{n:"PtgAttrIf",f:oHe},4:{n:"PtgAttrChoose",f:aHe},8:{n:"PtgAttrGoto",f:sHe},16:{n:"PtgAttrSum",f:vHe},32:{n:"PtgAttrBaxcel",f:aB},33:{n:"PtgAttrBaxcel",f:aB},64:{n:"PtgAttrSpace",f:uHe},65:{n:"PtgAttrSpaceSemi",f:dHe},128:{n:"PtgAttrIfError",f:lHe},255:{}};function iqe(e,t,r,n){if(n.biff<8)return ld(e,t);for(var i=e.l+t,a=[],o=0;o!==r.length;++o)switch(r[o][0]){case"PtgArray":r[o][1]=CHe(e,0,n),a.push(r[o][1]);break;case"PtgMemArea":r[o][2]=AHe(e,r[o][1],n),a.push(r[o][2]);break;case"PtgExp":n&&n.biff==12&&(r[o][1][1]=e.read_shift(4),a.push(r[o][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[o][0]}return t=i-e.l,t!==0&&a.push(ld(e,t)),a}function aqe(e,t,r){for(var n=e.l+t,i,a,o=[];n!=e.l;)t=n-e.l,a=e[e.l],i=sB[a]||sB[tqe[a]],(a===24||a===25)&&(i=(a===24?rqe:nqe)[e[e.l+1]]),!i||!i.f?ld(e,t):o.push([i.n,i.f(e,t,r)]);return o}function sqe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var o=n[a];if(o)switch(o[0]){case 2:i.push('"'+o[1].replace(/"/g,'""')+'"');break;default:i.push(o[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var oqe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function lqe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function fJ(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function oB(e,t,r){var n=fJ(e,t,r);return n=="#REF"?n:lqe(n,r)}function Fg(e,t,r,n,i){var a=i&&i.biff||8,o={s:{c:0,r:0},e:{c:0,r:0}},l=[],c,u,f,p=0,g=0,x,b="";if(!e[0]||!e[0][0])return"";for(var y=-1,_="",N=0,E=e[0].length;N<E;++N){var C=e[0][N];switch(C[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=l.pop(),u=l.pop(),y>=0){switch(e[0][y][1][0]){case 0:_=ka(" ",e[0][y][1][1]);break;case 1:_=ka("\r",e[0][y][1][1]);break;default:if(_="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}u=u+_,y=-1}l.push(u+oqe[C[0]]+c);break;case"PtgIsect":c=l.pop(),u=l.pop(),l.push(u+" "+c);break;case"PtgUnion":c=l.pop(),u=l.pop(),l.push(u+","+c);break;case"PtgRange":c=l.pop(),u=l.pop(),l.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=Bv(C[1][1],o,i),l.push($v(f,a));break;case"PtgRefN":f=r?Bv(C[1][1],r,i):C[1][1],l.push($v(f,a));break;case"PtgRef3d":p=C[1][1],f=Bv(C[1][2],o,i),b=oB(n,p,i),l.push(b+"!"+$v(f,a));break;case"PtgFunc":case"PtgFuncVar":var I=C[1][0],P=C[1][1];I||(I=0),I&=127;var D=I==0?[]:l.slice(-I);l.length-=I,P==="User"&&(P=D.shift()),l.push(P+"("+D.join(",")+")");break;case"PtgBool":l.push(C[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(C[1]);break;case"PtgNum":l.push(String(C[1]));break;case"PtgStr":l.push('"'+C[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(C[1]);break;case"PtgAreaN":x=H9(C[1][1],r?{s:r}:o,i),l.push(UA(x,i));break;case"PtgArea":x=H9(C[1][1],o,i),l.push(UA(x,i));break;case"PtgArea3d":p=C[1][1],x=C[1][2],b=oB(n,p,i),l.push(b+"!"+UA(x,i));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=C[1][2];var k=(n.names||[])[g-1]||(n[0]||[])[g],L=k?k.Name:"SH33TJSNAME"+String(g);L&&L.slice(0,6)=="_xlfn."&&!i.xlfn&&(L=L.slice(6)),l.push(L);break;case"PtgNameX":var B=C[1][1];g=C[1][2];var G;if(i.biff<=5)B<0&&(B=-B),n[B]&&(G=n[B][g]);else{var F="";if(((n[B]||[])[0]||[])[0]==14849||(((n[B]||[])[0]||[])[0]==1025?n[B][g]&&n[B][g].itab>0&&(F=n.SheetNames[n[B][g].itab-1]+"!"):F=n.SheetNames[g-1]+"!"),n[B]&&n[B][g])F+=n[B][g].Name;else if(n[0]&&n[0][g])F+=n[0][g].Name;else{var U=(fJ(n,B,i)||"").split(";;");U[g-1]?F=U[g-1]:F+="SH33TJSERRX"}l.push(F);break}G||(G={Name:"SH33TJSERRY"}),l.push(G.Name);break;case"PtgParen":var q="(",K=")";if(y>=0){switch(_="",e[0][y][1][0]){case 2:q=ka(" ",e[0][y][1][1])+q;break;case 3:q=ka("\r",e[0][y][1][1])+q;break;case 4:K=ka(" ",e[0][y][1][1])+K;break;case 5:K=ka("\r",e[0][y][1][1])+K;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}l.push(q+l.pop()+K);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":f={c:C[1][1],r:C[1][0]};var V={c:r.c,r:r.r};if(n.sharedf[Ai(f)]){var ee=n.sharedf[Ai(f)];l.push(Fg(ee,o,V,n,i))}else{var te=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){l.push(Fg(u[1],o,V,n,i)),te=!0;break}te||l.push(C[1])}break;case"PtgArray":l.push("{"+sqe(C[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=N;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+C[1].idx+"[#"+C[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(C));default:throw new Error("Unrecognized Formula Token: "+String(C))}var J=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&y>=0&&J.indexOf(e[0][N][0])==-1){C=e[0][y];var ge=!0;switch(C[1][0]){case 4:ge=!1;case 0:_=ka(" ",C[1][1]);break;case 5:ge=!1;case 1:_=ka("\r",C[1][1]);break;default:if(_="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+C[1][0])}l.push((ge?_:"")+l.pop()+(ge?"":_)),y=-1}}if(l.length>1&&i.WTF)throw new Error("bad formula stack");return l[0]}function cqe(e){if(e==null){var t=Tt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Vp(e);return Vp(0)}function uqe(e,t,r,n,i){var a=Wp(t,r,i),o=cqe(e.v),l=Tt(6),c=33;l.write_shift(2,c),l.write_shift(4,0);for(var u=Tt(e.bf.length),f=0;f<e.bf.length;++f)u[f]=e.bf[f];var p=Rs([a,o,l,u]);return p}function EN(e,t,r){var n=e.read_shift(4),i=aqe(e,n,r),a=e.read_shift(4),o=a>0?iqe(e,a,i,r):null;return[i,o]}var dqe=EN,AN=EN,fqe=EN,hqe=EN,pqe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},hJ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},mqe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function gqe(e){var t="of:="+e.replace(X8,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function xqe(e){return e.replace(/\./,"!")}var Uv=typeof Map<"u";function Z8(e,t,r){var n=0,i=e.length;if(r){if(Uv?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var a=Uv?r.get(t):r[t];n<a.length;++n)if(e[a[n]].t===t)return e.Count++,a[n]}}else for(;n<i;++n)if(e[n].t===t)return e.Count++,n;return e[i]={t},e.Count++,e.Unique++,r&&(Uv?(r.has(t)||r.set(t,[]),r.get(t).push(i)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(i))),i}function CN(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Zd=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=y4(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=ST(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function pJ(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function m0(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],i=60,a=e.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){cZ(t.z,i),r.ssf[i]=t.z,r.revssf[t.z]=n=i;break}}for(i=0;i!=a;++i)if(e[i].numFmtId===n)return i;return e[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function vqe(e,t,r){if(e&&e["!ref"]){var n=Ji(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function yqe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ts(e[r])+'"/>';return t+"</mergeCells>"}function wqe(e,t,r,n,i){var a=!1,o={},l=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}a=!0,o.codeName=m2(Ni(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),l=(l||"")+tr("outlinePr",null,u)}!a&&!l||(i[i.length]=tr("sheetPr",l,o))}var bqe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Sqe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function _qe(e){var t={sheet:1};return bqe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Sqe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=QZ(e.password).toString(16).toUpperCase()),tr("sheetProtection",null,t)}function Nqe(e){return pJ(e),tr("pageMargins",null,e)}function Eqe(e,t){for(var r=["<cols>"],n,i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=tr("col",null,CN(i,n)));return r[r.length]="</cols>",r.join("")}function Aqe(e,t,r,n){var i=typeof e.ref=="string"?e.ref:ts(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=$l(i);o.s.r==o.e.r&&(o.e.r=$l(t["!ref"]).e.r,i=ts(o));for(var l=0;l<a.length;++l){var c=a[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),tr("autoFilter",null,{ref:i})}function Cqe(e,t,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),tr("sheetViews",tr("sheetView",null,i),{})}function jqe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",a=e.t,o=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=nw[e.v];break;case"d":n&&n.cellDates?i=Io(e.v,-1).toISOString():(e=sl(e),e.t="n",i=""+(e.v=al(Io(e.v)))),typeof e.z>"u"&&(e.z=Ma[14]);break;default:i=e.v;break}var l=Fs("v",Ni(i)),c={r:t},u=m0(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){l=Fs("v",""+Z8(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=a&&(e.t=a,e.v=o),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;l=tr("f",Ni(e.f),f)+(e.v!=null?l:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),tr("c",l,c)}function Tqe(e,t,r,n){var i=[],a=[],o=Ji(e["!ref"]),l="",c,u="",f=[],p=0,g=0,x=e["!rows"],b=Array.isArray(e),y={r:u},_,N=-1;for(g=o.s.c;g<=o.e.c;++g)f[g]=uo(g);for(p=o.s.r;p<=o.e.r;++p){for(a=[],u=Vs(p),g=o.s.c;g<=o.e.c;++g){c=f[g]+u;var E=b?(e[p]||[])[g]:e[c];E!==void 0&&(l=jqe(E,c,e,t))!=null&&a.push(l)}(a.length>0||x&&x[p])&&(y={r:u},x&&x[p]&&(_=x[p],_.hidden&&(y.hidden=1),N=-1,_.hpx?N=w4(_.hpx):_.hpt&&(N=_.hpt),N>-1&&(y.ht=N,y.customHeight=1),_.level&&(y.outlineLevel=_.level)),i[i.length]=tr("row",a.join(""),y))}if(x)for(;p<x.length;++p)x&&x[p]&&(y={r:p+1},_=x[p],_.hidden&&(y.hidden=1),N=-1,_.hpx?N=w4(_.hpx):_.hpt&&(N=_.hpt),N>-1&&(y.ht=N,y.customHeight=1),_.level&&(y.outlineLevel=_.level),i[i.length]=tr("row","",y));return i.join("")}function mJ(e,t,r,n){var i=[rs,tr("worksheet",null,{xmlns:px[0],"xmlns:r":Ss.r})],a=r.SheetNames[e],o=0,l="",c=r.Sheets[a];c==null&&(c={});var u=c["!ref"]||"A1",f=Ji(u);if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=ts(f)}n||(n={}),c["!comments"]=[];var p=[];wqe(c,r,e,t,i),i[i.length]=tr("dimension",null,{ref:u}),i[i.length]=Cqe(c,t,e,r),t.sheetFormat&&(i[i.length]=tr("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(i[i.length]=Eqe(c,c["!cols"])),i[o=i.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(l=Tqe(c,t),l.length>0&&(i[i.length]=l)),i.length>o+1&&(i[i.length]="</sheetData>",i[o]=i[o].replace("/>",">")),c["!protect"]&&(i[i.length]=_qe(c["!protect"])),c["!autofilter"]!=null&&(i[i.length]=Aqe(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(i[i.length]=yqe(c["!merges"]));var g=-1,x,b=-1;return c["!links"].length>0&&(i[i.length]="<hyperlinks>",c["!links"].forEach(function(y){y[1].Target&&(x={ref:y[0]},y[1].Target.charAt(0)!="#"&&(b=wi(n,-1,Ni(y[1].Target).replace(/#.*$/,""),ei.HLINK),x["r:id"]="rId"+b),(g=y[1].Target.indexOf("#"))>-1&&(x.location=Ni(y[1].Target.slice(g+1))),y[1].Tooltip&&(x.tooltip=Ni(y[1].Tooltip)),i[i.length]=tr("hyperlink",null,x))}),i[i.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(i[i.length]=Nqe(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=Fs("ignoredErrors",tr("ignoredError",null,{numberStoredAsText:1,sqref:u}))),p.length>0&&(b=wi(n,-1,"../drawings/drawing"+(e+1)+".xml",ei.DRAW),i[i.length]=tr("drawing",null,{"r:id":"rId"+b}),c["!drawing"]=p),c["!comments"].length>0&&(b=wi(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",ei.VML),i[i.length]=tr("legacyDrawing",null,{"r:id":"rId"+b}),c["!legacy"]=b),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function Oqe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function Iqe(e,t,r){var n=Tt(145),i=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var a=320;i.hpx?a=w4(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var o=0;i.level&&(o|=i.level),i.hidden&&(o|=16),(i.hpx||i.hpt)&&(o|=32),n.write_shift(1,o),n.write_shift(1,0);var l=0,c=n.l;n.l+=4;for(var u={r:e,c:0},f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var p=-1,g=-1,x=f<<10;x<f+1<<10;++x){u.c=x;var b=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Ai(u)];b&&(p<0&&(p=x),g=x)}p<0||(++l,n.write_shift(4,p),n.write_shift(4,g))}var y=n.l;return n.l=c,n.write_shift(4,l),n.l=y,n.length>n.l?n.slice(0,n.l):n}function Pqe(e,t,r,n){var i=Iqe(n,r,t);(i.length>17||(t["!rows"]||[])[n])&&Bt(e,0,i)}var kqe=o1,Mqe=gx;function Dqe(){}function Lqe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=qze(e),r}function Rqe(e,t,r){r==null&&(r=Tt(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return g4({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),OZ(e,r),r.slice(0,r.l)}function Fqe(e){var t=Nc(e);return[t]}function Bqe(e,t,r){return r==null&&(r=Tt(8)),i1(t,r)}function $qe(e){var t=a1(e);return[t]}function Uqe(e,t,r){return r==null&&(r=Tt(4)),s1(t,r)}function zqe(e){var t=Nc(e),r=e.read_shift(1);return[t,r,"b"]}function Vqe(e,t,r){return r==null&&(r=Tt(9)),i1(t,r),r.write_shift(1,e.v?1:0),r}function Wqe(e){var t=a1(e),r=e.read_shift(1);return[t,r,"b"]}function Hqe(e,t,r){return r==null&&(r=Tt(5)),s1(t,r),r.write_shift(1,e.v?1:0),r}function qqe(e){var t=Nc(e),r=e.read_shift(1);return[t,r,"e"]}function Gqe(e,t,r){return r==null&&(r=Tt(9)),i1(t,r),r.write_shift(1,e.v),r}function Yqe(e){var t=a1(e),r=e.read_shift(1);return[t,r,"e"]}function Xqe(e,t,r){return r==null&&(r=Tt(8)),s1(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Kqe(e){var t=Nc(e),r=e.read_shift(4);return[t,r,"s"]}function Qqe(e,t,r){return r==null&&(r=Tt(12)),i1(t,r),r.write_shift(4,t.v),r}function Zqe(e){var t=a1(e),r=e.read_shift(4);return[t,r,"s"]}function Jqe(e,t,r){return r==null&&(r=Tt(8)),s1(t,r),r.write_shift(4,t.v),r}function eGe(e){var t=Nc(e),r=xx(e);return[t,r,"n"]}function tGe(e,t,r){return r==null&&(r=Tt(16)),i1(t,r),Vp(e.v,r),r}function rGe(e){var t=a1(e),r=xx(e);return[t,r,"n"]}function nGe(e,t,r){return r==null&&(r=Tt(12)),s1(t,r),Vp(e.v,r),r}function iGe(e){var t=Nc(e),r=IZ(e);return[t,r,"n"]}function aGe(e,t,r){return r==null&&(r=Tt(12)),i1(t,r),PZ(e.v,r),r}function sGe(e){var t=a1(e),r=IZ(e);return[t,r,"n"]}function oGe(e,t,r){return r==null&&(r=Tt(8)),s1(t,r),PZ(e.v,r),r}function lGe(e){var t=Nc(e),r=W8(e);return[t,r,"is"]}function cGe(e){var t=Nc(e),r=fo(e);return[t,r,"str"]}function uGe(e,t,r){return r==null&&(r=Tt(12+4*e.v.length)),i1(t,r),As(e.v,r),r.length>r.l?r.slice(0,r.l):r}function dGe(e){var t=a1(e),r=fo(e);return[t,r,"str"]}function fGe(e,t,r){return r==null&&(r=Tt(8+4*e.v.length)),s1(t,r),As(e.v,r),r.length>r.l?r.slice(0,r.l):r}function hGe(e,t,r){var n=e.l+t,i=Nc(e);i.r=r["!row"];var a=e.read_shift(1),o=[i,a,"b"];if(r.cellFormula){e.l+=2;var l=AN(e,n-e.l,r);o[3]=Fg(l,null,i,r.supbooks,r)}else e.l=n;return o}function pGe(e,t,r){var n=e.l+t,i=Nc(e);i.r=r["!row"];var a=e.read_shift(1),o=[i,a,"e"];if(r.cellFormula){e.l+=2;var l=AN(e,n-e.l,r);o[3]=Fg(l,null,i,r.supbooks,r)}else e.l=n;return o}function mGe(e,t,r){var n=e.l+t,i=Nc(e);i.r=r["!row"];var a=xx(e),o=[i,a,"n"];if(r.cellFormula){e.l+=2;var l=AN(e,n-e.l,r);o[3]=Fg(l,null,i,r.supbooks,r)}else e.l=n;return o}function gGe(e,t,r){var n=e.l+t,i=Nc(e);i.r=r["!row"];var a=fo(e),o=[i,a,"str"];if(r.cellFormula){e.l+=2;var l=AN(e,n-e.l,r);o[3]=Fg(l,null,i,r.supbooks,r)}else e.l=n;return o}var xGe=o1,vGe=gx;function yGe(e,t){return t==null&&(t=Tt(4)),t.write_shift(4,e),t}function wGe(e,t){var r=e.l+t,n=o1(e),i=H8(e),a=fo(e),o=fo(e),l=fo(e);e.l=r;var c={rfx:n,relId:i,loc:a,display:l};return o&&(c.Tooltip=o),c}function bGe(e,t){var r=Tt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));gx({s:Es(e[0]),e:Es(e[0])},r),q8("rId"+t,r);var n=e[1].Target.indexOf("#"),i=n==-1?"":e[1].Target.slice(n+1);return As(i||"",r),As(e[1].Tooltip||"",r),As("",r),r.slice(0,r.l)}function SGe(){}function _Ge(e,t,r){var n=e.l+t,i=kZ(e),a=e.read_shift(1),o=[i];if(o[2]=a,r.cellFormula){var l=dqe(e,n-e.l,r);o[1]=l}else e.l=n;return o}function NGe(e,t,r){var n=e.l+t,i=o1(e),a=[i];if(r.cellFormula){var o=hqe(e,n-e.l,r);a[1]=o,e.l=n}else e.l=n;return a}function EGe(e,t,r){r==null&&(r=Tt(18));var n=CN(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),r.write_shift(2,i),r}var gJ=["left","right","top","bottom","header","footer"];function AGe(e){var t={};return gJ.forEach(function(r){t[r]=xx(e)}),t}function CGe(e,t){return t==null&&(t=Tt(6*8)),pJ(e),gJ.forEach(function(r){Vp(e[r],t)}),t}function jGe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function TGe(e,t,r){r==null&&(r=Tt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function OGe(e){var t=Tt(24);return t.write_shift(4,4),t.write_shift(4,1),gx(e,t),t}function IGe(e,t){return t==null&&(t=Tt(16*4+2)),t.write_shift(2,e.password?QZ(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function PGe(){}function kGe(){}function MGe(e,t,r,n,i,a,o){if(t.v===void 0)return!1;var l="";switch(t.t){case"b":l=t.v?"1":"0";break;case"d":t=sl(t),t.z=t.z||Ma[14],t.v=al(Io(t.v)),t.t="n";break;case"n":case"e":l=""+t.v;break;default:l=t.v;break}var c={r,c:n};switch(c.s=m0(i.cellXfs,t,i),t.l&&a["!links"].push([Ai(c),t.l]),t.c&&a["!comments"].push([Ai(c),t.c]),t.t){case"s":case"str":return i.bookSST?(l=Z8(i.Strings,t.v,i.revStrings),c.t="s",c.v=l,o?Bt(e,18,Jqe(t,c)):Bt(e,7,Qqe(t,c))):(c.t="str",o?Bt(e,17,fGe(t,c)):Bt(e,6,uGe(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?o?Bt(e,13,oGe(t,c)):Bt(e,2,aGe(t,c)):o?Bt(e,16,nGe(t,c)):Bt(e,5,tGe(t,c)),!0;case"b":return c.t="b",o?Bt(e,15,Hqe(t,c)):Bt(e,4,Vqe(t,c)),!0;case"e":return c.t="e",o?Bt(e,14,Xqe(t,c)):Bt(e,3,Gqe(t,c)),!0}return o?Bt(e,12,Uqe(t,c)):Bt(e,1,Bqe(t,c)),!0}function DGe(e,t,r,n){var i=Ji(t["!ref"]||"A1"),a,o="",l=[];Bt(e,145);var c=Array.isArray(t),u=i.e.r;t["!rows"]&&(u=Math.max(i.e.r,t["!rows"].length-1));for(var f=i.s.r;f<=u;++f){o=Vs(f),Pqe(e,t,i,f);var p=!1;if(f<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){f===i.s.r&&(l[g]=uo(g)),a=l[g]+o;var x=c?(t[f]||[])[g]:t[a];if(!x){p=!1;continue}p=MGe(e,x,f,g,n,t,p)}}Bt(e,146)}function LGe(e,t){!t||!t["!merges"]||(Bt(e,177,yGe(t["!merges"].length)),t["!merges"].forEach(function(r){Bt(e,176,vGe(r))}),Bt(e,178))}function RGe(e,t){!t||!t["!cols"]||(Bt(e,390),t["!cols"].forEach(function(r,n){r&&Bt(e,60,EGe(n,r))}),Bt(e,391))}function FGe(e,t){!t||!t["!ref"]||(Bt(e,648),Bt(e,649,OGe(Ji(t["!ref"]))),Bt(e,650))}function BGe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var i=wi(r,-1,n[1].Target.replace(/#.*$/,""),ei.HLINK);Bt(e,494,bGe(n,i))}}),delete t["!links"]}function $Ge(e,t,r,n){if(t["!comments"].length>0){var i=wi(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",ei.VML);Bt(e,551,q8("rId"+i)),t["!legacy"]=i}}function UGe(e,t,r,n){if(t["!autofilter"]){var i=t["!autofilter"],a=typeof i.ref=="string"?i.ref:ts(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var o=r.Workbook.Names,l=$l(a);l.s.r==l.e.r&&(l.e.r=$l(t["!ref"]).e.r,a=ts(l));for(var c=0;c<o.length;++c){var u=o[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+a;break}}c==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Bt(e,161,gx(Ji(a))),Bt(e,162)}}function zGe(e,t,r){Bt(e,133),Bt(e,137,TGe(t,r)),Bt(e,138),Bt(e,134)}function VGe(e,t){t["!protect"]&&Bt(e,535,IGe(t["!protect"]))}function WGe(e,t,r,n){var i=nl(),a=r.SheetNames[e],o=r.Sheets[a]||{},l=a;try{r&&r.Workbook&&(l=r.Workbook.Sheets[e].CodeName||l)}catch{}var c=Ji(o["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return o["!links"]=[],o["!comments"]=[],Bt(i,129),(r.vbaraw||o["!outline"])&&Bt(i,147,Rqe(l,o["!outline"])),Bt(i,148,Mqe(c)),zGe(i,o,r.Workbook),RGe(i,o),DGe(i,o,e,t),VGe(i,o),UGe(i,o,r,e),LGe(i,o),BGe(i,o,n),o["!margins"]&&Bt(i,476,CGe(o["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&FGe(i,o),$Ge(i,o,e,n),Bt(i,130),i.end()}function HGe(e,t){e.l+=10;var r=fo(e);return{name:r}}var qGe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function GGe(e){return!e.Workbook||!e.Workbook.WBProps?"false":Nze(e.Workbook.WBProps.date1904)?"true":"false"}var YGe="][*?/\\".split("");function xJ(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return YGe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function XGe(e,t,r){e.forEach(function(n,i){xJ(n);for(var a=0;a<i;++a)if(n==e[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var o=t&&t[i]&&t[i].CodeName||n;if(o.charCodeAt(0)==95&&o.length>22)throw new Error("Bad Code Name: Worksheet"+o)}})}function KGe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];XGe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)vqe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function vJ(e){var t=[rs];t[t.length]=tr("workbook",null,{xmlns:px[0],"xmlns:r":Ss.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(qGe.forEach(function(l){e.Workbook.WBProps[l[0]]!=null&&e.Workbook.WBProps[l[0]]!=l[1]&&(n[l[0]]=e.Workbook.WBProps[l[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=tr("workbookPr",null,n);var i=e.Workbook&&e.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var o={name:Ni(e.SheetNames[a].slice(0,31))};if(o.sheetId=""+(a+1),o["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:o.state="hidden";break;case 2:o.state="veryHidden";break}t[t.length]=tr("sheet",null,o)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(l){var c={name:l.Name};l.Comment&&(c.comment=l.Comment),l.Sheet!=null&&(c.localSheetId=""+l.Sheet),l.Hidden&&(c.hidden="1"),l.Ref&&(t[t.length]=tr("definedName",Ni(l.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function QGe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=bT(e),r.name=fo(e),r}function ZGe(e,t){return t||(t=Tt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),q8(e.strRelID,t),As(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function JGe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?fo(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function eYe(e,t){t||(t=Tt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),OZ(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function tYe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=Gze(e),o=fqe(e,0,r),l=H8(e);e.l=n;var c={Name:a,Ptg:o};return i<268435455&&(c.Sheet=i),l&&(c.Comment=l),c}function rYe(e,t){Bt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Bt(e,156,ZGe(i))}Bt(e,144)}function nYe(e,t){t||(t=Tt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return As("SheetJS",t),As(c4.version,t),As(c4.version,t),As("7262",t),t.length>t.l?t.slice(0,t.l):t}function iYe(e,t){t||(t=Tt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function aYe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(Bt(e,135),Bt(e,158,iYe(i)),Bt(e,136))}}function sYe(e,t){var r=nl();return Bt(r,131),Bt(r,128,nYe()),Bt(r,153,eYe(e.Workbook&&e.Workbook.WBProps||null)),aYe(r,e),rYe(r,e),Bt(r,132),r.end()}function oYe(e,t,r){return(t.slice(-4)===".bin"?sYe:vJ)(e)}function lYe(e,t,r,n,i){return(t.slice(-4)===".bin"?WGe:mJ)(e,r,n,i)}function cYe(e,t,r){return(t.slice(-4)===".bin"?CWe:eJ)(e,r)}function uYe(e,t,r){return(t.slice(-4)===".bin"?eWe:KZ)(e,r)}function dYe(e,t,r){return(t.slice(-4)===".bin"?VWe:aJ)(e)}function fYe(e){return(e.slice(-4)===".bin"?DWe:nJ)()}function hYe(e,t){var r=[];return e.Props&&r.push(cVe(e.Props,t)),e.Custprops&&r.push(uVe(e.Props,e.Custprops)),r.join("")}function pYe(){return""}function mYe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,i){var a=[];a.push(tr("NumberFormat",null,{"ss:Format":Ni(Ma[n.numFmtId])}));var o={"ss:ID":"s"+(21+i)};r.push(tr("Style",a.join(""),o))}),tr("Styles",r.join(""))}function yJ(e){return tr("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+K8(e.Ref,{r:0,c:0})})}function gYe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var i=t[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(yJ(i)))}return tr("Names",r.join(""))}function xYe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],o=0;o<i.length;++o){var l=i[o];l.Sheet==r&&(l.Name.match(/^_xlfn\./)||a.push(yJ(l)))}return a.join("")}function vYe(e,t,r,n){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(tr("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(tr("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(tr("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(tr("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(Fs("ProtectContents","True")),e["!protect"].objects&&i.push(Fs("ProtectObjects","True")),e["!protect"].scenarios&&i.push(Fs("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(Fs("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(Fs("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(o){e["!protect"][o[0]]&&i.push("<"+o[1]+"/>")})),i.length==0?"":tr("WorksheetOptions",i.join(""),{xmlns:Al.x})}function yYe(e){return e.map(function(t){var r=_ze(t.t||""),n=tr("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return tr("Comment",n,{"ss:Author":t.a})}).join("")}function wYe(e,t,r,n,i,a,o){if(!e||e.v==null&&e.f==null)return"";var l={};if(e.f&&(l["ss:Formula"]="="+Ni(K8(e.f,o))),e.F&&e.F.slice(0,t.length)==t){var c=Es(e.F.slice(t.length+1));l["ss:ArrayRange"]="RC:R"+(c.r==o.r?"":"["+(c.r-o.r)+"]")+"C"+(c.c==o.c?"":"["+(c.c-o.c)+"]")}if(e.l&&e.l.Target&&(l["ss:HRef"]=Ni(e.l.Target),e.l.Tooltip&&(l["x:HRefScreenTip"]=Ni(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],f=0;f!=u.length;++f)u[f].s.c!=o.c||u[f].s.r!=o.r||(u[f].e.c>u[f].s.c&&(l["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(l["ss:MergeDown"]=u[f].e.r-u[f].s.r));var p="",g="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",g=String(e.v);break;case"b":p="Boolean",g=e.v?"1":"0";break;case"e":p="Error",g=nw[e.v];break;case"d":p="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Ma[14]);break;case"s":p="String",g=Sze(e.v||"");break}var x=m0(n.cellXfs,e,n);l["ss:StyleID"]="s"+(21+x),l["ss:Index"]=o.c+1;var b=e.v!=null?g:"",y=e.t=="z"?"":'<Data ss:Type="'+p+'">'+b+"</Data>";return(e.c||[]).length>0&&(y+=yYe(e.c)),tr("Cell",y,l)}function bYe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=JZ(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function SYe(e,t,r,n){if(!e["!ref"])return"";var i=Ji(e["!ref"]),a=e["!merges"]||[],o=0,l=[];e["!cols"]&&e["!cols"].forEach(function(_,N){Y8(_);var E=!!_.width,C=CN(N,_),I={"ss:Index":N+1};E&&(I["ss:Width"]=v4(C.width)),_.hidden&&(I["ss:Hidden"]="1"),l.push(tr("Column",null,I))});for(var c=Array.isArray(e),u=i.s.r;u<=i.e.r;++u){for(var f=[bYe(u,(e["!rows"]||[])[u])],p=i.s.c;p<=i.e.c;++p){var g=!1;for(o=0;o!=a.length;++o)if(!(a[o].s.c>p)&&!(a[o].s.r>u)&&!(a[o].e.c<p)&&!(a[o].e.r<u)){(a[o].s.c!=p||a[o].s.r!=u)&&(g=!0);break}if(!g){var x={r:u,c:p},b=Ai(x),y=c?(e[u]||[])[p]:e[b];f.push(wYe(y,b,e,t,r,n,x))}}f.push("</Row>"),f.length>2&&l.push(f.join(""))}return l.join("")}function _Ye(e,t,r){var n=[],i=r.SheetNames[e],a=r.Sheets[i],o=a?xYe(a,t,e,r):"";return o.length>0&&n.push("<Names>"+o+"</Names>"),o=a?SYe(a,t,e,r):"",o.length>0&&n.push("<Table>"+o+"</Table>"),n.push(vYe(a,t,e,r)),n.join("")}function NYe(e,t){t||(t={}),e.SSF||(e.SSF=sl(Ma)),e.SSF&&(SN(),bN(e.SSF),t.revssf=_N(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],m0(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(hYe(e,t)),r.push(pYe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(tr("Worksheet",_Ye(n,t,e),{"ss:Name":Ni(e.SheetNames[n])}));return r[2]=mYe(e,t),r[3]=gYe(e),rs+tr("Workbook",r.join(""),{xmlns:Al.ss,"xmlns:o":Al.o,"xmlns:x":Al.x,"xmlns:ss":Al.ss,"xmlns:dt":Al.dt,"xmlns:html":Al.html})}var WA={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function EYe(e,t){var r=[],n=[],i=[],a=0,o,l=M9(G9,"n"),c=M9(Y9,"n");if(e.Props)for(o=Hs(e.Props),a=0;a<o.length;++a)(Object.prototype.hasOwnProperty.call(l,o[a])?r:Object.prototype.hasOwnProperty.call(c,o[a])?n:i).push([o[a],e.Props[o[a]]]);if(e.Custprops)for(o=Hs(e.Custprops),a=0;a<o.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},o[a])||(Object.prototype.hasOwnProperty.call(l,o[a])?r:Object.prototype.hasOwnProperty.call(c,o[a])?n:i).push([o[a],e.Custprops[o[a]]]);var u=[];for(a=0;a<i.length;++a)VZ.indexOf(i[a][0])>-1||$Z.indexOf(i[a][0])>-1||i[a][1]!=null&&u.push(i[a]);n.length&&ki.utils.cfb_add(t,"/SummaryInformation",J9(n,WA.SI,c,Y9)),(r.length||u.length)&&ki.utils.cfb_add(t,"/DocumentSummaryInformation",J9(r,WA.DSI,l,G9,u.length?u:null,WA.UDI))}function AYe(e,t){var r=t||{},n=ki.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return ki.utils.cfb_add(n,i,wJ(e,r)),r.biff==8&&(e.Props||e.Custprops)&&EYe(e,n),r.biff==8&&e.vbaraw&&WWe(n,ki.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var CYe={0:{f:Oqe},1:{f:Fqe},2:{f:iGe},3:{f:qqe},4:{f:zqe},5:{f:eGe},6:{f:cGe},7:{f:Kqe},8:{f:gGe},9:{f:mGe},10:{f:hGe},11:{f:pGe},12:{f:$qe},13:{f:sGe},14:{f:Yqe},15:{f:Wqe},16:{f:rGe},17:{f:dGe},18:{f:Zqe},19:{f:W8},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:tYe},40:{},42:{},43:{f:cWe},44:{f:oWe},45:{f:fWe},46:{f:pWe},47:{f:hWe},48:{},49:{f:$ze},50:{},51:{f:OWe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:UVe},62:{f:lGe},63:{f:LWe},64:{f:PGe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ld,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:jGe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Lqe},148:{f:kqe,p:16},151:{f:SGe},152:{},153:{f:JGe},154:{},155:{},156:{f:QGe},157:{},158:{},159:{T:1,f:QVe},160:{T:-1},161:{T:1,f:o1},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:xGe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:jWe},336:{T:-1},337:{f:kWe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:bT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:DVe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:_Ge},427:{f:NGe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:AGe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Dqe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:wGe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:bT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:UWe},633:{T:1},634:{T:-1},635:{T:1,f:BWe},636:{T:-1},637:{f:Wze},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:HGe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:kGe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function rr(e,t,r,n){var i=t;if(!isNaN(i)){var a=n||(r||[]).length||0,o=e.next(4);o.write_shift(2,i),o.write_shift(2,a),a>0&&U8(r)&&e.push(r)}}function jYe(e,t,r,n){var i=(r||[]).length||0;if(i<=8224)return rr(e,t,r,i);var a=t;if(!isNaN(a)){for(var o=r.parts||[],l=0,c=0,u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;var f=e.next(4);for(f.write_shift(2,a),f.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<i;){for(f=e.next(4),f.write_shift(2,60),u=0;u+(o[l]||8224)<=8224;)u+=o[l]||8224,l++;f.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function aw(e,t,r){return e||(e=Tt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function TYe(e,t,r,n){var i=Tt(9);return aw(i,e,t),HZ(r,n||"b",i),i}function OYe(e,t,r){var n=Tt(8+2*r.length);return aw(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function IYe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?al(Io(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?rr(e,2,HVe(r,n,i)):rr(e,3,WVe(r,n,i));return;case"b":case"e":rr(e,5,TYe(r,n,t.v,t.t));return;case"s":case"str":rr(e,4,OYe(r,n,(t.v||"").slice(0,255)));return}rr(e,1,aw(null,r,n))}function PYe(e,t,r,n){var i=Array.isArray(t),a=Ji(t["!ref"]||"A1"),o,l="",c=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),o=ts(a)}for(var u=a.s.r;u<=a.e.r;++u){l=Vs(u);for(var f=a.s.c;f<=a.e.c;++f){u===a.s.r&&(c[f]=uo(f)),o=c[f]+l;var p=i?(t[u]||[])[f]:t[o];p&&IYe(e,p,u,f)}}}function kYe(e,t){for(var r=t||{},n=nl(),i=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return rr(n,r.biff==4?1033:r.biff==3?521:9,G8(e,16,r)),PYe(n,e.Sheets[e.SheetNames[i]],i,r),rr(n,10),n.end()}function MYe(e,t,r){rr(e,49,CVe({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function DYe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&rr(e,1054,OVe(i,t[i],r))})}function LYe(e,t){var r=Tt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),rr(e,2151,r),r=Tt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),YZ(Ji(t["!ref"]||"A1"),r),r.write_shift(4,4),rr(e,2152,r)}function RYe(e,t){for(var r=0;r<16;++r)rr(e,224,tB({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){rr(e,224,tB(n,0,t))})}function FYe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];rr(e,440,FVe(n)),n[1].Tooltip&&rr(e,2048,BVe(n))}delete t["!links"]}function BYe(e,t){if(t){var r=0;t.forEach(function(n,i){++r<=256&&n&&rr(e,125,zVe(CN(i,n),i))})}}function $Ye(e,t,r,n,i){var a=16+m0(i.cellXfs,t,i);if(t.v==null&&!t.bf){rr(e,513,Wp(r,n,a));return}if(t.bf)rr(e,6,uqe(t,r,n,i,a));else switch(t.t){case"d":case"n":var o=t.t=="d"?al(Io(t.v)):t.v;rr(e,515,MVe(r,n,o,a));break;case"b":case"e":rr(e,517,kVe(r,n,t.v,a,i,t.t));break;case"s":case"str":if(i.bookSST){var l=Z8(i.Strings,t.v,i.revStrings);rr(e,253,jVe(r,n,l,a))}else rr(e,516,TVe(r,n,(t.v||"").slice(0,255),a,i));break;default:rr(e,513,Wp(r,n,a))}}function UYe(e,t,r){var n=nl(),i=r.SheetNames[e],a=r.Sheets[i]||{},o=(r||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(a),u=t.biff==8,f,p="",g=[],x=Ji(a["!ref"]||"A1"),b=u?65536:16384;if(x.e.c>255||x.e.r>=b){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");x.e.c=Math.min(x.e.c,255),x.e.r=Math.min(x.e.c,b-1)}rr(n,2057,G8(r,16,t)),rr(n,13,nc(1)),rr(n,12,nc(100)),rr(n,15,Eo(!0)),rr(n,17,Eo(!1)),rr(n,16,Vp(.001)),rr(n,95,Eo(!0)),rr(n,42,Eo(!1)),rr(n,43,Eo(!1)),rr(n,130,nc(1)),rr(n,128,PVe()),rr(n,131,Eo(!1)),rr(n,132,Eo(!1)),u&&BYe(n,a["!cols"]),rr(n,512,IVe(x,t)),u&&(a["!links"]=[]);for(var y=x.s.r;y<=x.e.r;++y){p=Vs(y);for(var _=x.s.c;_<=x.e.c;++_){y===x.s.r&&(g[_]=uo(_)),f=g[_]+p;var N=c?(a[y]||[])[_]:a[f];N&&($Ye(n,N,y,_,t),u&&N.l&&a["!links"].push([f,N.l]))}}var E=l.CodeName||l.name||i;return u&&rr(n,574,AVe((o.Views||[])[0])),u&&(a["!merges"]||[]).length&&rr(n,229,RVe(a["!merges"])),u&&FYe(n,a),rr(n,442,GZ(E)),u&&LYe(n,a),rr(n,10),n.end()}function zYe(e,t,r){var n=nl(),i=(e||{}).Workbook||{},a=i.Sheets||[],o=i.WBProps||{},l=r.biff==8,c=r.biff==5;if(rr(n,2057,G8(e,5,r)),r.bookType=="xla"&&rr(n,135),rr(n,225,l?nc(1200):null),rr(n,193,hVe(2)),c&&rr(n,191),c&&rr(n,192),rr(n,226),rr(n,92,SVe("SheetJS",r)),rr(n,66,nc(l?1200:1252)),l&&rr(n,353,nc(0)),l&&rr(n,448),rr(n,317,VVe(e.SheetNames.length)),l&&e.vbaraw&&rr(n,211),l&&e.vbaraw){var u=o.CodeName||"ThisWorkbook";rr(n,442,GZ(u))}rr(n,156,nc(17)),rr(n,25,Eo(!1)),rr(n,18,Eo(!1)),rr(n,19,nc(0)),l&&rr(n,431,Eo(!1)),l&&rr(n,444,nc(0)),rr(n,61,EVe()),rr(n,64,Eo(!1)),rr(n,141,nc(0)),rr(n,34,Eo(GGe(e)=="true")),rr(n,14,Eo(!0)),l&&rr(n,439,Eo(!1)),rr(n,218,nc(0)),MYe(n,e,r),DYe(n,e.SSF,r),RYe(n,r),l&&rr(n,352,Eo(!1));var f=n.end(),p=nl();l&&rr(p,140,$Ve()),l&&r.Strings&&jYe(p,252,NVe(r.Strings)),rr(p,10);var g=p.end(),x=nl(),b=0,y=0;for(y=0;y<e.SheetNames.length;++y)b+=(l?12:11)+(l?2:1)*e.SheetNames[y].length;var _=f.length+b+g.length;for(y=0;y<e.SheetNames.length;++y){var N=a[y]||{};rr(x,133,_Ve({pos:_,hs:N.Hidden||0,dt:0,name:e.SheetNames[y]},r)),_+=t[y].length}var E=x.end();if(b!=E.length)throw new Error("BS8 "+b+" != "+E.length);var C=[];return f.length&&C.push(f),E.length&&C.push(E),g.length&&C.push(g),Rs(C)}function VYe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=sl(Ma)),e&&e.SSF&&(SN(),bN(e.SSF),r.revssf=_N(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,J8(r),r.cellXfs=[],m0(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)n[n.length]=UYe(i,r,e);return n.unshift(zYe(e,n,r)),Rs(n)}function wJ(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var i=$l(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return VYe(e,t);case 4:case 3:case 2:return kYe(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function WYe(e,t,r,n){for(var i=e["!merges"]||[],a=[],o=t.s.c;o<=t.e.c;++o){for(var l=0,c=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>o)&&!(i[u].e.r<r||i[u].e.c<o)){if(i[u].s.r<r||i[u].s.c<o){l=-1;break}l=i[u].e.r-i[u].s.r+1,c=i[u].e.c-i[u].s.c+1;break}if(!(l<0)){var f=Ai({r,c:o}),p=n.dense?(e[r]||[])[o]:e[f],g=p&&p.v!=null&&(p.h||bze(p.w||(bf(p),p.w)||""))||"",x={};l>1&&(x.rowspan=l),c>1&&(x.colspan=c),n.editable?g='<span contenteditable="true">'+g+"</span>":p&&(x["data-t"]=p&&p.t||"z",p.v!=null&&(x["data-v"]=p.v),p.z!=null&&(x["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),x.id=(n.id||"sjs")+"-"+f,a.push(tr("td",g,x))}}var b="<tr>";return b+a.join("")+"</tr>"}var HYe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',qYe="</body></html>";function GYe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function bJ(e,t){var r=t||{},n=r.header!=null?r.header:HYe,i=r.footer!=null?r.footer:qYe,a=[n],o=$l(e["!ref"]);r.dense=Array.isArray(e),a.push(GYe(e,o,r));for(var l=o.s.r;l<=o.e.r;++l)a.push(WYe(e,o,l,r));return a.push("</table>"+i),a.join("")}function SJ(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var o=typeof n.origin=="string"?Es(n.origin):n.origin;i=o.r,a=o.c}var l=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,l.length),u={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var f=$l(e["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),i==-1&&(u.e.r=i=f.e.r+1)}var p=[],g=0,x=e["!rows"]||(e["!rows"]=[]),b=0,y=0,_=0,N=0,E=0,C=0;for(e["!cols"]||(e["!cols"]=[]);b<l.length&&y<c;++b){var I=l[b];if(lB(I)){if(n.display)continue;x[y]={hidden:!0}}var P=I.children;for(_=N=0;_<P.length;++_){var D=P[_];if(!(n.display&&lB(D))){var k=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):Eze(D.innerHTML),L=D.getAttribute("data-z")||D.getAttribute("z");for(g=0;g<p.length;++g){var B=p[g];B.s.c==N+a&&B.s.r<y+i&&y+i<=B.e.r&&(N=B.e.c+1-a,g=-1)}C=+D.getAttribute("colspan")||1,((E=+D.getAttribute("rowspan")||1)>1||C>1)&&p.push({s:{r:y+i,c:N+a},e:{r:y+i+(E||1)-1,c:N+a+(C||1)-1}});var G={t:"s",v:k},F=D.getAttribute("data-t")||D.getAttribute("t")||"";k!=null&&(k.length==0?G.t=F||"z":n.raw||k.trim().length==0||F=="s"||(k==="TRUE"?G={t:"b",v:!0}:k==="FALSE"?G={t:"b",v:!1}:isNaN(Qd(k))?isNaN(p2(k).getDate())||(G={t:"d",v:Io(k)},n.cellDates||(G={t:"n",v:al(G.v)}),G.z=n.dateNF||Ma[14]):G={t:"n",v:Qd(k)})),G.z===void 0&&L!=null&&(G.z=L);var U="",q=D.getElementsByTagName("A");if(q&&q.length)for(var K=0;K<q.length&&!(q[K].hasAttribute("href")&&(U=q[K].getAttribute("href"),U.charAt(0)!="#"));++K);U&&U.charAt(0)!="#"&&(G.l={Target:U}),n.dense?(e[y+i]||(e[y+i]=[]),e[y+i][N+a]=G):e[Ai({c:N+a,r:y+i})]=G,u.e.c<N+a&&(u.e.c=N+a),N+=C}}++y}return p.length&&(e["!merges"]=(e["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,y-1+i),e["!ref"]=ts(u),y>=c&&(e["!fullref"]=ts((u.e.r=l.length-b+y-1+i,u))),e}function _J(e,t){var r=t||{},n=r.dense?[]:{};return SJ(n,e,t)}function YYe(e,t){return n1(_J(e,t),t)}function lB(e){var t="",r=XYe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function XYe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var KYe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+g2({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return rs+t}}(),cB=function(){var e=function(a){return Ni(a).replace(/  +/g,function(o){return'<text:s text:c="'+o.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,o,l){var c=[];c.push('      <table:table table:name="'+Ni(o.SheetNames[l])+`" table:style-name="ta1">
`);var u=0,f=0,p=$l(a["!ref"]||"A1"),g=a["!merges"]||[],x=0,b=Array.isArray(a);if(a["!cols"])for(f=0;f<=p.e.c;++f)c.push("        <table:table-column"+(a["!cols"][f]?' table:style-name="co'+a["!cols"][f].ods+'"':"")+`></table:table-column>
`);var y="",_=a["!rows"]||[];for(u=0;u<p.s.r;++u)y=_[u]?' table:style-name="ro'+_[u].ods+'"':"",c.push("        <table:table-row"+y+`></table:table-row>
`);for(;u<=p.e.r;++u){for(y=_[u]?' table:style-name="ro'+_[u].ods+'"':"",c.push("        <table:table-row"+y+`>
`),f=0;f<p.s.c;++f)c.push(t);for(;f<=p.e.c;++f){var N=!1,E={},C="";for(x=0;x!=g.length;++x)if(!(g[x].s.c>f)&&!(g[x].s.r>u)&&!(g[x].e.c<f)&&!(g[x].e.r<u)){(g[x].s.c!=f||g[x].s.r!=u)&&(N=!0),E["table:number-columns-spanned"]=g[x].e.c-g[x].s.c+1,E["table:number-rows-spanned"]=g[x].e.r-g[x].s.r+1;break}if(N){c.push(r);continue}var I=Ai({r:u,c:f}),P=b?(a[u]||[])[f]:a[I];if(P&&P.f&&(E["table:formula"]=Ni(gqe(P.f)),P.F&&P.F.slice(0,I.length)==I)){var D=$l(P.F);E["table:number-matrix-columns-spanned"]=D.e.c-D.s.c+1,E["table:number-matrix-rows-spanned"]=D.e.r-D.s.r+1}if(!P){c.push(t);continue}switch(P.t){case"b":C=P.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=P.v?"true":"false";break;case"n":C=P.w||String(P.v||0),E["office:value-type"]="float",E["office:value"]=P.v||0;break;case"s":case"str":C=P.v==null?"":P.v,E["office:value-type"]="string";break;case"d":C=P.w||Io(P.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=Io(P.v).toISOString(),E["table:style-name"]="ce1";break;default:c.push(t);continue}var k=e(C);if(P.l&&P.l.Target){var L=P.l.Target;L=L.charAt(0)=="#"?"#"+xqe(L.slice(1)):L,L.charAt(0)!="#"&&!L.match(/^\w+:/)&&(L="../"+L),k=tr("text:a",k,{"xlink:href":L.replace(/&/g,"&amp;")})}c.push("          "+tr("table:table-cell",tr("text:p",k,{}),E)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},i=function(a,o){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var l=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var p=u["!cols"][f];if(p.width==null&&p.wpx==null&&p.wch==null)continue;Y8(p),p.ods=l;var g=u["!cols"][f].wpx+"px";a.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),a.push(`  </style:style>
`),++l}}});var c=0;o.SheetNames.map(function(u){return o.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=c;var p=u["!rows"][f].hpx+"px";a.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),a.push(`  </style:style>
`),++c}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(o,l){var c=[rs],u=g2({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=g2({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(c.push("<office:document"+u+f+`>
`),c.push(FZ().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),i(c,o),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var p=0;p!=o.SheetNames.length;++p)c.push(n(o.Sheets[o.SheetNames[p]],o,p));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),l.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function NJ(e,t){if(t.bookType=="fods")return cB(e,t);var r=R8(),n="",i=[],a=[];return n="mimetype",jn(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",jn(r,n,cB(e,t)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",jn(r,n,KYe(e,t)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",jn(r,n,rs+FZ()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",jn(r,n,lVe(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",jn(r,n,sVe(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function b4(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function QYe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Xc(m2(e))}function ZYe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function t0(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function JYe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)e[t+a]=i&255;e[t+15]|=r>=0?0:128}function x2(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function xi(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Pm(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function cs(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=x2(e,r),a=i&7;i=Math.floor(i/8);var o=0,l;if(i==0)break;switch(a){case 0:{for(var c=r[0];e[r[0]++]>=128;);l=e.slice(c,r[0])}break;case 5:o=4,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=x2(e,r),l=e.slice(r[0],r[0]+o),r[0]+=o;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var u={data:l,type:a};t[i]==null?t[i]=[u]:t[i].push(u)}return t}function ks(e){var t=[];return e.forEach(function(r,n){r.forEach(function(i){i.data&&(t.push(xi(n*8+i.type)),i.type==2&&t.push(xi(i.data.length)),t.push(i.data))})}),t0(t)}function Dc(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=x2(e,n),a=cs(e.slice(n[0],n[0]+i));n[0]+=i;var o={id:Pm(a[1][0].data),messages:[]};a[2].forEach(function(l){var c=cs(l.data),u=Pm(c[3][0].data);o.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=a[3])!=null&&t[0]&&(o.merge=Pm(a[3][0].data)>>>0>0),r.push(o)}return r}function k1(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:xi(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:xi(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(o){i.push(o.data),o.meta[3]=[{type:0,data:xi(o.data.length)}],n[2].push({data:ks(o.meta),type:2})});var a=ks(n);t.push(xi(a.length)),t.push(a),i.forEach(function(o){return t.push(o)})}),t0(t)}function eXe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=x2(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var o=t[r[0]++]>>2;if(o<60)++o;else{var l=o-59;o=t[r[0]],l>1&&(o|=t[r[0]+1]<<8),l>2&&(o|=t[r[0]+2]<<16),l>3&&(o|=t[r[0]+3]<<24),o>>>=0,o++,r[0]+=l}i.push(t.slice(r[0],r[0]+o)),r[0]+=o;continue}else{var c=0,u=0;if(a==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,a==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[t0(i)],c==0)throw new Error("Invalid offset 0");if(c>i[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(i.push(i[0].slice(-c)),u-=c;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-c,-c+u))}}var f=t0(i);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function Lc(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(eXe(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return t0(t)}function M1(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),i=new Uint8Array(4);t.push(i);var a=xi(n),o=a.length;t.push(a),n<=60?(o++,t.push(new Uint8Array([n-1<<2]))):n<=256?(o+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(o+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(o+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(o+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),o+=n,i[0]=0,i[1]=o&255,i[2]=o>>8&255,i[3]=o>>16&255,r+=n}return t0(t)}function HA(e,t){var r=new Uint8Array(32),n=b4(r),i=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,JYe(r,i,e.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,e.v?1:0,!0),a|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,a,!0),r.slice(0,i)}function qA(e,t){var r=new Uint8Array(32),n=b4(r),i=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(i,e.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,e.v?1:0,!0),a|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,a,!0),r.slice(0,i)}function Qf(e){var t=cs(e);return x2(t[1][0].data)}function tXe(e,t,r){var n,i,a,o;if(!((n=e[6])!=null&&n[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var l=((o=(a=e[8])==null?void 0:a[0])==null?void 0:o.data)&&Pm(e[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var c=0,u=b4(e[7][0].data),f=0,p=[],g=b4(e[4][0].data),x=0,b=[],y=0;y<t.length;++y){if(t[y]==null){u.setUint16(y*2,65535,!0),g.setUint16(y*2,65535);continue}u.setUint16(y*2,f,!0),g.setUint16(y*2,x,!0);var _,N;switch(typeof t[y]){case"string":_=HA({t:"s",v:t[y]},r),N=qA({t:"s",v:t[y]},r);break;case"number":_=HA({t:"n",v:t[y]},r),N=qA({t:"n",v:t[y]},r);break;case"boolean":_=HA({t:"b",v:t[y]},r),N=qA({t:"b",v:t[y]},r);break;default:throw new Error("Unsupported value "+t[y])}p.push(_),f+=_.length,b.push(N),x+=N.length,++c}for(e[2][0].data=xi(c);y<e[7][0].data.length/2;++y)u.setUint16(y*2,65535,!0),g.setUint16(y*2,65535,!0);return e[6][0].data=t0(p),e[3][0].data=t0(b),c}function rXe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=$l(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(ts(n)));var a=S4(r,{range:n,header:1}),o=["~Sh33tJ5~"];a.forEach(function(Q){return Q.forEach(function(Z){typeof Z=="string"&&o.push(Z)})});var l={},c=[],u=ki.read(t.numbers,{type:"base64"});u.FileIndex.map(function(Q,Z){return[Q,u.FullPaths[Z]]}).forEach(function(Q){var Z=Q[0],re=Q[1];if(Z.type==2&&Z.name.match(/\.iwa/)){var le=Z.content,Ne=Lc(le),Ae=Dc(Ne);Ae.forEach(function(ve){c.push(ve.id),l[ve.id]={deps:[],location:re,type:Pm(ve.messages[0].meta[1][0].data)}})}}),c.sort(function(Q,Z){return Q-Z});var f=c.filter(function(Q){return Q>1}).map(function(Q){return[Q,xi(Q)]});u.FileIndex.map(function(Q,Z){return[Q,u.FullPaths[Z]]}).forEach(function(Q){var Z=Q[0];if(Q[1],!!Z.name.match(/\.iwa/)){var re=Dc(Lc(Z.content));re.forEach(function(le){le.messages.forEach(function(Ne){f.forEach(function(Ae){le.messages.some(function(ve){return Pm(ve.meta[1][0].data)!=11006&&ZYe(ve.data,Ae[1])})&&l[Ae[0]].deps.push(le.id)})})})}});for(var p=ki.find(u,l[1].location),g=Dc(Lc(p.content)),x,b=0;b<g.length;++b){var y=g[b];y.id==1&&(x=y)}var _=Qf(cs(x.messages[0].data)[1][0].data);for(p=ki.find(u,l[_].location),g=Dc(Lc(p.content)),b=0;b<g.length;++b)y=g[b],y.id==_&&(x=y);for(_=Qf(cs(x.messages[0].data)[2][0].data),p=ki.find(u,l[_].location),g=Dc(Lc(p.content)),b=0;b<g.length;++b)y=g[b],y.id==_&&(x=y);for(_=Qf(cs(x.messages[0].data)[2][0].data),p=ki.find(u,l[_].location),g=Dc(Lc(p.content)),b=0;b<g.length;++b)y=g[b],y.id==_&&(x=y);var N=cs(x.messages[0].data);{N[6][0].data=xi(n.e.r+1),N[7][0].data=xi(n.e.c+1);var E=Qf(N[46][0].data),C=ki.find(u,l[E].location),I=Dc(Lc(C.content));{for(var P=0;P<I.length&&I[P].id!=E;++P);if(I[P].id!=E)throw"Bad ColumnRowUIDMapArchive";var D=cs(I[P].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var k=0;k<=n.e.c;++k){var L=[];L[1]=L[2]=[{type:0,data:xi(k+420690)}],D[1].push({type:2,data:ks(L)}),D[2].push({type:0,data:xi(k)}),D[3].push({type:0,data:xi(k)})}D[4]=[],D[5]=[],D[6]=[];for(var B=0;B<=n.e.r;++B)L=[],L[1]=L[2]=[{type:0,data:xi(B+726270)}],D[4].push({type:2,data:ks(L)}),D[5].push({type:0,data:xi(B)}),D[6].push({type:0,data:xi(B)});I[P].messages[0].data=ks(D)}C.content=M1(k1(I)),C.size=C.content.length,delete N[46];var G=cs(N[4][0].data);{G[7][0].data=xi(n.e.r+1);var F=cs(G[1][0].data),U=Qf(F[2][0].data);C=ki.find(u,l[U].location),I=Dc(Lc(C.content));{if(I[0].id!=U)throw"Bad HeaderStorageBucket";var q=cs(I[0].messages[0].data);for(B=0;B<a.length;++B){var K=cs(q[2][0].data);K[1][0].data=xi(B),K[4][0].data=xi(a[B].length),q[2][B]={type:q[2][0].type,data:ks(K)}}I[0].messages[0].data=ks(q)}C.content=M1(k1(I)),C.size=C.content.length;var V=Qf(G[2][0].data);C=ki.find(u,l[V].location),I=Dc(Lc(C.content));{if(I[0].id!=V)throw"Bad HeaderStorageBucket";for(q=cs(I[0].messages[0].data),k=0;k<=n.e.c;++k)K=cs(q[2][0].data),K[1][0].data=xi(k),K[4][0].data=xi(n.e.r+1),q[2][k]={type:q[2][0].type,data:ks(K)};I[0].messages[0].data=ks(q)}C.content=M1(k1(I)),C.size=C.content.length;var ee=Qf(G[4][0].data);(function(){for(var Q=ki.find(u,l[ee].location),Z=Dc(Lc(Q.content)),re,le=0;le<Z.length;++le){var Ne=Z[le];Ne.id==ee&&(re=Ne)}var Ae=cs(re.messages[0].data);{Ae[3]=[];var ve=[];o.forEach(function(Se,ye){ve[1]=[{type:0,data:xi(ye)}],ve[2]=[{type:0,data:xi(1)}],ve[3]=[{type:2,data:QYe(Se)}],Ae[3].push({type:2,data:ks(ve)})})}re.messages[0].data=ks(Ae);var xe=k1(Z),Le=M1(xe);Q.content=Le,Q.size=Q.content.length})();var te=cs(G[3][0].data);{var J=te[1][0];delete te[2];var ge=cs(J.data);{var Ie=Qf(ge[2][0].data);(function(){for(var Q=ki.find(u,l[Ie].location),Z=Dc(Lc(Q.content)),re,le=0;le<Z.length;++le){var Ne=Z[le];Ne.id==Ie&&(re=Ne)}var Ae=cs(re.messages[0].data);{delete Ae[6],delete te[7];var ve=new Uint8Array(Ae[5][0].data);Ae[5]=[];for(var xe=0,Le=0;Le<=n.e.r;++Le){var Se=cs(ve);xe+=tXe(Se,a[Le],o),Se[1][0].data=xi(Le),Ae[5].push({data:ks(Se),type:2})}Ae[1]=[{type:0,data:xi(n.e.c+1)}],Ae[2]=[{type:0,data:xi(n.e.r+1)}],Ae[3]=[{type:0,data:xi(xe)}],Ae[4]=[{type:0,data:xi(n.e.r+1)}]}re.messages[0].data=ks(Ae);var ye=k1(Z),We=M1(ye);Q.content=We,Q.size=Q.content.length})()}J.data=ks(ge)}G[3][0].data=ks(te)}N[4][0].data=ks(G)}x.messages[0].data=ks(N);var Ge=k1(g),W=M1(Ge);return p.content=W,p.size=p.content.length,u}function nXe(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function J8(e){nXe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function iXe(e,t){return t.bookType=="ods"?NJ(e,t):t.bookType=="numbers"?rXe(e,t):t.bookType=="xlsb"?aXe(e,t):sXe(e,t)}function aXe(e,t){am=1024,e&&!e.SSF&&(e.SSF=sl(Ma)),e&&e.SSF&&(SN(),bN(e.SSF),t.revssf=_N(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Uv?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=sJ.indexOf(t.bookType)>-1,i=DZ();J8(t=t||{});var a=R8(),o="",l=0;if(t.cellXfs=[],m0(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",jn(a,o,BZ(e.Props,t)),i.coreprops.push(o),wi(t.rels,2,o,ei.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,jn(a,o,UZ(e.Props)),i.extprops.push(o),wi(t.rels,3,o,ei.EXT_PROPS),e.Custprops!==e.Props&&Hs(e.Custprops||{}).length>0&&(o="docProps/custom.xml",jn(a,o,zZ(e.Custprops)),i.custprops.push(o),wi(t.rels,4,o,ei.CUST_PROPS)),l=1;l<=e.SheetNames.length;++l){var f={"!id":{}},p=e.Sheets[e.SheetNames[l-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,jn(a,o,lYe(l-1,o,t,e,f)),i.sheets.push(o),wi(t.wbrels,-1,"worksheets/sheet"+l+"."+r,ei.WS[0])}if(p){var x=p["!comments"],b=!1,y="";x&&x.length>0&&(y="xl/comments"+l+"."+r,jn(a,y,dYe(x,y)),i.comments.push(y),wi(f,-1,"../comments"+l+"."+r,ei.CMNT),b=!0),p["!legacy"]&&b&&jn(a,"xl/drawings/vmlDrawing"+l+".vml",iJ(l,p["!comments"])),delete p["!comments"],delete p["!legacy"]}f["!id"].rId1&&jn(a,RZ(o),Om(f))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,jn(a,o,uYe(t.Strings,o,t)),i.strs.push(o),wi(t.wbrels,-1,"sharedStrings."+r,ei.SST)),o="xl/workbook."+r,jn(a,o,oYe(e,o)),i.workbooks.push(o),wi(t.rels,1,o,ei.WB),o="xl/theme/theme1.xml",jn(a,o,rJ(e.Themes,t)),i.themes.push(o),wi(t.wbrels,-1,"theme/theme1.xml",ei.THEME),o="xl/styles."+r,jn(a,o,cYe(e,o,t)),i.styles.push(o),wi(t.wbrels,-1,"styles."+r,ei.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",jn(a,o,e.vbaraw),i.vba.push(o),wi(t.wbrels,-1,"vbaProject.bin",ei.VBA)),o="xl/metadata."+r,jn(a,o,fYe(o)),i.metadata.push(o),wi(t.wbrels,-1,"metadata."+r,ei.XLMETA),jn(a,"[Content_Types].xml",LZ(i,t)),jn(a,"_rels/.rels",Om(t.rels)),jn(a,"xl/_rels/workbook."+r+".rels",Om(t.wbrels)),delete t.revssf,delete t.ssf,a}function sXe(e,t){am=1024,e&&!e.SSF&&(e.SSF=sl(Ma)),e&&e.SSF&&(SN(),bN(e.SSF),t.revssf=_N(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Uv?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=sJ.indexOf(t.bookType)>-1,i=DZ();J8(t=t||{});var a=R8(),o="",l=0;if(t.cellXfs=[],m0(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),o="docProps/core.xml",jn(a,o,BZ(e.Props,t)),i.coreprops.push(o),wi(t.rels,2,o,ei.CORE_PROPS),o="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,jn(a,o,UZ(e.Props)),i.extprops.push(o),wi(t.rels,3,o,ei.EXT_PROPS),e.Custprops!==e.Props&&Hs(e.Custprops||{}).length>0&&(o="docProps/custom.xml",jn(a,o,zZ(e.Custprops)),i.custprops.push(o),wi(t.rels,4,o,ei.CUST_PROPS));var f=["SheetJ5"];for(t.tcid=0,l=1;l<=e.SheetNames.length;++l){var p={"!id":{}},g=e.Sheets[e.SheetNames[l-1]],x=(g||{})["!type"]||"sheet";switch(x){case"chart":default:o="xl/worksheets/sheet"+l+"."+r,jn(a,o,mJ(l-1,t,e,p)),i.sheets.push(o),wi(t.wbrels,-1,"worksheets/sheet"+l+"."+r,ei.WS[0])}if(g){var b=g["!comments"],y=!1,_="";if(b&&b.length>0){var N=!1;b.forEach(function(E){E[1].forEach(function(C){C.T==!0&&(N=!0)})}),N&&(_="xl/threadedComments/threadedComment"+l+"."+r,jn(a,_,RWe(b,f,t)),i.threadedcomments.push(_),wi(p,-1,"../threadedComments/threadedComment"+l+"."+r,ei.TCMNT)),_="xl/comments"+l+"."+r,jn(a,_,aJ(b)),i.comments.push(_),wi(p,-1,"../comments"+l+"."+r,ei.CMNT),y=!0}g["!legacy"]&&y&&jn(a,"xl/drawings/vmlDrawing"+l+".vml",iJ(l,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&jn(a,RZ(o),Om(p))}return t.Strings!=null&&t.Strings.length>0&&(o="xl/sharedStrings."+r,jn(a,o,KZ(t.Strings,t)),i.strs.push(o),wi(t.wbrels,-1,"sharedStrings."+r,ei.SST)),o="xl/workbook."+r,jn(a,o,vJ(e)),i.workbooks.push(o),wi(t.rels,1,o,ei.WB),o="xl/theme/theme1.xml",jn(a,o,rJ(e.Themes,t)),i.themes.push(o),wi(t.wbrels,-1,"theme/theme1.xml",ei.THEME),o="xl/styles."+r,jn(a,o,eJ(e,t)),i.styles.push(o),wi(t.wbrels,-1,"styles."+r,ei.STY),e.vbaraw&&n&&(o="xl/vbaProject.bin",jn(a,o,e.vbaraw),i.vba.push(o),wi(t.wbrels,-1,"vbaProject.bin",ei.VBA)),o="xl/metadata."+r,jn(a,o,nJ()),i.metadata.push(o),wi(t.wbrels,-1,"metadata."+r,ei.XLMETA),f.length>1&&(o="xl/persons/person.xml",jn(a,o,FWe(f)),i.people.push(o),wi(t.wbrels,-1,"persons/person.xml",ei.PEOPLE)),jn(a,"[Content_Types].xml",LZ(i,t)),jn(a,"_rels/.rels",Om(t.rels)),jn(a,"xl/_rels/workbook."+r+".rels",Om(t.wbrels)),delete t.revssf,delete t.ssf,a}function oXe(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=wf(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function EJ(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return tw(t.file,ki.write(e,{type:ai?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return ki.write(e,t)}function lXe(e,t){var r=sl(t||{}),n=iXe(e,r);return cXe(n,r)}function cXe(e,t){var r={},n=ai?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?ki.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(wN(i))}return t.password&&typeof encrypt_agile<"u"?EJ(encrypt_agile(i,t.password),t):t.type==="file"?tw(t.file,i):t.type=="string"?Rv(i):i}function uXe(e,t){var r=t||{},n=AYe(e,r);return EJ(n,r)}function Tu(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return h2(m2(n));case"binary":return m2(n);case"string":return e;case"file":return tw(t.file,n,"utf8");case"buffer":return ai?jf(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Tu(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function dXe(e,t){switch(t.type){case"base64":return h2(e);case"binary":return e;case"string":return e;case"file":return tw(t.file,e,"binary");case"buffer":return ai?jf(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Pb(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?h2(r):t.type=="string"?Rv(r):r;case"file":return tw(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function AJ(e,t){BUe(),KGe(e);var r=sl(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=AJ(e,r);return r.type="array",wN(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Tu(NYe(e,r),r);case"slk":case"sylk":return Tu(GVe.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return Tu(bJ(e.Sheets[e.SheetNames[i]],r),r);case"txt":return dXe(CJ(e.Sheets[e.SheetNames[i]],r),r);case"csv":return Tu(eP(e.Sheets[e.SheetNames[i]],r),r,"\uFEFF");case"dif":return Tu(YVe.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return Pb(qVe.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return Tu(XVe.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return Tu(rWe.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return Tu(XZ.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return Tu(NJ(e,r),r);case"wk1":return Pb(rB.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return Pb(rB.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Pb(wJ(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),uXe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return lXe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function fXe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function hXe(e,t,r){var n={};return n.type="file",n.file=t,fXe(n),AJ(e,n)}function pXe(e,t,r,n,i,a,o,l){var c=Vs(r),u=l.defval,f=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),p=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!o||e[r])for(var x=t.s.c;x<=t.e.c;++x){var b=o?e[r][x]:e[n[x]+c];if(b===void 0||b.t===void 0){if(u===void 0)continue;a[x]!=null&&(g[a[x]]=u);continue}var y=b.v;switch(b.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(a[x]!=null){if(y==null)if(b.t=="e"&&y===null)g[a[x]]=null;else if(u!==void 0)g[a[x]]=u;else if(f&&y===null)g[a[x]]=null;else continue;else g[a[x]]=f&&(b.t!=="n"||b.t==="n"&&l.rawNumbers!==!1)?y:bf(b,y,l);y!=null&&(p=!1)}}return{row:g,isempty:p}}function S4(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],o=0,l="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},f=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof f){case"string":c=Ji(f);break;case"number":c=Ji(e["!ref"]),c.s.r=f;break;default:c=f}n>0&&(i=0);var p=Vs(c.s.r),g=[],x=[],b=0,y=0,_=Array.isArray(e),N=c.s.r,E=0,C={};_&&!e[N]&&(e[N]=[]);var I=u.skipHidden&&e["!cols"]||[],P=u.skipHidden&&e["!rows"]||[];for(E=c.s.c;E<=c.e.c;++E)if(!(I[E]||{}).hidden)switch(g[E]=uo(E),r=_?e[N][E]:e[g[E]+p],n){case 1:a[E]=E-c.s.c;break;case 2:a[E]=g[E];break;case 3:a[E]=u.header[E-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),l=o=bf(r,null,u),y=C[o]||0,!y)C[o]=1;else{do l=o+"_"+y++;while(C[l]);C[o]=y,C[l]=1}a[E]=l}for(N=c.s.r+i;N<=c.e.r;++N)if(!(P[N]||{}).hidden){var D=pXe(e,c,N,g,n,a,_,u);(D.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(x[b++]=D.row)}return x.length=b,x}var uB=/"/g;function mXe(e,t,r,n,i,a,o,l){for(var c=!0,u=[],f="",p=Vs(r),g=t.s.c;g<=t.e.c;++g)if(n[g]){var x=l.dense?(e[r]||[])[g]:e[n[g]+p];if(x==null)f="";else if(x.v!=null){c=!1,f=""+(l.rawNumbers&&x.t=="n"?x.v:bf(x,null,l));for(var b=0,y=0;b!==f.length;++b)if((y=f.charCodeAt(b))===i||y===a||y===34||l.forceQuotes){f='"'+f.replace(uB,'""')+'"';break}f=="ID"&&(f='"ID"')}else x.f!=null&&!x.F?(c=!1,f="="+x.f,f.indexOf(",")>=0&&(f='"'+f.replace(uB,'""')+'"')):f="";u.push(f)}return l.blankrows===!1&&c?null:u.join(o)}function eP(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=Ji(e["!ref"]),a=n.FS!==void 0?n.FS:",",o=a.charCodeAt(0),l=n.RS!==void 0?n.RS:`
`,c=l.charCodeAt(0),u=new RegExp((a=="|"?"\\|":a)+"+$"),f="",p=[];n.dense=Array.isArray(e);for(var g=n.skipHidden&&e["!cols"]||[],x=n.skipHidden&&e["!rows"]||[],b=i.s.c;b<=i.e.c;++b)(g[b]||{}).hidden||(p[b]=uo(b));for(var y=0,_=i.s.r;_<=i.e.r;++_)(x[_]||{}).hidden||(f=mXe(e,i,_,p,o,c,a,n),f!=null&&(n.strip&&(f=f.replace(u,"")),(f||n.blankrows!==!1)&&r.push((y++?l:"")+f)));return delete n.dense,r.join("")}function CJ(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=eP(e,t);return r}function gXe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=Ji(e["!ref"]),a="",o=[],l,c=[],u=Array.isArray(e);for(l=i.s.c;l<=i.e.c;++l)o[l]=uo(l);for(var f=i.s.r;f<=i.e.r;++f)for(a=Vs(f),l=i.s.c;l<=i.e.c;++l)if(t=o[l]+a,r=u?(e[f]||[])[l]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function jJ(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},o=0,l=0;if(a&&n.origin!=null)if(typeof n.origin=="number")o=n.origin;else{var c=typeof n.origin=="string"?Es(n.origin):n.origin;o=c.r,l=c.c}var u,f={s:{c:0,r:0},e:{c:l,r:o+t.length-1+i}};if(a["!ref"]){var p=Ji(a["!ref"]);f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),o==-1&&(o=p.e.r+1,f.e.r=o+t.length-1+i)}else o==-1&&(o=0,f.e.r=t.length-1+i);var g=n.header||[],x=0;t.forEach(function(y,_){Hs(y).forEach(function(N){(x=g.indexOf(N))==-1&&(g[x=g.length]=N);var E=y[N],C="z",I="",P=Ai({c:l+x,r:o+_+i});u=v2(a,P),E&&typeof E=="object"&&!(E instanceof Date)?a[P]=E:(typeof E=="number"?C="n":typeof E=="boolean"?C="b":typeof E=="string"?C="s":E instanceof Date?(C="d",n.cellDates||(C="n",E=al(E)),I=n.dateNF||Ma[14]):E===null&&n.nullError&&(C="e",E=0),u?(u.t=C,u.v=E,delete u.w,delete u.R,I&&(u.z=I)):a[P]=u={t:C,v:E},I&&(u.z=I))})}),f.e.c=Math.max(f.e.c,l+g.length-1);var b=Vs(o);if(i)for(x=0;x<g.length;++x)a[uo(x+l)+b]={t:"s",v:g[x]};return a["!ref"]=ts(f),a}function xXe(e,t){return jJ(null,e,t)}function v2(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Es(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?v2(e,Ai(t)):v2(e,Ai({r:t,c:r||0}))}function vXe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function yXe(){return{SheetNames:[],Sheets:{}}}function wXe(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var o=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=o+i)!=-1;++i);}if(xJ(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function bXe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=vXe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function SXe(e,t){return e.z=t,e}function TJ(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function _Xe(e,t,r){return TJ(e,"#"+t,r)}function NXe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function EXe(e,t,r,n){for(var i=typeof t!="string"?t:Ji(t),a=typeof t=="string"?t:ts(t),o=i.s.r;o<=i.e.r;++o)for(var l=i.s.c;l<=i.e.c;++l){var c=v2(e,o,l);c.t="n",c.F=a,delete c.v,o==i.s.r&&l==i.s.c&&(c.f=r,n&&(c.D=!0))}return e}var GA={encode_col:uo,encode_row:Vs,encode_cell:Ai,encode_range:ts,decode_col:V8,decode_row:z8,split_cell:Bze,decode_cell:Es,decode_range:$l,format_cell:bf,sheet_add_aoa:TZ,sheet_add_json:jJ,sheet_add_dom:SJ,aoa_to_sheet:mx,json_to_sheet:xXe,table_to_sheet:_J,table_to_book:YYe,sheet_to_csv:eP,sheet_to_txt:CJ,sheet_to_json:S4,sheet_to_html:bJ,sheet_to_formulae:gXe,sheet_to_row_object_array:S4,sheet_get_cell:v2,book_new:yXe,book_append_sheet:wXe,book_set_sheet_visibility:bXe,cell_set_number_format:SXe,cell_set_hyperlink:TJ,cell_set_internal_link:_Xe,cell_add_comment:NXe,sheet_set_array_formula:EXe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function dB(){const[e,t]=O.useState("all"),[r,n]=O.useState("days-issued"),{data:i=[],isLoading:a}=Er({queryKey:["/api/inventory/aging-analysis"]}),o=(i||[]).filter(f=>e==="all"||f.agingCategory===e).sort((f,p)=>{switch(r){case"days-issued":return(p.daysSinceLastIssued||0)-(f.daysSinceLastIssued||0);case"days-restock":return(p.daysSinceLastRestock||0)-(f.daysSinceLastRestock||0);case"value":return(p.estimatedValue||0)-(f.estimatedValue||0);case"quantity":return(p.quantity||0)-(f.quantity||0);default:return 0}}),l={totalParts:(i||[]).length,totalValue:(i||[]).reduce((f,p)=>f+(p.estimatedValue||0),0),fastMoving:(i||[]).filter(f=>f.agingCategory==="fast-moving").length,slowMoving:(i||[]).filter(f=>f.agingCategory==="slow-moving").length,stagnant:(i||[]).filter(f=>f.agingCategory==="stagnant").length,deadStock:(i||[]).filter(f=>f.agingCategory==="dead-stock").length,stagnantValue:(i||[]).filter(f=>f.agingCategory==="stagnant"||f.agingCategory==="dead-stock").reduce((f,p)=>f+(p.estimatedValue||0),0)},c=f=>{const p={"fast-moving":{variant:"default",label:"Fast Moving",color:"bg-green-500"},"slow-moving":{variant:"secondary",label:"Slow Moving",color:"bg-yellow-500"},stagnant:{variant:"destructive",label:"Stagnant",color:"bg-orange-500"},"dead-stock":{variant:"destructive",label:"Dead Stock",color:"bg-red-500"}},g=p[f]||p["slow-moving"];return s.jsx(ti,{variant:g.variant,className:"text-xs",children:g.label})},u=()=>{const f=o.map(y=>({"Part ID":y.partId,"Part Name":y.name,Description:y.description||"",Category:y.category||"",Location:y.location||"",Quantity:y.quantity,"Unit Cost":y.unitCost||"","Estimated Value":y.estimatedValue,"Last Issued Date":y.lastIssuedDate?Kr(uT(y.lastIssuedDate),"yyyy-MM-dd"):"Never","Days Since Last Issued":y.daysSinceLastIssued||"N/A","Last Restock Date":y.lastRestockDate?Kr(uT(y.lastRestockDate),"yyyy-MM-dd"):"Never","Days Since Last Restock":y.daysSinceLastRestock||"N/A","Aging Category":y.agingCategory.replace("-"," ").replace(/\b\w/g,_=>_.toUpperCase())})),p=GA.book_new(),g=GA.json_to_sheet(f),x=Object.keys(f[0]||{}).map(y=>({wch:Math.max(y.length,15)}));g["!cols"]=x,GA.book_append_sheet(p,g,"Inventory Aging Report");const b=Kr(new Date,"yyyy-MM-dd-HHmm");hXe(p,`inventory_aging_report_${b}.xlsx`)};return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{children:"Loading aging analysis..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Inventory Aging Analysis"}),s.jsx("p",{className:"text-muted-foreground",children:"Analyze parts based on usage patterns and time since last activity"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Ee,{onClick:u,className:"flex items-center gap-2",children:[s.jsx(Bs,{className:"h-4 w-4"}),"Export Report"]}),s.jsx(la,{href:"/dashboard",children:s.jsx("button",{className:"px-6 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded font-medium shadow-sm",children:" Back to Dashboard"})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium",children:"Total Parts"}),s.jsx(eg,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(zt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:l.totalParts.toLocaleString()}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",l.totalValue.toLocaleString()," total value"]})]})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium",children:"Fast Moving"}),s.jsx(kO,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(zt,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.fastMoving}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l.fastMoving/l.totalParts*100).toFixed(1),"% of inventory"]})]})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium",children:"Slow Moving"}),s.jsx(sf,{className:"h-4 w-4 text-yellow-500"})]}),s.jsxs(zt,{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:l.slowMoving}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[(l.slowMoving/l.totalParts*100).toFixed(1),"% of inventory"]})]})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium",children:"Stagnant/Dead"}),s.jsx(kl,{className:"h-4 w-4 text-red-500"})]}),s.jsxs(zt,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:l.stagnant+l.deadStock}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",l.stagnantValue.toLocaleString()," tied up"]})]})]})]}),s.jsxs(Pt,{children:[s.jsx(Gt,{children:s.jsx(Yt,{children:"Filter & Sort"})}),s.jsx(zt,{children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Filter by Category"}),s.jsxs(Bn,{value:e,onValueChange:t,children:[s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select category"})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"all",children:"All Categories"}),s.jsx(er,{value:"fast-moving",children:"Fast Moving"}),s.jsx(er,{value:"slow-moving",children:"Slow Moving"}),s.jsx(er,{value:"stagnant",children:"Stagnant"}),s.jsx(er,{value:"dead-stock",children:"Dead Stock"})]})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Sort by"}),s.jsxs(Bn,{value:r,onValueChange:f=>n(f),children:[s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select sort option"})}),s.jsxs(Dn,{children:[s.jsx(er,{value:"days-issued",children:"Days Since Last Issued"}),s.jsx(er,{value:"days-restock",children:"Days Since Last Restock"}),s.jsx(er,{value:"value",children:"Estimated Value"}),s.jsx(er,{value:"quantity",children:"Quantity"})]})]})]})]})})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Aging Analysis Results"}),s.jsxs(Zr,{children:["Showing ",o.length," of ",l.totalParts," parts"]})]}),s.jsxs(zt,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-2",children:"Part ID"}),s.jsx("th",{className:"text-left p-2",children:"Name"}),s.jsx("th",{className:"text-left p-2",children:"Category"}),s.jsx("th",{className:"text-left p-2",children:"Location"}),s.jsx("th",{className:"text-right p-2",children:"Qty"}),s.jsx("th",{className:"text-right p-2",children:"Value"}),s.jsxs("th",{className:"text-right p-2",children:["Days Since",s.jsx("br",{}),"Last Issued"]}),s.jsxs("th",{className:"text-right p-2",children:["Days Since",s.jsx("br",{}),"Last Restock"]}),s.jsx("th",{className:"text-center p-2",children:"Status"})]})}),s.jsx("tbody",{children:o.map(f=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-2 font-mono text-xs",children:f.partId}),s.jsx("td",{className:"p-2",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:f.name}),f.description&&s.jsx("div",{className:"text-xs text-gray-500 truncate max-w-[200px]",children:f.description})]})}),s.jsx("td",{className:"p-2 text-xs",children:f.category||"N/A"}),s.jsx("td",{className:"p-2 text-xs",children:f.location||"N/A"}),s.jsx("td",{className:"p-2 text-right",children:f.quantity}),s.jsxs("td",{className:"p-2 text-right",children:["$",f.estimatedValue.toFixed(2)]}),s.jsx("td",{className:"p-2 text-right",children:f.daysSinceLastIssued!==null?s.jsx("span",{className:f.daysSinceLastIssued>365?"text-red-600 font-medium":f.daysSinceLastIssued>180?"text-yellow-600":"",children:f.daysSinceLastIssued}):s.jsx("span",{className:"text-red-600 font-medium",children:"Never"})}),s.jsx("td",{className:"p-2 text-right",children:f.daysSinceLastRestock!==null?s.jsx("span",{className:f.daysSinceLastRestock>365?"text-red-600 font-medium":f.daysSinceLastRestock>180?"text-yellow-600":"",children:f.daysSinceLastRestock}):s.jsx("span",{className:"text-red-600 font-medium",children:"Never"})}),s.jsx("td",{className:"p-2 text-center",children:c(f.agingCategory)})]},f.partId))})]})}),o.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No parts match the selected criteria"})]})]})]})}function AXe(e,t=[]){let r=[];function n(a,o){const l=O.createContext(o),c=r.length;r=[...r,o];function u(p){const{scope:g,children:x,...b}=p,y=(g==null?void 0:g[e][c])||l,_=O.useMemo(()=>b,Object.values(b));return s.jsx(y.Provider,{value:_,children:x})}function f(p,g){const x=(g==null?void 0:g[e][c])||l,b=O.useContext(x);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,f]}const i=()=>{const a=r.map(o=>O.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return O.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,CXe(i,...t)]}function CXe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const p=c(a)[`__scope${u}`];return{...l,...p}},{});return O.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var tP="Progress",rP=100,[jXe,eKe]=AXe(tP),[TXe,OXe]=jXe(tP),OJ=O.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=IXe,...o}=e;(i||i===0)&&!fB(i)&&console.error(PXe(`${i}`,"Progress"));const l=fB(i)?i:rP;n!==null&&!hB(n,l)&&console.error(kXe(`${n}`,"Progress"));const c=hB(n,l)?n:null,u=_4(c)?a(c,l):void 0;return s.jsx(TXe,{scope:r,value:c,max:l,children:s.jsx(Wr.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":_4(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":kJ(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});OJ.displayName=tP;var IJ="ProgressIndicator",PJ=O.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=OXe(IJ,r);return s.jsx(Wr.div,{"data-state":kJ(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});PJ.displayName=IJ;function IXe(e,t){return`${Math.round(e/t*100)}%`}function kJ(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function _4(e){return typeof e=="number"}function fB(e){return _4(e)&&!isNaN(e)&&e>0}function hB(e,t){return _4(e)&&!isNaN(e)&&e<=t&&e>=0}function PXe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${rP}\`.`}function kXe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${rP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var MJ=OJ,MXe=PJ;const _T=O.forwardRef(({className:e,value:t,...r},n)=>s.jsx(MJ,{ref:n,className:ir("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(MXe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));_T.displayName=MJ.displayName;function pB(){const[e,t]=O.useState(null),{data:r,isLoading:n,error:i,refetch:a}=Er({queryKey:["/api/performance/metrics"],refetchInterval:3e4}),o=async f=>{t(f);try{const p=await fetch(`/api/performance/optimize/${f}`,{method:"POST"});if(p.ok){const g=await p.json();a()}}catch(p){console.error("Optimization failed:",p)}finally{t(null)}},l=f=>{if(f===0)return"0 Bytes";const p=1024,g=["Bytes","KB","MB","GB"],x=Math.floor(Math.log(f)/Math.log(p));return parseFloat((f/Math.pow(p,x)).toFixed(2))+" "+g[x]},c=f=>{const p=Math.floor(f/86400),g=Math.floor(f%86400/3600),x=Math.floor(f%3600/60);return`${p}d ${g}h ${x}m`},u=f=>{switch(f){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-blue-500";default:return"bg-gray-500"}};return n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{children:"Loading performance metrics..."})]})}):!r||i?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(la,{href:"/dashboard",children:s.jsx("button",{className:"px-6 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded font-medium shadow-sm",children:" Back to Dashboard"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Performance Dashboard"})]})}),s.jsxs("div",{className:"text-center py-8",children:[s.jsx(kl,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Performance metrics unavailable"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:i?`Error: ${i.message}`:"Unable to load performance data"}),s.jsxs(Ee,{onClick:()=>a(),variant:"outline",className:"mt-4",children:[s.jsx(Wd,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm p-4 mb-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(la,{href:"/dashboard",children:s.jsx("button",{className:"px-6 py-2 bg-orange-600 hover:bg-orange-700 text-white rounded font-medium shadow-sm",children:" Back to Dashboard"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Performance Dashboard"})]}),s.jsxs(Ee,{onClick:()=>a(),variant:"outline",children:[s.jsx(Wd,{className:"h-4 w-4 mr-2"}),"Refresh Metrics"]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium",children:"Database Queries"}),s.jsx(pm,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(zt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r.databaseStats.totalQueries.toLocaleString()}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.databaseStats.averageQueryTime,"ms avg"]})]})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium",children:"Memory Usage"}),s.jsx(lae,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(zt,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[r.systemHealth.memoryUsage,"%"]}),s.jsx(_T,{value:r.systemHealth.memoryUsage,className:"mt-2"})]})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium",children:"CPU Usage"}),s.jsx(gM,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(zt,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[r.systemHealth.cpuUsage,"%"]}),s.jsx(_T,{value:r.systemHealth.cpuUsage,className:"mt-2"})]})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Yt,{className:"text-sm font-medium",children:"Uptime"}),s.jsx(sf,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(zt,{children:[s.jsx("div",{className:"text-sm font-bold",children:c(r.systemHealth.uptime)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"System running"})]})]})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Database Performance"}),s.jsx(Zr,{children:"Query performance and table statistics"})]}),s.jsx(zt,{children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"Query Statistics"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Total Queries:"}),s.jsx("span",{className:"font-medium",children:r.databaseStats.totalQueries.toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Average Query Time:"}),s.jsxs("span",{className:"font-medium",children:[r.databaseStats.averageQueryTime,"ms"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Slow Queries (>1s):"}),s.jsx("span",{className:`font-medium ${r.databaseStats.slowQueries>0?"text-red-600":"text-green-600"}`,children:r.databaseStats.slowQueries})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Index Usage:"}),s.jsxs("span",{className:"font-medium",children:[r.databaseStats.indexUsage,"%"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-3",children:"Table Statistics"}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:r.databaseStats.tableStats.map((f,p)=>s.jsx("div",{className:"border rounded p-2",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:f.tableName}),s.jsxs("div",{className:"text-xs text-gray-500",children:[f.rowCount.toLocaleString()," rows, ",f.indexCount," indexes"]})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"text-xs font-medium",children:l(f.sizeBytes)})})]})},p))})]})]})})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"API Performance"}),s.jsx(Zr,{children:"Response times and error rates for key endpoints"})]}),s.jsx(zt,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-2",children:"Endpoint"}),s.jsx("th",{className:"text-right p-2",children:"Avg Response Time"}),s.jsx("th",{className:"text-right p-2",children:"Request Count"}),s.jsx("th",{className:"text-right p-2",children:"Error Rate"})]})}),s.jsx("tbody",{children:r.apiPerformance.endpoints.map((f,p)=>s.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[s.jsx("td",{className:"p-2 font-mono text-xs",children:f.route}),s.jsx("td",{className:"p-2 text-right",children:s.jsxs("span",{className:f.averageResponseTime>1e3?"text-red-600":f.averageResponseTime>500?"text-yellow-600":"text-green-600",children:[Math.round(f.averageResponseTime),"ms"]})}),s.jsx("td",{className:"p-2 text-right",children:f.requestCount.toLocaleString()}),s.jsx("td",{className:"p-2 text-right",children:s.jsxs("span",{className:f.errorRate>5?"text-red-600":f.errorRate>1?"text-yellow-600":"text-green-600",children:[f.errorRate.toFixed(2),"%"]})})]},p))})]})})})]}),s.jsxs(Pt,{children:[s.jsxs(Gt,{children:[s.jsx(Yt,{children:"Optimization Suggestions"}),s.jsx(Zr,{children:"Automated recommendations to improve system performance"})]}),s.jsx(zt,{children:s.jsxs("div",{className:"space-y-4",children:[r.optimizationSuggestions.map((f,p)=>s.jsx("div",{className:"border rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ti,{variant:"secondary",className:`text-white ${u(f.severity)}`,children:f.severity.toUpperCase()}),s.jsxs("span",{className:"text-sm font-medium capitalize",children:[f.type," Optimization"]})]}),s.jsx("p",{className:"text-sm mb-2",children:f.description}),s.jsxs("p",{className:"text-xs text-gray-500",children:[s.jsx(op,{className:"h-3 w-3 inline mr-1"}),"Expected Impact: ",f.impact]})]}),s.jsx(Ee,{size:"sm",variant:"outline",onClick:()=>o(f.type),disabled:e===f.type,children:e===f.type?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-primary border-t-transparent rounded-full mr-1"}),"Optimizing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(gM,{className:"h-3 w-3 mr-1"}),"Apply Fix"]})})]})},p)),r.optimizationSuggestions.length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(jp,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),s.jsx("p",{children:"System is running optimally!"}),s.jsx("p",{className:"text-sm",children:"No performance issues detected."})]})]})})]})]})}const DXe=or.object({partName:or.string().min(1,"Part name is required"),supplier:or.string().min(1,"Supplier is required"),unitCost:or.string().min(1,"Unit cost is required"),location:or.string().min(1,"Location is required"),category:or.string().optional()});function mB(){const[e,t]=O.useState("pending"),[r,n]=O.useState(null),[i,a]=O.useState(!1);Er({queryKey:["/api/storage-locations"],queryFn:async()=>(await nn("GET","/api/storage-locations")).json()});const{data:o=[]}=Er({queryKey:["/api/shelves"],queryFn:async()=>(await nn("GET","/api/shelves")).json()}),l=_s({resolver:Ns(DXe),defaultValues:{partName:"",supplier:"Manual Entry",unitCost:"0.00",location:"",category:"manual-entry"}}),{data:c=[],isLoading:u}=Er({queryKey:["/api/manual-parts-review"],queryFn:async()=>(await nn("GET","/api/manual-parts-review")).json()}),f=Sr({mutationFn:async({entryId:y,formData:_})=>(await nn("POST",`/api/manual-parts-review/${y}/approve`,_)).json(),onSuccess:()=>{gi({title:" Entry Approved",description:"Manual part entry has been approved and added to inventory"}),ur.invalidateQueries({queryKey:["/api/manual-parts-review"]}),ur.invalidateQueries({queryKey:["/api/parts"]}),a(!1),n(null),l.reset()},onError:()=>{gi({title:"Error",description:"Failed to approve entry",variant:"destructive"})}}),p=y=>{n(y),l.setValue("partName",y.description),a(!0)},g=y=>{r&&f.mutate({entryId:r.id,formData:y})},x=Sr({mutationFn:async y=>(await nn("DELETE",`/api/manual-parts-review/${y}`)).json(),onSuccess:()=>{gi({title:" Entry Deleted",description:"Manual part entry has been deleted"}),ur.invalidateQueries({queryKey:["/api/manual-parts-review"]})},onError:()=>{gi({title:"Error",description:"Failed to delete entry",variant:"destructive"})}}),b=c.filter(y=>!0);return u?s.jsx("div",{className:"min-h-screen bg-background p-4 sm:p-6",children:s.jsx("div",{className:"max-w-6xl mx-auto",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Loading manual entries..."})]})})}):s.jsx("div",{className:"min-h-screen bg-background p-4 sm:p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsx(Pt,{children:s.jsxs(Gt,{children:[s.jsxs(Yt,{className:"text-2xl flex items-center gap-2",children:[s.jsx(Ao,{className:"h-6 w-6"}),"Manual Parts Review"]}),s.jsx("p",{className:"text-muted-foreground",children:"Review and approve manually entered parts from the kiosk scanner"})]})}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(Ee,{variant:e==="pending"?"default":"outline",onClick:()=>t("pending"),className:"flex items-center gap-2",children:[s.jsx(sf,{className:"h-4 w-4"}),"Pending Review (",b.length,")"]})}),s.jsx("div",{className:"space-y-4",children:b.length===0?s.jsx(Pt,{children:s.jsxs(zt,{className:"p-8 text-center",children:[s.jsx(Ao,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Manual Entries"}),s.jsx("p",{className:"text-muted-foreground",children:"Manual part entries from the kiosk scanner will appear here for review"})]})}):b.map(y=>s.jsx(Pt,{className:"border-l-4 border-l-orange-400",children:s.jsx(zt,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ti,{variant:"outline",className:"text-orange-600",children:"Pending Review"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[new Date(y.date_scanned).toLocaleDateString()," at"," ",new Date(y.date_scanned).toLocaleTimeString()]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-lg",children:y.description}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Barcode:"})," ",y.scanned_barcode]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Quantity:"})," ",y.quantity]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Scanned by:"})," ",y.technician_used]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[s.jsxs(Ee,{onClick:()=>p(y),disabled:f.isPending,className:"bg-green-600 hover:bg-green-700 text-white",children:[s.jsx(jp,{className:"h-4 w-4 mr-2"}),"Approve & Add to Inventory"]}),s.jsxs(Ee,{variant:"destructive",onClick:()=>x.mutate(y.id),disabled:x.isPending,children:[s.jsx(Oo,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})},y.id))}),s.jsx(Qr,{open:i,onOpenChange:a,children:s.jsxs(qr,{className:"max-w-md",children:[s.jsx(Gr,{children:s.jsx(Yr,{children:"Approve & Add to Inventory"})}),r&&s.jsx(Us,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(g),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Scanned Barcode:"})," ",r.scanned_barcode]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Quantity:"})," ",r.quantity]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Scanned by:"})," ",r.technician_used]})]}),s.jsx(Dr,{control:l.control,name:"partName",render:({field:y})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Part Name"}),s.jsx(Ir,{children:s.jsx(Rt,{...y,placeholder:"Enter part name"})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:l.control,name:"supplier",render:({field:y})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Supplier"}),s.jsx(Ir,{children:s.jsx(Rt,{...y,placeholder:"Enter supplier"})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:l.control,name:"unitCost",render:({field:y})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Unit Cost"}),s.jsx(Ir,{children:s.jsx(Rt,{...y,placeholder:"0.00",type:"number",step:"0.01"})}),s.jsx(Lr,{})]})}),s.jsx(Dr,{control:l.control,name:"location",render:({field:y})=>s.jsxs(Tr,{children:[s.jsx(Or,{children:"Storage Location"}),s.jsxs(Bn,{onValueChange:y.onChange,value:y.value,children:[s.jsx(Ir,{children:s.jsx(Mn,{children:s.jsx($n,{placeholder:"Select specific shelf location"})})}),s.jsx(Dn,{children:o.map(_=>s.jsx(er,{value:_.name,children:_.name},_.id))})]}),s.jsx(Lr,{})]})}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[s.jsx(Ee,{type:"button",variant:"outline",onClick:()=>{a(!1),n(null),l.reset()},children:"Cancel"}),s.jsx(Ee,{type:"submit",className:"bg-green-600 hover:bg-green-700",disabled:f.isPending,children:f.isPending?"Adding...":"Add to Inventory"})]})]})})]})})]})})}function gB(){const{toast:e}=ea(),[t,r]=O.useState(null),[n,i]=O.useState(""),{data:a=[],isLoading:o}=Er({queryKey:["/api/delivery-requests-admin"],queryFn:async()=>{const x=await fetch("/api/delivery-requests-admin");if(!x.ok)throw new Error("Failed to fetch requests");return x.json()}}),l=Sr({mutationFn:async x=>{const b=await fetch(`/api/delivery-requests/${x}/approve`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!b.ok)throw new Error("Failed to approve request");return b.json()},onSuccess:()=>{e({title:"Request approved and added to deliveries"}),ur.invalidateQueries({queryKey:["/api/delivery-requests-admin"]})}}),c=Sr({mutationFn:async({requestId:x,reason:b})=>{const y=await fetch(`/api/delivery-requests/${x}/reject`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:b})});if(!y.ok)throw new Error("Failed to reject request");return y.json()},onSuccess:()=>{e({title:"Request rejected"}),ur.invalidateQueries({queryKey:["/api/delivery-requests-admin"]}),r(null),i("")}}),u=x=>{l.mutate(x)},f=x=>{if(!n.trim()){e({title:"Please provide a rejection reason",variant:"destructive"});return}c.mutate({requestId:x,reason:n})},p=x=>{switch(x){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-blue-100 text-blue-800";case"fulfilled":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=x=>{switch(x){case"pending":return s.jsx(sf,{className:"w-4 h-4"});case"approved":return s.jsx(jp,{className:"w-4 h-4"});case"fulfilled":return s.jsx(Ao,{className:"w-4 h-4"});case"rejected":return s.jsx(ng,{className:"w-4 h-4"});default:return s.jsx(sf,{className:"w-4 h-4"})}};return o?s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Delivery Requests Management"}),s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"text-gray-500",children:"Loading requests..."})})]}):s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Delivery Requests Management"}),a.length===0?s.jsx(Pt,{children:s.jsx(zt,{className:"py-12",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(Ao,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No delivery requests found"})]})})}):s.jsx("div",{className:"grid gap-6",children:a.map(x=>{var b;return s.jsxs(Pt,{className:"border-l-4 border-l-blue-500",children:[s.jsx(Gt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Yt,{className:"flex items-center gap-2",children:[s.jsx(mm,{className:"w-5 h-5"}),x.requesterName,s.jsxs(ti,{className:p(x.status),children:[g(x.status),s.jsx("span",{className:"ml-1 capitalize",children:x.status})]})]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[MF(new Date(x.requestDate))," ago"]})]})}),s.jsxs(zt,{children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ap,{className:"w-4 h-4 text-gray-500"}),s.jsx("span",{className:"text-sm",children:((b=x.building)==null?void 0:b.name)||"Unknown Building"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hd,{className:"w-4 h-4 text-gray-500"}),s.jsxs("span",{className:"text-sm",children:["Room ",x.roomNumber]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Cost Center"}),s.jsx("span",{className:"text-sm text-gray-600",children:x.costCenter?`${x.costCenter.code} - ${x.costCenter.name}`:"No cost center specified"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Requested Items"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-3",children:x.items.map((y,_)=>{var N;return s.jsxs("div",{className:"flex justify-between items-center py-1",children:[s.jsx("span",{className:"text-sm",children:((N=y.part)==null?void 0:N.name)||`Part ${y.partId}`}),s.jsxs(ti,{variant:"outline",children:["Qty: ",y.quantity]})]},_)})})]}),x.notes&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Notes"}),s.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:x.notes})]}),x.status==="pending"&&s.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[s.jsxs(Ee,{onClick:()=>u(x.id),disabled:l.isPending,className:"flex-1",children:[s.jsx(jp,{className:"w-4 h-4 mr-2"}),"Approve & Add to Deliveries"]}),t===x.id?s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(hc,{placeholder:"Reason for rejection...",value:n,onChange:y=>i(y.target.value),className:"min-h-[60px]"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Ee,{onClick:()=>f(x.id),disabled:c.isPending,variant:"destructive",size:"sm",children:"Confirm Reject"}),s.jsx(Ee,{onClick:()=>r(null),variant:"outline",size:"sm",children:"Cancel"})]})]}):s.jsxs(Ee,{onClick:()=>r(x.id),variant:"outline",className:"flex-1",children:[s.jsx(ng,{className:"w-4 h-4 mr-2"}),"Reject"]})]}),x.status==="fulfilled"&&x.fulfilledDate&&s.jsx("div",{className:"pt-4 border-t",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Fulfilled ",MF(new Date(x.fulfilledDate))," ago",x.fulfilledByUser&&` by ${x.fulfilledByUser.name}`]})})]})]},x.id)})})]})}function xB(){const[e,t]=O.useState(new Date),[r,n]=O.useState(!1),[i,a]=O.useState("all"),{toast:o}=ea(),{data:l=[],isLoading:c}=Er({queryKey:["/api/parts-delivery/recent/25",Kr(e,"MM/yyyy")]}),{data:u=[],isLoading:f}=Er({queryKey:["/api/parts-issuance/recent",Kr(e,"MM/yyyy")]}),p=[...l||[],...u||[]].map(y=>{var I,P,D,k,L;const _="deliveredAt"in y,N=_?y.deliveredAt:y.issuedAt,E=_?y.unitCost||((I=y.part)==null?void 0:I.unitCost):(P=y.part)==null?void 0:P.unitCost,C=(E||0)*y.quantity;return{date:new Date(N).toLocaleDateString(),partName:((D=y.part)==null?void 0:D.name)||"",unitCost:E?`$${parseFloat(String(E)).toFixed(2)}`:"-",quantity:y.quantity,extendedPrice:`$${C.toFixed(2)}`,building:_?(k=y.building)==null?void 0:k.name:y.buildingName,costCenter:_?(L=y.costCenter)==null?void 0:L.code:y.costCenterCode,type:_?"Delivery":"Charge-Out",id:_?`D${y.id}`:`C${y.id}`,rawData:y}}),g=p.reduce((y,_)=>y+(parseFloat(_.extendedPrice.replace("$",""))||0),0),x=[{header:"Date",accessor:y=>y.date},{header:"Part Name",accessor:y=>y.partName},{header:"Unit Cost",accessor:y=>y.unitCost},{header:"Quantity",accessor:y=>y.quantity},{header:"Extended Price",accessor:y=>y.extendedPrice},{header:"Building",accessor:y=>y.building||"-"},{header:"Cost Center",accessor:y=>y.costCenter||"-"},{header:"Type",accessor:y=>y.type}],b=async y=>{try{const _=Kr(e,"MM/yyyy"),N=await fetch(`/api/combined-report/export?month=${_}&format=${y}`);if(!N.ok)throw new Error("Export failed");const E=await N.blob(),C=window.URL.createObjectURL(E),I=document.createElement("a");I.href=C,I.download=`combined-report-${_}.${y}`,document.body.appendChild(I),I.click(),document.body.removeChild(I),o({title:"Export successful",description:`Report exported as ${(y==null?void 0:y.toUpperCase())||"file"}`})}catch(_){o({variant:"destructive",title:"Export failed",description:_ instanceof Error?_.message:"Unknown error"})}};return c||f?s.jsx("div",{children:"Loading..."}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Combined Parts Report"}),s.jsx("p",{className:"text-muted-foreground",children:"View all parts movement from stockroom"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(Bn,{value:Kr(e,"MM/yyyy"),onValueChange:y=>{const[_,N]=y.split("/"),E=new Date(parseInt(N),parseInt(_)-1);t(E)},children:[s.jsxs(Mn,{className:"w-40",children:[s.jsx(eg,{className:"h-4 w-4 mr-2"}),s.jsx($n,{placeholder:"Select month"})]}),s.jsxs(Dn,{children:[s.jsx(er,{value:"03/2025",children:"March 2025"}),s.jsx(er,{value:"04/2025",children:"April 2025"}),s.jsx(er,{value:"05/2025",children:"May 2025"}),s.jsx(er,{value:"06/2025",children:"June 2025"}),s.jsx(er,{value:"07/2025",children:"July 2025"})]})]}),s.jsxs(Ee,{variant:"outline",onClick:()=>b("xlsx"),children:[s.jsx(PO,{className:"h-4 w-4 mr-2"}),"Export Excel"]}),s.jsxs(Ee,{variant:"outline",onClick:()=>b("pdf"),children:[s.jsx(V4,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),s.jsxs(Ee,{variant:"outline",onClick:()=>n(!0),children:[s.jsx(W4,{className:"h-4 w-4 mr-2"}),"Reset Month"]})]})]}),s.jsxs(Pt,{children:[s.jsx(Gt,{children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx(Yt,{children:"Combined Movement Report"}),s.jsxs(Zr,{children:["Total Cost for ",Kr(e,"MMMM yyyy"),": $",g.toFixed(2)]})]})})}),s.jsx(zt,{children:s.jsxs(Af,{value:i,onValueChange:a,children:[s.jsxs(hd,{className:"mb-4",children:[s.jsx(ri,{value:"all",children:"All Movements"}),s.jsx(ri,{value:"deliveries",children:"Deliveries Only"}),s.jsx(ri,{value:"chargeouts",children:"Charge-Outs Only"}),s.jsx(ri,{value:"by_building",children:"By Building"}),s.jsx(ri,{value:"by_cost_center",children:"By Cost Center"})]}),s.jsx(ua,{value:i,children:s.jsx(Ll,{data:i==="deliveries"?p.filter(y=>y.type==="Delivery"):i==="chargeouts"?p.filter(y=>y.type==="Charge-Out"):p,columns:x,itemsPerPage:10})})]})})]}),s.jsx(Qh,{open:r,onOpenChange:n,children:s.jsxs(hf,{children:[s.jsxs(pf,{children:[s.jsx(gf,{children:"Reset Monthly Report"}),s.jsx(xf,{children:"This will reset the report to the current month. Are you sure?"})]}),s.jsxs(mf,{children:[s.jsx(yf,{children:"Cancel"}),s.jsx(vf,{onClick:()=>{t(new Date),o({title:"Report Reset",description:"Report has been reset to current month"})},children:"Reset Report"})]})]})})]})}function LXe(){const e=navigator.userAgent.toLowerCase(),t=["android","webos","iphone","ipad","ipod","blackberry","iemobile","opera mini","mobi","tablet","phone","mobile","samsung","pixel","windows phone"],r=/iphone|ipad|ipod|android|blackberry|windows phone/i.test(e),n=t.some(c=>e.includes(c)),a=new URLSearchParams(window.location.search).get("mobile")==="true",o=window.innerWidth<=768,l=r||n||a||o;return console.log(`User agent: ${e}`),console.log(`Detected as mobile device: ${l}`),l}function mn({path:e,component:t}){const{data:r,isLoading:n,error:i}=Er({queryKey:["/api/current-user"],queryFn:bh({on401:"returnNull"}),retry:2});if(console.log(`Protected route ${e} - auth status:`,{isLoading:n,isAuthenticated:!!r,userName:r==null?void 0:r.name,userRole:r==null?void 0:r.role}),O.useEffect(()=>{if(!n&&!r&&i){const f=LXe();console.log(`Protected route check on mobile: ${f}, path: ${e}`),f&&(console.log("Mobile device detected with auth failure, redirecting to /login"),window.location.href="/login")}},[n,r,i,e]),n)return s.jsx(wl,{path:e,children:s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[s.jsx(cn,{className:"h-8 w-8 animate-spin text-primary mb-4"}),s.jsx("p",{className:"text-center text-muted-foreground",children:"Loading..."})]})});if(!r)return console.log(`No user detected, redirecting from ${e} to login`),sessionStorage.setItem("redirectAfterLogin",e),s.jsx(wl,{path:e,children:s.jsx(TS,{to:"/login"})});const o=["/technicians","/buildings","/reports","/settings","/staff-management","/cost-centers","/locations","/dashboard"].some(f=>e.startsWith(f)),c=e.startsWith("/parts-inventory"),u=r.role==="admin"||r.role==="student"||r.role==="controller";return o&&r.role!=="admin"&&r.role!=="controller"||c&&!u?(console.log(`User ${r.name} with role ${r.role} attempted to access restricted route ${e}`),s.jsx(wl,{path:e,children:s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-destructive mb-4",children:"Access Denied"}),s.jsxs("p",{className:"text-center text-muted-foreground mb-8",children:["You do not have permission to access this page.",r.role==="student"?"You can only access Parts Inventory.":"This area is restricted to administrators only."]}),s.jsx(TS,{to:r.role==="student"?"/parts-inventory":"/parts-issuance"})]})})):(console.log(`User authenticated for ${e}: ${r.name} (${r.role})`),s.jsx(wl,{path:e,component:t}))}function RXe(){const{user:e}=Ts(),[t]=cd(),r=O.useRef(null);if(!e)return null;const i=e.role==="admin"||e.role==="controller"?[{href:"/dashboard",label:"Dashboard",icon:s.jsx(MS,{size:20})},{href:"/parts-inventory",label:"Inventory",icon:s.jsx(Ao,{size:20})},{href:"/bulk-inventory",label:"Bulk Inventory",icon:s.jsx(hae,{size:20})},{href:"/parts-issuance",label:"Charge-Outs",icon:s.jsx(Kc,{size:20})},{href:"/barcode-kiosk",label:"Kiosk",icon:s.jsx(jv,{size:20})},{href:"/parts-pickup",label:"Pickup",icon:s.jsx(sp,{size:20})},{href:"/tool-signout",label:"Tools",icon:s.jsx(Mh,{size:20})},{href:"/deliveries",label:"Deliveries",icon:s.jsx(ly,{size:20})},{href:"/staff-management",label:"Staff",icon:s.jsx(uy,{size:20})},{href:"/cost-centers",label:"Cost Centers",icon:s.jsx(lM,{size:20})},{href:"/buildings",label:"Buildings",icon:s.jsx(ap,{size:20})},{href:"/locations",label:"Locations",icon:s.jsx(DS,{size:20})},{href:"/reports",label:"Reports",icon:s.jsx(Wd,{size:20})},{href:"/inventory-aging",label:"Inventory Aging",icon:s.jsx(Wd,{size:20})},{href:"/manual-parts-review",label:"Manual Review",icon:s.jsx(Ao,{size:20})},{href:"/technicians",label:"Technicians",icon:s.jsx(uy,{size:20})},{href:"/settings",label:"Settings",icon:s.jsx(I2,{size:20})}]:e.role==="technician"?[{href:"/dashboard",label:"Home",icon:s.jsx(Vz,{size:20})},{href:"/parts-issuance",label:"Charge-Outs",icon:s.jsx(Kc,{size:20})},{href:"/barcode-kiosk",label:"Kiosk",icon:s.jsx(jv,{size:20})},{href:"/parts-pickup",label:"Pickup",icon:s.jsx(sp,{size:20})},{href:"/tool-signout",label:"Tools",icon:s.jsx(Mh,{size:20})}]:e.role==="student"?[{href:"/parts-inventory",label:"Inventory",icon:s.jsx(Ao,{size:20})},{href:"/parts-issuance",label:"Charge-Outs",icon:s.jsx(Kc,{size:20})},{href:"/barcode-kiosk",label:"Kiosk",icon:s.jsx(jv,{size:20})},{href:"/parts-pickup",label:"Pickup",icon:s.jsx(sp,{size:20})},{href:"/tool-signout",label:"Tools",icon:s.jsx(Mh,{size:20})},{href:"/deliveries",label:"Deliveries",icon:s.jsx(ly,{size:20})},{href:"/reports",label:"Reports",icon:s.jsx(lM,{size:20})},{href:"/inventory-aging",label:"Inventory Aging",icon:s.jsx(Wd,{size:20})},{href:"/manual-parts-review",label:"Manual Review",icon:s.jsx(Ao,{size:20})}]:[];return O.useEffect(()=>{if(r.current){const a=r.current.querySelector('[data-active="true"]');if(a){const o=r.current.clientWidth,l=a.offsetLeft,c=a.clientWidth;r.current.scrollLeft=l-o/2+c/2}}},[t]),s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-background border-t border-border z-50",children:s.jsx("div",{ref:r,className:"flex items-center h-16 overflow-x-auto overflow-y-hidden",style:{scrollBehavior:"smooth"},children:i.map((a,o)=>{const l=t===a.href;return s.jsx(la,{href:a.href,children:s.jsxs("div",{"data-active":l,className:`flex flex-col items-center justify-center h-full min-w-[80px] flex-shrink-0 px-3 cursor-pointer ${l?"text-primary":"text-muted-foreground hover:text-foreground"}`,children:[s.jsx("div",{className:"mb-1",children:a.icon}),s.jsx("span",{className:"text-xs font-medium whitespace-nowrap",children:a.label})]})},o)})})})}function sa({children:e}){const{user:t,logoutMutation:r}=Ts();cd();const{toast:n}=ea();if(!t)return s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[s.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mb-4"}),s.jsx("p",{className:"text-center text-muted-foreground mb-4",children:"Loading user information..."}),s.jsxs("div",{className:"text-center mt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"If you're not automatically redirected, please try logging in again."}),s.jsx("a",{href:"/mobile-login",className:"bg-primary text-white px-4 py-2 rounded-md shadow-sm hover:bg-primary/90 transition-colors",children:"Return to Login"})]})]});const i=async()=>{try{await r.mutateAsync(),n({title:"Logged out successfully",description:"You have been logged out of the system"}),window.location.href="/mobile-login"}catch(a){console.error("Logout error:",a)}};return s.jsxs("div",{className:"flex flex-col min-h-screen bg-background pb-16",children:[s.jsx("header",{className:"sticky top-0 z-10 bg-primary text-white shadow-md",children:s.jsxs("div",{className:"flex justify-between items-center p-3",children:[s.jsx("div",{className:"h-16",children:s.jsx("img",{src:"/external-logo.png",alt:"Logo",className:"h-full"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-sm truncate max-w-[130px]",children:t==null?void 0:t.name}),s.jsx("button",{onClick:i,className:"bg-white/20 rounded-full p-2",children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),s.jsx("polyline",{points:"16 17 21 12 16 7"}),s.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})]})}),s.jsx("main",{className:"flex-1 overflow-y-auto pb-20",children:e}),s.jsx(RXe,{})]})}function DJ(){const e=navigator.userAgent.toLowerCase(),t=["android","webos","iphone","ipad","ipod","blackberry","iemobile","opera mini","mobi","tablet","phone","mobile","samsung","pixel","windows phone"],r=/iphone|ipad|ipod|android|blackberry|windows phone/i.test(e),n=t.some(f=>e.includes(f)),i=new URLSearchParams(window.location.search),a=i.get("mobile")==="true",o=i.get("direct")==="true",l=localStorage.getItem("mobile_device")==="true",c=window.innerWidth<=768,u=r||n||a||l||c||o;return console.log(`Direct mode: ${o}`),console.log(`User agent: ${e}`),console.log(`Detected as mobile device: ${u}`),u&&localStorage.setItem("mobile_device","true"),u}function FXe(){const{user:e,isLoading:t}=Ts(),[,r]=cd();zg();const n=DJ(),i=O.useCallback(a=>{console.log("Navigation started - setting navigation flag"),Q1(!0),setTimeout(()=>{r(a),setTimeout(()=>{console.log("Navigation complete - resetting navigation flag"),Q1(!1)},1e3)},0)},[r]);return O.useEffect(()=>{t||(e?(console.log("User authenticated at root URL, redirecting based on role:",e.role),n?e.role==="technician"?(console.log("Mobile technician detected, redirecting to menu"),i("/dashboard")):e.role==="admin"?(console.log("Mobile admin detected, redirecting to dashboard"),i("/dashboard")):e.role==="controller"?(console.log("Mobile controller detected, redirecting to dashboard"),i("/dashboard")):e.role==="student"?(console.log("Mobile student worker detected, redirecting to parts inventory"),i("/parts-inventory")):i("/dashboard"):e.role==="technician"?(console.log("Desktop technician detected, redirecting to dashboard"),i("/dashboard")):e.role==="controller"?(console.log("Desktop controller detected, redirecting to dashboard"),i("/dashboard")):(console.log("Desktop user detected, redirecting to dashboard"),i("/dashboard"))):(console.log("User is not authenticated at root URL, redirecting to login"),Q1(!0),console.log("User not authenticated, redirecting to login page"),window.location.href="/login",setTimeout(()=>{Q1(!1)},2e3)))},[e,t,n,i]),s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[s.jsx("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full mb-4"}),s.jsx("p",{className:"text-center text-muted-foreground",children:"Redirecting..."})]})}function BXe(){const e=DJ(),[t]=cd();return O.useEffect(()=>{console.log("Navigation started - setting navigation flag"),Q1(!0);const r=setTimeout(()=>{console.log("Navigation complete - resetting navigation flag"),Q1(!1)},1e3);return()=>clearTimeout(r)},[t]),s.jsxs(yE,{children:[s.jsx(wl,{path:"/",component:FXe}),s.jsx(wl,{path:"/login",component:ABe}),s.jsx(wl,{path:"/mobile-login",children:s.jsx(TS,{to:"/login"})}),s.jsx(wl,{path:"/test-page",component:CBe}),s.jsx(wl,{path:"/test-component",component:ZBe}),s.jsx(wl,{path:"/auth",children:s.jsx(TS,{to:"/login"})}),s.jsx(wl,{path:"/barcode-kiosk",component:Q$e}),e?s.jsxs(yE,{children:[s.jsx(mn,{path:"/dashboard",component:()=>s.jsx(sa,{children:s.jsx(w7,{})})}),s.jsx(mn,{path:"/parts-issuance",component:()=>s.jsx(sa,{children:s.jsx(UF,{})})}),s.jsx(mn,{path:"/parts-pickup",component:()=>s.jsx(sa,{children:s.jsx(XF,{})})}),s.jsx(mn,{path:"/parts-inventory",component:()=>s.jsx(sa,{children:s.jsx(AF,{})})}),s.jsx(mn,{path:"/reports",component:()=>s.jsx(sa,{children:s.jsx(zF,{})})}),s.jsx(mn,{path:"/settings",component:()=>s.jsx(sa,{children:s.jsx(VF,{})})}),s.jsx(mn,{path:"/technicians",component:()=>s.jsx(sa,{children:s.jsx(WF,{})})}),s.jsx(mn,{path:"/buildings",component:()=>s.jsx(sa,{children:s.jsx(HF,{})})}),s.jsx(mn,{path:"/locations",component:()=>s.jsx(sa,{children:s.jsx(YF,{})})}),s.jsx(mn,{path:"/quick-count",component:()=>s.jsx(sa,{children:s.jsx(GF,{})})}),s.jsx(mn,{path:"/tool-signout",component:()=>s.jsx(sa,{children:s.jsx(t9,{})})}),s.jsx(mn,{path:"/admin-settings",component:()=>s.jsx(sa,{children:s.jsx(r9,{})})}),s.jsx(mn,{path:"/deliveries",component:()=>s.jsx(sa,{children:s.jsx(i9,{})})}),s.jsx(mn,{path:"/staff-management",component:()=>s.jsx(sa,{children:s.jsx(a9,{})})}),s.jsx(mn,{path:"/cost-centers",component:()=>s.jsx(sa,{children:s.jsx(s9,{})})}),s.jsx(mn,{path:"/system-admin",component:()=>s.jsx(sa,{children:s.jsx(o9,{})})}),s.jsx(mn,{path:"/parts-usage-analytics",component:()=>s.jsx(sa,{children:s.jsx(l9,{})})}),s.jsx(mn,{path:"/bulk-inventory",component:()=>s.jsx(sa,{children:s.jsx(N9,{})})}),s.jsx(mn,{path:"/inventory-aging",component:()=>s.jsx(sa,{children:s.jsx(dB,{})})}),s.jsx(mn,{path:"/performance-dashboard",component:()=>s.jsx(sa,{children:s.jsx(pB,{})})}),s.jsx(mn,{path:"/manual-parts-review",component:()=>s.jsx(sa,{children:s.jsx(mB,{})})}),s.jsx(mn,{path:"/delivery-requests-admin",component:()=>s.jsx(sa,{children:s.jsx(gB,{})})}),s.jsx(mn,{path:"/combined-reports",component:()=>s.jsx(sa,{children:s.jsx(xB,{})})}),s.jsx(wl,{component:()=>s.jsx(sa,{children:s.jsx(yM,{})})})]}):s.jsx(tse,{children:s.jsxs(yE,{children:[s.jsx(mn,{path:"/dashboard",component:w7}),s.jsx(mn,{path:"/parts-inventory",component:AF}),s.jsx(mn,{path:"/parts-issuance",component:UF}),s.jsx(mn,{path:"/parts-pickup",component:XF}),s.jsx(mn,{path:"/quick-count",component:GF}),s.jsx(mn,{path:"/reports",component:zF}),s.jsx(mn,{path:"/settings",component:VF}),s.jsx(mn,{path:"/technicians",component:WF}),s.jsx(mn,{path:"/buildings",component:HF}),s.jsx(mn,{path:"/locations",component:YF}),s.jsx(mn,{path:"/tool-signout",component:t9}),s.jsx(mn,{path:"/admin-settings",component:r9}),s.jsx(mn,{path:"/deliveries",component:i9}),s.jsx(mn,{path:"/staff-management",component:a9}),s.jsx(mn,{path:"/cost-centers",component:s9}),s.jsx(mn,{path:"/system-admin",component:o9}),s.jsx(mn,{path:"/parts-usage-analytics",component:l9}),s.jsx(mn,{path:"/bulk-inventory",component:N9}),s.jsx(mn,{path:"/inventory-aging",component:dB}),s.jsx(mn,{path:"/performance-dashboard",component:pB}),s.jsx(mn,{path:"/manual-parts-review",component:mB}),s.jsx(mn,{path:"/delivery-requests-admin",component:gB}),s.jsx(mn,{path:"/combined-reports",component:xB}),s.jsx(wl,{component:yM})]})})]})}function $Xe(){return O.useEffect(()=>{(async()=>{try{(await fetch("/api/current-user",{credentials:"include",cache:"no-cache"})).ok?(console.log("User is authenticated, initializing WebSocket connection"),QRe()):console.log("User is not authenticated, not initializing WebSocket connection")}catch(t){console.error("Error checking authentication status:",t)}})()},[]),s.jsx(Fne,{client:ur,children:s.jsxs(Kae,{children:[s.jsx(BXe,{}),s.jsx(Xae,{})]})})}YA.createRoot(document.getElementById("root")).render(s.jsx(qe.StrictMode,{children:s.jsx($Xe,{})}));export{_i as _,Dd as c,Zn as g};
